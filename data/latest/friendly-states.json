ew==
ICAiaW5mbyI6IHs=
ICAgICJhdXRob3IiOiAiQWxleCBIYWxsIiw=
ICAgICJhdXRob3JfZW1haWwiOiAiYWxleC5tb2pha2lAZ21haWwuY29tIiw=
ICAgICJidWd0cmFja191cmwiOiBudWxsLA==
ICAgICJjbGFzc2lmaWVycyI6IFs=
ICAgICAgIkludGVuZGVkIEF1ZGllbmNlIDo6IERldmVsb3BlcnMiLA==
ICAgICAgIkxpY2Vuc2UgOjogT1NJIEFwcHJvdmVkIDo6IE1JVCBMaWNlbnNlIiw=
ICAgICAgIk9wZXJhdGluZyBTeXN0ZW0gOjogT1MgSW5kZXBlbmRlbnQiLA==
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAzLjci
ICAgIF0s
ICAgICJkZXNjcmlwdGlvbiI6ICIjIGZyaWVuZGx5X3N0YXRlc1xuXG5bIVtCdWlsZCBTdGF0dXNdKGh0dHBzOi8vdHJhdmlzLWNpLm9yZy9hbGV4bW9qYWtpL2ZyaWVuZGx5X3N0YXRlcy5zdmc/YnJhbmNoPW1hc3RlcildKGh0dHBzOi8vdHJhdmlzLWNpLm9yZy9hbGV4bW9qYWtpL2ZyaWVuZGx5X3N0YXRlcykgWyFbQ292ZXJhZ2UgU3RhdHVzXShodHRwczovL2NvdmVyYWxscy5pby9yZXBvcy9naXRodWIvYWxleG1vamFraS9mcmllbmRseV9zdGF0ZXMvYmFkZ2Uuc3ZnP2JyYW5jaD1tYXN0ZXIpXShodHRwczovL2NvdmVyYWxscy5pby9naXRodWIvYWxleG1vamFraS9mcmllbmRseV9zdGF0ZXM/YnJhbmNoPW1hc3RlcikgWyFbQmluZGVyXShodHRwczovL215YmluZGVyLm9yZy9iYWRnZV9sb2dvLnN2ZyldKGh0dHBzOi8vbXliaW5kZXIub3JnL3YyL2doL2FsZXhtb2pha2kvZnJpZW5kbHlfc3RhdGVzL21hc3Rlcj9maWxlcGF0aD1SRUFETUUuaXB5bmIpXG5cblRoaXMgaXMgYSBQeXRob24gbGlicmFyeSBmb3Igd3JpdGluZyBmaW5pdGUgc3RhdGUgbWFjaGluZXMgaW4gYSB3YXkgdGhhdCdzIGVhc3kgdG8gcmVhZCBhbmQgcHJldmVudHMgbWlzdGFrZXMgd2l0aCB0aGUgaGVscCBvZiBzdGFuZGFyZCBsaW50ZXJzIGFuZCBJREVzLlxuXG5Zb3UgY2FuIHRyeSB0aGlzIFJFQURNRSBpbiBhbiBpbnRlcmFjdGl2ZSBub3RlYm9vayBpbiBbYmluZGVyXShodHRwczovL215YmluZGVyLm9yZy92Mi9naC9hbGV4bW9qYWtpL2ZyaWVuZGx5X3N0YXRlcy9tYXN0ZXI/ZmlsZXBhdGg9UkVBRE1FLmlweW5iKS5cblxuICAqIFtJbnRyb2R1Y3Rpb25dKCNpbnRyb2R1Y3Rpb24pXG4gICogW0Jhc2ljIHVzYWdlIHN0ZXBzXSgjYmFzaWMtdXNhZ2Utc3RlcHMpXG4gICogW0Fic3RyYWN0IHN0YXRlIGNsYXNzZXNdKCNhYnN0cmFjdC1zdGF0ZS1jbGFzc2VzKVxuICAqIFtCYXNlU3RhdGUgLSBjb25maWd1cmluZyBzdGF0ZSBzdG9yYWdlIGFuZCBjaGFuZ2VzXSgjYmFzZXN0YXRlLS0tY29uZmlndXJpbmctc3RhdGUtc3RvcmFnZS1hbmQtY2hhbmdlcylcbiAgKiBbU3RhdGUgbWFjaGluZSBtZXRhZGF0YV0oI3N0YXRlLW1hY2hpbmUtbWV0YWRhdGEpXG4gICAgICogW1NsdWdzIGFuZCBsYWJlbHNdKCNzbHVncy1hbmQtbGFiZWxzKVxuICAqIFtUcm91Ymxlc2hvb3RpbmddKCN0cm91Ymxlc2hvb3RpbmcpXG4gICogW1JlY2lwZXNdKCNyZWNpcGVzKVxuICAgICAqIFtDb25zdHJ1Y3QgYW5kIGRyYXcgYSBncmFwaF0oI2NvbnN0cnVjdC1hbmQtZHJhdy1hLWdyYXBoKVxuICAgICAqIFtDcmVhdGluZyBtdWx0aXBsZSBzaW1pbGFyIG1hY2hpbmVzXSgjY3JlYXRpbmctbXVsdGlwbGUtc2ltaWxhci1tYWNoaW5lcylcbiAgICAgKiBbRHluYW1pY2FsbHkgY2hhbmdpbmcgdGhlIGF0dHJpYnV0ZSBuYW1lXSgjZHluYW1pY2FsbHktY2hhbmdpbmctdGhlLWF0dHJpYnV0ZS1uYW1lKVxuICAgICAqIFtPbiBlbnRlci9leGl0IHN0YXRlIGNhbGxiYWNrc10oI29uLWVudGVyZXhpdC1zdGF0ZS1jYWxsYmFja3MpXG4gICogW0RqYW5nbyBpbnRlZ3JhdGlvbl0oI2RqYW5nby1pbnRlZ3JhdGlvbilcblxuIyMgSW50cm9kdWN0aW9uXG5cbkhlcmUncyBhIHNpbXBsZSBleGFtcGxlIG9mIGRlY2xhcmluZyBhIHN0YXRlIG1hY2hpbmU6XG5cblxuYGBgcHl0aG9uXG5mcm9tIF9fZnV0dXJlX18gaW1wb3J0IGFubm90YXRpb25zXG5mcm9tIGZyaWVuZGx5X3N0YXRlcyBpbXBvcnQgQXR0cmlidXRlU3RhdGVcblxuXG5jbGFzcyBUcmFmZmljTGlnaHRNYWNoaW5lKEF0dHJpYnV0ZVN0YXRlKTpcbiAgICBpc19tYWNoaW5lID0gVHJ1ZVxuXG4gICAgY2xhc3MgU3VtbWFyeTpcbiAgICAgICAgR3JlZW46IFtZZWxsb3ddXG4gICAgICAgIFllbGxvdzogW1JlZF1cbiAgICAgICAgUmVkOiBbR3JlZW5dXG5cblxuY2xhc3MgR3JlZW4oVHJhZmZpY0xpZ2h0TWFjaGluZSk6XG4gICAgZGVmIHNsb3dfZG93bihzZWxmKSAtPiBbWWVsbG93XTpcbiAgICAgICAgcHJpbnQoXCJTbG93aW5nIGRvd24uLi5cIilcblxuXG5jbGFzcyBZZWxsb3coVHJhZmZpY0xpZ2h0TWFjaGluZSk6XG4gICAgZGVmIHN0b3Aoc2VsZikgLT4gW1JlZF06XG4gICAgICAgIHByaW50KFwiU3RvcC5cIilcblxuXG5jbGFzcyBSZWQoVHJhZmZpY0xpZ2h0TWFjaGluZSk6XG4gICAgZGVmIGdvKHNlbGYpIC0+IFtHcmVlbl06XG4gICAgICAgIHByaW50KFwiR28hXCIpXG5cblxuVHJhZmZpY0xpZ2h0TWFjaGluZS5jb21wbGV0ZSgpXG5gYGBcblxuVGhhdCBsb29rcyBsaWtlIGEgbG90IG9mIGNvZGUsIGJ1dCBpdCdzIHByZXR0eSBzaW1wbGU6XG5cbjEuIGBUcmFmZmljTGlnaHRNYWNoaW5lYCBkZWNsYXJlcyB0aGUgcm9vdCBvZiBhIHN0YXRlIG1hY2hpbmUuXG4yLiBUaGVyZSBhcmUgdGhyZWUgc3RhdGVzLCB3aGljaCBhcmUgc3ViY2xhc3NlcyBvZiB0aGUgbWFjaGluZTogYEdyZWVuYCwgYFllbGxvd2AsIGFuZCBgUmVkYC5cbjMuIEVhY2ggc3RhdGUgZGVjbGFyZXMgd2hpY2ggdHJhbnNpdGlvbnMgaXQgYWxsb3dzIHRvIG90aGVyIHN0YXRlcyB1c2luZyBmdW5jdGlvbnMgd2l0aCBhIHJldHVybiBhbm5vdGF0aW9uIChgLT5gKS4gSW4gdGhpcyBjYXNlLCBlYWNoIHN0YXRlIGhhcyBvbmUgdHJhbnNpdGlvbiB0byBvbmUgb3RoZXIgc3RhdGUuIEZvciBleGFtcGxlLCBgR3JlZW5gIGNhbiB0cmFuc2l0aW9uIHRvIGBZZWxsb3dgIHZpYSB0aGUgYHNsb3dfZG93bmAgbWV0aG9kLlxuNC4gYFRyYWZmaWNMaWdodE1hY2hpbmUuY29tcGxldGUoKWAgbWFrZXMgdGhlIG1hY2hpbmUgcmVhZHkgZm9yIHVzZSBhbmQgY2hlY2tzIHRoYXQgZXZlcnl0aGluZyBpcyBjb3JyZWN0LiBJbiBwYXJ0aWN1bGFyIGl0IHZlcmlmaWVzIHRoYXQgdGhlIGBTdW1tYXJ5YCBjbGFzcyBpbnNpZGUgYFRyYWZmaWNMaWdodE1hY2hpbmVgIG1hdGNoZXMgdGhlIGFjdHVhbCBzdGF0ZXMgYW5kIHRyYW5zaXRpb25zIGRlY2xhcmVkLiBFYWNoIGxpbmUgb2YgdGhlIHN1bW1hcnkgc2hvd3MgYWxsIHRoZSBwb3NzaWJsZSBvdXRwdXQgc3RhdGVzIGZyb20gZWFjaCBzdGF0ZS5cblxuQXMgd2UnbGwgc2VlIGxhdGVyLCBhIGxvdCBvZiB0aGUgYm9pbGVycGxhdGUgY2FuIGJlIGdlbmVyYXRlZCBmb3IgeW91LCBzbyBkb24ndCB3b3JyeSBhYm91dCB0aGUgZWZmb3J0IG9mIHdyaXRpbmcgYWxsIHRob3NlIGNsYXNzZXMuXG5cblRvIHVzZSB0aGlzIG1hY2hpbmUsIGZpcnN0IHdlIG5lZWQgYW4gb2JqZWN0IHRoYXQgY2FuIHN0b3JlIGl0cyBvd24gc3RhdGUuIFdoZW4gdXNpbmcgdGhpcyBsaWJyYXJ5LCBzdGF0ZSBjYW4gYmUgc3RvcmVkIGhvd2V2ZXIgeW91IHdhbnQsIGJ1dCB0aGUgd2F5IHdlJ3ZlIGRlY2xhcmVkIG91ciBtYWNoaW5lIG1lYW5zIGl0IGV4cGVjdHMgYW4gYXR0cmlidXRlIGNhbGxlZCBgc3RhdGVgOlxuXG5cbmBgYHB5dGhvblxuY2xhc3MgVHJhZmZpY0xpZ2h0OlxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdGF0ZSk6XG4gICAgICAgIHNlbGYuc3RhdGUgPSBzdGF0ZVxuXG5saWdodCA9IFRyYWZmaWNMaWdodChHcmVlbilcbmFzc2VydCBsaWdodC5zdGF0ZSBpcyBHcmVlblxuYGBgXG5cblRoZSBtYWdpYyBoYXBwZW5zIHdoZW4gbWFraW5nIHRyYW5zaXRpb25zOlxuXG5cbmBgYHB5dGhvblxuR3JlZW4obGlnaHQpLnNsb3dfZG93bigpXG5ZZWxsb3cobGlnaHQpLnN0b3AoKVxuYXNzZXJ0IGxpZ2h0LnN0YXRlIGlzIFJlZFxuYGBgXG5cbiAgICBTbG93aW5nIGRvd24uLi5cbiAgICBTdG9wLlxuXG5cbk1ha2luZyBhbiBpbnN0YW5jZSBvZiBhIHN0YXRlIGNsYXNzIHN1Y2ggYXMgYEdyZWVuKGxpZ2h0KWAgYXV0b21hdGljYWxseSBjaGVja3MgdGhhdCBgbGlnaHRgIGlzIGFjdHVhbGx5IGluIHRoZSBgR3JlZW5gIHN0YXRlIGFuZCByYWlzZXMgYW4gZXhjZXB0aW9uIGlmIGl0J3Mgbm90LlxuVGhlbiB5b3UgY2FuIGNhbGwgbWV0aG9kcyBqdXN0IGxpa2UgYW55IG90aGVyIGNsYXNzLiBUaGUgc3RhdGUgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGNoYW5nZWQgYmFzZWQgb24gdGhlIG1ldGhvZCdzIHJldHVybiBhbm5vdGF0aW9uLlxuXG5XaHkgaXMgdGhpcyBleGNpdGluZz8gQmVjYXVzZSBpdCdzIG9idmlvdXMgdG8gdG9vbHMgd2hpY2ggdHJhbnNpdGlvbnMgYXJlIGF2YWlsYWJsZSB0byBlYWNoIHN0YXRlLiBZb3VyIElERSBjYW4gYXV0b2NvbXBsZXRlIGBHcmVlbihsaWdodCkuc2xvYCBmb3IgeW91LCBhbmQgYEdyZWVuKGxpZ2h0KS5zdG9wKClgIHdpbGwgYmUgaGlnaGxpZ2h0ZWQgYXMgYW4gZXJyb3IgYmVmb3JlIHlvdSBldmVuIHJ1biB0aGUgY29kZS5cblxuQ29tcGFyZSB0aGlzIHdpdGggdGhlIHBvcHVsYXIgbGlicmFyeSBbYHRyYW5zaXRpb25zYF0oaHR0cHM6Ly9naXRodWIuY29tL3B5dHJhbnNpdGlvbnMvdHJhbnNpdGlvbnMpLiBTdGF0ZXMsIHRyYW5zaXRpb25zLCBhbmQgY2FsbGJhY2tzIGFyZSBhbGwgZGVjbGFyZWQgdXNpbmcgc3RyaW5ncywgc28gaXQncyBlYXN5IHRvIG1ha2UgdHlwb3MgYW5kIHRvb2xzIGNhbid0IGhlbHAgeW91LiBJbiBmYWN0IHlvdSBoYXZlIHRvIHN0b3AgeW91ciB0b29scyBmcm9tIHdhcm5pbmcgeW91IGFib3V0IGFsbCB0aGUgYXR0cmlidXRlcyBpdCBtYWdpY2FsbHkgZ2VuZXJhdGVzIHdoaWNoIHlvdSBoYXZlIHRvIHVzZS4gVGhlcmUncyBubyBlYXN5IHdheSB0byBzZWUgYWxsIHRoZSB0cmFuc2l0aW9ucyBvciBvdXRwdXQgc3RhdGVzIGZyb20gYSBwYXJ0aWN1bGFyIHN0YXRlLiBDYWxsYmFja3MgY2FuIGJlIGRlY2xhcmVkIGZhciBhd2F5IGZyb20gdHJhbnNpdGlvbnMuXG5cbkJ5IGNvbnRyYXN0LCB3aGVuIHVzaW5nIGBmcmllbmRseV9zdGF0ZXNgLCB0aGVyZSBhcmUgbm8gc3RyaW5ncyBvciBtYWdpYyBhdHRyaWJ1dGVzIGFueXdoZXJlLiBDb2RlIGlzIGFsd2F5cyBuYXR1cmFsbHkgZ3JvdXBlZCB0b2dldGhlcjogYWxsIHRoZSB0cmFuc2l0aW9ucyBzcGVjaWZpYyB0byBhIHN0YXRlIGFwcGVhciBpbnNpZGUgdGhhdCBjbGFzcywgYW5kIGxvZ2ljIHJlbGF0ZWQgdG8gYSB0cmFuc2l0aW9uIGlzIGluIHRoYXQgZnVuY3Rpb24gd2hlcmUgeW91J2QgZXhwZWN0IGl0LlxuXG5bSGVyZV0oaHR0cHM6Ly9naXRodWIuY29tL2FsZXhtb2pha2kvZnJpZW5kbHlfc3RhdGVzL2Jsb2IvbWFzdGVyL3RyYW5zaXRpb25zX2V4YW1wbGUucHkpIGlzIHRoZSBlcXVpdmFsZW50IG9mIHRoZSBtYWluIGV4YW1wbGUgaW4gdGhlIGB0cmFuc2l0aW9uc2AgZG9jIGltcGxlbWVudGVkIHVzaW5nIGBmcmllbmRseV9zdGF0ZXNgLlxuXG4jIyBCYXNpYyB1c2FnZSBzdGVwc1xuXG4xKSBFbnN1cmUgdGhhdCB5b3UgYXJlIHVzaW5nIFB5dGhvbiAzLjcrLlxuXG4yKSBJbnN0YWxsIHRoaXMgbGlicmFyeSB3aXRoIGBwaXAgaW5zdGFsbCBmcmllbmRseV9zdGF0ZXNgLlxuXG4zKSBBZGQgdGhlIGxpbmUgYGZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnNgIGF0IHRoZSB0b3Agb2YgdGhlIGZpbGUgd2hlcmUgeW91IGRlZmluZSB5b3VyIHN0YXRlIG1hY2hpbmUuXG5cbjQpIERlY2xhcmUgdGhlIHJvb3Qgb2YgeW91ciBzdGF0ZSBtYWNoaW5lIGJ5IGluaGVyaXRpbmcgZnJvbSB0aGUgYXBwcm9wcmlhdGUgY2xhc3MgKHVzdWFsbHkgYEF0dHJpYnV0ZVN0YXRlYCwgc2VlIHRoZSBbQmFzZVN0YXRlXSgjYmFzZXN0YXRlLS0tY29uZmlndXJpbmctc3RhdGUtc3RvcmFnZS1hbmQtY2hhbmdlcykgc2VjdGlvbikgYW5kIHNldHRpbmcgYGlzX21hY2hpbmUgPSBUcnVlYCBpbiB0aGUgYm9keSwgbGlrZSBzbzpcblxuXG5gYGBweXRob25cbmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnNcbmZyb20gZnJpZW5kbHlfc3RhdGVzIGltcG9ydCBBdHRyaWJ1dGVTdGF0ZVxuICAgIFxuY2xhc3MgTXlNYWNoaW5lKEF0dHJpYnV0ZVN0YXRlKTpcbiAgICBpc19tYWNoaW5lID0gVHJ1ZVxuICAgIFxuICAgIGNsYXNzIFN1bW1hcnk6XG4gICAgICAgIFdhaXRpbmc6IFtEb2luZywgRmluaXNoZWRdXG4gICAgICAgIERvaW5nOiBbQ2hlY2tpbmcsIEZpbmlzaGVkXVxuICAgICAgICBDaGVja2luZzogW0ZpbmlzaGVkXVxuICAgICAgICBGaW5pc2hlZDogW11cblxuYGBgXG5cbkRlY2xhcmluZyBhIHN1bW1hcnkgaXMgb3B0aW9uYWwsIGJ1dCBoaWdobHkgcmVjb21tZW5kZWQuIFRoZSBjbGFzcyBtdXN0IGJlIG5hbWVkIGBTdW1tYXJ5YC5cbkl0IHNob3VsZCBkZWNsYXJlIHRoZSBuYW1lIG9mIGV2ZXJ5IHN0YXRlIHlvdXIgbWFjaGluZSB3aWxsIGhhdmUsIFxuZWFjaCBhbm5vdGF0ZWQgd2l0aCBhIGxpc3Qgb2YgZXZlcnkgc3RhdGUgdGhhdCBjYW4gYmUgcmVhY2hlZCBkaXJlY3RseSBmcm9tIHRoYXQgc3RhdGUgYnkgYW55IHRyYW5zaXRpb24uXG4gICBcbldoZW4geW91IGNhbGwgYE15TWFjaGluZS5jb21wbGV0ZSgpYCwgdGhpcyBzdW1tYXJ5IHdpbGwgYmUgY2hlY2tlZCwgYW5kIGFuIGV4Y2VwdGlvbiB3aWxsIGJlIHJhaXNlZCBleHBsYWluaW5nIHRoZSBwcm9ibGVtIGlmIGl0IGRvZXNuJ3QgbWF0Y2ggeW91ciBzdGF0ZSBjbGFzc2VzLiBJbiBwYXJ0aWN1bGFyIGlmIGEgY2xhc3MgaXMgbWlzc2luZyB0aGUgZXhjZXB0aW9uIHdpbGwgY29udGFpbiBnZW5lcmF0ZWQgc291cmNlIGNvZGUgZm9yIHRoYXQgY2xhc3Mgc28geW91IGNhbiBzcGVuZCBsZXNzIHRpbWUgd3JpdGluZyBib2lsZXJwbGF0ZS4gTGV0J3MgdHJ5IGl0IG5vdzpcblxuXG5gYGBweXRob25cbnRyeTpcbiAgICBNeU1hY2hpbmUuY29tcGxldGUoKVxuZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxuICAgIHByaW50KGUpXG5gYGBcblxuICAgIFxuICAgIE1pc3Npbmcgc3RhdGVzOlxuICAgIFxuICAgIGNsYXNzIFdhaXRpbmcoTXlNYWNoaW5lKTpcbiAgICAgICAgZGVmIHRvX2RvaW5nKHNlbGYpIC0+IFtEb2luZ106XG4gICAgICAgICAgICBwYXNzXG4gICAgXG4gICAgICAgIGRlZiB0b19maW5pc2hlZChzZWxmKSAtPiBbRmluaXNoZWRdOlxuICAgICAgICAgICAgcGFzc1xuICAgIFxuICAgIFxuICAgIGNsYXNzIERvaW5nKE15TWFjaGluZSk6XG4gICAgICAgIGRlZiB0b19jaGVja2luZyhzZWxmKSAtPiBbQ2hlY2tpbmddOlxuICAgICAgICAgICAgcGFzc1xuICAgIFxuICAgICAgICBkZWYgdG9fZmluaXNoZWQoc2VsZikgLT4gW0ZpbmlzaGVkXTpcbiAgICAgICAgICAgIHBhc3NcbiAgICBcbiAgICBcbiAgICBjbGFzcyBDaGVja2luZyhNeU1hY2hpbmUpOlxuICAgICAgICBkZWYgdG9fZmluaXNoZWQoc2VsZikgLT4gW0ZpbmlzaGVkXTpcbiAgICAgICAgICAgIHBhc3NcbiAgICBcbiAgICBcbiAgICBjbGFzcyBGaW5pc2hlZChNeU1hY2hpbmUpOlxuICAgICAgICBwYXNzXG4gICAgXG4gICAgXG4gICAgXG5cblxuWW91IGNhbiBjb3B5IHRoZSBjb2RlIGFib3ZlIGFuZCB3aWxsIGhhdmUgYSB3b3JraW5nIHN0YXRlIG1hY2hpbmUgbWF0Y2hpbmcgdGhlIHN1bW1hcnkuIEl0J3MgdXN1YWxseSBub3QgZXhhY3RseSB3aGF0IHlvdSBuZWVkLCBidXQgaXQgc2hvdWxkIHNhdmUgeW91IGEgbG90IG9mIHRpbWUgZm9yIHRoZSBuZXh0IHN0ZXAuXG5cbjUpIFdyaXRlIGEgY2xhc3MgZm9yIGVhY2ggc3RhdGUuIE1ha2Ugc3VyZSB5b3UgY2FsbCBgLmNvbXBsZXRlKClgIGF0IHRoZSBlbmQuXG5cblxuYGBgcHl0aG9uXG5jbGFzcyBXYWl0aW5nKE15TWFjaGluZSk6XG4gICAgZGVmIHN0YXJ0X2RvaW5nKHNlbGYpIC0+IFtEb2luZ106XG4gICAgICAgIHByaW50KCdTdGFydGluZyBub3chJykgICBcblxuICAgIGRlZiBza2lwKHNlbGYpIC0+IFtGaW5pc2hlZF06XG4gICAgICAgIHBhc3MgICBcblxuXG5jbGFzcyBEb2luZyhNeU1hY2hpbmUpOlxuICAgIGRlZiBkb25lKHNlbGYsIHJlc3VsdCkgLT4gW0NoZWNraW5nLCBGaW5pc2hlZF06XG4gICAgICAgIHNlbGYub2JqLnJlc3VsdCA9IHJlc3VsdFxuICAgICAgICBpZiBzZWxmLm9iai5uZWVkc19jaGVja2luZygpOlxuICAgICAgICAgICAgcmV0dXJuIENoZWNraW5nXG4gICAgICAgIGVsc2U6XG4gICAgICAgICAgICByZXR1cm4gRmluaXNoZWRcblxuXG5jbGFzcyBDaGVja2luZyhNeU1hY2hpbmUpOlxuICAgIGRlZiBjaGVjayhzZWxmKSAtPiBbRmluaXNoZWRdOlxuICAgICAgICBwcmludCgnTG9va3MgZ29vZCEnKVxuXG5cbmNsYXNzIEZpbmlzaGVkKE15TWFjaGluZSk6XG4gICAgcGFzc1xuXG5cbk15TWFjaGluZS5jb21wbGV0ZSgpXG5gYGBcblxuU3RhdGUgY2xhc3NlcyBtdXN0IGluaGVyaXQgKGRpcmVjdGx5IG9yIGluZGlyZWN0bHkpIGZyb20gdGhlIG1hY2hpbmUgY2xhc3MsIGUuZy4gYGNsYXNzIFdhaXRpbmcoTXlNYWNoaW5lKTpgLiBBIGNsYXNzIGNhbiBoYXZlIGFueSBudW1iZXIgb2YgdHJhbnNpdGlvbnMuIGBXYWl0aW5nYCBoYXMgdHdvIHNlcGFyYXRlIHRyYW5zaXRpb25zLCB3aGlsZSBgRmluaXNoZWRgIGhhcyBub25lLCBtZWFuaW5nIHlvdSBjYW4ndCBsZWF2ZSB0aGF0IHN0YXRlLiBJdCBjYW4gYWxzbyBoYXZlIGFueSBvdGhlciBtZXRob2RzIG9yIGF0dHJpYnV0ZXMgd2hpY2ggYXJlIG5vdCB0cmFuc2l0aW9ucywgbGlrZSBhIG5vcm1hbCBjbGFzcy5cblxuQSB0cmFuc2l0aW9uIGlzIGFueSBtZXRob2Qgd2hpY2ggaGFzIGEgcmV0dXJuIGFubm90YXRpb24gKHRoZSBiaXQgYWZ0ZXIgdGhlIGAtPmAgaW4gdGhlIGZ1bmN0aW9uIGRlZmluaXRpb24pIHdoaWNoIGlzIGEgbGlzdCBvZiBvbmUgb3IgbW9yZSBzdGF0ZXMgdGhhdCB3aWxsIGJlIHRoZSByZXN1bHQgb2YgdGhpcyB0cmFuc2l0aW9uLiBGb3IgZXhhbXBsZSwgdGhpcyBjb2RlOlxuXG5gYGBweXRob25cbmNsYXNzIFdhaXRpbmcoTXlNYWNoaW5lKTpcbiAgICBkZWYgc3RhcnRfZG9pbmcoc2VsZikgLT4gW0RvaW5nXTpcbmBgYFxuXG5tZWFucyB0aGF0IGBzdGFydF9kb2luZ2AgaXMgYSB0cmFuc2l0aW9uIGZyb20gdGhlIHN0YXRlIGBXYWl0aW5nYCB0byB0aGUgc3RhdGUgYERvaW5nYCwgYW5kIGNhbGxpbmcgdGhhdCBtZXRob2Qgd2lsbCBjaGFuZ2UgdGhlIHN0YXRlLlxuXG5UaGUgdHJhbnNpdGlvbiBgRG9pbmcuZG9uZWAgZGVtb25zdHJhdGVzIHNldmVyYWwgaW50ZXJlc3RpbmcgdGhpbmdzOlxuXG4tIEEgdHJhbnNpdGlvbiBjYW4gaGF2ZSBtdWx0aXBsZSBwb3NzaWJsZSBvdXRwdXQgc3RhdGVzLiBJbiB0aGF0IGNhc2UgdGhlIG1ldGhvZCBtdXN0IHJldHVybiBvbmUgb2YgdGhvc2Ugc3RhdGVzIHRvIGluZGljYXRlIHdoaWNoIG9uZSB0byBzd2l0Y2ggdG8uXG4tIFRyYW5zaXRpb25zIGFyZSBqdXN0IGxpa2Ugbm9ybWFsIG1ldGhvZHMgYW5kIGNhbiBhY2NlcHQgd2hhdGV2ZXIgYXJndW1lbnRzIHlvdSB3YW50LlxuLSBTdGF0ZXMgaGF2ZSBhbiBhdHRyaWJ1dGUgYG9iamAgd2hpY2ggaXMgdGhlIG9iamVjdCB0aGF0IHdhcyBwYXNzZWQgdG8gdGhlIGNsYXNzIHdoZW4gaXQgd2FzIGNvbnN0cnVjdGVkLiBUaGlzIGxldHMgeW91IGludGVyYWN0IHdpdGggdGhlIG9iamVjdCB3aG9zZSBzdGF0ZSBpcyBjaGFuZ2luZy5cblxuNikgVGhlIG1hY2hpbmUgZG9lc24ndCBzdG9yZSB0aGUgc3RhdGUgaXRzZWxmLCBtYWtlIGEgZGlmZmVyZW50IGNsYXNzIGZvciB0aGF0OlxuXG5cbmBgYHB5dGhvblxuY2xhc3MgVGFzazpcbiAgICBkZWYgX19pbml0X18oc2VsZik6XG4gICAgICAgIHNlbGYuc3RhdGUgPSBXYWl0aW5nXG4gICAgICAgIHNlbGYucmVzdWx0ID0gTm9uZVxuICAgIFxuICAgIGRlZiBuZWVkc19jaGVja2luZyhzZWxmKTpcbiAgICAgICAgcmV0dXJuIHNlbGYucmVzdWx0IDwgNVxuXG4gICAgXG50YXNrID0gVGFzaygpXG5hc3NlcnQgdGFzay5yZXN1bHQgaXMgTm9uZVxuYXNzZXJ0IHRhc2suc3RhdGUgaXMgV2FpdGluZ1xuYGBgXG5cbk91ciBleGFtcGxlIG1hY2hpbmUgZXhwZWN0cyB0byBmaW5kIGFuIGF0dHJpYnV0ZSBjYWxsZWQgYHN0YXRlYCBvbiBpdHMgb2JqZWN0cywgYXMgd2UndmUgcHJvdmlkZWQgaGVyZS4gSWYgeW91IGhhdmUgZGlmZmVyZW50IG5lZWRzLCBzZWUgdGhlIFtgQmFzZVN0YXRlYF0oI2Jhc2VzdGF0ZS0tLWNvbmZpZ3VyaW5nLXN0YXRlLXN0b3JhZ2UtYW5kLWNoYW5nZXMpIHNlY3Rpb24uXG5cbjcpIFRvIGNoYW5nZSB0aGUgc3RhdGUgb2YgeW91ciBvYmplY3QsIHlvdSBmaXJzdCBuZWVkIHRvIGtub3cgd2hhdCBzdGF0ZSBpdCdzIGluIHJpZ2h0IG5vdy4gU29tZXRpbWVzIHlvdSdsbCBuZWVkIHRvIGNoZWNrLCBidXQgb2Z0ZW4gaXQnbGwgYmUgb2J2aW91cyBpbiB0aGUgY29udGV4dCBvZiB5b3VyIGFwcGxpY2F0aW9uLiBGb3IgZXhhbXBsZSwgaWYgd2UgaGF2ZSBhIHF1ZXVlIG9mIGZyZXNoIHRhc2tzLCBhbnkgdGFzayB3ZSBwb3AgZnJvbSB0aGF0IHF1ZXVlIHdpbGwgYmUgaW4gc3RhdGUgYFdhaXRpbmdgLlxuXG5Db25zdHJ1Y3QgYW4gaW5zdGFuY2Ugb2YgdGhlIGNvcnJlY3Qgc3RhdGUgY2xhc3MgYW5kIHBhc3MgeW91ciBvYmplY3Q6XG5cblxuYGBgcHl0aG9uXG5XYWl0aW5nKHRhc2spXG5gYGBcblxuXG5cblxuICAgIFdhaXRpbmcob2JqPTxfX21haW5fXy5UYXNrIG9iamVjdCBhdCAweDExNzM2NzdmMD4pXG5cblxuXG5JZiB5b3UgZ2V0IHRoZSBjdXJyZW50IHN0YXRlIG9mIGEgdGFzayB3cm9uZywgdGhhdCBtZWFucyB0aGVyZSdzIGEgYnVnIGluIHlvdXIgY29kZSEgXG5JdCB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBiZWZvcmUgeW91IGNhbiBldmVuIGNhbGwgYW55IHRyYW5zaXRpb25zOlxuXG5cbmBgYHB5dGhvblxudHJ5OlxuICAgIERvaW5nKHRhc2spXG5leGNlcHQgRXhjZXB0aW9uIGFzIGU6XG4gICAgcHJpbnQoZSlcbmBgYFxuXG4gICAgPF9fbWFpbl9fLlRhc2sgb2JqZWN0IGF0IDB4MTE3MzY3N2YwPiBzaG91bGQgYmUgaW4gc3RhdGUgRG9pbmcgYnV0IGlzIGFjdHVhbGx5IGluIHN0YXRlIFdhaXRpbmdcblxuXG44KSBPbmNlIHlvdSBoYXZlIGFuIGluc3RhbmNlIG9mIHRoZSBjb3JyZWN0IHN0YXRlLCBjYWxsIHdoYXRldmVyIG1ldGhvZHMgeW91IHdhbnQgb24gaXQgYXMgdXN1YWwuIElmIHRoZSBtZXRob2QgaXMgYSB0cmFuc2l0aW9uLCB0aGUgc3RhdGUgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGNoYW5nZWQgYWZ0ZXJ3YXJkczpcblxuXG5gYGBweXRob25cbldhaXRpbmcodGFzaykuc2tpcCgpXG5hc3NlcnQgdGFzay5zdGF0ZSBpcyBGaW5pc2hlZFxuYGBgXG5cbklmIHlvdSB0cnkgY2FsbGluZyBhIHRyYW5zaXRpb24gdGhhdCBkb2Vzbid0IGV4aXN0IGZvciBhIHN0YXRlLCB0aGUgbGlicmFyeSBkb2Vzbid0IGV2ZW4gbmVlZCB0byBkbyBhbnl0aGluZy4gWW91J2xsIGp1c3QgZ2V0IHRoZSBwbGFpbiBQeXRob24gZXJyb3IgeW91IGFsd2F5cyBnZXQgd2hlbiBjYWxsaW5nIGEgbm9uLWV4aXN0ZW50IG1ldGhvZCwgYW5kIHlvdXIgSURFL2xpbnRlciB3aWxsIHdhcm4geW91IGluIGFkdmFuY2U6XG5cblxuYGBgcHl0aG9uXG50YXNrID0gVGFzaygpXG50cnk6XG4gICAgV2FpdGluZyh0YXNrKS5kb25lKDMpXG5leGNlcHQgQXR0cmlidXRlRXJyb3IgYXMgZTpcbiAgICBwcmludChlKVxuYGBgXG5cbiAgICAnV2FpdGluZycgb2JqZWN0IGhhcyBubyBhdHRyaWJ1dGUgJ2RvbmUnXG5cblxuSGVyZSBhcmUgdGhlIG90aGVyIDIgcG9zc2libGUgcGF0aHMgZm9yIGEgdGFzayBmcm9tIHdhaXRpbmcgdG8gZmluaXNoZWQ6XG5cblxuYGBgcHl0aG9uXG50YXNrID0gVGFzaygpXG5XYWl0aW5nKHRhc2spLnN0YXJ0X2RvaW5nKClcbkRvaW5nKHRhc2spLmRvbmUoMylcbmFzc2VydCB0YXNrLnJlc3VsdCA9PSAzXG5DaGVja2luZyh0YXNrKS5jaGVjaygpXG5hc3NlcnQgdGFzay5zdGF0ZSBpcyBGaW5pc2hlZFxuYGBgXG5cbiAgICBTdGFydGluZyBub3chXG4gICAgTG9va3MgZ29vZCFcblxuXG5cbmBgYHB5dGhvblxudGFzayA9IFRhc2soKVxuV2FpdGluZyh0YXNrKS5zdGFydF9kb2luZygpXG5Eb2luZyh0YXNrKS5kb25lKDcpXG4jIFRoZSByZXN1bHQgJzcnIGRvZXNuJ3QgbmVlZCBjaGVja2luZ1xuYXNzZXJ0IHRhc2suc3RhdGUgaXMgRmluaXNoZWRcbmBgYFxuXG4gICAgU3RhcnRpbmcgbm93IVxuXG5cbiMjIEFic3RyYWN0IHN0YXRlIGNsYXNzZXNcblxuU29tZXRpbWVzIHlvdSB3aWxsIGhhdmUgY29tbW9uIGJlaGF2aW91ciB0aGF0IHlvdSBuZWVkIHRvIHNoYXJlIGJldHdlZW4gc3RhdGUgY2xhc3Nlcy4gSW4gdGhhdCBjYXNlIHlvdSBjYW4gdXNlIGNsYXNzIGluaGVyaXRhbmNlLiBIZXJlJ3Mgd2hhdCB5b3UgbmVlZCB0byBiZSBhd2FyZSBvZjpcblxuMS4gWW91IGNhbid0IGluaGVyaXQgZnJvbSBhY3R1YWwgc3RhdGUgY2xhc3Nlcy5cbjIuIFRyYW5zaXRpb25zIG11c3QgbGl2ZSBpbiBjbGFzc2VzIHRoYXQgaW5oZXJpdCAoZGlyZWN0bHkgb3IgaW5kaXJlY3RseSkgZnJvbSB0aGUgbWFjaGluZSBjbGFzcy5cbjMuIENsYXNzZXMgdGhhdCBpbmhlcml0IGZyb20gdGhlIG1hY2hpbmUgKGFuZCB0aHVzIGNhbiBoYXZlIHRyYW5zaXRpb25zKSBidXQgZG8gbm90IHJlcHJlc2VudCBhY3R1YWwgc3RhdGVzIChhbmQgdGh1cyBjYW4gYmUgaW5oZXJpdGVkIGZyb20pIHNob3VsZCBoYXZlIGBpc19hYnN0cmFjdCA9IFRydWVgIGluIHRoZWlyIGJvZHkuXG5cbkhlcmUncyBhbiBleGFtcGxlOlxuXG5cbmBgYHB5dGhvblxuY2xhc3MgVGFza01hY2hpbmUyKEF0dHJpYnV0ZVN0YXRlKTpcbiAgICBpc19tYWNoaW5lID0gVHJ1ZVxuICAgIFxuICAgIGNsYXNzIFN1bW1hcnk6XG4gICAgICAgIFdhaXRpbmc6IFtEb2luZywgRmluaXNoZWRdXG4gICAgICAgIERvaW5nOiBbRmluaXNoZWRdXG4gICAgICAgIEZpbmlzaGVkOiBbXVxuXG4gICAgICAgICAgICBcbmNsYXNzIFVuZmluaXNoZWQoVGFza01hY2hpbmUyKTpcbiAgICBpc19hYnN0cmFjdCA9IFRydWVcbiAgICBcbiAgICBkZWYgZmluaXNoKHNlbGYpIC0+IFtGaW5pc2hlZF06XG4gICAgICAgIHBhc3NcblxuICAgIFxuY2xhc3MgV2FpdGluZyhVbmZpbmlzaGVkKTpcbiAgICBkZWYgc3RhcnRfZG9pbmcoc2VsZikgLT4gW0RvaW5nXTpcbiAgICAgICAgcGFzc1xuXG5cbmNsYXNzIERvaW5nKFVuZmluaXNoZWQpOlxuICAgIHBhc3NcblxuXG5jbGFzcyBGaW5pc2hlZChUYXNrTWFjaGluZTIpOlxuICAgIHBhc3NcblxuXG5UYXNrTWFjaGluZTIuY29tcGxldGUoKSAgICBcbmBgYFxuXG5IZXJlIHRoZSBgV2FpdGluZ2AgYW5kIGBEb2luZ2Agc3RhdGVzIGFyZSBib3RoIHN1YmNsYXNzZXMgb2YgYFVuZmluaXNoZWRgIHNvIHRoZXkgZ2V0IHRoZSBgZmluaXNoYCB0cmFuc2l0aW9uIGZvciBmcmVlLCBhbmQgeW91IGNhbiBzZWUgdGhlIHJlc3VsdCBvZiB0aGlzIGluIHRoZSBzdW1tYXJ5LlxuXG5JZiB5b3UgaGF2ZSBhbiBvYmplY3Qgd2hpY2ggaXMgaW4gb25lIG9mIHRoZXNlIHN0YXRlcyBidXQgeW91J3JlIG5vdCBzdXJlIHdoaWNoLCBhbmQgeW91J2QgbGlrZSB0byBjYWxsIHRoZSBgZmluaXNoYCB0cmFuc2l0aW9uLCBqdXN0IHVzZSB0aGUgYFVuZmluaXNoZWRgIGFic3RyYWN0IGNsYXNzOlxuXG5cbmBgYHB5dGhvblxuaW1wb3J0IHJhbmRvbVxuXG5mb3IgaSBpbiByYW5nZSgxMDApOlxuICAgIHRhc2sgPSBUYXNrKClcbiAgICBcbiAgICAjIFJhbmRvbWx5IHN0YXJ0IGRvaW5nIGFib3V0IGhhbGYgdGhlIHRhc2tzXG4gICAgaWYgcmFuZG9tLnJhbmRvbSgpIDwgMC41OlxuICAgICAgICBXYWl0aW5nKHRhc2spLnN0YXJ0X2RvaW5nKClcbiAgICBcbiAgICAjIE5vdyB0aGUgdGFzayBtaWdodCBiZSBlaXRoZXIgV2FpdGluZyBvciBEb2luZ1xuICAgIFVuZmluaXNoZWQodGFzaykuZmluaXNoKClcbmBgYFxuXG5UaGlzIHdpbGwgc3RpbGwgZmFpbCBpZiB5b3UgdHJ5IGl0IG9uIGEgZmluaXNoZWQgdGFzazpcblxuXG5gYGBweXRob25cbnRyeTpcbiAgICBVbmZpbmlzaGVkKHRhc2spLmZpbmlzaCgpXG5leGNlcHQgRXhjZXB0aW9uIGFzIGU6XG4gICAgcHJpbnQoZSlcbmBgYFxuXG4gICAgPF9fbWFpbl9fLlRhc2sgb2JqZWN0IGF0IDB4MTE0MDFjYjAwPiBzaG91bGQgYmUgaW4gc3RhdGUgVW5maW5pc2hlZCBidXQgaXMgYWN0dWFsbHkgaW4gc3RhdGUgRmluaXNoZWRcblxuXG5Ib3dldmVyLCB5b3UgbWF5IHdhbnQgdG8gdXNlIG1ldGhvZHMgYW5kIGF0dHJpYnV0ZXMgaW4gdGhlIGNsYXNzIHJlcHJlc2VudGluZyB0aGUgYWN0dWFsIGN1cnJlbnQgc3RhdGUuIEluIHBhcnRpY3VsYXIgeW91IG1pZ2h0IGhhdmUgb3ZlcnJpZGRlbiBtZXRob2RzIGluIHRoZSBjb25jcmV0ZSBzdGF0ZSBjbGFzc2VzIGFuZCB3YW50IHRoZSBjb3JyZWN0IGltcGxlbWVudGF0aW9uIHRvIHJ1bi4gVG8gYWxsb3cgdGhpcywgaW5zdGFuY2VzIG9mIGEgc3RhdGUgYXV0b21hdGljYWxseSBjaGFuZ2UgdGhlIGNsYXNzIHRvIHRoZSBhY3R1YWwgc3RhdGUgb2YgdGhlIG9iamVjdDogXG5cblxuYGBgcHl0aG9uXG50YXNrID0gVGFzaygpXG5hc3NlcnQgdHlwZShVbmZpbmlzaGVkKHRhc2spKSBpcyBXYWl0aW5nXG5gYGBcblxuIyMgQmFzZVN0YXRlIC0gY29uZmlndXJpbmcgc3RhdGUgc3RvcmFnZSBhbmQgY2hhbmdlc1xuXG5BdCB0aGUgcm9vdCBvZiBhbGwgdGhlIGNsYXNzZXMgaW4gdGhlIGxpYnJhcnkgaXMgYEJhc2VTdGF0ZWAsIHdoaWNoIGhhcyB0d28gYWJzdHJhY3QgbWV0aG9kcyBgZ2V0X3N0YXRlYCBhbmQgYHNldF9zdGF0ZWAuIFN1YmNsYXNzZXMgZGV0ZXJtaW5lIGhvdyB0aGUgb2JqZWN0IHN0b3JlcyBzdGF0ZSBhbmQgd2hhdCBzaG91bGQgaGFwcGVuIHdoZW4gaXQgY2hhbmdlcy5cblxuRm9yIGV4YW1wbGUsIGhlcmUgaXMgdGhlIHN0YXJ0IG9mIGBBdHRyaWJ1dGVTdGF0ZWAgd2hpY2ggd2UndmUgYmVlbiB1c2luZyBhcyB0aGUgYmFzZSBvZiBvdXIgbWFjaGluZXMgc28gZmFyOlxuXG5gYGBweXRob25cbmNsYXNzIEF0dHJpYnV0ZVN0YXRlKEJhc2VTdGF0ZSk6XG4gICAgYXR0cl9uYW1lID0gXCJzdGF0ZVwiXG5cbiAgICBkZWYgZ2V0X3N0YXRlKHNlbGYpOlxuICAgICAgICByZXR1cm4gZ2V0YXR0cihzZWxmLm9iaiwgc2VsZi5hdHRyX25hbWUpXG5gYGBcblxuWW91IGNhbiBkZWNsYXJlIGEgZGlmZmVyZW50IGBhdHRyX25hbWVgIGluIHlvdXIgbWFjaGluZSBjbGFzcyB0byBzdG9yZSB0aGUgc3RhdGUgaW4gdGhhdCBhdHRyaWJ1dGUgb2YgdGhlIG9iamVjdC5cblxuSWYgeW91J3JlIHN0b3JpbmcgeW91ciBzdGF0ZSBpbiBhIGRpY3Qgb3Igc2ltaWxhciBvYmplY3QsIHlvdSBjYW4gaW5zdGVhZCB1c2UgYE1hcHBpbmdLZXlTdGF0ZWAsIHdoaWNoIHN0YXJ0cyBsaWtlIHRoaXM6XG5cbmBgYHB5dGhvblxuY2xhc3MgTWFwcGluZ0tleVN0YXRlKEJhc2VTdGF0ZSk6XG4gICAga2V5X25hbWUgPSBcInN0YXRlXCJcblxuICAgIGRlZiBnZXRfc3RhdGUoc2VsZik6XG4gICAgICAgIHJldHVybiBzZWxmLm9ialtzZWxmLmtleV9uYW1lXVxuYGBgXG5cbkl0IGNhbiBvZnRlbiBiZSB1c2VmdWwgdG8gb3ZlcnJpZGUgYHNldF9zdGF0ZWAgdG8gYWRkIGV4dHJhIGNvbW1vbiBiZWhhdmlvdXIgd2hlbiB0aGUgc3RhdGUgY2hhbmdlcywgZS5nOlxuXG5cbmBgYHB5dGhvblxuY2xhc3MgUHJpbnRTdGF0ZUNoYW5nZShBdHRyaWJ1dGVTdGF0ZSk6XG4gICAgZGVmIHNldF9zdGF0ZShzZWxmLCBwcmV2aW91c19zdGF0ZSwgbmV3X3N0YXRlKTpcbiAgICAgICAgcHJpbnQoZlwiQ2hhbmdpbmcge3NlbGYub2JqfSBmcm9tIHtwcmV2aW91c19zdGF0ZX0gdG8ge25ld19zdGF0ZX1cIilcbiAgICAgICAgc3VwZXIoKS5zZXRfc3RhdGUocHJldmlvdXNfc3RhdGUsIG5ld19zdGF0ZSlcbmBgYFxuXG5gc2V0X3N0YXRlYCBpcyBjYWxsZWQgYWZ0ZXIgdGhlIHRyYW5zaXRpb24gbWV0aG9kIGNvbXBsZXRlcy5cblxuU28gb3ZlcmFsbCwgeW91ciBjbGFzcyBoaWVyYXJjaHkgdHlwaWNhbGx5IGxvb2tzIHNvbWV0aGluZyBsaWtlIHRoaXM6XG5cbmBCYXNlU3RhdGUgPC0gQXR0cmlidXRlU3RhdGUgPC0gTWFjaGluZSA8LSBBYnN0cmFjdCBTdGF0ZXMgPC0gQWN0dWFsIHN0YXRlc2BcblxuIyMgU3RhdGUgbWFjaGluZSBtZXRhZGF0YVxuXG5NYWNoaW5lcywgc3RhdGVzLCBhbmQgdHJhbnNpdGlvbnMgaGF2ZSBhIGJ1bmNoIG9mIGF0dHJpYnV0ZXMgdGhhdCB5b3UgY2FuIGluc3BlY3Q6XG5cblxuYGBgcHl0aG9uXG4jIEFsbCBjb25jcmV0ZSAobm90IGFic3RyYWN0KSBzdGF0ZXMgaW4gdGhlIG1hY2hpbmVcbmFzc2VydCBUYXNrTWFjaGluZTIuc3RhdGVzID09IHtEb2luZywgRmluaXNoZWQsIFdhaXRpbmd9XG5cbiMgQWxsIHRoZSB0cmFuc2l0aW9uIGZ1bmN0aW9ucyBhdmFpbGFibGUgZm9yIHRoaXMgc3RhdGVcbmFzc2VydCBXYWl0aW5nLnRyYW5zaXRpb25zID09IHtXYWl0aW5nLmZpbmlzaCwgV2FpdGluZy5zdGFydF9kb2luZ31cblxuIyBUaGUgdHJhbnNpdGlvbiBmdW5jdGlvbnMgZGVmaW5lZCBkaXJlY3RseSBvbiB0aGlzIGNsYXNzLCBpLmUuIG5vdCBpbmhlcml0ZWRcbmFzc2VydCBXYWl0aW5nLmRpcmVjdF90cmFuc2l0aW9ucyA9PSB7V2FpdGluZy5zdGFydF9kb2luZ31cblxuIyBQb3NzaWJsZSBvdXRwdXQgc3RhdGVzIGZyb20gdGhpcyB0cmFuc2l0aW9uXG5hc3NlcnQgV2FpdGluZy5zdGFydF9kb2luZy5vdXRwdXRfc3RhdGVzID09IHtEb2luZ31cblxuIyBBbGwgcG9zc2libGUgb3V0cHV0IHN0YXRlcyBmcm9tIHRoaXMgc3RhdGUgdmlhIGFueSB0cmFuc2l0aW9uXG5hc3NlcnQgV2FpdGluZy5vdXRwdXRfc3RhdGVzID09IHtEb2luZywgRmluaXNoZWR9XG5cbiMgUm9vdCBvZiB0aGUgc3RhdGUgbWFjaGluZVxuYXNzZXJ0IFdhaXRpbmcubWFjaGluZSBpcyBUYXNrTWFjaGluZTJcblxuIyBCb29sZWFucyBhYm91dCB0aGUgdHlwZSBvZiBjbGFzc1xuYXNzZXJ0IFRhc2tNYWNoaW5lMi5pc19tYWNoaW5lIGFuZCBub3QgV2FpdGluZy5pc19tYWNoaW5lXG5hc3NlcnQgV2FpdGluZy5pc19zdGF0ZSBhbmQgbm90IFVuZmluaXNoZWQuaXNfc3RhdGVcbmFzc2VydCBVbmZpbmlzaGVkLmlzX2Fic3RyYWN0IGFuZCBub3QgV2FpdGluZy5pc19hYnN0cmFjdFxuYGBgXG5cbiMjIyBTbHVncyBhbmQgbGFiZWxzXG5cbkNsYXNzZXMgYWxzbyBoYXZlIGBzbHVnYCBhbmQgYGxhYmVsYCBhdHRyaWJ1dGVzIHdoaWNoIGFyZSBtb3N0bHkgZm9yIHVzZSBieSBEamFuZ28gYnV0IG1heSBiZSB1c2VmdWwgZWxzZXdoZXJlLiBgc2x1Z2AgaXMgZm9yIGRhdGEgc3RvcmFnZSBhbmQgYGxhYmVsYCBpcyBmb3IgaHVtYW4gZGlzcGxheS5cblxuQnkgZGVmYXVsdCwgYHNsdWdgIGlzIGp1c3QgdGhlIGNsYXNzIG5hbWUsIHdoaWxlIGBsYWJlbGAgaXMgdGhlIGNsYXNzIG5hbWUgd2l0aCBzcGFjZXMgaW5zZXJ0ZWQuIEJvdGggY2FuIGJlIG92ZXJyaWRkZW4gYnkgZGVjbGFyaW5nIHRoZW0gaW4gdGhlIGNsYXNzLlxuXG5cbmBgYHB5dGhvblxuYXNzZXJ0IFdhaXRpbmcuc2x1ZyA9PSBcIldhaXRpbmdcIlxuYXNzZXJ0IFRhc2tNYWNoaW5lMi5sYWJlbCA9PSBcIlRhc2sgTWFjaGluZSAyXCJcbmBgYFxuXG4jIyBUcm91Ymxlc2hvb3RpbmdcblxuSWYgdGhpbmdzIGFyZSBub3Qgd29ya2luZyBhcyBleHBlY3RlZCwgaGVyZSBhcmUgc29tZSB0aGluZ3MgdG8gY2hlY2s6XG5cbi0gQ2hlY2sgdGhlIGF0dHJpYnV0ZXMgYG1hY2hpbmUuc3RhdGVzYCwgYHN0YXRlLnRyYW5zaXRpb25zYCwgYW5kIGB0cmFuc2l0aW9uLm91dHB1dF9zdGF0ZXNgIHRvIHNlZSBpZiB0aGV5IGxvb2sgYXMgZXhwZWN0ZWQuXG4tIElmIHlvdSBvdmVycmlkZSBgc2V0X3N0YXRlYCwgcmVtZW1iZXIgdG8gY2FsbCBgc3VwZXIoKS5zZXRfc3RhdGUoLi4uKWAsIHVubGVzcyB5b3Ugd2FudCB0byBwcmV2ZW50IHRoZSBzdGF0ZSBmcm9tIGNoYW5naW5nIG9yIHlvdSdyZSBzdWJjbGFzc2luZyBgQmFzZVN0YXRlYCBkaXJlY3RseS5cbi0gQ2hlY2sgdGhhdCB0aGUgYW5ub3RhdGlvbiBvbiB5b3VyIHRyYW5zaXRpb24gaXMgYSBsaXN0LCBpLmUuIGl0IHN0YXJ0cyBhbmQgZW5kcyB3aXRoIGBbXWAuIEZvciBleGFtcGxlIHRoaXMgd2lsbCBub3QgYmUgcmVjb2duaXNlZCBhcyBhIHRyYW5zaXRpb246XG5cbmBgYHB5dGhvblxuICAgIGRlZiBzdGFydF9kb2luZyhzZWxmKSAtPiBEb2luZzpcbmBgYFxuXG4tIElmIHlvdXIgdHJhbnNpdGlvbiBoYXMgYW55IGRlY29yYXRvcnMsIG1ha2Ugc3VyZSB0aGF0IHRoZSBkZWNvcmF0ZWQgZnVuY3Rpb24gc3RpbGwgaGFzIHRoZSBvcmlnaW5hbCBgX19hbm5vdGF0aW9uc19fYCBhdHRyaWJ1dGUuIFRoaXMgaXMgdXN1YWxseSBkb25lIGJ5IHVzaW5nIGBmdW5jdG9vbHMud3JhcHNgIHdoZW4gaW1wbGVtZW50aW5nIHRoZSBkZWNvcmF0b3IuXG4tIE1ha2Ugc3VyZSB0aGF0IHRoZSBvYmplY3Qgc3RvcmVzIHN0YXRlIHRoZSB3YXkgdGhlIG1hY2hpbmUgZXhwZWN0cy4gVHlwaWNhbGx5IHlvdSdsbCBiZSB1c2luZyBgQXR0cmlidXRlU3RhdGVgIGFuZCB5b3Ugc2hvdWxkIG1ha2Ugc3VyZSB0aGF0IGBhdHRyX25hbWVgIChcInN0YXRlXCIgYnkgZGVmYXVsdCkgaXMgY29ycmVjdC4gTm90ZSB0aGF0IGEgdHlwaWNhbCBtYWNoaW5lIGV4cGVjdHMgb2JqZWN0cyB0byBoYXZlIGp1c3Qgb25lIHdheSBvZiBzdG9yaW5nIHN0YXRlIC0geW91IGNhbid0IHVzZSB0aGUgc2FtZSBtYWNoaW5lIHRvIGNoYW5nZSBzdGF0ZSBzdG9yZWQgaW4gZGlmZmVyZW50IGF0dHJpYnV0ZXMuIFRvIG92ZXJjb21lIHRoaXMsIHNlZSB0aGUgW3JlY2lwZSAnRHluYW1pY2FsbHkgY2hhbmdpbmcgdGhlIGF0dHJpYnV0ZSBuYW1lJ10oI2R5bmFtaWNhbGx5LWNoYW5naW5nLXRoZS1hdHRyaWJ1dGUtbmFtZSkuXG4tIENoZWNrIHRoYXQgeW91J3ZlIGluaGVyaXRlZCB5b3VyIGNsYXNzZXMgY29ycmVjdGx5LiBBbGwgc3RhdGVzIG5lZWQgdG8gaW5oZXJpdCBmcm9tIHRoZSBtYWNoaW5lLlxuXG4jIyBSZWNpcGVzXG5cblRoZSBBUEkgb2YgYGZyaWVuZGx5X3N0YXRlc2AgaXMgaW50ZW50aW9uYWxseSBtaW5pbWFsLiBIZXJlIGlzIGhvdyB5b3UgY2FuIGRvIHNvbWUgbW9yZSBjb21wbGljYXRlZCB0aGluZ3MuXG5cbiMjIyBDb25zdHJ1Y3QgYW5kIGRyYXcgYSBncmFwaFxuXG5IZXJlIGlzIGhvdyB0byBjcmVhdGUgYSBncmFwaCB3aXRoIHRoZSBwb3B1bGFyIGxpYnJhcnkgYG5ldHdvcmt4YDpcblxuXG5gYGBweXRob25cbmltcG9ydCBuZXR3b3JreCBhcyBueFxubWFjaGluZSA9IE15TWFjaGluZVxuXG5HID0gbnguRGlHcmFwaCgpXG5mb3Igc3RhdGUgaW4gbWFjaGluZS5zdGF0ZXM6XG4gICAgZm9yIG91dHB1dF9zdGF0ZSBpbiBzdGF0ZS5vdXRwdXRfc3RhdGVzOlxuICAgICAgICBHLmFkZF9lZGdlKHN0YXRlLCBvdXRwdXRfc3RhdGUpXG5cbnByaW50KEcubm9kZXMpXG5wcmludChHLmVkZ2VzKVxuYGBgXG5cbiAgICBbV2FpdGluZywgRmluaXNoZWQsIERvaW5nLCBDaGVja2luZ11cbiAgICBbKFdhaXRpbmcsIEZpbmlzaGVkKSwgKFdhaXRpbmcsIERvaW5nKSwgKERvaW5nLCBGaW5pc2hlZCksIChEb2luZywgQ2hlY2tpbmcpLCAoQ2hlY2tpbmcsIEZpbmlzaGVkKV1cblxuXG5UbyBkcmF3IHRoZSBncmFwaCB3aXRoIGBtYXRwbG90bGliYDpcblxuXG5gYGBweXRob25cbiVtYXRwbG90bGliIGlubGluZVxubnguZHJhdyhHLCB3aXRoX2xhYmVscz1UcnVlLCBub2RlX2NvbG9yPSdwaW5rJykgICBcbmBgYFxuXG5cbiFbcG5nXShSRUFETUVfZmlsZXMvUkVBRE1FXzQ0XzAucG5nKVxuXG5cblRvIGxhYmVsIGVhY2ggZWRnZSByZXF1aXJlcyBzb21lIG1vcmUgd29yazpcblxuXG5gYGBweXRob25cbmVkZ2VfbGFiZWxzID0ge31cbkcgPSBueC5EaUdyYXBoKClcbmZvciBzdGF0ZSBpbiBtYWNoaW5lLnN0YXRlczpcbiAgICBmb3IgdHJhbnNpdGlvbiBpbiBzdGF0ZS50cmFuc2l0aW9uczpcbiAgICAgICAgZm9yIG91dHB1dF9zdGF0ZSBpbiB0cmFuc2l0aW9uLm91dHB1dF9zdGF0ZXM6XG4gICAgICAgICAgICBlZGdlID0gKHN0YXRlLCBvdXRwdXRfc3RhdGUpXG4gICAgICAgICAgICBHLmFkZF9lZGdlKCplZGdlKVxuICAgICAgICAgICAgZWRnZV9sYWJlbHNbZWRnZV0gPSB0cmFuc2l0aW9uLl9fbmFtZV9fXG5cbnBvcyA9IG54LnNwcmluZ19sYXlvdXQoRylcbm54LmRyYXcoRywgcG9zLCB3aXRoX2xhYmVscz1UcnVlLCBub2RlX2NvbG9yPSdwaW5rJylcbm54LmRyYXdfbmV0d29ya3hfZWRnZV9sYWJlbHMoRywgcG9zLCBlZGdlX2xhYmVscz1lZGdlX2xhYmVscyk7XG5gYGBcblxuXG4hW3BuZ10oUkVBRE1FX2ZpbGVzL1JFQURNRV80Nl8wLnBuZylcblxuXG4jIyMgQ3JlYXRpbmcgbXVsdGlwbGUgc2ltaWxhciBtYWNoaW5lc1xuXG5TdXBwb3NlIHlvdSB3YW50IHRvIGNyZWF0ZSBzZXZlcmFsIG1hY2hpbmVzIHdpdGggc2ltaWxhciBzdGF0ZXMgYW5kIHRyYW5zaXRpb25zIHdpdGggZHVwbGljYXRpbmcgY29kZS4gWW91IG1heSB0aGluayB5b3UgY2FuIHVzZSBpbmhlcml0YW5jZSBzb21laG93LCBidXQgdGhhdCB3b24ndCB3b3JrLCBhbmQgaW4gZmFjdCBhIG1hY2hpbmUgY2FuJ3Qgc3ViY2xhc3MgYW5vdGhlciBtYWNoaW5lLiBJbnN0ZWFkIHlvdSBtdXN0IG1ha2UgYSBmdW5jdGlvbiB3aGljaCBjcmVhdGVzIHRoZSBjbGFzc2VzIGxvY2FsbHkuIFRoZXJlIGFyZSBtYW55IHdheXMgdGhpcyBjb3VsZCBiZSBvbmUgZGVwZW5kaW5nIG9uIHlvdXIgbmVlZHMuIEhlcmUncyBhbiBleGFtcGxlIHdpdGggaWRlbnRpY2FsIG1hY2hpbmVzIGV4Y2VwdCB0aGF0IG9uZSBoYXMgYW4gYWRkaXRpb25hbCBzdGF0ZTpcblxuXG5gYGBweXRob25cbmZyb20gdHlwZXMgaW1wb3J0IFNpbXBsZU5hbWVzcGFjZVxuXG5kZWYgbWFjaGluZV9mYWN0b3J5KCk6XG4gICAgY2xhc3MgTWFjaGluZShBdHRyaWJ1dGVTdGF0ZSk6XG4gICAgICAgIGlzX21hY2hpbmUgPSBUcnVlXG5cbiAgICBjbGFzcyBDb21tb25TdGF0ZTEoTWFjaGluZSk6XG4gICAgICAgIGRlZiB0b19jb21tb25fc3RhdGVfMihzZWxmKSAtPiBbQ29tbW9uU3RhdGUyXTpcbiAgICAgICAgICAgIHBhc3NcblxuICAgIGNsYXNzIENvbW1vblN0YXRlMihNYWNoaW5lKTpcbiAgICAgICAgcGFzc1xuXG4gICAgcmV0dXJuIFNpbXBsZU5hbWVzcGFjZShcbiAgICAgICAgTWFjaGluZT1NYWNoaW5lLFxuICAgICAgICBDb21tb25TdGF0ZTE9Q29tbW9uU3RhdGUxLFxuICAgICAgICBDb21tb25TdGF0ZTI9Q29tbW9uU3RhdGUyLFxuICAgIClcblxuXG5tYWNoaW5lMSA9IG1hY2hpbmVfZmFjdG9yeSgpXG5cbmNsYXNzIERpZmZlcmVudFN0YXRlKG1hY2hpbmUxLk1hY2hpbmUpOlxuICAgIGRlZiB0b19jb21tb25fc3RhdGVfMihzZWxmKSAtPiBbbWFjaGluZTEuQ29tbW9uU3RhdGUyXTpcbiAgICAgICAgcGFzc1xuXG5tYWNoaW5lMS5NYWNoaW5lLmNvbXBsZXRlKClcblxuQG1hY2hpbmUxLk1hY2hpbmUuY2hlY2tfc3VtbWFyeVxuY2xhc3MgU3VtbWFyeTpcbiAgICBDb21tb25TdGF0ZTE6IFtDb21tb25TdGF0ZTJdXG4gICAgQ29tbW9uU3RhdGUyOiBbXVxuICAgIERpZmZlcmVudFN0YXRlOiBbQ29tbW9uU3RhdGUyXVxuXG5cbm1hY2hpbmUyID0gbWFjaGluZV9mYWN0b3J5KClcbm1hY2hpbmUyLk1hY2hpbmUuY29tcGxldGUoKVxuXG5AbWFjaGluZTIuTWFjaGluZS5jaGVja19zdW1tYXJ5XG5jbGFzcyBTdW1tYXJ5OlxuICAgIENvbW1vblN0YXRlMTogW0NvbW1vblN0YXRlMl1cbiAgICBDb21tb25TdGF0ZTI6IFtdXG5gYGBcblxuIyMjIER5bmFtaWNhbGx5IGNoYW5naW5nIHRoZSBhdHRyaWJ1dGUgbmFtZVxuXG5BIHR5cGljYWwgYEF0dHJpYnV0ZVN0YXRlYCBtYWNoaW5lIGNhbiBvbmx5IHdvcmsgd2l0aCBvbmUgYXR0cmlidXRlIG5hbWUuIFlvdSBtYXkgbmVlZCB0byB1c2UgdGhlIHNhbWUgbWFjaGluZSB3aXRoIGRpZmZlcmVudCBvYmplY3QgY2xhc3NlcyB0aGF0IHVzZSBkaWZmZXJlbnQgYXR0cmlidXRlcy4gT25lIHdheSBpcyB0byBmb2xsb3cgYSBzaW1pbGFyIHBhdHRlcm4gdG8gYWJvdmUgd2l0aCBhIGNvbmZpZ3VyYWJsZSBhdHRyaWJ1dGUgbmFtZTpcblxuYGBgcHl0aG9uXG5kZWYgbWFjaGluZV9mYWN0b3J5KG5hbWUpOlxuICAgIGNsYXNzIE1hY2hpbmUoQXR0cmlidXRlU3RhdGUpOlxuICAgICAgICBpc19tYWNoaW5lID0gVHJ1ZVxuICAgICAgICBhdHRyX25hbWUgPSBuYW1lXG5cbiAgICAuLi5cbmBgYFxuXG5Bbm90aGVyIG9wdGlvbiwgd2hpY2ggbWF5IGJlIHVzZWZ1bCBmb3IgbW9yZSBjb21wbGljYXRlZCBzaXR1YXRpb25zLCBpcyB0byBzdWJjbGFzcyBgQXR0cmlidXRlU3RhdGVgIHRvIGFjY2VwdCB0aGUgYXR0cmlidXRlIG5hbWUgb24gY29uc3RydWN0aW9uOlxuXG5cbmBgYHB5dGhvblxuY2xhc3MgRHluYW1pY0F0dHJpYnV0ZVN0YXRlKEF0dHJpYnV0ZVN0YXRlKTpcbiAgICBkZWYgX19pbml0X18oc2VsZiwgb2JqLCBhdHRyX25hbWUpOlxuICAgICAgICAjIG92ZXJyaWRlIHRoZSBjbGFzcyBhdHRyaWJ1dGVcbiAgICAgICAgc2VsZi5hdHRyX25hbWUgPSBhdHRyX25hbWVcbiAgICAgICAgXG4gICAgICAgICMgbXVzdCBjYWxsIHN1cGVyICphZnRlciogYmVjYXVzZSBpdCBjaGVja3MgdGhlIHN0YXRlXG4gICAgICAgICMgaW4gdGhlIGF0dHJpYnV0ZSB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAgICAgIHN1cGVyKCkuX19pbml0X18ob2JqKVxuXG5jbGFzcyBNYWNoaW5lKER5bmFtaWNBdHRyaWJ1dGVTdGF0ZSk6XG4gICAgaXNfbWFjaGluZSA9IFRydWVcblxuY2xhc3MgU3RhcnQoTWFjaGluZSk6XG4gICAgZGVmIHRvX2VuZChzZWxmKSAtPiBbRW5kXTpcbiAgICAgICAgcGFzc1xuXG5jbGFzcyBFbmQoTWFjaGluZSk6XG4gICAgcGFzc1xuXG5NYWNoaW5lLmNvbXBsZXRlKClcblxudGhpbmcgPSBTaW1wbGVOYW1lc3BhY2Uoc3RhdGU9U3RhcnQsIG90aGVyX3N0YXRlPVN0YXJ0KVxuXG5hc3NlcnQgdGhpbmcuc3RhdGUgaXMgU3RhcnRcbmFzc2VydCB0aGluZy5vdGhlcl9zdGF0ZSBpcyBTdGFydFxuXG5TdGFydCh0aGluZywgXCJzdGF0ZVwiKS50b19lbmQoKVxuYXNzZXJ0IHRoaW5nLnN0YXRlIGlzIEVuZFxuYXNzZXJ0IHRoaW5nLm90aGVyX3N0YXRlIGlzIFN0YXJ0XG5cblN0YXJ0KHRoaW5nLCBcIm90aGVyX3N0YXRlXCIpLnRvX2VuZCgpXG5hc3NlcnQgdGhpbmcuc3RhdGUgaXMgRW5kXG5hc3NlcnQgdGhpbmcub3RoZXJfc3RhdGUgaXMgRW5kXG5cbmBgYFxuXG4jIyMgT24gZW50ZXIvZXhpdCBzdGF0ZSBjYWxsYmFja3NcblxuV2hlbmV2ZXIgeW91IHdhbnQgdG8gZXhlY3V0ZSBzb21lIGdlbmVyaWMgbG9naWMgb24gZXZlcnkgc3RhdGUgdHJhbnNpdGlvbiwgeW91IHNob3VsZCBvdmVycmlkZSBgc2V0X3N0YXRlYC4gQnV0IGlmIHlvdSBwdXQgYWxsIHlvdXIgY29kZSBpbiB0aGVyZSBpdCBtYXkgZ2V0IGxvbmcgYW5kIGNvbmZ1c2luZy4gSWYgeW91IHdhbnQgdG8gZ3JvdXAgdGhpcyBsb2dpYyBpbnRvIHlvdXIgc3RhdGUgY2xhc3NlcyB3aGVuZXZlciBhIHRyYW5zaXRpb24gZW50ZXJzIG9yIGV4aXRzIHRoYXQgc3RhdGUsIGhlcmUncyBhIG1peGluIHRoYXQgeW91IGNhbiBhcHBseSB0byBhbnkgbWFjaGluZTpcblxuXG5gYGBweXRob25cbmNsYXNzIE9uRW50ZXJFeGl0TWl4aW46XG4gICAgZGVmIHNldF9zdGF0ZShzZWxmLCBwcmV2aW91c19zdGF0ZSwgbmV3X3N0YXRlKTpcbiAgICAgICAgcHJldmlvdXNfc3RhdGUoc2VsZi5vYmopLm9uX2V4aXQobmV3X3N0YXRlKVxuICAgICAgICBzdXBlcigpLnNldF9zdGF0ZShwcmV2aW91c19zdGF0ZSwgbmV3X3N0YXRlKVxuICAgICAgICBuZXdfc3RhdGUoc2VsZi5vYmopLm9uX2VudGVyKHByZXZpb3VzX3N0YXRlKVxuXG4gICAgZGVmIG9uX2V4aXQoc2VsZiwgbmV3X3N0YXRlKTpcbiAgICAgICAgcGFzc1xuXG4gICAgZGVmIG9uX2VudGVyKHNlbGYsIHByZXZpb3VzX3N0YXRlKTpcbiAgICAgICAgcGFzc1xuYGBgXG5cblRoZW4gdXNlIGl0IGFzIGZvbGxvd3M6XG5cblxuYGBgcHl0aG9uXG5jbGFzcyBNYWNoaW5lKE9uRW50ZXJFeGl0TWl4aW4sIEF0dHJpYnV0ZVN0YXRlKTpcbiAgICBpc19tYWNoaW5lID0gVHJ1ZVxuXG5jbGFzcyBTdGFydChNYWNoaW5lKTpcbiAgICBkZWYgZW5kKHNlbGYpIC0+IFtFbmRdOlxuICAgICAgICBwYXNzXG5cbmNsYXNzIEVuZChNYWNoaW5lKTpcbiAgICBkZWYgb25fZW50ZXIoc2VsZiwgcHJldmlvdXNfc3RhdGUpOlxuICAgICAgICBwcmludChmXCJFbmRpbmcgZnJvbSB7cHJldmlvdXNfc3RhdGV9XCIpXG5cbk1hY2hpbmUuY29tcGxldGUoKVxuXG50aGluZyA9IFNpbXBsZU5hbWVzcGFjZShzdGF0ZT1TdGFydClcblN0YXJ0KHRoaW5nKS5lbmQoKVxuYGBgXG5cbiAgICBFbmRpbmcgZnJvbSBTdGFydFxuXG5cbiMjIERqYW5nbyBpbnRlZ3JhdGlvblxuXG5gZnJpZW5kbHlfc3RhdGVzYCBjYW4gZWFzaWx5IGJlIHVzZWQgb3V0IG9mIHRoZSBib3ggd2l0aCBEamFuZ28uIEJhc2ljIHVzYWdlIGxvb2tzIGxpa2UgdGhpczpcblxuYGBgcHl0aG9uXG5mcm9tIGRqYW5nby5kYiBpbXBvcnQgbW9kZWxzXG5mcm9tIGZyaWVuZGx5X3N0YXRlcy5kamFuZ28gaW1wb3J0IFN0YXRlRmllbGQsIERqYW5nb1N0YXRlXG5cbmNsYXNzIE15TWFjaGluZShEamFuZ29TdGF0ZSk6XG4gICAgaXNfbWFjaGluZSA9IFRydWVcbiAgICBcbiMgLi4uXG5cbmNsYXNzIE15TW9kZWwobW9kZWxzLk1vZGVsKTpcbiAgICBzdGF0ZSA9IFN0YXRlRmllbGQoTXlNYWNoaW5lKVxuYGBgXG5cbmBTdGF0ZUZpZWxkYCBpcyBhIGBDaGFyRmllbGRgIHRoYXQgc3RvcmVzIHRoZSBgc2x1Z2Agb2YgdGhlIGN1cnJlbnQgc3RhdGUgaW4gdGhlIGRhdGFiYXNlIHdoaWxlIGxldHRpbmcgeW91IHVzZSB0aGUgYWN0dWFsIHN0YXRlIGNsYXNzIG9iamVjdHMgaW4gYWxsIHlvdXIgY29kZSwgZS5nOlxuXG5gYGBweXRob25cbm9iaiA9IE15TW9kZWwub2JqZWN0cy5jcmVhdGUoc3RhdGU9TXlTdGF0ZSlcbmFzc2VydCBvYmouc3RhdGUgaXMgTXlTdGF0ZVxub2JqZWN0cyA9IE15TW9kZWwub2JqZWN0cy5maWx0ZXIoc3RhdGU9TXlTdGF0ZSlcbmBgYFxuXG5BbGwga2V5d29yZCBhcmd1bWVudHMgYXJlIHBhc3NlZCBzdHJhaWdodCB0byBgQ2hhckZpZWxkYCwgZXhjZXB0IGZvciBgbWF4X2xlbmd0aGAgYW5kIGBjaG9pY2VzYCB3aGljaCBhcmUgaWdub3JlZCwgc2VlIGJlbG93LlxuXG5gRGphbmdvU3RhdGVgIHdpbGwgYXV0b21hdGljYWxseSBzYXZlIHlvdXIgbW9kZWwgYWZ0ZXIgc3RhdGUgdHJhbnNpdGlvbnMuIFRvIGRpc2FibGUgdGhpcywgc2V0IGBhdXRvX3NhdmUgPSBGYWxzZWAgb24geW91ciBtYWNoaW5lIG9yIHN0YXRlIGNsYXNzZXMuXG5cbmBTdGF0ZUZpZWxkYCB3aWxsIGF1dG9tYXRpY2FsbHkgZGlzY292ZXIgaXRzIG5hbWUgaW4gdGhlIG1vZGVsIGFuZCBzZXQgdGhhdCBgYXR0cl9uYW1lYCBvbiB0aGUgbWFjaGluZSwgc28geW91IGRvbid0IG5lZWQgdG8gc2V0IGl0LiBCdXQgYXMgdXN1YWwsIGJld2FyZSB0aGF0IHlvdSBjYW4ndCB1c2UgZGlmZmVyZW50IGF0dHJpYnV0ZSBuYW1lcyBmb3IgdGhlIHNhbWUgbWFjaGluZS5cblxuQmVjYXVzZSB0aGUgZGF0YWJhc2Ugc3RvcmVzIHNsdWdzIGFuZCB0aGUgc2x1ZyBpcyB0aGUgY2xhc3MgbmFtZSBieSBkZWZhdWx0LCBpZiB5b3UgcmVuYW1lIHlvdXIgY2xhc3NlcyBpbiBjb2RlIGFuZCB5b3Ugd2FudCBleGlzdGluZyBkYXRhIHRvIHJlbWFpbiB2YWxpZCwgeW91IHNob3VsZCBzZXQgdGhlIHNsdWcgdG8gdGhlIG9sZCBjbGFzcyBuYW1lOlxuXG5gYGBweXRob25cbmNsYXNzIE15UmVuYW1lZFN0YXRlKE15TWFjaGluZSk6XG4gICAgc2x1ZyA9IFwiTXlTdGF0ZVwiXG4gICAgLi4uXG5gYGBcblxuU2ltaWxhcmx5IHlvdSBtdXN0bid0IGRlbGV0ZSBhIHN0YXRlIGNsYXNzIGlmIHlvdSBzdG9wIHVzaW5nIGl0IGFzIGxvbmcgYXMgeW91ciBkYXRhYmFzZSBjb250YWlucyBvYmplY3RzIGluIHRoYXQgc3RhdGUsIG9yIHlvdXIgY29kZSB3aWxsIGZhaWwgd2hlbiBpdCB0cmllcyB0byB3b3JrIHdpdGggc3VjaCBhbiBvYmplY3QuXG5cbmBtYXhfbGVuZ3RoYCBpcyBhdXRvbWF0aWNhbGx5IHNldCB0byB0aGUgbWF4aW11bSBsZW5ndGggb2YgYWxsIHRoZSBzbHVncyBpbiB0aGUgbWFjaGluZS4gSWYgeW91IHdhbnQgdG8gc2F2ZSBzcGFjZSBpbiB5b3VyIGRhdGFiYXNlLCBvdmVycmlkZSB0aGUgc2x1Z3MgdG8gc29tZXRoaW5nIHNob3J0ZXIuXG5cbmBjaG9pY2VzYCBpcyBjb25zdHJ1Y3RlZCBmcm9tIHRoZSBgc2x1Z2AgYW5kIGBsYWJlbGAgb2YgZXZlcnkgc3RhdGUuIFRvIGN1c3RvbWlzZSBob3cgc3RhdGVzIGFyZSBkaXNwbGF5ZWQgaW4gZm9ybXMgZXRjLCBvdmVycmlkZSB0aGUgYGxhYmVsYCBhdHRyaWJ1dGUgb24gdGhlIGNsYXNzLiIs
ICAgICJkZXNjcmlwdGlvbl9jb250ZW50X3R5cGUiOiAidGV4dC9tYXJrZG93biIs
ICAgICJkb2NzX3VybCI6IG51bGws
ICAgICJkb3dubG9hZF91cmwiOiAiIiw=
ICAgICJkb3dubG9hZHMiOiB7
ICAgICAgImxhc3RfZGF5IjogLTEs
ICAgICAgImxhc3RfbW9udGgiOiAtMSw=
ICAgICAgImxhc3Rfd2VlayI6IC0x
ICAgIH0s
ICAgICJob21lX3BhZ2UiOiAiaHR0cDovL2dpdGh1Yi5jb20vYWxleG1vamFraS9mcmllbmRseV9zdGF0ZXMiLA==
ICAgICJrZXl3b3JkcyI6ICIiLA==
ICAgICJsaWNlbnNlIjogIk1JVCIs
ICAgICJtYWludGFpbmVyIjogIiIs
ICAgICJtYWludGFpbmVyX2VtYWlsIjogIiIs
ICAgICJuYW1lIjogImZyaWVuZGx5LXN0YXRlcyIs
ICAgICJwYWNrYWdlX3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvZnJpZW5kbHktc3RhdGVzLyIs
ICAgICJwbGF0Zm9ybSI6ICIiLA==
ICAgICJwcm9qZWN0X3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvZnJpZW5kbHktc3RhdGVzLyIs
ICAgICJwcm9qZWN0X3VybHMiOiB7
ICAgICAgIkhvbWVwYWdlIjogImh0dHA6Ly9naXRodWIuY29tL2FsZXhtb2pha2kvZnJpZW5kbHlfc3RhdGVzIg==
ICAgIH0s
ICAgICJyZWxlYXNlX3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvZnJpZW5kbHktc3RhdGVzLzAuMi4wLyIs
ICAgICJyZXF1aXJlc19kaXN0IjogbnVsbCw=
ICAgICJyZXF1aXJlc19weXRob24iOiAiIiw=
ICAgICJzdW1tYXJ5IjogIkRlY2xhcmF0aXZlLCBleHBsaWNpdCwgdG9vbC1mcmllbmRseSBmaW5pdGUgc3RhdGUgbWFjaGluZXMgaW4gUHl0aG9uIiw=
ICAgICJ2ZXJzaW9uIjogIjAuMi4wIiw=
ICAgICJ5YW5rZWQiOiBmYWxzZSw=
ICAgICJ5YW5rZWRfcmVhc29uIjogbnVsbA==
ICB9LA==
ICAibGFzdF9zZXJpYWwiOiA1OTE2MjA4LA==
ICAicmVsZWFzZXMiOiB7
ICAgICIwLjEuMCI6IFs=
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICI4MDE5ZTViZTI2ZDU2ZjYyZWMyODE4OTNkMTEwMzU5NWUyODVhZDliYTI3YTU4OTg0YmMzMjJjYjYxNTUzOTQwIiw=
ICAgICAgICAgICJtZDUiOiAiOWJlZDlkODlhM2NjODIwMDMwZmU3ZGEwZDk0MzA1OTYiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiOGY5N2Y2ZmRhZjc5MGM1NjQzNWQwMzhhOTVjMWExMDcyYmYxODhiZWRjY2Q1ZDc3ZjM1YmY4NzM2NWIwOTYwNiI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiZnJpZW5kbHlfc3RhdGVzLTAuMS4wLnRhci5neiIs
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICI5YmVkOWQ4OWEzY2M4MjAwMzBmZTdkYTBkOTQzMDU5NiIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAic2Rpc3QiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAic291cmNlIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogbnVsbCw=
ICAgICAgICAic2l6ZSI6IDIzNTE1LA==
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAxOS0wOS0yMlQxNjowNjo0OSIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAxOS0wOS0yMlQxNjowNjo0OS4wNzY3NjlaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy84MC8xOS9lNWJlMjZkNTZmNjJlYzI4MTg5M2QxMTAzNTk1ZTI4NWFkOWJhMjdhNTg5ODRiYzMyMmNiNjE1NTM5NDAvZnJpZW5kbHlfc3RhdGVzLTAuMS4wLnRhci5neiIs
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfQ==
ICAgIF0s
ICAgICIwLjEuMSI6IFs=
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICI1NTA4MTgyMTE3OTU3ODdjODgyYTNlYzgwYzM1N2Q0NWYzYjA0Yzc3ZGMyNjdiMjBlYWZhM2MyOTFiODQ4NGQ4Iiw=
ICAgICAgICAgICJtZDUiOiAiN2QzY2Y4NjhkM2IxN2YxNWQ4MGY3MWNjNjA0MTEzZmUiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiZDBhMTYwNzhhZWUwMTM1MDAyZTA1YjkzMTA5YWQxMzAyMzE1MGZhYjhjNTIwY2JiNzk3YjA5YzQyOTcyZDRkNyI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiZnJpZW5kbHlfc3RhdGVzLTAuMS4xLnRhci5neiIs
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICI3ZDNjZjg2OGQzYjE3ZjE1ZDgwZjcxY2M2MDQxMTNmZSIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAic2Rpc3QiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAic291cmNlIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogbnVsbCw=
ICAgICAgICAic2l6ZSI6IDIzNjAwLA==
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAxOS0wOS0yOFQxNzowNjowOCIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAxOS0wOS0yOFQxNzowNjowOC4wMjg0NDlaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy81NS8wOC8xODIxMTc5NTc4N2M4ODJhM2VjODBjMzU3ZDQ1ZjNiMDRjNzdkYzI2N2IyMGVhZmEzYzI5MWI4NDg0ZDgvZnJpZW5kbHlfc3RhdGVzLTAuMS4xLnRhci5neiIs
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfQ==
ICAgIF0s
ICAgICIwLjIuMCI6IFs=
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICJhOWE0NjZhY2NmM2U4MDI0N2MxYmJmOGU5NmZjYWNiMTU5YmYwN2RiM2Q2ZTI4YWY3NWVhNDUwODU3ODZlODFkIiw=
ICAgICAgICAgICJtZDUiOiAiNGNjZGRhMjhkZDBiNTEyZmQ3NGYzNWZjNWU4ODhlZGYiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiOTgxYmU2MWY4MjQ1NWNiZGQ4YTI4MWYyZWEwZDA2OGViY2ViNzYwMDI4MjRmOTg0ZDgxNjM2OTg0NzczMWVkYSI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiZnJpZW5kbHlfc3RhdGVzLTAuMi4wLnRhci5neiIs
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICI0Y2NkZGEyOGRkMGI1MTJmZDc0ZjM1ZmM1ZTg4OGVkZiIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAic2Rpc3QiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAic291cmNlIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogbnVsbCw=
ICAgICAgICAic2l6ZSI6IDI0MDExLA==
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAxOS0xMC0wMlQwNTo0MToxNyIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAxOS0xMC0wMlQwNTo0MToxNy43NDEwNjJaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy9hOS9hNC82NmFjY2YzZTgwMjQ3YzFiYmY4ZTk2ZmNhY2IxNTliZjA3ZGIzZDZlMjhhZjc1ZWE0NTA4NTc4NmU4MWQvZnJpZW5kbHlfc3RhdGVzLTAuMi4wLnRhci5neiIs
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfQ==
ICAgIF0=
ICB9LA==
ICAidXJscyI6IFs=
ICAgIHs=
ICAgICAgImNvbW1lbnRfdGV4dCI6ICIiLA==
ICAgICAgImRpZ2VzdHMiOiB7
ICAgICAgICAiYmxha2UyYl8yNTYiOiAiYTlhNDY2YWNjZjNlODAyNDdjMWJiZjhlOTZmY2FjYjE1OWJmMDdkYjNkNmUyOGFmNzVlYTQ1MDg1Nzg2ZTgxZCIs
ICAgICAgICAibWQ1IjogIjRjY2RkYTI4ZGQwYjUxMmZkNzRmMzVmYzVlODg4ZWRmIiw=
ICAgICAgICAic2hhMjU2IjogIjk4MWJlNjFmODI0NTVjYmRkOGEyODFmMmVhMGQwNjhlYmNlYjc2MDAyODI0Zjk4NGQ4MTYzNjk4NDc3MzFlZGEi
ICAgICAgfSw=
ICAgICAgImRvd25sb2FkcyI6IC0xLA==
ICAgICAgImZpbGVuYW1lIjogImZyaWVuZGx5X3N0YXRlcy0wLjIuMC50YXIuZ3oiLA==
ICAgICAgImhhc19zaWciOiBmYWxzZSw=
ICAgICAgIm1kNV9kaWdlc3QiOiAiNGNjZGRhMjhkZDBiNTEyZmQ3NGYzNWZjNWU4ODhlZGYiLA==
ICAgICAgInBhY2thZ2V0eXBlIjogInNkaXN0Iiw=
ICAgICAgInB5dGhvbl92ZXJzaW9uIjogInNvdXJjZSIs
ICAgICAgInJlcXVpcmVzX3B5dGhvbiI6IG51bGws
ICAgICAgInNpemUiOiAyNDAxMSw=
ICAgICAgInVwbG9hZF90aW1lIjogIjIwMTktMTAtMDJUMDU6NDE6MTciLA==
ICAgICAgInVwbG9hZF90aW1lX2lzb184NjAxIjogIjIwMTktMTAtMDJUMDU6NDE6MTcuNzQxMDYyWiIs
ICAgICAgInVybCI6ICJodHRwczovL2ZpbGVzLnB5dGhvbmhvc3RlZC5vcmcvcGFja2FnZXMvYTkvYTQvNjZhY2NmM2U4MDI0N2MxYmJmOGU5NmZjYWNiMTU5YmYwN2RiM2Q2ZTI4YWY3NWVhNDUwODU3ODZlODFkL2ZyaWVuZGx5X3N0YXRlcy0wLjIuMC50YXIuZ3oiLA==
ICAgICAgInlhbmtlZCI6IGZhbHNlLA==
ICAgICAgInlhbmtlZF9yZWFzb24iOiBudWxs
ICAgIH0=
ICBdLA==
ICAidnVsbmVyYWJpbGl0aWVzIjogW10=
fQ==
