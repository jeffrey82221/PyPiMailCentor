ew==
ICAiaW5mbyI6IHs=
ICAgICJhdXRob3IiOiAiR2FyeSBQb3N0ZXIiLA==
ICAgICJhdXRob3JfZW1haWwiOiAiem9wZS1kZXZAem9wZS5kZXYiLA==
ICAgICJidWd0cmFja191cmwiOiBudWxsLA==
ICAgICJjbGFzc2lmaWVycyI6IFs=
ICAgICAgIkxpY2Vuc2UgOjogT1NJIEFwcHJvdmVkIDo6IFpvcGUgUHVibGljIExpY2Vuc2UiLA==
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAzIiw=
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAzLjEwIiw=
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAzLjExIiw=
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAzLjciLA==
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAzLjgiLA==
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAzLjkiLA==
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiBJbXBsZW1lbnRhdGlvbiA6OiBDUHl0aG9uIg==
ICAgIF0s
ICAgICJkZXNjcmlwdGlvbiI6ICI9PT09PT09PT09PT09PT09XG5SZWxhdGlvbiBDYXRhbG9nXG49PT09PT09PT09PT09PT09XG5cbi4uIGNvbnRlbnRzOjpcblxuT3ZlcnZpZXdcbj09PT09PT09XG5cblRoZSByZWxhdGlvbiBjYXRhbG9nIGNhbiBiZSB1c2VkIHRvIG9wdGltaXplIGludHJhbnNpdGl2ZSBhbmQgdHJhbnNpdGl2ZVxuc2VhcmNoZXMgZm9yIE4tYXJ5IHJlbGF0aW9ucyBvZiBmaW5pdGUsIHByZXNldCBkaW1lbnNpb25zLlxuXG5Gb3IgZXhhbXBsZSwgeW91IGNhbiBpbmRleCBzaW1wbGUgdHdvLXdheSByZWxhdGlvbnMsIGxpa2UgZW1wbG95ZWUgdG9cbnN1cGVydmlzb3I7IFJERi1zdHlsZSB0cmlwbGVzIG9mIHN1YmplY3QtcHJlZGljYXRlLW9iamVjdDsgYW5kIG1vcmUgY29tcGxleFxucmVsYXRpb25zIHN1Y2ggYXMgc3ViamVjdC1wcmVkaWNhdGUtb2JqZWN0IHdpdGggY29udGV4dCBhbmQgc3RhdGUuICBUaGVzZVxuY2FuIGJlIHNlYXJjaGVkIHdpdGggdmFyaWFibGUgZGVmaW5pdGlvbnMgb2YgdHJhbnNpdGl2ZSBiZWhhdmlvci5cblxuVGhlIGNhdGFsb2cgY2FuIGJlIHVzZWQgaW4gdGhlIFpPREIgb3Igc3RhbmRhbG9uZS4gSXQgaXMgYSBnZW5lcmljLCByZWxhdGl2ZWx5XG5wb2xpY3ktZnJlZSB0b29sLlxuXG5JdCBpcyBleHBlY3RlZCB0byBiZSB1c2VkIHVzdWFsbHkgYXMgYW4gZW5naW5lIGZvciBtb3JlIHNwZWNpYWxpemVkIGFuZFxuY29uc3RyYWluZWQgdG9vbHMgYW5kIEFQSXMuIFRocmVlIHN1Y2ggdG9vbHMgYXJlIHpjLnJlbGF0aW9uc2hpcCBjb250YWluZXJzLFxucGxvbmUucmVsYXRpb25zIGNvbnRhaW5lcnMsIGFuZCB6Yy52YXVsdC4gVGhlIGRvY3VtZW50cyBpbiB0aGUgcGFja2FnZSxcbmluY2x1ZGluZyB0aGlzIG9uZSwgZGVzY3JpYmUgb3RoZXIgcG9zc2libGUgdXNlcy5cblxuSGlzdG9yeVxuPT09PT09PVxuXG5UaGlzIGlzIGEgcmVmYWN0b3Jpbmcgb2YgdGhlIFpPREItb25seSBwYXJ0cyBvZiB0aGUgemMucmVsYXRpb25zaGlwIHBhY2thZ2UuXG5TcGVjaWZpY2FsbHksIHRoZSB6Yy5yZWxhdGlvbiBjYXRhbG9nIGlzIGxhcmdlbHkgZXF1aXZhbGVudCB0byB0aGVcbnpjLnJlbGF0aW9uc2hpcCBpbmRleC4gVGhlIGluZGV4IGluIHRoZSB6Yy5yZWxhdGlvbnNoaXAgMi54IGxpbmUgaXMgYW5cbmFsbW9zdC1jb21wbGV0ZWx5IGJhY2t3YXJkcy1jb21wYXRpYmxlIHdyYXBwZXIgb2YgdGhlIHpjLnJlbGF0aW9uIGNhdGFsb2cuXG56Yy5yZWxhdGlvbnNoaXAgd2lsbCBjb250aW51ZSB0byBiZSBtYWludGFpbmVkLCB0aG91Z2ggYWN0aXZlIGRldmVsb3BtZW50IGlzXG5leHBlY3RlZCB0byBnbyBpbnRvIHpjLnJlbGF0aW9uLlxuXG5NYW55IG9mIHRoZSBpZGVhcyBjb21lIGZyb20gZGlzY3Vzc2lvbnMgd2l0aCBhbmQgY29kZSBmcm9tIENhc2V5IER1bmNhbiwgVHJlc1xuU2VhdmVyLCBLZW4gTWFuaGVpbWVyLCBhbmQgbW9yZS5cblxuU2V0dGluZyBVcCBhIFJlbGF0aW9uIENhdGFsb2dcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbkluIHRoaXMgc2VjdGlvbiwgd2Ugd2lsbCBiZSBpbnRyb2R1Y2luZyB0aGUgZm9sbG93aW5nIGlkZWFzLlxuXG4tIFJlbGF0aW9ucyBhcmUgb2JqZWN0cyB3aXRoIGluZGV4ZWQgdmFsdWVzLlxuXG4tIFlvdSBhZGQgdmFsdWUgaW5kZXhlcyB0byByZWxhdGlvbiBjYXRhbG9ncyB0byBiZSBhYmxlIHRvIHNlYXJjaC4gIFZhbHVlc1xuICBjYW4gYmUgaWRlbnRpZmllZCB0byB0aGUgY2F0YWxvZyB3aXRoIGNhbGxhYmxlcyBvciBpbnRlcmZhY2UgZWxlbWVudHMuIFRoZVxuICBpbmRleGVkIHZhbHVlIG11c3QgYmUgc3BlY2lmaWVkIHRvIHRoZSBjYXRhbG9nIGFzIGEgc2luZ2xlIHZhbHVlIG9yIGFcbiAgY29sbGVjdGlvbi5cblxuLSBSZWxhdGlvbnMgYW5kIHRoZWlyIHZhbHVlcyBhcmUgc3RvcmVkIGluIHRoZSBjYXRhbG9nIGFzIHRva2VuczogdW5pcXVlXG4gIGlkZW50aWZpZXJzIHRoYXQgeW91IGNhbiByZXNvbHZlIGJhY2sgdG8gdGhlIG9yaWdpbmFsIHZhbHVlLiBJbnRlZ2VycyBhcmUgdGhlXG4gIG1vc3QgZWZmaWNpZW50IHRva2VucywgYnV0IG90aGVycyBjYW4gd29yayBmaW5lIHRvby5cblxuLSBUb2tlbiB0eXBlIGRldGVybWluZXMgdGhlIEJUcmVlIG1vZHVsZSBuZWVkZWQuXG5cbi0gWW91IG11c3QgZGVmaW5lIHlvdXIgb3duIGZ1bmN0aW9ucyBmb3IgdG9rZW5pemluZyBhbmQgcmVzb2x2aW5nIHRva2Vucy4gVGhlc2VcbiAgZnVuY3Rpb25zIGFyZSByZWdpc3RlcmVkIHdpdGggdGhlIGNhdGFsb2cgZm9yIHRoZSByZWxhdGlvbnMgYW5kIGZvciBlYWNoIG9mXG4gIHRoZWlyIHZhbHVlIGluZGV4ZXMuXG5cbi0gUmVsYXRpb25zIGFyZSBpbmRleGVkIHdpdGggYGBpbmRleGBgLlxuXG5XZSB3aWxsIHVzZSBhIHNpbXBsZSB0d28gd2F5IHJlbGF0aW9uIGFzIG91ciBleGFtcGxlIGhlcmUuIEEgYnJpZWYgaW50cm9kdWN0aW9uXG50byBhIG1vcmUgY29tcGxleCBSREYtc3R5bGUgc3ViamVjdC1wcmVkaWNhdGUtb2JqZWN0IHNldCB1cCBjYW4gYmUgZm91bmQgbGF0ZXJcbmluIHRoZSBkb2N1bWVudC5cblxuQ3JlYXRpbmcgdGhlIENhdGFsb2dcbi0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkltYWdpbmUgYSB0d28gd2F5IHJlbGF0aW9uIGZyb20gb25lIHZhbHVlIHRvIGFub3RoZXIuICBMZXQncyBzYXkgdGhhdCB3ZVxuYXJlIG1vZGVsaW5nIGEgcmVsYXRpb24gb2YgcGVvcGxlIHRvIHRoZWlyIHN1cGVydmlzb3JzOiBhbiBlbXBsb3llZSBtYXlcbmhhdmUgYSBzaW5nbGUgc3VwZXJ2aXNvci4gIEZvciB0aGlzIGZpcnN0IGV4YW1wbGUsIHRoZSByZWxhdGlvbiBiZXR3ZWVuXG5lbXBsb3llZSBhbmQgc3VwZXJ2aXNvciB3aWxsIGJlIGludHJpbnNpYzogdGhlIGVtcGxveWVlIGhhcyBhIHBvaW50ZXIgdG9cbnRoZSBzdXBlcnZpc29yLCBhbmQgdGhlIGVtcGxveWVlIG9iamVjdCBpdHNlbGYgcmVwcmVzZW50cyB0aGUgcmVsYXRpb24uXG5cbkxldCdzIHNheSBmdXJ0aGVyLCBmb3Igc2ltcGxpY2l0eSwgdGhhdCBlbXBsb3llZSBuYW1lcyBhcmUgdW5pcXVlIGFuZFxuY2FuIGJlIHVzZWQgdG8gcmVwcmVzZW50IGVtcGxveWVlcy4gIFdlIGNhbiB1c2UgbmFtZXMgYXMgb3VyIFwidG9rZW5zXCIuXG5cblRva2VucyBhcmUgc2ltaWxhciB0byB0aGUgcHJpbWFyeSBrZXkgaW4gYSByZWxhdGlvbmFsIGRhdGFiYXNlLiBBIHRva2VuIGlzIGFcbndheSB0byBpZGVudGlmeSBhbiBvYmplY3QuIEl0IG11c3Qgc29ydCByZWxpYWJseSBhbmQgeW91IG11c3QgYmUgYWJsZSB0byB3cml0ZVxuYSBjYWxsYWJsZSB0aGF0IHJlbGlhYmx5IHJlc29sdmVzIHRvIHRoZSBvYmplY3QgZ2l2ZW4gdGhlIHJpZ2h0IGNvbnRleHQuIEluXG5ab3BlIDMsIGludGlkcyAoem9wZS5hcHAuaW50aWQpIGFuZCBrZXlyZWZlcmVuY2VzICh6b3BlLmFwcC5rZXlyZWZlcmVuY2UpIGFyZVxuZ29vZCBleGFtcGxlcyBvZiByZWFzb25hYmxlIHRva2Vucy5cblxuQXMgd2UnbGwgc2VlIGJlbG93LCB5b3UgcHJvdmlkZSBhIHdheSB0byBjb252ZXJ0IG9iamVjdHMgdG8gdG9rZW5zLCBhbmQgcmVzb2x2ZVxudG9rZW5zIHRvIG9iamVjdHMsIGZvciB0aGUgcmVsYXRpb25zLCBhbmQgZm9yIGVhY2ggdmFsdWUgaW5kZXggaW5kaXZpZHVhbGx5LlxuVGhleSBjYW4gYmUgdGhlIGFsbCB0aGUgc2FtZSBmdW5jdGlvbnMgb3IgY29tcGxldGVseSBkaWZmZXJlbnQsIGRlcGVuZGluZyBvblxueW91ciBuZWVkcy5cblxuRm9yIHNwZWVkLCBpbnRlZ2VycyBtYWtlIHRoZSBiZXN0IHRva2VuczsgZm9sbG93ZWQgYnkgb3RoZXJcbmltbXV0YWJsZXMgbGlrZSBzdHJpbmdzOyBmb2xsb3dlZCBieSBub24tcGVyc2lzdGVudCBvYmplY3RzOyBmb2xsb3dlZCBieVxucGVyc2lzdGVudCBvYmplY3RzLiAgVGhlIGNob2ljZSBhbHNvIGRldGVybWluZXMgYSBjaG9pY2Ugb2YgQlRyZWUgbW9kdWxlLCBhc1xud2UnbGwgc2VlIGJlbG93LlxuXG5IZXJlIGlzIG91ciB0b3kgYGBFbXBsb3llZWBgIGV4YW1wbGUgY2xhc3MuICBBZ2Fpbiwgd2Ugd2lsbCB1c2UgdGhlIGVtcGxveWVlXG5uYW1lIGFzIHRoZSB0b2tlbnMuXG5cbiAgICA+Pj4gZW1wbG95ZWVzID0ge30gIyB3ZSdsbCB1c2UgdGhpcyB0byByZXNvbHZlIHRoZSBcIm5hbWVcIiB0b2tlbnNcbiAgICA+Pj4gZnJvbSBmdW5jdG9vbHMgaW1wb3J0IHRvdGFsX29yZGVyaW5nXG4gICAgPj4+IEB0b3RhbF9vcmRlcmluZ1xuICAgIC4uLiBjbGFzcyBFbXBsb3llZShvYmplY3QpOlxuICAgIC4uLiAgICAgZGVmIF9faW5pdF9fKHNlbGYsIG5hbWUsIHN1cGVydmlzb3I9Tm9uZSk6XG4gICAgLi4uICAgICAgICAgaWYgbmFtZSBpbiBlbXBsb3llZXM6XG4gICAgLi4uICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ2VtcGxveWVlIHdpdGggc2FtZSBuYW1lIGFscmVhZHkgZXhpc3RzJylcbiAgICAuLi4gICAgICAgICBzZWxmLm5hbWUgPSBuYW1lICMgZXhwZWN0IHRoaXMgdG8gYmUgcmVhZG9ubHlcbiAgICAuLi4gICAgICAgICBzZWxmLnN1cGVydmlzb3IgPSBzdXBlcnZpc29yXG4gICAgLi4uICAgICAgICAgZW1wbG95ZWVzW25hbWVdID0gc2VsZlxuICAgIC4uLiAgICAgIyB0aGUgbmV4dCBwYXJ0cyBqdXN0IG1ha2UgdGhlIHRlc3RzIHByZXR0aWVyXG4gICAgLi4uICAgICBkZWYgX19yZXByX18oc2VsZik6XG4gICAgLi4uICAgICAgICAgcmV0dXJuICc8RW1wbG95ZWUgaW5zdGFuY2UgXCInICsgc2VsZi5uYW1lICsgJ1wiPidcbiAgICAuLi4gICAgIGRlZiBfX2x0X18oc2VsZiwgb3RoZXIpOlxuICAgIC4uLiAgICAgICAgIHJldHVybiBzZWxmLm5hbWUgPCBvdGhlci5uYW1lXG4gICAgLi4uICAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKTpcbiAgICAuLi4gICAgICAgICByZXR1cm4gc2VsZiBpcyBvdGhlclxuICAgIC4uLiAgICAgZGVmIF9faGFzaF9fKHNlbGYpOlxuICAgIC4uLiAgICAgICAgICcnJyBEdW1teSBtZXRob2QgbmVlZGVkIGJlY2F1c2Ugd2UgZGVmaW5lZCBfX2VxX19cbiAgICAuLi4gICAgICAgICAnJydcbiAgICAuLi4gICAgICAgICByZXR1cm4gMVxuICAgIC4uLlxuXG5Tbywgd2UgbmVlZCB0byBkZWZpbmUgaG93IHRvIHR1cm4gZW1wbG95ZWVzIGludG8gdGhlaXIgdG9rZW5zLiAgV2UgY2FsbCB0aGVcbnRva2VuaXphdGlvbiBhIFwiZHVtcFwiIGZ1bmN0aW9uLiBDb252ZXJzZWx5LCB0aGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSB0b2tlbnMgaW50b1xub2JqZWN0cyBpcyBjYWxsZWQgYSBcImxvYWRcIi5cblxuRnVuY3Rpb25zIHRvIGR1bXAgcmVsYXRpb25zIGFuZCB2YWx1ZXMgZ2V0IHNldmVyYWwgYXJndW1lbnRzLiBUaGUgZmlyc3RcbmFyZ3VtZW50IGlzIHRoZSBvYmplY3QgdG8gYmUgdG9rZW5pemVkLiBOZXh0LCBiZWNhdXNlIGl0IGhlbHBzIHNvbWV0aW1lcyB0b1xucHJvdmlkZSBjb250ZXh0LCBpcyB0aGUgY2F0YWxvZy4gVGhlIGxhc3QgYXJndW1lbnQgaXMgYSBkaWN0aW9uYXJ5IHRoYXQgd2lsbCBiZVxuc2hhcmVkIGZvciBhIGdpdmVuIHNlYXJjaC4gVGhlIGRpY3Rpb25hcnkgY2FuIGJlIGlnbm9yZWQsIG9yIHVzZWQgYXMgYSBjYWNoZVxuZm9yIG9wdGltaXphdGlvbnMgKGZvciBpbnN0YW5jZSwgdG8gc3Rhc2ggYSB1dGlsaXR5IHRoYXQgeW91IGxvb2tlZCB1cCkuXG5cbkZvciB0aGlzIGV4YW1wbGUsIG91ciBmdW5jdGlvbiBpcyB0cml2aWFsOiB3ZSBzYWlkIHRoZSB0b2tlbiB3b3VsZCBiZVxudGhlIGVtcGxveWVlJ3MgbmFtZS5cblxuICAgID4+PiBkZWYgZHVtcEVtcGxveWVlcyhlbXAsIGNhdGFsb2csIGNhY2hlKTpcbiAgICAuLi4gICAgIHJldHVybiBlbXAubmFtZVxuICAgIC4uLlxuXG5JZiB5b3Ugc3RvcmUgdGhlIHJlbGF0aW9uIGNhdGFsb2cgcGVyc2lzdGVudGx5IChlLmcuLCBpbiB0aGUgWk9EQikgYmUgYXdhcmVcbnRoYXQgdGhlIGNhbGxhYmxlcyB5b3UgcHJvdmlkZSBtdXN0IGJlIHBpY2tsYWJsZS0tYSBtb2R1bGUtbGV2ZWwgZnVuY3Rpb24sXG5mb3IgaW5zdGFuY2UuXG5cbldlIGFsc28gbmVlZCBhIHdheSB0byB0dXJuIHRva2VucyBpbnRvIGVtcGxveWVlcywgb3IgXCJsb2FkXCIuXG5cblRoZSBcImxvYWRcIiBmdW5jdGlvbnMgZ2V0IHRoZSB0b2tlbiB0byBiZSByZXNvbHZlZDsgdGhlIGNhdGFsb2csIGZvclxuY29udGV4dDsgYW5kIGEgZGljdCBjYWNoZSwgZm9yIG9wdGltaXphdGlvbnMgb2Ygc3Vic2VxdWVudCBjYWxscy5cblxuWW91IG1pZ2h0IGhhdmUgbm90aWNlZCBpbiBvdXIgYGBFbXBsb3llZS5fX2luaXRfX2BgIHRoYXQgd2Uga2VlcCBhIG1hcHBpbmdcbm9mIG5hbWUgdG8gb2JqZWN0IGluIHRoZSBgYGVtcGxveWVlc2BgIGdsb2JhbCBkaWN0IChkZWZpbmVkIHJpZ2h0IGFib3ZlXG50aGUgY2xhc3MgZGVmaW5pdGlvbikuICBXZSdsbCB1c2UgdGhhdCBmb3IgcmVzb2x2aW5nIHRoZSB0b2tlbnMuXG5cbiAgICA+Pj4gZGVmIGxvYWRFbXBsb3llZXModG9rZW4sIGNhdGFsb2csIGNhY2hlKTpcbiAgICAuLi4gICAgIHJldHVybiBlbXBsb3llZXNbdG9rZW5dXG4gICAgLi4uXG5cbk5vdyB3ZSBrbm93IGVub3VnaCB0byBnZXQgc3RhcnRlZCB3aXRoIGEgY2F0YWxvZy4gIFdlJ2xsIGluc3RhbnRpYXRlIGl0XG5ieSBzcGVjaWZ5aW5nIGhvdyB0byB0b2tlbml6ZSByZWxhdGlvbnMsIGFuZCB3aGF0IGtpbmQgb2YgQlRyZWUgbW9kdWxlc1xuc2hvdWxkIGJlIHVzZWQgdG8gaG9sZCB0aGUgdG9rZW5zLlxuXG5Ib3cgZG8geW91IHBpY2sgQlRyZWUgbW9kdWxlcz9cblxuLSBJZiB0aGUgdG9rZW5zIGFyZSAzMi1iaXQgaW50cywgY2hvb3NlIGBgQlRyZWVzLmZhbWlseTMyLklJYGAsXG4gIGBgQlRyZWVzLmZhbWlseTMyLklGYGAgb3IgYGBCVHJlZXMuZmFtaWx5MzIuSU9gYC5cblxuLSBJZiB0aGUgdG9rZW5zIGFyZSA2NCBiaXQgaW50cywgY2hvb3NlIGBgQlRyZWVzLmZhbWlseTY0LklJYGAsXG4gIGBgQlRyZWVzLmZhbWlseTY0LklGYGAgb3IgYGBCVHJlZXMuZmFtaWx5NjQuSU9gYC5cblxuLSBJZiB0aGV5IGFyZSBhbnl0aGluZyBlbHNlLCBjaG9vc2UgYGBCVHJlZXMuZmFtaWx5MzIuT0lgYCxcbiAgYGBCVHJlZXMuZmFtaWx5NjQuT0lgYCwgb3IgYGBCVHJlZXMuZmFtaWx5MzIuT09gYCAob3JcbiAgYGBCVHJlZXMuZmFtaWx5NjQuT09gYC0tdGhleSBhcmUgdGhlIHNhbWUpLlxuXG5XaXRoaW4gdGhlc2UgcnVsZXMsIHRoZSBjaG9pY2UgaXMgc29tZXdoYXQgYXJiaXRyYXJ5IHVubGVzcyB5b3UgcGxhbiB0byBtZXJnZVxudGhlc2UgcmVzdWx0cyB3aXRoIHRoYXQgb2YgYW5vdGhlciBzb3VyY2UgdGhhdCBpcyB1c2luZyBhIHBhcnRpY3VsYXIgQlRyZWVcbm1vZHVsZS4gQlRyZWUgc2V0IG9wZXJhdGlvbnMgb25seSB3b3JrIHdpdGhpbiB0aGUgc2FtZSBtb2R1bGUsIHNvIHlvdSBtdXN0XG5tYXRjaCBtb2R1bGUgdG8gbW9kdWxlLiBUaGUgY2F0YWxvZyBkZWZhdWx0cyB0byBJRiB0cmVlcywgYmVjYXVzZSB0aGF0J3Mgd2hhdFxuc3RhbmRhcmQgem9wZSBjYXRhbG9ncyB1c2UuIFRoYXQncyBhcyByZWFzb25hYmxlIGEgY2hvaWNlIGFzIGFueSwgYW5kIHdpbGxcbnBvdGVudGlhbGx5IGNvbWUgaW4gaGFuZHkgaWYgeW91ciB0b2tlbnMgYXJlIGluIGZhY3QgdGhlIHNhbWUgYXMgdGhvc2UgdXNlZCBieVxudGhlIHpvcGUgY2F0YWxvZyBhbmQgeW91IHdhbnQgdG8gZG8gc29tZSBzZXQgb3BlcmF0aW9ucy5cblxuSW4gdGhpcyBleGFtcGxlLCBvdXIgdG9rZW5zIGFyZSBzdHJpbmdzLCBzbyB3ZSB3YW50IE9PIG9yIGFuIE9JIHZhcmlhbnQuICBXZSdsbFxuY2hvb3NlIEJUcmVlcy5mYW1pbHkzMi5PSSwgYXJiaXRyYXJpbHkuXG5cbiAgICA+Pj4gaW1wb3J0IHpjLnJlbGF0aW9uLmNhdGFsb2dcbiAgICA+Pj4gaW1wb3J0IEJUcmVlc1xuICAgID4+PiBjYXRhbG9nID0gemMucmVsYXRpb24uY2F0YWxvZy5DYXRhbG9nKGR1bXBFbXBsb3llZXMsIGxvYWRFbXBsb3llZXMsXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnRyZWU9QlRyZWVzLmZhbWlseTMyLk9JKVxuXG5bI3ZlcmlmeU9iamVjdElDYXRhbG9nXV9cblxuLi4gWyN2ZXJpZnlPYmplY3RJQ2F0YWxvZ10gVGhlIGNhdGFsb2cgcHJvdmlkZXMgSUNhdGFsb2cuXG5cbiAgICA+Pj4gZnJvbSB6b3BlLmludGVyZmFjZS52ZXJpZnkgaW1wb3J0IHZlcmlmeU9iamVjdFxuICAgID4+PiBpbXBvcnQgemMucmVsYXRpb24uaW50ZXJmYWNlc1xuICAgID4+PiB2ZXJpZnlPYmplY3QoemMucmVsYXRpb24uaW50ZXJmYWNlcy5JQ2F0YWxvZywgY2F0YWxvZylcbiAgICBUcnVlXG5cblsjbGVnYWN5XV9cblxuXG4uLiBbI2xlZ2FjeV0gT2xkIGluc3RhbmNlcyBvZiB6Yy5yZWxhdGlvbnNoaXAgaW5kZXhlcywgd2hpY2ggaW4gdGhlIG5ld2VzdFxuICAgIHZlcnNpb24gc3ViY2xhc3MgYSB6Yy5yZWxhdGlvbiBDYXRhbG9nLCB1c2VkIHRvIGhhdmUgYSBkaWN0IGluIGFuXG4gICAgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmUuICBXZSBzcGVjaWZ5IHRoYXQgaGVyZSBzbyB0aGF0IHRoZSBjb2RlIHRoYXRcbiAgICBjb252ZXJ0cyB0aGUgZGljdCB0byBhbiBPT0JUcmVlIGNhbiBoYXZlIGEgY2hhbmNlIHRvIHJ1bi5cblxuICAgID4+PiBjYXRhbG9nLl9hdHRycyA9IGRpY3QoY2F0YWxvZy5fYXR0cnMpXG5cbkxvb2shIEEgcmVsYXRpb24gY2F0YWxvZyEgV2UgY2FuJ3QgZG8gdmVyeVxubXVjaCBzZWFyY2hpbmcgd2l0aCBpdCBzbyBmYXIgdGhvdWdoLCBiZWNhdXNlIHRoZSBjYXRhbG9nIGRvZXNuJ3QgaGF2ZSBhbnlcbmluZGV4ZXMuXG5cbkluIHRoaXMgZXhhbXBsZSwgdGhlIHJlbGF0aW9uIGl0c2VsZiByZXByZXNlbnRzIHRoZSBlbXBsb3llZSwgc28gd2Ugd29uJ3QgbmVlZFxudG8gaW5kZXggdGhhdCBzZXBhcmF0ZWx5LlxuXG5CdXQgd2UgZG8gbmVlZCBhIHdheSB0byB0ZWxsIHRoZSBjYXRhbG9nIGhvdyB0byBmaW5kIHRoZSBvdGhlciBlbmQgb2YgdGhlXG5yZWxhdGlvbiwgdGhlIHN1cGVydmlzb3IuIFlvdSBjYW4gc3BlY2lmeSB0aGlzIHRvIHRoZSBjYXRhbG9nIHdpdGggYW4gYXR0cmlidXRlXG5vciBtZXRob2Qgc3BlY2lmaWVkIGZyb20gYGB6b3BlLmludGVyZmFjZSBJbnRlcmZhY2VgYCwgb3Igd2l0aCBhIGNhbGxhYmxlLlxuV2UnbGwgdXNlIGEgY2FsbGFibGUgZm9yIG5vdy4gVGhlIGNhbGxhYmxlIHdpbGwgcmVjZWl2ZSB0aGUgaW5kZXhlZCByZWxhdGlvblxuYW5kIHRoZSBjYXRhbG9nIGZvciBjb250ZXh0LlxuXG4gICAgPj4+IGRlZiBzdXBlcnZpc29yKGVtcCwgY2F0YWxvZyk6XG4gICAgLi4uICAgICByZXR1cm4gZW1wLnN1cGVydmlzb3IgIyBOb25lIG9yIGFub3RoZXIgZW1wbG95ZWVcbiAgICAuLi5cblxuV2UnbGwgYWxzbyBuZWVkIHRvIHNwZWNpZnkgaG93IHRvIHRva2VuaXplIChkdW1wIGFuZCBsb2FkKSB0aG9zZSB2YWx1ZXMuIEluXG50aGlzIGNhc2UsIHdlJ3JlIGFibGUgdG8gdXNlIHRoZSBzYW1lIGZ1bmN0aW9ucyBhcyB0aGUgcmVsYXRpb25zIHRoZW1zZWx2ZXMuXG5Ib3dldmVyLCBkbyBub3RlIHRoYXQgd2UgY2FuIHNwZWNpZnkgYSBjb21wbGV0ZWx5IGRpZmZlcmVudCB3YXkgdG8gZHVtcCBhbmRcbmxvYWQgZm9yIGVhY2ggXCJ2YWx1ZSBpbmRleCxcIiBvciByZWxhdGlvbiBlbGVtZW50LlxuXG5XZSBjb3VsZCBhbHNvIHNwZWNpZnkgdGhlIG5hbWUgdG8gY2FsbCB0aGUgaW5kZXgsIGJ1dCBpdCB3aWxsIGRlZmF1bHQgdG8gdGhlXG5gYF9fbmFtZV9fYGAgb2YgdGhlIGZ1bmN0aW9uIChvciBpbnRlcmZhY2UgZWxlbWVudCksIHdoaWNoIHdpbGwgd29yayBqdXN0IGZpbmVcbmZvciB1cyBub3cuXG5cbk5vdyB3ZSBjYW4gYWRkIHRoZSBcInN1cGVydmlzb3JcIiB2YWx1ZSBpbmRleC5cblxuICAgID4+PiBjYXRhbG9nLmFkZFZhbHVlSW5kZXgoc3VwZXJ2aXNvciwgZHVtcEVtcGxveWVlcywgbG9hZEVtcGxveWVlcyxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgIGJ0cmVlPUJUcmVlcy5mYW1pbHkzMi5PSSlcblxuTm93IHdlIGhhdmUgYW4gaW5kZXggWyNhZGRWYWx1ZUluZGV4RXhjZXB0aW9uc11fLlxuXG4uLiBbI2FkZFZhbHVlSW5kZXhFeGNlcHRpb25zXSBBZGRpbmcgYSB2YWx1ZSBpbmRleCBjYW4gZ2VuZXJhdGUgc2V2ZXJhbFxuICAgIGV4Y2VwdGlvbnMuXG5cbiAgICBZb3UgbXVzdCBzdXBwbHkgYm90aCBvZiBkdW1wIGFuZCBsb2FkIG9yIG5laXRoZXIuXG5cbiAgICA+Pj4gY2F0YWxvZy5hZGRWYWx1ZUluZGV4KHN1cGVydmlzb3IsIGR1bXBFbXBsb3llZXMsIE5vbmUsXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICAgICBidHJlZT1CVHJlZXMuZmFtaWx5MzIuT0ksIG5hbWU9J3N1cGVydmlzb3IyJylcbiAgICBUcmFjZWJhY2sgKG1vc3QgcmVjZW50IGNhbGwgbGFzdCk6XG4gICAgLi4uXG4gICAgVmFsdWVFcnJvcjogZWl0aGVyIGJvdGggb2YgJ2R1bXAnIGFuZCAnbG9hZCcgbXVzdCBiZSBOb25lLCBvciBuZWl0aGVyXG5cbiAgICBJbiB0aGlzIGV4YW1wbGUsIGV2ZW4gaWYgd2UgZml4IGl0LCB3ZSdsbCBnZXQgYW4gZXJyb3IsIGJlY2F1c2Ugd2UgaGF2ZVxuICAgIGFscmVhZHkgaW5kZXhlZCB0aGUgc3VwZXJ2aXNvciBmdW5jdGlvbi5cblxuICAgID4+PiBjYXRhbG9nLmFkZFZhbHVlSW5kZXgoc3VwZXJ2aXNvciwgZHVtcEVtcGxveWVlcywgbG9hZEVtcGxveWVlcyxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgIGJ0cmVlPUJUcmVlcy5mYW1pbHkzMi5PSSwgbmFtZT0nc3VwZXJ2aXNvcjInKVxuICAgIC4uLiAjIGRvY3Rlc3Q6ICtFTExJUFNJU1xuICAgIFRyYWNlYmFjayAobW9zdCByZWNlbnQgY2FsbCBsYXN0KTpcbiAgICAuLi5cbiAgICBWYWx1ZUVycm9yOiAoJ2VsZW1lbnQgYWxyZWFkeSBpbmRleGVkJywgPGZ1bmN0aW9uIHN1cGVydmlzb3IgYXQgLi4uPilcblxuICAgIFlvdSBhbHNvIGNhbid0IGFkZCBhIGRpZmZlcmVudCBmdW5jdGlvbiB1bmRlciB0aGUgc2FtZSBuYW1lLlxuXG4gICAgPj4+IGRlZiBzdXBlcnZpc29yMihlbXAsIGNhdGFsb2cpOlxuICAgIC4uLiAgICAgcmV0dXJuIGVtcC5zdXBlcnZpc29yICMgTm9uZSBvciBhbm90aGVyIGVtcGxveWVlXG4gICAgLi4uXG4gICAgPj4+IGNhdGFsb2cuYWRkVmFsdWVJbmRleChzdXBlcnZpc29yMiwgZHVtcEVtcGxveWVlcywgbG9hZEVtcGxveWVlcyxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgIGJ0cmVlPUJUcmVlcy5mYW1pbHkzMi5PSSwgbmFtZT0nc3VwZXJ2aXNvcicpXG4gICAgLi4uICMgZG9jdGVzdDogK0VMTElQU0lTXG4gICAgVHJhY2ViYWNrIChtb3N0IHJlY2VudCBjYWxsIGxhc3QpOlxuICAgIC4uLlxuICAgIFZhbHVlRXJyb3I6ICgnbmFtZSBhbHJlYWR5IHVzZWQnLCAnc3VwZXJ2aXNvcicpXG5cbiAgICBGaW5hbGx5LCBpZiB5b3VyIGZ1bmN0aW9uIGRvZXMgbm90IGhhdmUgYSBgYF9fbmFtZV9fYGAgYW5kIHlvdSBkbyBub3RcbiAgICBwcm92aWRlIG9uZSwgeW91IG1heSBub3QgYWRkIGFuIGluZGV4LlxuXG4gICAgPj4+IGNsYXNzIFN1cGVydmlzb3IzKG9iamVjdCk6XG4gICAgLi4uICAgICBfX25hbWVfXyA9IE5vbmVcbiAgICAuLi4gICAgIGRlZiBfX2NhbGxfXyhrbGFzcywgZW1wLCBjYXRhbG9nKTpcbiAgICAuLi4gICAgICAgICByZXR1cm4gZW1wLnN1cGVydmlzb3JcbiAgICAuLi5cbiAgICA+Pj4gc3VwZXJ2aXNvcjMgPSBTdXBlcnZpc29yMygpXG4gICAgPj4+IHN1cGVydmlzb3IzLl9fbmFtZV9fXG4gICAgPj4+IGNhdGFsb2cuYWRkVmFsdWVJbmRleChzdXBlcnZpc29yMywgZHVtcEVtcGxveWVlcywgbG9hZEVtcGxveWVlcyxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgIGJ0cmVlPUJUcmVlcy5mYW1pbHkzMi5PSSlcbiAgICAuLi4gIyBkb2N0ZXN0OiArRUxMSVBTSVNcbiAgICBUcmFjZWJhY2sgKG1vc3QgcmVjZW50IGNhbGwgbGFzdCk6XG4gICAgLi4uXG4gICAgVmFsdWVFcnJvcjogbm8gbmFtZSBzcGVjaWZpZWRcblxuICAgID4+PiBbaW5mb1snbmFtZSddIGZvciBpbmZvIGluIGNhdGFsb2cuaXRlclZhbHVlSW5kZXhJbmZvKCldXG4gICAgWydzdXBlcnZpc29yJ11cblxuQWRkaW5nIFJlbGF0aW9uc1xuLS0tLS0tLS0tLS0tLS0tLVxuXG5Ob3cgbGV0J3MgY3JlYXRlIGEgZmV3IGVtcGxveWVlcy4gIEFsbCBidXQgb25lIHdpbGwgaGF2ZSBzdXBlcnZpc29ycy5cbklmIHlvdSByZWNhbGwgb3VyIHRveSBgYEVtcGxveWVlYGAgY2xhc3MsIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbmNvbnN0cnVjdG9yIGlzIHRoZSBlbXBsb3llZSBuYW1lIChhbmQgdGhlcmVmb3JlIHRoZSB0b2tlbiksIGFuZCB0aGVcbm9wdGlvbmFsIHNlY29uZCBhcmd1bWVudCBpcyB0aGUgc3VwZXJ2aXNvci5cblxuICAgID4+PiBhID0gRW1wbG95ZWUoJ0FsaWNlJylcbiAgICA+Pj4gYiA9IEVtcGxveWVlKCdCZXR0eScsIGEpXG4gICAgPj4+IGMgPSBFbXBsb3llZSgnQ2h1Y2snLCBhKVxuICAgID4+PiBkID0gRW1wbG95ZWUoJ0RpYW5lJywgYilcbiAgICA+Pj4gZSA9IEVtcGxveWVlKCdFZGdhcicsIGIpXG4gICAgPj4+IGYgPSBFbXBsb3llZSgnRnJhbmsnLCBjKVxuICAgID4+PiBnID0gRW1wbG95ZWUoJ0dhbHluJywgYylcbiAgICA+Pj4gaCA9IEVtcGxveWVlKCdIb3dpZScsIGQpXG5cbkhlcmUgaXMgYSBkaWFncmFtIG9mIHRoZSBoaWVyYXJjaHkuXG5cbjo6XG5cbiAgICAgICAgICAgICAgICBBbGljZVxuICAgICAgICAgICAgIF9fLyAgICAgXFxfX1xuICAgICAgICBCZXR0eSAgICAgICAgICAgQ2h1Y2tcbiAgICAgICAgLyAgIFxcICAgICAgICAgICAvICAgXFxcbiAgICBEaWFuZSAgIEVkZ2FyICAgRnJhbmsgICBHYWx5blxuICAgICAgfFxuICAgIEhvd2llXG5cbkxldCdzIHRlbGwgdGhlIGNhdGFsb2cgYWJvdXQgdGhlIHJlbGF0aW9ucywgdXNpbmcgdGhlIGBgaW5kZXhgYCBtZXRob2QuXG5cbiAgICA+Pj4gZm9yIGVtcCBpbiAoYSxiLGMsZCxlLGYsZyxoKTpcbiAgICAuLi4gICAgIGNhdGFsb2cuaW5kZXgoZW1wKVxuICAgIC4uLlxuXG5XZSd2ZSBub3cgY3JlYXRlZCB0aGUgcmVsYXRpb24gY2F0YWxvZyBhbmQgYWRkZWQgcmVsYXRpb25zIHRvIGl0LiBXZSdyZSByZWFkeVxudG8gc2VhcmNoIVxuXG5TZWFyY2hpbmdcbj09PT09PT09PVxuXG5JbiB0aGlzIHNlY3Rpb24sIHdlIHdpbGwgaW50cm9kdWNlIHRoZSBmb2xsb3dpbmcgaWRlYXMuXG5cbi0gUXVlcmllcyB0byB0aGUgcmVsYXRpb24gY2F0YWxvZyBhcmUgZm9ybWVkIHdpdGggZGljdHMuXG5cbi0gUXVlcnkga2V5cyBhcmUgdGhlIG5hbWVzIG9mIHRoZSBpbmRleGVzIHlvdSB3YW50IHRvIHNlYXJjaCwgb3IsIGZvciB0aGVcbiAgc3BlY2lhbCBjYXNlIG9mIHByZWNpc2UgcmVsYXRpb25zLCB0aGUgYGB6Yy5yZWxhdGlvbi5SRUxBVElPTmBgIGNvbnN0YW50LlxuXG4tIFF1ZXJ5IHZhbHVlcyBhcmUgdGhlIHRva2VucyBvZiB0aGUgcmVzdWx0cyB5b3Ugd2FudCB0byBtYXRjaDsgb3IgYGBOb25lYGAsXG4gIGluZGljYXRpbmcgcmVsYXRpb25zIHRoYXQgaGF2ZSBgYE5vbmVgYCBhcyBhIHZhbHVlIChvciBhbiBlbXB0eSBjb2xsZWN0aW9uLFxuICBpZiBpdCBpcyBhIG11bHRpcGxlKS4gU2VhcmNoIHZhbHVlcyBjYW4gdXNlXG4gIGBgemMucmVsYXRpb24uY2F0YWxvZy5hbnkoYXJncylgYCBvciBgYHpjLnJlbGF0aW9uLmNhdGFsb2cuQW55KGFyZ3MpYGAgdG9cbiAgc3BlY2lmeSBtdWx0aXBsZSAobm9uLWBgTm9uZWBgKSByZXN1bHRzIHRvIG1hdGNoIGZvciBhIGdpdmVuIGtleS5cblxuLSBUaGUgaW5kZXggaGFzIGEgdmFyaWV0eSBvZiBtZXRob2RzIHRvIGhlbHAgeW91IHdvcmsgd2l0aCB0b2tlbnMuXG4gIGBgdG9rZW5pemVRdWVyeWBgIGlzIHR5cGljYWxseSB0aGUgbW9zdCB1c2VkLCB0aG91Z2ggb3RoZXJzIGFyZSBhdmFpbGFibGUuXG5cbi0gVG8gZmluZCByZWxhdGlvbnMgdGhhdCBtYXRjaCBhIHF1ZXJ5LCB1c2UgYGBmaW5kUmVsYXRpb25zYGAgb3JcbiAgYGBmaW5kUmVsYXRpb25Ub2tlbnNgYC5cblxuLSBUbyBmaW5kIHZhbHVlcyB0aGF0IG1hdGNoIGEgcXVlcnksIHVzZSBgYGZpbmRWYWx1ZXNgYCBvciBgYGZpbmRWYWx1ZVRva2Vuc2BgLlxuXG4tIFlvdSBzZWFyY2ggdHJhbnNpdGl2ZWx5IGJ5IHVzaW5nIGEgcXVlcnkgZmFjdG9yeS4gVGhlXG4gIGBgemMucmVsYXRpb24ucXVlcnlmYWN0b3J5LlRyYW5zcG9zaW5nVHJhbnNpdGl2ZWBgIGlzIGEgZ29vZCBjb21tb24gY2FzZVxuICBmYWN0b3J5IHRoYXQgbGV0cyB5b3Ugd2FsayB1cCBhbmQgZG93biBhIGhpZXJhcmNoeS4gQSBxdWVyeSBmYWN0b3J5IGNhbiBiZVxuICBwYXNzZWQgaW4gYXMgYW4gYXJndW1lbnQgdG8gc2VhcmNoIG1ldGhvZHMgYXMgYSBgYHF1ZXJ5RmFjdG9yeWBgLCBvclxuICBpbnN0YWxsZWQgYXMgYSBkZWZhdWx0IGJlaGF2aW9yIHVzaW5nIGBgYWRkRGVmYXVsdFF1ZXJ5RmFjdG9yeWBgLlxuXG4tIFRvIGZpbmQgaG93IGEgcXVlcnkgaXMgcmVsYXRlZCwgdXNlIGBgZmluZFJlbGF0aW9uQ2hhaW5zYGAgb3JcbiAgYGBmaW5kUmVsYXRpb25Ub2tlbkNoYWluc2BgLlxuXG4tIFRvIGZpbmQgb3V0IGlmIGEgcXVlcnkgaXMgcmVsYXRlZCwgdXNlIGBgY2FuRmluZGBgLlxuXG4tIENpcmN1bGFyIHRyYW5zaXRpdmUgcmVsYXRpb25zIGFyZSBoYW5kbGVkIHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcHMuIFRoZXlcbiAgYXJlIGlkZW50aWZpZWQgaW4gYGBmaW5kUmVsYXRpb25DaGFpbnNgYCBhbmQgYGBmaW5kUmVsYXRpb25Ub2tlbkNoYWluc2BgIHdpdGhcbiAgYSBgYHpjLnJlbGF0aW9uLmludGVyZmFjZXMuSUNpcmN1bGFyUmVsYXRpb25QYXRoYGAgbWFya2VyIGludGVyZmFjZS5cblxuLSBzZWFyY2ggbWV0aG9kcyBzaGFyZSB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcblxuICAqIGBgbWF4RGVwdGhgYCwgbGltaXRpbmcgdGhlIHRyYW5zaXRpdmUgZGVwdGggZm9yIHNlYXJjaGVzO1xuXG4gICogYGBmaWx0ZXJgYCwgYWxsb3dpbmcgY29kZSB0byBmaWx0ZXIgdHJhbnNpdGl2ZSBwYXRocztcblxuICAqIGBgdGFyZ2V0UXVlcnlgYCwgYWxsb3dpbmcgYSBxdWVyeSB0byBmaWx0ZXIgdHJhbnNpdGl2ZSBwYXRocyBvbiB0aGUgYmFzaXNcbiAgICBvZiB0aGUgZW5kcG9pbnQ7XG5cbiAgKiBgYHRhcmdldEZpbHRlcmBgLCBhbGxvd2luZyBjb2RlIHRvIGZpbHRlciB0cmFuc2l0aXZlIHBhdGhzIG9uIHRoZSBiYXNpcyBvZlxuICAgIHRoZSBlbmRwb2ludDsgYW5kXG5cbiAgKiBgYHF1ZXJ5RmFjdG9yeWBgLCBtZW50aW9uZWQgYWJvdmUuXG5cbi0gWW91IGNhbiBzZXQgdXAgc2VhcmNoIGluZGV4ZXMgdG8gc3BlZWQgdXAgc3BlY2lmaWMgdHJhbnNpdGl2ZSBzZWFyY2hlcy5cblxuUXVlcmllcywgYGBmaW5kUmVsYXRpb25zYGAsIGFuZCBzcGVjaWFsIHF1ZXJ5IHZhbHVlc1xuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5TbyB3aG8gd29ya3MgZm9yIEFsaWNlPyAgVGhhdCBtZWFucyB3ZSB3YW50IHRvIGdldCB0aGUgcmVsYXRpb25zLS10aGVcbmVtcGxveWVlcy0td2l0aCBhIGBgc3VwZXJ2aXNvcmBgIG9mIEFsaWNlLlxuXG5UaGUgaGVhcnQgb2YgYSBxdWVzdGlvbiB0byB0aGUgY2F0YWxvZyBpcyBhIHF1ZXJ5LiAgQSBxdWVyeSBpcyBzcGVsbGVkXG5hcyBhIGRpY3Rpb25hcnkuICBUaGUgbWFpbiBpZGVhIGlzIHNpbXBseSB0aGF0IGtleXMgaW4gYSBkaWN0aW9uYXJ5XG5zcGVjaWZ5IGluZGV4IG5hbWVzLCBhbmQgdGhlIHZhbHVlcyBzcGVjaWZ5IHRoZSBjb25zdHJhaW50cy5cblxuVGhlIHZhbHVlcyBpbiBhIHF1ZXJ5IGFyZSBhbHdheXMgZXhwcmVzc2VkIHdpdGggdG9rZW5zLiAgVGhlIGNhdGFsb2cgaGFzXG5zZXZlcmFsIGhlbHBlcnMgdG8gbWFrZSB0aGlzIGxlc3Mgb25lcm91cywgYnV0IGZvciBub3cgbGV0J3MgdGFrZVxuYWR2YW50YWdlIG9mIHRoZSBmYWN0IHRoYXQgb3VyIHRva2VucyBhcmUgZWFzaWx5IGNvbXByZWhlbnNpYmxlLlxuXG4gICAgPj4+IHNvcnRlZChjYXRhbG9nLmZpbmRSZWxhdGlvbnMoeydzdXBlcnZpc29yJzogJ0FsaWNlJ30pKVxuICAgIFs8RW1wbG95ZWUgaW5zdGFuY2UgXCJCZXR0eVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiQ2h1Y2tcIj5dXG5cbkFsaWNlIGlzIHRoZSBkaXJlY3QgKGludHJhbnNpdGl2ZSkgYm9zcyBvZiBCZXR0eSBhbmQgQ2h1Y2suXG5cbldoYXQgaWYgeW91IHdhbnQgdG8gYXNrIFwid2hvIGRvZXNuJ3QgcmVwb3J0IHRvIGFueW9uZT9cIiAgVGhlbiB5b3Ugd2FudCB0b1xuYXNrIGZvciBhIHJlbGF0aW9uIGluIHdoaWNoIHRoZSBzdXBlcnZpc29yIGlzIE5vbmUuXG5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRSZWxhdGlvbnMoeydzdXBlcnZpc29yJzogTm9uZX0pKVxuICAgIFs8RW1wbG95ZWUgaW5zdGFuY2UgXCJBbGljZVwiPl1cblxuQWxpY2UgaXMgdGhlIG9ubHkgZW1wbG95ZWUgd2hvIGRvZXNuJ3QgcmVwb3J0IHRvIGFueW9uZS5cblxuV2hhdCBpZiB5b3Ugd2FudCB0byBhc2sgXCJ3aG8gcmVwb3J0cyB0byBEaWFuZSBvciBDaHVjaz9cIiAgVGhlbiB5b3UgdXNlIHRoZVxuemMucmVsYXRpb24gYGBBbnlgYCBjbGFzcyBvciBgYGFueWBgIGZ1bmN0aW9uIHRvIHBhc3MgdGhlIG11bHRpcGxlIHZhbHVlcy5cblxuICAgID4+PiBzb3J0ZWQoY2F0YWxvZy5maW5kUmVsYXRpb25zKFxuICAgIC4uLiAgICAgeydzdXBlcnZpc29yJzogemMucmVsYXRpb24uY2F0YWxvZy5hbnkoJ0RpYW5lJywgJ0NodWNrJyl9KSlcbiAgICAuLi4gIyBkb2N0ZXN0OiArTk9STUFMSVpFX1dISVRFU1BBQ0VcbiAgICBbPEVtcGxveWVlIGluc3RhbmNlIFwiRnJhbmtcIj4sIDxFbXBsb3llZSBpbnN0YW5jZSBcIkdhbHluXCI+LFxuICAgICA8RW1wbG95ZWUgaW5zdGFuY2UgXCJIb3dpZVwiPl1cblxuRnJhbmssIEdhbHluLCBhbmQgSG93aWUgZWFjaCByZXBvcnQgdG8gZWl0aGVyIERpYW5lIG9yIENodWNrLiBbI2FueV1fXG5cbi4uIFsjYW55XSBgYEFueWBgIGNhbiBiZSBjb21wYXJlZC5cblxuICAgID4+PiB6Yy5yZWxhdGlvbi5jYXRhbG9nLmFueSgnZm9vJywgJ2JhcicsICdiYXonKVxuICAgIDx6Yy5yZWxhdGlvbi5jYXRhbG9nLkFueSBpbnN0YW5jZSAoJ2JhcicsICdiYXonLCAnZm9vJyk+XG4gICAgPj4+ICh6Yy5yZWxhdGlvbi5jYXRhbG9nLmFueSgnZm9vJywgJ2JhcicsICdiYXonKSA9PVxuICAgIC4uLiAgemMucmVsYXRpb24uY2F0YWxvZy5hbnkoJ2JhcicsICdmb28nLCAnYmF6JykpXG4gICAgVHJ1ZVxuICAgID4+PiAoemMucmVsYXRpb24uY2F0YWxvZy5hbnkoJ2ZvbycsICdiYXInLCAnYmF6JykgIT1cbiAgICAuLi4gIHpjLnJlbGF0aW9uLmNhdGFsb2cuYW55KCdiYXInLCAnZm9vJywgJ2JheicpKVxuICAgIEZhbHNlXG4gICAgPj4+ICh6Yy5yZWxhdGlvbi5jYXRhbG9nLmFueSgnZm9vJywgJ2JhcicsICdiYXonKSA9PVxuICAgIC4uLiAgemMucmVsYXRpb24uY2F0YWxvZy5hbnkoJ2ZvbycsICdiYXonKSlcbiAgICBGYWxzZVxuICAgID4+PiAoemMucmVsYXRpb24uY2F0YWxvZy5hbnkoJ2ZvbycsICdiYXInLCAnYmF6JykgIT1cbiAgICAuLi4gIHpjLnJlbGF0aW9uLmNhdGFsb2cuYW55KCdmb28nLCAnYmF6JykpXG4gICAgVHJ1ZVxuXG5cblxuYGBmaW5kVmFsdWVzYGAgYW5kIHRoZSBgYFJFTEFUSU9OYGAgcXVlcnkga2V5XG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuU28gaG93IGRvIHdlIGZpbmQgd2hvIGFuIGVtcGxveWVlJ3Mgc3VwZXJ2aXNvciBpcz8gIFdlbGwsIGluIHRoaXMgY2FzZSxcbmxvb2sgYXQgdGhlIGF0dHJpYnV0ZSBvbiB0aGUgZW1wbG95ZWUhICBJZiB5b3UgY2FuIHVzZSBhbiBhdHRyaWJ1dGUgdGhhdFxud2lsbCB1c3VhbGx5IGJlIGEgd2luIGluIHRoZSBaT0RCLlxuXG4gICAgPj4+IGguc3VwZXJ2aXNvclxuICAgIDxFbXBsb3llZSBpbnN0YW5jZSBcIkRpYW5lXCI+XG5cbkFnYWluLCBhcyB3ZSBtZW50aW9uZWQgYXQgdGhlIHN0YXJ0IG9mIHRoaXMgZmlyc3QgZXhhbXBsZSwgdGhlIGtub3dsZWRnZVxub2YgYSBzdXBlcnZpc29yIGlzIFwiaW50cmluc2ljXCIgdG8gdGhlIGVtcGxveWVlIGluc3RhbmNlLiAgSXQgaXNcbnBvc3NpYmxlLCBhbmQgZXZlbiBlYXN5LCB0byBhc2sgdGhlIGNhdGFsb2cgdGhpcyBraW5kIG9mIHF1ZXN0aW9uLCBidXRcbnRoZSBjYXRhbG9nIHN5bnRheCBpcyBtb3JlIGdlYXJlZCB0byBcImV4dHJpbnNpY1wiIHJlbGF0aW9ucywgc3VjaCBhcyB0aGVcbm9uZSBmcm9tIHRoZSBzdXBlcnZpc29yIHRvIHRoZSBlbXBsb3llZTogdGhlIGNvbm5lY3Rpb24gYmV0d2VlbiBhXG5zdXBlcnZpc29yIG9iamVjdCBhbmQgaXRzIGVtcGxveWVlcyBpcyBleHRyaW5zaWMgdG8gdGhlIHN1cGVydmlzb3IsIHNvXG55b3UgYWN0dWFsbHkgbWlnaHQgd2FudCBhIGNhdGFsb2cgdG8gZmluZCBpdCFcblxuSG93ZXZlciwgd2Ugd2lsbCBleHBsb3JlIHRoZSBzeW50YXggdmVyeSBicmllZmx5LCBiZWNhdXNlIGl0IGludHJvZHVjZXMgYW5cbmltcG9ydGFudCBwYWlyIG9mIHNlYXJjaCBtZXRob2RzLCBhbmQgYmVjYXVzZSBpdCBpcyBhIHN0ZXBwaW5nIHN0b25lXG50byBvdXIgZmlyc3QgdHJhbnNpdGl2ZSBzZWFyY2guXG5cblNvLCBvIHJlbGF0aW9uIGNhdGFsb2csIHdobyBpcyBIb3dpZSdzIHN1cGVydmlzb3I/XG5cblRvIGFzayB0aGlzIHF1ZXN0aW9uIHdlIHdhbnQgdG8gZ2V0IHRoZSBpbmRleGVkIHZhbHVlcyBvZmYgb2YgdGhlIHJlbGF0aW9uczpcbmBgZmluZFZhbHVlc2BgLiBJbiBpdHMgc2ltcGxlc3QgZm9ybSwgdGhlIGFyZ3VtZW50cyBhcmUgdGhlIGluZGV4IG5hbWUgb2YgdGhlXG52YWx1ZXMgeW91IHdhbnQsIGFuZCBhIHF1ZXJ5IHRvIGZpbmQgdGhlIHJlbGF0aW9ucyB0aGF0IGhhdmUgdGhlIGRlc2lyZWRcbnZhbHVlcy5cblxuV2hhdCBhYm91dCB0aGUgcXVlcnk/IEFib3ZlLCB3ZSBub3RlZCB0aGF0IHRoZSBrZXlzIGluIGEgcXVlcnkgYXJlIHRoZSBuYW1lcyBvZlxudGhlIGluZGV4ZXMgdG8gc2VhcmNoLiBIb3dldmVyLCBpbiB0aGlzIGNhc2UsIHdlIGRvbid0IHdhbnQgdG8gc2VhcmNoIG9uZSBvclxubW9yZSBpbmRleGVzIGZvciBtYXRjaGluZyByZWxhdGlvbnMsIGFzIHVzdWFsLCBidXQgYWN0dWFsbHkgc3BlY2lmeSBhIHJlbGF0aW9uOlxuSG93aWUuXG5cbldlIGRvIG5vdCBoYXZlIGEgdmFsdWUgaW5kZXggbmFtZTogd2UgYXJlIGxvb2tpbmcgZm9yIGEgcmVsYXRpb24uIFRoZSBxdWVyeVxua2V5LCB0aGVuLCBzaG91bGQgYmUgdGhlIGNvbnN0YW50IGBgemMucmVsYXRpb24uUkVMQVRJT05gYC4gRm9yIG91ciBjdXJyZW50XG5leGFtcGxlLCB0aGF0IHdvdWxkIG1lYW4gdGhlIHF1ZXJ5IGlzIGBge3pjLnJlbGF0aW9uLlJFTEFUSU9OOiAnSG93aWUnfWBgLlxuXG4gICAgPj4+IGltcG9ydCB6Yy5yZWxhdGlvblxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFZhbHVlcyhcbiAgICAuLi4gICAgICdzdXBlcnZpc29yJywge3pjLnJlbGF0aW9uLlJFTEFUSU9OOiAnSG93aWUnfSkpWzBdXG4gICAgPEVtcGxveWVlIGluc3RhbmNlIFwiRGlhbmVcIj5cblxuQ29uZ3JhdHVsYXRpb25zLCB5b3UganVzdCBmb3VuZCBhbiBvYmZ1c2NhdGVkIGFuZCBjb21wYXJpdGl2ZWx5XG5pbmVmZmljaWVudCB3YXkgdG8gd3JpdGUgYGBob3dpZS5zdXBlcnZpc29yYGAhIFsjaW50cmluc2ljX3NlYXJjaF1fXG5cbi4uIFsjaW50cmluc2ljX3NlYXJjaF0gSGVyZSdzIHRoZSBzYW1lIHdpdGggdG9rZW4gcmVzdWx0cy5cblxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKCdzdXBlcnZpc29yJyxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7emMucmVsYXRpb24uUkVMQVRJT046ICdIb3dpZSd9KSlcbiAgICBbJ0RpYW5lJ11cblxuICAgIFdoaWxlIHdlJ3JlIGRvd24gaGVyZSBpbiB0aGUgZm9vdG5vdGVzLCBJJ2xsIG1lbnRpb24gdGhhdCB5b3UgY2FuXG4gICAgc2VhcmNoIGZvciByZWxhdGlvbnMgdGhhdCBoYXZlbid0IGJlZW4gaW5kZXhlZC5cblxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFJlbGF0aW9uVG9rZW5zKHt6Yy5yZWxhdGlvbi5SRUxBVElPTjogJ1lncml0dGUnfSkpXG4gICAgW11cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRSZWxhdGlvbnMoe3pjLnJlbGF0aW9uLlJFTEFUSU9OOiAnWWdyaXR0ZSd9KSlcbiAgICBbXVxuXG5bI2ZpbmRWYWx1ZXNFeGNlcHRpb25zXV9cblxuXG4uLiBbI2ZpbmRWYWx1ZXNFeGNlcHRpb25zXSBJZiB5b3UgdXNlIGBgZmluZFZhbHVlc2BgIG9yIGBgZmluZFZhbHVlVG9rZW5zYGAgYW5kXG4gICAgdHJ5IHRvIHNwZWNpZnkgYSB2YWx1ZSBuYW1lIHRoYXQgaXMgbm90IGluZGV4ZWQsIHlvdSBnZXQgYSBWYWx1ZUVycm9yLlxuXG4gICAgPj4+IGNhdGFsb2cuZmluZFZhbHVlcygnZm9vJylcbiAgICBUcmFjZWJhY2sgKG1vc3QgcmVjZW50IGNhbGwgbGFzdCk6XG4gICAgLi4uXG4gICAgVmFsdWVFcnJvcjogKCduYW1lIG5vdCBpbmRleGVkJywgJ2ZvbycpXG5cblxuU2xpZ2h0bHkgbW9yZSB1c2VmdWxseSwgeW91IGNhbiB1c2Ugb3RoZXIgcXVlcnkga2V5cyBhbG9uZyB3aXRoXG56Yy5yZWxhdGlvbi5SRUxBVElPTi4gVGhpcyBhc2tzLCBcIk9mIEJldHR5LCBBbGljZSwgYW5kIEZyYW5rLCB3aG8gYXJlXG5zdXBlcnZpc2VkIGJ5IEFsaWNlP1wiXG5cbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZmluZFJlbGF0aW9ucyhcbiAgICAuLi4gICAgIHt6Yy5yZWxhdGlvbi5SRUxBVElPTjogemMucmVsYXRpb24uY2F0YWxvZy5hbnkoXG4gICAgLi4uICAgICAgICAgJ0JldHR5JywgJ0FsaWNlJywgJ0ZyYW5rJyksXG4gICAgLi4uICAgICAgJ3N1cGVydmlzb3InOiAnQWxpY2UnfSkpXG4gICAgWzxFbXBsb3llZSBpbnN0YW5jZSBcIkJldHR5XCI+XVxuXG5Pbmx5IEJldHR5IGlzLlxuXG5Ub2tlbnNcbi0tLS0tLVxuXG5BcyBtZW50aW9uZWQgYWJvdmUsIHRoZSBjYXRhbG9nIHByb3ZpZGVzIHNldmVyYWwgaGVscGVycyB0byB3b3JrIHdpdGggdG9rZW5zLlxuVGhlIG1vc3QgZnJlcXVlbnRseSB1c2VkIGlzIGBgdG9rZW5pemVRdWVyeWBgLCB3aGljaCB0YWtlcyBhIHF1ZXJ5IHdpdGggb2JqZWN0XG52YWx1ZXMgYW5kIGNvbnZlcnRzIHRoZW0gdG8gdG9rZW5zIHVzaW5nIHRoZSBcImR1bXBcIiBmdW5jdGlvbnMgcmVnaXN0ZXJlZCBmb3JcbnRoZSByZWxhdGlvbnMgYW5kIGluZGV4ZWQgdmFsdWVzLiBIZXJlIGFyZSBhbHRlcm5hdGUgc3BlbGxpbmdzIG9mIHNvbWUgb2YgdGhlXG5xdWVyaWVzIHdlJ3ZlIGVuY291bnRlcmVkIGFib3ZlLlxuXG4gICAgPj4+IGNhdGFsb2cudG9rZW5pemVRdWVyeSh7J3N1cGVydmlzb3InOiBhfSlcbiAgICB7J3N1cGVydmlzb3InOiAnQWxpY2UnfVxuICAgID4+PiBjYXRhbG9nLnRva2VuaXplUXVlcnkoeydzdXBlcnZpc29yJzogTm9uZX0pXG4gICAgeydzdXBlcnZpc29yJzogTm9uZX1cbiAgICA+Pj4gaW1wb3J0IHBwcmludFxuICAgID4+PiByZXN1bHQgPSBjYXRhbG9nLnRva2VuaXplUXVlcnkoXG4gICAgLi4uICAgICB7emMucmVsYXRpb24uUkVMQVRJT046IHpjLnJlbGF0aW9uLmNhdGFsb2cuYW55KGEsIGIsIGYpLFxuICAgIC4uLiAgICAgJ3N1cGVydmlzb3InOiBhfSkgIyBkb2N0ZXN0OiArTk9STUFMSVpFX1dISVRFU1BBQ0VcbiAgICA+Pj4gcHByaW50LnBwcmludChyZXN1bHQpXG4gICAge05vbmU6IDx6Yy5yZWxhdGlvbi5jYXRhbG9nLkFueSBpbnN0YW5jZSAoJ0FsaWNlJywgJ0JldHR5JywgJ0ZyYW5rJyk+LFxuICAgICAnc3VwZXJ2aXNvcic6ICdBbGljZSd9XG5cbihJZiB5b3UgYXJlIHdvbmRlcmluZyBhYm91dCB0aGF0IGBgTm9uZWBgIGluIHRoZSBsYXN0IHJlc3VsdCwgeWVzLFxuYGB6Yy5yZWxhdGlvbi5SRUxBVElPTmBgIGlzIGp1c3QgcmVhZGFiaWxpdHkgc3VnYXIgZm9yIGBgTm9uZWBgLilcblxuU28sIGhlcmUncyBhIHJlYWwgc2VhcmNoIHVzaW5nIGBgdG9rZW5pemVRdWVyeWBgLiAgV2UnbGwgbWFrZSBhbiBhbGlhcyBmb3JcbmBgY2F0YWxvZy50b2tlbml6ZVF1ZXJ5YGAganVzdCB0byBzaG9ydGVuIHRoaW5ncyB1cCBhIGJpdC5cblxuICAgID4+PiBxdWVyeSA9IGNhdGFsb2cudG9rZW5pemVRdWVyeVxuICAgID4+PiBzb3J0ZWQoY2F0YWxvZy5maW5kUmVsYXRpb25zKHF1ZXJ5KFxuICAgIC4uLiAgICAge3pjLnJlbGF0aW9uLlJFTEFUSU9OOiB6Yy5yZWxhdGlvbi5jYXRhbG9nLmFueShhLCBiLCBmKSxcbiAgICAuLi4gICAgICAnc3VwZXJ2aXNvcic6IGF9KSkpXG4gICAgWzxFbXBsb3llZSBpbnN0YW5jZSBcIkJldHR5XCI+XVxuXG5UaGUgY2F0YWxvZyBhbHdheXMgaGFzIHBhcmFsbGVsIHNlYXJjaCBtZXRob2RzLCBvbmUgZm9yIGZpbmRpbmcgb2JqZWN0cywgYXNcbnNlZW4gYWJvdmUsIGFuZCBvbmUgZm9yIGZpbmRpbmcgdG9rZW5zICh0aGUgb25seSBleGNlcHRpb24gaXMgYGBjYW5GaW5kYGAsXG5kZXNjcmliZWQgYmVsb3cpLiBGaW5kaW5nIHRva2VucyBjYW4gYmUgbXVjaCBtb3JlIGVmZmljaWVudCwgZXNwZWNpYWxseSBpZiB0aGVcbnJlc3VsdCBmcm9tIHRoZSByZWxhdGlvbiBjYXRhbG9nIGlzIGp1c3Qgb25lIHN0ZXAgYWxvbmcgdGhlIHBhdGggb2YgZmluZGluZ1xueW91ciBkZXNpcmVkIHJlc3VsdC4gQnV0IGZpbmRpbmcgb2JqZWN0cyBpcyBzaW1wbGVyIGZvciBzb21lIGNvbW1vbiBjYXNlcy5cbkhlcmUncyBhIHF1aWNrIGV4YW1wbGUgb2Ygc29tZSBxdWVyaWVzIGFib3ZlLCBnZXR0aW5nIHRva2VucyByYXRoZXIgdGhhblxub2JqZWN0cy5cblxuWW91IGNhbiBhbHNvIHNwZWxsIGEgcXVlcnkgaW4gYGB0b2tlbml6ZVF1ZXJ5YGAgd2l0aCBrZXl3b3JkIGFyZ3VtZW50cy4gVGhpc1xud29uJ3Qgd29yayBpZiB5b3VyIGtleSBpcyBgYHpjLnJlbGF0aW9uLlJFTEFUSU9OYGAsIGJ1dCBvdGhlcndpc2UgaXQgY2FuXG5pbXByb3ZlIHJlYWRhYmlsaXR5LiBXZSdsbCBzZWUgc29tZSBleGFtcGxlcyBvZiB0aGlzIGJlbG93IGFzIHdlbGwuXG5cbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZmluZFJlbGF0aW9uVG9rZW5zKHF1ZXJ5KHN1cGVydmlzb3I9YSkpKVxuICAgIFsnQmV0dHknLCAnQ2h1Y2snXVxuXG4gICAgPj4+IHNvcnRlZChjYXRhbG9nLmZpbmRSZWxhdGlvblRva2Vucyh7J3N1cGVydmlzb3InOiBOb25lfSkpXG4gICAgWydBbGljZSddXG5cbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZmluZFJlbGF0aW9uVG9rZW5zKFxuICAgIC4uLiAgICAgcXVlcnkoc3VwZXJ2aXNvcj16Yy5yZWxhdGlvbi5jYXRhbG9nLmFueShjLCBkKSkpKVxuICAgIFsnRnJhbmsnLCAnR2FseW4nLCAnSG93aWUnXVxuXG4gICAgPj4+IHNvcnRlZChjYXRhbG9nLmZpbmRSZWxhdGlvblRva2VucyhcbiAgICAuLi4gICAgIHF1ZXJ5KHt6Yy5yZWxhdGlvbi5SRUxBVElPTjogemMucmVsYXRpb24uY2F0YWxvZy5hbnkoYSwgYiwgZiksXG4gICAgLi4uICAgICAgICAgICAgJ3N1cGVydmlzb3InOiBhfSkpKVxuICAgIFsnQmV0dHknXVxuXG5UaGUgY2F0YWxvZyBwcm92aWRlcyBzZXZlcmFsIG90aGVyIG1ldGhvZHMganVzdCBmb3Igd29ya2luZyB3aXRoIHRva2Vucy5cblxuLSBgYHJlc29sdmVRdWVyeWBgOiB0aGUgaW52ZXJzZSBvZiBgYHRva2VuaXplUXVlcnlgYCwgY29udmVydGluZyBhXG4gIHRva2VuaXplZHF1ZXJ5IHRvIGEgcXVlcnkgd2l0aCBvYmplY3RzLlxuXG4tIGBgdG9rZW5pemVWYWx1ZXNgYDogcmV0dXJucyBhbiBpdGVyYWJsZSBvZiB0b2tlbnMgZm9yIHRoZSB2YWx1ZXMgb2YgdGhlIGdpdmVuXG4gIGluZGV4IG5hbWUuXG5cbi0gYGByZXNvbHZlVmFsdWVUb2tlbnNgYDogcmV0dXJucyBhbiBpdGVyYWJsZSBvZiB2YWx1ZXMgZm9yIHRoZSB0b2tlbnMgb2YgdGhlXG4gIGdpdmVuIGluZGV4IG5hbWUuXG5cbi0gYGB0b2tlbml6ZVJlbGF0aW9uYGA6IHJldHVybnMgYSB0b2tlbiBmb3IgdGhlIGdpdmVuIHJlbGF0aW9uLlxuXG4tIGBgcmVzb2x2ZVJlbGF0aW9uVG9rZW5gYDogcmV0dXJucyBhIHJlbGF0aW9uIGZvciB0aGUgZ2l2ZW4gdG9rZW4uXG5cbi0gYGB0b2tlbml6ZVJlbGF0aW9uc2BgOiByZXR1cm5zIGFuIGl0ZXJhYmxlIG9mIHRva2VucyBmb3IgdGhlIHJlbGF0aW9ucyBnaXZlbi5cblxuLSBgYHJlc29sdmVSZWxhdGlvblRva2Vuc2BgOiByZXR1cm5zIGFuIGl0ZXJhYmxlIG9mIHJlbGF0aW9ucyBmb3IgdGhlIHRva2Vuc1xuICBnaXZlbi5cblxuVGhlc2UgbWV0aG9kcyBhcmUgbGVzc2VyIHVzZWQsIGFuZCBkZXNjcmliZWQgaW4gbW9yZSB0ZWNobmljYWwgZG9jdW1lbnRzIGluXG50aGlzIHBhY2thZ2UuXG5cblRyYW5zaXRpdmUgU2VhcmNoaW5nLCBRdWVyeSBGYWN0b3JpZXMsIGFuZCBgYG1heERlcHRoYGBcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuU28sIHdlJ3ZlIHNlZW4gYSBsb3Qgb2Ygb25lLWxldmVsLCBpbnRyYW5zaXRpdmUgc2VhcmNoaW5nLiBXaGF0IGFib3V0XG50cmFuc2l0aXZlIHNlYXJjaGluZz8gV2VsbCwgeW91IG5lZWQgdG8gdGVsbCB0aGUgY2F0YWxvZyBob3cgdG8gd2FsayB0aGUgdHJlZS5cbkluIHNpbXBsZSAoYW5kIHZlcnkgY29tbW9uKSBjYXNlcyBsaWtlIHRoaXMsIHRoZVxuYGB6Yy5yZWxhdGlvbi5xdWVyeWZhY3RvcnkuVHJhbnNwb3NpbmdUcmFuc2l0aXZlYGAgd2lsbCBkbyB0aGUgdHJpY2suXG5cbkEgdHJhbnNpdGl2ZSBxdWVyeSBmYWN0b3J5IGlzIGp1c3QgYSBjYWxsYWJsZSB0aGF0IHRoZSBjYXRhbG9nIHVzZXMgdG9cbmFzayBcIkkgZ290IHRoaXMgcXVlcnksIGFuZCBoZXJlIGFyZSB0aGUgcmVzdWx0cyBJIGZvdW5kLiBJJ20gc3VwcG9zZWQgdG9cbndhbGsgYW5vdGhlciBzdGVwIHRyYW5zaXRpdmVseSwgc28gd2hhdCBxdWVyeSBzaG91bGQgSSBzZWFyY2ggZm9yIG5leHQ/XCJcbldyaXRpbmcgYSBmYWN0b3J5IGlzIG1vcmUgY29tcGxleCB0aGFuIHdlIHdhbnQgdG8gdGFsayBhYm91dCByaWdodCBub3csXG5idXQgdXNpbmcgdGhlIGBgVHJhbnNwb3NpbmdUcmFuc2l0aXZlUXVlcnlGYWN0b3J5YGAgaXMgZWFzeS4gWW91IGp1c3QgdGVsbFxuaXQgdGhlIHR3byBxdWVyeSBuYW1lcyBpdCBzaG91bGQgdHJhbnNwb3NlIGZvciB3YWxraW5nIGluIGVpdGhlclxuZGlyZWN0aW9uLlxuXG5Gb3IgaW5zdGFuY2UsIGhlcmUgd2UganVzdCB3YW50IHRvIHRlbGwgdGhlIGZhY3RvcnkgdG8gdHJhbnNwb3NlIHRoZSB0d28ga2V5c1xud2UndmUgdXNlZCwgYGB6Yy5yZWxhdGlvbi5SRUxBVElPTmBgIGFuZCAnc3VwZXJ2aXNvcicuIExldCdzIG1ha2UgYSBmYWN0b3J5LFxudXNlIGl0IGluIGEgcXVlcnkgZm9yIGEgY291cGxlIG9mIHRyYW5zaXRpdmUgc2VhcmNoZXMsIGFuZCB0aGVuLCBpZiB5b3Ugd2FudCxcbnlvdSBjYW4gcmVhZCB0aHJvdWdoIGEgZm9vdG5vdGUgdG8gdGFsayB0aHJvdWdoIHdoYXQgaXMgaGFwcGVuaW5nLlxuXG5IZXJlJ3MgdGhlIGZhY3RvcnkuXG5cbiAgICA+Pj4gaW1wb3J0IHpjLnJlbGF0aW9uLnF1ZXJ5ZmFjdG9yeVxuICAgID4+PiBmYWN0b3J5ID0gemMucmVsYXRpb24ucXVlcnlmYWN0b3J5LlRyYW5zcG9zaW5nVHJhbnNpdGl2ZShcbiAgICAuLi4gICAgIHpjLnJlbGF0aW9uLlJFTEFUSU9OLCAnc3VwZXJ2aXNvcicpXG5cbk5vdyBgYGZhY3RvcnlgYCBpcyBqdXN0IGEgY2FsbGFibGUuICBMZXQncyBsZXQgaXQgaGVscCBhbnN3ZXIgYSBjb3VwbGUgb2ZcbnF1ZXN0aW9ucy5cblxuV2hvIGFyZSBhbGwgb2YgSG93aWUncyBzdXBlcnZpc29ycyB0cmFuc2l0aXZlbHkgKHRoaXMgbG9va3MgdXAgaW4gdGhlXG5kaWFncmFtKT9cblxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFZhbHVlcygnc3VwZXJ2aXNvcicsIHt6Yy5yZWxhdGlvbi5SRUxBVElPTjogJ0hvd2llJ30sXG4gICAgLi4uICAgICAgcXVlcnlGYWN0b3J5PWZhY3RvcnkpKVxuICAgIC4uLiAjIGRvY3Rlc3Q6ICtOT1JNQUxJWkVfV0hJVEVTUEFDRVxuICAgIFs8RW1wbG95ZWUgaW5zdGFuY2UgXCJEaWFuZVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiQmV0dHlcIj4sXG4gICAgIDxFbXBsb3llZSBpbnN0YW5jZSBcIkFsaWNlXCI+XVxuXG5XaG8gYXJlIGFsbCBvZiB0aGUgcGVvcGxlIEJldHR5IHN1cGVydmlzZXMgdHJhbnNpdGl2ZWx5LCBicmVhZHRoIGZpcnN0ICh0aGlzXG5sb29rcyBkb3duIGluIHRoZSBkaWFncmFtKT9cblxuICAgID4+PiBwZW9wbGUgPSBsaXN0KGNhdGFsb2cuZmluZFJlbGF0aW9ucyhcbiAgICAuLi4gICAgIHsnc3VwZXJ2aXNvcic6ICdCZXR0eSd9LCBxdWVyeUZhY3Rvcnk9ZmFjdG9yeSkpXG4gICAgPj4+IHNvcnRlZChwZW9wbGVbOjJdKVxuICAgIFs8RW1wbG95ZWUgaW5zdGFuY2UgXCJEaWFuZVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiRWRnYXJcIj5dXG4gICAgPj4+IHBlb3BsZVsyXVxuICAgIDxFbXBsb3llZSBpbnN0YW5jZSBcIkhvd2llXCI+XG5cbll1cCwgdGhhdCBsb29rcyByaWdodC4gIFNvIGhvdyBkaWQgdGhhdCB3b3JrPyAgSWYgeW91IGNhcmUsIHJlYWQgdGhpc1xuZm9vdG5vdGUuIFsjSV9jYXJlXV9cblxuVGhpcyB0cmFuc2l0aXZlIGZhY3RvcnkgaXMgcmVhbGx5IHRoZSBvbmx5IHRyYW5zaXRpdmUgZmFjdG9yeSB5b3Ugd291bGRcbndhbnQgZm9yIHRoaXMgcGFydGljdWxhciBjYXRhbG9nLCBzbyBpdCBwcm9iYWJseSBpcyBzYWZlIHRvIHdpcmUgaXQgaW5cbmFzIGEgZGVmYXVsdC4gIFlvdSBjYW4gYWRkIG11bHRpcGxlIHF1ZXJ5IGZhY3RvcmllcyB0byBtYXRjaCBkaWZmZXJlbnRcbnF1ZXJpZXMgdXNpbmcgYGBhZGREZWZhdWx0UXVlcnlGYWN0b3J5YGAuXG5cbiAgICA+Pj4gY2F0YWxvZy5hZGREZWZhdWx0UXVlcnlGYWN0b3J5KGZhY3RvcnkpXG5cbk5vdyBhbGwgc2VhcmNoZXMgYXJlIHRyYW5zaXRpdmUgYnkgZGVmYXVsdC5cblxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFZhbHVlcygnc3VwZXJ2aXNvcicsIHt6Yy5yZWxhdGlvbi5SRUxBVElPTjogJ0hvd2llJ30pKVxuICAgIC4uLiAjIGRvY3Rlc3Q6ICtOT1JNQUxJWkVfV0hJVEVTUEFDRVxuICAgIFs8RW1wbG95ZWUgaW5zdGFuY2UgXCJEaWFuZVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiQmV0dHlcIj4sXG4gICAgIDxFbXBsb3llZSBpbnN0YW5jZSBcIkFsaWNlXCI+XVxuICAgID4+PiBwZW9wbGUgPSBsaXN0KGNhdGFsb2cuZmluZFJlbGF0aW9ucyh7J3N1cGVydmlzb3InOiAnQmV0dHknfSkpXG4gICAgPj4+IHNvcnRlZChwZW9wbGVbOjJdKVxuICAgIFs8RW1wbG95ZWUgaW5zdGFuY2UgXCJEaWFuZVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiRWRnYXJcIj5dXG4gICAgPj4+IHBlb3BsZVsyXVxuICAgIDxFbXBsb3llZSBpbnN0YW5jZSBcIkhvd2llXCI+XG5cbldlIGNhbiBmb3JjZSBhIG5vbi10cmFuc2l0aXZlIHNlYXJjaCwgb3IgYSBzcGVjaWZpYyBzZWFyY2ggZGVwdGgsIHdpdGhcbmBgbWF4RGVwdGhgYCBbI25lZWRzX2FfdHJhbnNpdGl2ZV9xdWVyaWVzX2ZhY3RvcnldXy5cblxuXG4uLiBbI25lZWRzX2FfdHJhbnNpdGl2ZV9xdWVyaWVzX2ZhY3RvcnldIEEgc2VhcmNoIHdpdGggYSBgYG1heERlcHRoYGAgPiAxIGJ1dFxuICAgIG5vIGBgcXVlcnlGYWN0b3J5YGAgcmFpc2VzIGFuIGVycm9yLlxuXG4gICAgPj4+IGNhdGFsb2cucmVtb3ZlRGVmYXVsdFF1ZXJ5RmFjdG9yeShmYWN0b3J5KVxuICAgID4+PiBjYXRhbG9nLmZpbmRSZWxhdGlvblRva2Vucyh7J3N1cGVydmlzb3InOiAnRGlhbmUnfSwgbWF4RGVwdGg9MylcbiAgICBUcmFjZWJhY2sgKG1vc3QgcmVjZW50IGNhbGwgbGFzdCk6XG4gICAgLi4uXG4gICAgVmFsdWVFcnJvcjogaWYgbWF4RGVwdGggbm90IGluIChOb25lLCAxKSwgcXVlcnlGYWN0b3J5IG11c3QgYmUgYXZhaWxhYmxlXG5cbiAgICA+Pj4gY2F0YWxvZy5hZGREZWZhdWx0UXVlcnlGYWN0b3J5KGZhY3RvcnkpXG5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRWYWx1ZXMoXG4gICAgLi4uICAgICAnc3VwZXJ2aXNvcicsIHt6Yy5yZWxhdGlvbi5SRUxBVElPTjogJ0hvd2llJ30sIG1heERlcHRoPTEpKVxuICAgIFs8RW1wbG95ZWUgaW5zdGFuY2UgXCJEaWFuZVwiPl1cbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZmluZFJlbGF0aW9ucyh7J3N1cGVydmlzb3InOiAnQmV0dHknfSwgbWF4RGVwdGg9MSkpXG4gICAgWzxFbXBsb3llZSBpbnN0YW5jZSBcIkRpYW5lXCI+LCA8RW1wbG95ZWUgaW5zdGFuY2UgXCJFZGdhclwiPl1cblxuWyNtYXhEZXB0aEV4Y2VwdGlvbnNdX1xuXG5cbi4uIFsjbWF4RGVwdGhFeGNlcHRpb25zXSBgYG1heERlcHRoYGAgbXVzdCBiZSBOb25lIG9yIGEgcG9zaXRpdmUgaW50ZWdlciwgb3JcbiAgICBlbHNlIHlvdSdsbCBnZXQgYSB2YWx1ZSBlcnJvci5cblxuICAgID4+PiBjYXRhbG9nLmZpbmRSZWxhdGlvbnMoeydzdXBlcnZpc29yJzogJ0JldHR5J30sIG1heERlcHRoPTApXG4gICAgVHJhY2ViYWNrIChtb3N0IHJlY2VudCBjYWxsIGxhc3QpOlxuICAgIC4uLlxuICAgIFZhbHVlRXJyb3I6IG1heERlcHRoIG11c3QgYmUgTm9uZSBvciBhIHBvc2l0aXZlIGludGVnZXJcblxuICAgID4+PiBjYXRhbG9nLmZpbmRSZWxhdGlvbnMoeydzdXBlcnZpc29yJzogJ0JldHR5J30sIG1heERlcHRoPS0xKVxuICAgIFRyYWNlYmFjayAobW9zdCByZWNlbnQgY2FsbCBsYXN0KTpcbiAgICAuLi5cbiAgICBWYWx1ZUVycm9yOiBtYXhEZXB0aCBtdXN0IGJlIE5vbmUgb3IgYSBwb3NpdGl2ZSBpbnRlZ2VyXG5cbldlJ2xsIGludHJvZHVjZSBzb21lIG90aGVyIGF2YWlsYWJsZSBzZWFyY2hcbmFyZ3VtZW50cyBsYXRlciBpbiB0aGlzIGRvY3VtZW50IGFuZCBpbiBvdGhlciBkb2N1bWVudHMuICBJdCdzIGltcG9ydGFudFxudG8gbm90ZSB0aGF0ICphbGwgc2VhcmNoIG1ldGhvZHMgc2hhcmUgdGhlIHNhbWUgYXJndW1lbnRzIGFzXG5gYGZpbmRSZWxhdGlvbnNgYCouICBgYGZpbmRWYWx1ZXNgYCBhbmQgYGBmaW5kVmFsdWVUb2tlbnNgYCBvbmx5IGFkZCB0aGVcbmluaXRpYWwgYXJndW1lbnQgb2Ygc3BlY2lmeWluZyB0aGUgZGVzaXJlZCB2YWx1ZS5cblxuV2UndmUgbG9va2VkIGF0IHR3byBzZWFyY2ggbWV0aG9kcyBzbyBmYXI6IHRoZSBgYGZpbmRWYWx1ZXNgYCBhbmRcbmBgZmluZFJlbGF0aW9uc2BgIG1ldGhvZHMgaGVscCB5b3UgYXNrIHdoYXQgaXMgcmVsYXRlZC4gIEJ1dCB3aGF0IGlmIHlvdVxud2FudCB0byBrbm93ICpob3cqIHRoaW5ncyBhcmUgdHJhbnNpdGl2ZWx5IHJlbGF0ZWQ/XG5cbmBgZmluZFJlbGF0aW9uQ2hhaW5zYGAgYW5kIGBgdGFyZ2V0UXVlcnlgYFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkFub3RoZXIgc2VhcmNoIG1ldGhvZCwgYGBmaW5kUmVsYXRpb25DaGFpbnNgYCwgaGVscHMgeW91IGRpc2NvdmVyIGhvd1xudGhpbmdzIGFyZSB0cmFuc2l0aXZlbHkgcmVsYXRlZC5cblxuVGhlIG1ldGhvZCBuYW1lIHNheXMgXCJmaW5kIHJlbGF0aW9uIGNoYWluc1wiLiAgQnV0IHdoYXQgaXMgYSBcInJlbGF0aW9uXG5jaGFpblwiPyAgSW4gdGhpcyBBUEksIGl0IGlzIGEgdHJhbnNpdGl2ZSBwYXRoIG9mIHJlbGF0aW9ucy4gIEZvclxuaW5zdGFuY2UsIHdoYXQncyB0aGUgY2hhaW4gb2YgY29tbWFuZCBhYm92ZSBIb3dpZT8gIGBgZmluZFJlbGF0aW9uQ2hhaW5zYGBcbndpbGwgcmV0dXJuIGVhY2ggdW5pcXVlIHBhdGguXG5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRSZWxhdGlvbkNoYWlucyh7emMucmVsYXRpb24uUkVMQVRJT046ICdIb3dpZSd9KSlcbiAgICAuLi4gIyBkb2N0ZXN0OiArTk9STUFMSVpFX1dISVRFU1BBQ0VcbiAgICBbKDxFbXBsb3llZSBpbnN0YW5jZSBcIkhvd2llXCI+LCksXG4gICAgICg8RW1wbG95ZWUgaW5zdGFuY2UgXCJIb3dpZVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiRGlhbmVcIj4pLFxuICAgICAoPEVtcGxveWVlIGluc3RhbmNlIFwiSG93aWVcIj4sIDxFbXBsb3llZSBpbnN0YW5jZSBcIkRpYW5lXCI+LFxuICAgICAgPEVtcGxveWVlIGluc3RhbmNlIFwiQmV0dHlcIj4pLFxuICAgICAoPEVtcGxveWVlIGluc3RhbmNlIFwiSG93aWVcIj4sIDxFbXBsb3llZSBpbnN0YW5jZSBcIkRpYW5lXCI+LFxuICAgICA8RW1wbG95ZWUgaW5zdGFuY2UgXCJCZXR0eVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiQWxpY2VcIj4pXVxuXG5Mb29rIGF0IHRoYXQgcmVzdWx0IGNhcmVmdWxseS4gIE5vdGljZSB0aGF0IHRoZSByZXN1bHQgaXMgYW4gaXRlcmFibGUgb2ZcbnR1cGxlcy4gIEVhY2ggdHVwbGUgaXMgYSB1bmlxdWUgY2hhaW4sIHdoaWNoIG1heSBiZSBhIHBhcnQgb2YgYVxuc3Vic2VxdWVudCBjaGFpbi4gIEluIHRoaXMgY2FzZSwgdGhlIGxhc3QgY2hhaW4gaXMgdGhlIGxvbmdlc3QgYW5kIHRoZVxubW9zdCBjb21wcmVoZW5zaXZlLlxuXG5XaGF0IGlmIHdlIHdhbnRlZCB0byBzZWUgYWxsIHRoZSBwYXRocyBmcm9tIEFsaWNlPyAgVGhhdCB3aWxsIGJlIG9uZVxuY2hhaW4gZm9yIGVhY2ggc3VwZXJ2aXNlZCBlbXBsb3llZSwgYmVjYXVzZSBpdCBzaG93cyBhbGwgcG9zc2libGUgcGF0aHMuXG5cbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZmluZFJlbGF0aW9uQ2hhaW5zKFxuICAgIC4uLiAgICAgeydzdXBlcnZpc29yJzogJ0FsaWNlJ30pKVxuICAgIC4uLiAjIGRvY3Rlc3Q6ICtOT1JNQUxJWkVfV0hJVEVTUEFDRVxuICAgIFsoPEVtcGxveWVlIGluc3RhbmNlIFwiQmV0dHlcIj4sKSxcbiAgICAgKDxFbXBsb3llZSBpbnN0YW5jZSBcIkJldHR5XCI+LCA8RW1wbG95ZWUgaW5zdGFuY2UgXCJEaWFuZVwiPiksXG4gICAgICg8RW1wbG95ZWUgaW5zdGFuY2UgXCJCZXR0eVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiRGlhbmVcIj4sXG4gICAgICA8RW1wbG95ZWUgaW5zdGFuY2UgXCJIb3dpZVwiPiksXG4gICAgICg8RW1wbG95ZWUgaW5zdGFuY2UgXCJCZXR0eVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiRWRnYXJcIj4pLFxuICAgICAoPEVtcGxveWVlIGluc3RhbmNlIFwiQ2h1Y2tcIj4sKSxcbiAgICAgKDxFbXBsb3llZSBpbnN0YW5jZSBcIkNodWNrXCI+LCA8RW1wbG95ZWUgaW5zdGFuY2UgXCJGcmFua1wiPiksXG4gICAgICg8RW1wbG95ZWUgaW5zdGFuY2UgXCJDaHVja1wiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiR2FseW5cIj4pXVxuXG5UaGF0J3MgYWxsIHRoZSBwYXRocy0tYWxsIHRoZSBjaGFpbnMtLWZyb20gQWxpY2UuICBXZSBzb3J0ZWQgdGhlIHJlc3VsdHMsXG5idXQgbm9ybWFsbHkgdGhleSB3b3VsZCBiZSBicmVhZHRoIGZpcnN0LlxuXG5CdXQgd2hhdCBpZiB3ZSB3YW50ZWQgdG8ganVzdCBmaW5kIHRoZSBwYXRocyBmcm9tIG9uZSBxdWVyeSByZXN1bHQgdG9cbmFub3RoZXIgcXVlcnkgcmVzdWx0LS1zYXksIHdlIHdhbnRlZCB0byBrbm93IHRoZSBjaGFpbiBvZiBjb21tYW5kIGZyb20gQWxpY2VcbmRvd24gdG8gSG93aWU/ICBUaGVuIHdlIGNhbiBzcGVjaWZ5IGEgYGB0YXJnZXRRdWVyeWBgIHRoYXQgc3BlY2lmaWVzIHRoZVxuY2hhcmFjdGVyaXN0aWNzIG9mIG91ciBkZXNpcmVkIGVuZCBwb2ludCAob3IgcG9pbnRzKS5cblxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFJlbGF0aW9uQ2hhaW5zKFxuICAgIC4uLiAgICAgeydzdXBlcnZpc29yJzogJ0FsaWNlJ30sXG4gICAgLi4uICAgICB0YXJnZXRRdWVyeT17emMucmVsYXRpb24uUkVMQVRJT046ICdIb3dpZSd9KSlcbiAgICAuLi4gIyBkb2N0ZXN0OiArTk9STUFMSVpFX1dISVRFU1BBQ0VcbiAgICBbKDxFbXBsb3llZSBpbnN0YW5jZSBcIkJldHR5XCI+LCA8RW1wbG95ZWUgaW5zdGFuY2UgXCJEaWFuZVwiPixcbiAgICAgIDxFbXBsb3llZSBpbnN0YW5jZSBcIkhvd2llXCI+KV1cblxuU28sIEJldHR5IHN1cGVydmlzZXMgRGlhbmUsIHdobyBzdXBlcnZpc2VzIEhvd2llLlxuXG5Ob3RlIHRoYXQgYGB0YXJnZXRRdWVyeWBgIG5vdyBqb2lucyBgYG1heERlcHRoYGAgaW4gb3VyIGNvbGxlY3Rpb24gb2Ygc2hhcmVkXG5zZWFyY2ggYXJndW1lbnRzIHRoYXQgd2UgaGF2ZSBpbnRyb2R1Y2VkLlxuXG5gYGZpbHRlcmBgIGFuZCBgYHRhcmdldEZpbHRlcmBgXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbldlIGNhbiB0YWtlIGEgcXVpY2sgbG9vayBub3cgYXQgdGhlIGxhc3Qgb2YgdGhlIHR3byBzaGFyZWQgc2VhcmNoIGFyZ3VtZW50czpcbmBgZmlsdGVyYGAgYW5kIGBgdGFyZ2V0RmlsdGVyYGAuICBUaGVzZSB0d28gYXJlIHNpbWlsYXIgaW4gdGhhdCB0aGV5IGJvdGggYXJlXG5jYWxsYWJsZXMgdGhhdCBjYW4gYXBwcm92ZSBvciByZWplY3QgZ2l2ZW4gcmVsYXRpb25zIGluIGEgc2VhcmNoIGJhc2VkIG9uXG53aGF0ZXZlciBsb2dpYyB5b3UgY2FuIGNvZGUuICBUaGV5IGRpZmZlciBpbiB0aGF0IGBgZmlsdGVyYGAgc3RvcHMgYW55IGZ1cnRoZXJcbnRyYW5zaXRpdmUgc2VhcmNoZXMgZnJvbSB0aGUgcmVsYXRpb24sIHdoaWxlIGBgdGFyZ2V0RmlsdGVyYGAgbWVyZWx5IG9taXRzIHRoZVxuZ2l2ZW4gcmVzdWx0IGJ1dCBhbGxvd3MgZnVydGhlciBzZWFyY2ggZnJvbSBpdC4gIExpa2UgYGB0YXJnZXRRdWVyeWBgLCB0aGVuLFxuYGB0YXJnZXRGaWx0ZXJgYCBpcyBnb29kIHdoZW4geW91IHdhbnQgdG8gc3BlY2lmeSB0aGUgb3RoZXIgZW5kIG9mIGEgcGF0aC5cblxuQXMgYW4gZXhhbXBsZSwgbGV0J3Mgc2F5IHdlIG9ubHkgd2FudCB0byByZXR1cm4gZmVtYWxlIGVtcGxveWVlcy5cblxuICAgID4+PiBmZW1hbGVfZW1wbG95ZWVzID0gKCdBbGljZScsICdCZXR0eScsICdEaWFuZScsICdHYWx5bicpXG4gICAgPj4+IGRlZiBmZW1hbGVfZmlsdGVyKHJlbGNoYWluLCBxdWVyeSwgY2F0YWxvZywgY2FjaGUpOlxuICAgIC4uLiAgICAgcmV0dXJuIHJlbGNoYWluWy0xXSBpbiBmZW1hbGVfZW1wbG95ZWVzXG4gICAgLi4uXG5cbkhlcmUgYXJlIGFsbCB0aGUgZmVtYWxlIGVtcGxveWVlcyBzdXBlcnZpc2VkIGJ5IEFsaWNlIHRyYW5zaXRpdmVseSwgdXNpbmdcbmBgdGFyZ2V0RmlsdGVyYGAuXG5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRSZWxhdGlvbnMoeydzdXBlcnZpc29yJzogJ0FsaWNlJ30sXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEZpbHRlcj1mZW1hbGVfZmlsdGVyKSlcbiAgICAuLi4gIyBkb2N0ZXN0OiArTk9STUFMSVpFX1dISVRFU1BBQ0VcbiAgICBbPEVtcGxveWVlIGluc3RhbmNlIFwiQmV0dHlcIj4sIDxFbXBsb3llZSBpbnN0YW5jZSBcIkRpYW5lXCI+LFxuICAgICA8RW1wbG95ZWUgaW5zdGFuY2UgXCJHYWx5blwiPl1cblxuSGVyZSBhcmUgYWxsIHRoZSBmZW1hbGUgZW1wbG95ZWVzIHN1cGVydmlzZWQgYnkgQ2h1Y2suXG5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRSZWxhdGlvbnMoeydzdXBlcnZpc29yJzogJ0NodWNrJ30sXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEZpbHRlcj1mZW1hbGVfZmlsdGVyKSlcbiAgICBbPEVtcGxveWVlIGluc3RhbmNlIFwiR2FseW5cIj5dXG5cblRoZSBzYW1lIG1ldGhvZCB1c2VkIGFzIGEgZmlsdGVyIHdpbGwgb25seSByZXR1cm4gZmVtYWxlcyBkaXJlY3RseVxuc3VwZXJ2aXNlZCBieSBvdGhlciBmZW1hbGVzLS1ub3QgR2FseW4sIGluIHRoaXMgY2FzZS5cblxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFJlbGF0aW9ucyh7J3N1cGVydmlzb3InOiAnQWxpY2UnfSxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyPWZlbWFsZV9maWx0ZXIpKVxuICAgIFs8RW1wbG95ZWUgaW5zdGFuY2UgXCJCZXR0eVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiRGlhbmVcIj5dXG5cblRoZXNlIGNhbiBiZSBjb21iaW5lZCB3aXRoIG9uZSBhbm90aGVyLCBhbmQgd2l0aCB0aGUgb3RoZXIgc2VhcmNoXG5hcmd1bWVudHMgWyNmaWx0ZXJdXy5cblxuLi4gWyNmaWx0ZXJdIEZvciBpbnN0YW5jZTpcblxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFJlbGF0aW9uVG9rZW5zKFxuICAgIC4uLiAgICAgeydzdXBlcnZpc29yJzogJ0FsaWNlJ30sIHRhcmdldEZpbHRlcj1mZW1hbGVfZmlsdGVyLFxuICAgIC4uLiAgICAgdGFyZ2V0UXVlcnk9e3pjLnJlbGF0aW9uLlJFTEFUSU9OOiAnR2FseW4nfSkpXG4gICAgWydHYWx5biddXG4gICAgPj4+IGxpc3QoY2F0YWxvZy5maW5kUmVsYXRpb25Ub2tlbnMoXG4gICAgLi4uICAgICB7J3N1cGVydmlzb3InOiAnQWxpY2UnfSwgdGFyZ2V0RmlsdGVyPWZlbWFsZV9maWx0ZXIsXG4gICAgLi4uICAgICB0YXJnZXRRdWVyeT17emMucmVsYXRpb24uUkVMQVRJT046ICdOb3Qga25vd24nfSkpXG4gICAgW11cbiAgICA+Pj4gYXJiaXRyYXJ5ID0gWydBbGljZScsICdDaHVjaycsICdCZXR0eScsICdHYWx5biddXG4gICAgPj4+IGRlZiBhcmJpdHJhcnlfZmlsdGVyKHJlbGNoYWluLCBxdWVyeSwgY2F0YWxvZywgY2FjaGUpOlxuICAgIC4uLiAgICAgcmV0dXJuIHJlbGNoYWluWy0xXSBpbiBhcmJpdHJhcnlcbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRSZWxhdGlvblRva2Vucyh7J3N1cGVydmlzb3InOiAnQWxpY2UnfSxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXI9YXJiaXRyYXJ5X2ZpbHRlcixcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRGaWx0ZXI9ZmVtYWxlX2ZpbHRlcikpXG4gICAgWydCZXR0eScsICdHYWx5biddXG5cblNlYXJjaCBpbmRleGVzXG4tLS0tLS0tLS0tLS0tLVxuXG5XaXRob3V0IHNldHRpbmcgdXAgYW55IGFkZGl0aW9uYWwgaW5kZXhlcywgdGhlIHRyYW5zaXRpdmUgYmVoYXZpb3Igb2ZcbnRoZSBgYGZpbmRSZWxhdGlvbnNgYCBhbmQgYGBmaW5kVmFsdWVzYGAgbWV0aG9kcyBlc3NlbnRpYWxseSByZWxpZXMgb24gdGhlXG5icnV0ZSBmb3JjZSBzZWFyY2hlcyBvZiBgYGZpbmRSZWxhdGlvbkNoYWluc2BgLiAgUmVzdWx0cyBhcmUgaXRlcmFibGVzXG50aGF0IGFyZSBncmFkdWFsbHkgY29tcHV0ZWQuICBGb3IgaW5zdGFuY2UsIGxldCdzIHJlcGVhdCB0aGUgcXVlc3Rpb25cblwiV2hvbSBkb2VzIEJldHR5IHN1cGVydmlzZT9cIi4gIE5vdGljZSB0aGF0IGBgcmVzYGAgZmlyc3QgcG9wdWxhdGVzIGEgbGlzdFxud2l0aCB0aHJlZSBtZW1iZXJzLCBidXQgdGhlbiBkb2VzIG5vdCBwb3B1bGF0ZSBhIHNlY29uZCBsaXN0LiAgVGhlXG5pdGVyYXRvciBoYXMgYmVlbiBleGhhdXN0ZWQuXG5cbiAgICA+Pj4gcmVzID0gY2F0YWxvZy5maW5kUmVsYXRpb25Ub2tlbnMoeydzdXBlcnZpc29yJzogJ0JldHR5J30pXG4gICAgPj4+IHVuaW5kZXhlZCA9IHNvcnRlZChyZXMpXG4gICAgPj4+IGxlbih1bmluZGV4ZWQpXG4gICAgM1xuICAgID4+PiBsZW4obGlzdChyZXMpKSAjIGl0ZXJhdG9yIGlzIGV4aGF1c3RlZFxuICAgIDBcblxuVGhlIGJydXRlIGZvcmNlIG9mIHRoaXMgYXBwcm9hY2ggY2FuIGJlIHN1ZmZpY2llbnQgaW4gbWFueSBjYXNlcywgYnV0XG5zb21ldGltZXMgc3BlZWQgZm9yIHRoZXNlIHNlYXJjaGVzIGlzIGNyaXRpY2FsLiAgSW4gdGhlc2UgY2FzZXMsIHlvdSBjYW5cbmFkZCBhIFwic2VhcmNoIGluZGV4XCIuICBBIHNlYXJjaCBpbmRleCBzcGVlZHMgdXAgdGhlIHJlc3VsdCBvZiBvbmUgb3Jcbm1vcmUgcHJlY2lzZSBzZWFyY2hlcyBieSBpbmRleGluZyB0aGUgcmVzdWx0cy4gIFNlYXJjaCBpbmRleGVzIGNhblxuYWZmZWN0IHRoZSByZXN1bHRzIG9mIHNlYXJjaGVzIHdpdGggYSBgYHF1ZXJ5RmFjdG9yeWBgIGluIGBgZmluZFJlbGF0aW9uc2BgLFxuYGBmaW5kVmFsdWVzYGAsIGFuZCB0aGUgc29vbi10by1iZS1pbnRyb2R1Y2VkIGBgY2FuRmluZGBgLCBidXQgdGhleSBkbyBub3RcbmFmZmVjdCBgYGZpbmRSZWxhdGlvbkNoYWluc2BgLlxuXG5UaGUgemMucmVsYXRpb24gcGFja2FnZSBjdXJyZW50bHkgaW5jbHVkZXMgdHdvIGtpbmRzIG9mIHNlYXJjaCBpbmRleGVzLCBvbmUgZm9yXG5pbmRleGluZyB0cmFuc2l0aXZlIG1lbWJlcnNoaXAgc2VhcmNoZXMgaW4gYSBoaWVyYXJjaHkgYW5kIG9uZSBmb3IgaW50cmFuc2l0aXZlXG5zZWFyY2hlcyBleHBsb3JlZCBpbiB0b2tlbnMucnN0IGluIHRoaXMgcGFja2FnZSwgd2hpY2ggY2FuIG9wdGltaXplIGZyZXF1ZW50XG5zZWFyY2hlcyBvbiBjb21wbGV4IHF1ZXJpZXMgb3IgY2FuIGVmZmVjdGl2ZWx5IGNoYW5nZSB0aGUgbWVhbmluZyBvZiBhblxuaW50cmFuc2l0aXZlIHNlYXJjaC4gT3RoZXIgc2VhcmNoIGluZGV4IGltcGxlbWVudGF0aW9ucyBhbmQgYXBwcm9hY2hlcyBtYXkgYmVcbmFkZGVkIGluIHRoZSBmdXR1cmUuXG5cbkhlcmUncyBhIHZlcnkgYnJpZWYgZXhhbXBsZSBvZiBhZGRpbmcgYSBzZWFyY2ggaW5kZXggZm9yIHRoZSB0cmFuc2l0aXZlXG5zZWFyY2hlcyBzZWVuIGFib3ZlIHRoYXQgc3BlY2lmeSBhICdzdXBlcnZpc29yJy5cblxuICAgID4+PiBpbXBvcnQgemMucmVsYXRpb24uc2VhcmNoaW5kZXhcbiAgICA+Pj4gY2F0YWxvZy5hZGRTZWFyY2hJbmRleChcbiAgICAuLi4gICAgIHpjLnJlbGF0aW9uLnNlYXJjaGluZGV4LlRyYW5zcG9zaW5nVHJhbnNpdGl2ZU1lbWJlcnNoaXAoXG4gICAgLi4uICAgICAgICAgJ3N1cGVydmlzb3InLCB6Yy5yZWxhdGlvbi5SRUxBVElPTikpXG5cblRoZSBgYHpjLnJlbGF0aW9uLlJFTEFUSU9OYGAgZGVzY3JpYmVzIGhvdyB0byB3YWxrIGJhY2sgdXAgdGhlIGNoYWluLiBTZWFyY2hcbmluZGV4ZXMgYXJlIGV4cGxhaW5lZCBpbiByZWFzb25hYmxlIGRldGFpbCBpbiBzZWFyY2hpbmRleC5yc3QuXG5cbk5vdyB0aGF0IHdlIGhhdmUgYWRkZWQgdGhlIGluZGV4LCB3ZSBjYW4gc2VhcmNoIGFnYWluLiAgVGhlIHJlc3VsdCB0aGlzXG50aW1lIGlzIGFscmVhZHkgY29tcHV0ZWQsIHNvLCBhdCBsZWFzdCB3aGVuIHlvdSBhc2sgZm9yIHRva2VucywgaXRcbmlzIHJlcGVhdGFibGUuXG5cbiAgICA+Pj4gcmVzID0gY2F0YWxvZy5maW5kUmVsYXRpb25Ub2tlbnMoeydzdXBlcnZpc29yJzogJ0JldHR5J30pXG4gICAgPj4+IGxlbihsaXN0KHJlcykpXG4gICAgM1xuICAgID4+PiBsZW4obGlzdChyZXMpKVxuICAgIDNcbiAgICA+Pj4gc29ydGVkKHJlcykgPT0gdW5pbmRleGVkXG4gICAgVHJ1ZVxuXG5Ob3RlIHRoYXQgdGhlIGJyZWFkdGgtZmlyc3Qgc29ydGluZyBpcyBsb3N0IHdoZW4gYW4gaW5kZXggaXMgdXNlZCBbI3VwZGF0ZXNdXy5cblxuLi4gWyN1cGRhdGVzXSBUaGUgc2NlbmFyaW8gd2UgYXJlIGxvb2tpbmcgYXQgaW4gdGhpcyBkb2N1bWVudCBzaG93cyBhIGNhc2VcbiAgICBpbiB3aGljaCBzcGVjaWFsIGxvZ2ljIGluIHRoZSBzZWFyY2ggaW5kZXggbmVlZHMgdG8gYWRkcmVzcyB1cGRhdGVzLlxuICAgIEZvciBleGFtcGxlLCBpZiB3ZSBtb3ZlIEhvd2llIGZyb20gRGlhbmVcblxuICAgIDo6XG5cbiAgICAgICAgICAgICAgICAgQWxpY2VcbiAgICAgICAgICAgICAgX18vICAgICBcXF9fXG4gICAgICAgICBCZXR0eSAgICAgICAgICAgQ2h1Y2tcbiAgICAgICAgIC8gICBcXCAgICAgICAgICAgLyAgIFxcXG4gICAgIERpYW5lICAgRWRnYXIgICBGcmFuayAgIEdhbHluXG4gICAgICAgfFxuICAgICBIb3dpZVxuXG4gICAgdG8gR2FseW5cblxuICAgIDo6XG5cbiAgICAgICAgICAgICAgICAgQWxpY2VcbiAgICAgICAgICAgICAgX18vICAgICBcXF9fXG4gICAgICAgICBCZXR0eSAgICAgICAgICAgQ2h1Y2tcbiAgICAgICAgIC8gICBcXCAgICAgICAgICAgLyAgIFxcXG4gICAgIERpYW5lICAgRWRnYXIgICBGcmFuayAgIEdhbHluXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIb3dpZVxuXG4gICAgdGhlbiB0aGUgc2VhcmNoIGluZGV4IGlzIGNvcnJlY3QgYm90aCBmb3IgdGhlIG5ldyBsb2NhdGlvbiBhbmQgdGhlIG9sZC5cblxuICAgID4+PiBoLnN1cGVydmlzb3IgPSBnXG4gICAgPj4+IGNhdGFsb2cuaW5kZXgoaClcbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRSZWxhdGlvblRva2Vucyh7J3N1cGVydmlzb3InOiAnRGlhbmUnfSkpXG4gICAgW11cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRSZWxhdGlvblRva2Vucyh7J3N1cGVydmlzb3InOiAnQmV0dHknfSkpXG4gICAgWydEaWFuZScsICdFZGdhciddXG4gICAgPj4+IGxpc3QoY2F0YWxvZy5maW5kUmVsYXRpb25Ub2tlbnMoeydzdXBlcnZpc29yJzogJ0NodWNrJ30pKVxuICAgIFsnRnJhbmsnLCAnR2FseW4nLCAnSG93aWUnXVxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFJlbGF0aW9uVG9rZW5zKHsnc3VwZXJ2aXNvcic6ICdHYWx5bid9KSlcbiAgICBbJ0hvd2llJ11cbiAgICA+Pj4gaC5zdXBlcnZpc29yID0gZFxuICAgID4+PiBjYXRhbG9nLmluZGV4KGgpICMgbW92ZSBoaW0gYmFja1xuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFJlbGF0aW9uVG9rZW5zKHsnc3VwZXJ2aXNvcic6ICdHYWx5bid9KSlcbiAgICBbXVxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFJlbGF0aW9uVG9rZW5zKHsnc3VwZXJ2aXNvcic6ICdEaWFuZSd9KSlcbiAgICBbJ0hvd2llJ11cblxuVHJhbnNpdGl2ZSBjeWNsZXMgKGFuZCB1cGRhdGluZyBhbmQgcmVtb3ZpbmcgcmVsYXRpb25zKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5UaGUgdHJhbnNpdGl2ZSBzZWFyY2hlcyBhbmQgdGhlIHByb3ZpZGVkIHNlYXJjaCBpbmRleGVzIGNhbiBoYW5kbGVcbmN5Y2xlcy4gIEN5Y2xlcyBhcmUgbGVzcyBsaWtlbHkgaW4gdGhlIGN1cnJlbnQgZXhhbXBsZSB0aGFuIHNvbWUgb3RoZXJzLFxuYnV0IHdlIGNhbiBzdHJldGNoIHRoZSBjYXNlIGEgYml0OiBpbWFnaW5lIGEgXCJraW5nIGluIGRpc2d1aXNlXCIsIGluXG53aGljaCBzb21lb25lIGF0IHRoZSB0b3Agd29ya3MgbG93ZXIgaW4gdGhlIGhpZXJhcmNoeS4gIFBlcmhhcHMgQWxpY2VcbndvcmtzIGZvciBaYW5lLCB3aG8gd29ya3MgZm9yIEJldHR5LCB3aG8gd29ya3MgZm9yIEFsaWNlLiAgQXJ0aWZpY2lhbCxcbmJ1dCBlYXN5IGVub3VnaCB0byBkcmF3OjpcblxuICAgICAgICAgICAgX19fX19fXG4gICAgICAgICAgIC8gICAgICBcXFxuICAgICAgICAgIC8gICAgIFphbmVcbiAgICAgICAgIC8gICAgICAgIHxcbiAgICAgICAgLyAgICAgICBBbGljZVxuICAgICAgIC8gICAgIF9fLyAgICAgXFxfX1xuICAgICAgLyBCZXR0eV9fICAgICAgICAgQ2h1Y2tcbiAgICAgIFxcLS8gIC8gICBcXCAgICAgICAgIC8gICBcXFxuICAgICAgICAgRGlhbmUgRWRnYXIgRnJhbmsgICBHYWx5blxuICAgICAgICAgIHxcbiAgICAgICAgSG93aWVcblxuRWFzeSB0byBjcmVhdGUgdG9vLlxuXG4gICAgPj4+IHogPSBFbXBsb3llZSgnWmFuZScsIGIpXG4gICAgPj4+IGEuc3VwZXJ2aXNvciA9IHpcblxuTm93IHdlIGhhdmUgYSBjeWNsZS4gIE9mIGNvdXJzZSwgd2UgaGF2ZSBub3QgeWV0IHRvbGQgdGhlIGNhdGFsb2cgYWJvdXQgaXQuXG5gYGluZGV4YGAgY2FuIGJlIHVzZWQgYm90aCB0byByZWluZGV4IEFsaWNlIGFuZCBpbmRleCBaYW5lLlxuXG4gICAgPj4+IGNhdGFsb2cuaW5kZXgoYSlcbiAgICA+Pj4gY2F0YWxvZy5pbmRleCh6KVxuXG5Ob3csIGlmIHdlIGFzayB3aG8gd29ya3MgZm9yIEJldHR5LCB3ZSBnZXQgdGhlIGVudGlyZSB0cmVlLiAgKFdlJ2xsIGFza1xuZm9yIHRva2VucywganVzdCBzbyB0aGF0IHRoZSByZXN1bHQgaXMgc21hbGxlciB0byBsb29rIGF0LikgWyNzYW1lX3NldF1fXG5cbi4uIFsjc2FtZV9zZXRdIFRoZSByZXN1bHQgb2YgdGhlIHF1ZXJ5IGZvciBCZXR0eSwgQWxpY2UsIGFuZCBaYW5lIGFyZSBhbGwgdGhlXG4gICAgc2FtZS5cblxuICAgID4+PiByZXMxID0gY2F0YWxvZy5maW5kUmVsYXRpb25Ub2tlbnMoeydzdXBlcnZpc29yJzogJ0JldHR5J30pXG4gICAgPj4+IHJlczIgPSBjYXRhbG9nLmZpbmRSZWxhdGlvblRva2Vucyh7J3N1cGVydmlzb3InOiAnQWxpY2UnfSlcbiAgICA+Pj4gcmVzMyA9IGNhdGFsb2cuZmluZFJlbGF0aW9uVG9rZW5zKHsnc3VwZXJ2aXNvcic6ICdaYW5lJ30pXG4gICAgPj4+IGxpc3QocmVzMSkgPT0gbGlzdChyZXMyKSA9PSBsaXN0KHJlczMpXG4gICAgVHJ1ZVxuXG4gICAgVGhlIGN5Y2xlIGRvZXNuJ3QgcG9sbHV0ZSB0aGUgaW5kZXggb3V0c2lkZSBvZiB0aGUgY3ljbGUuXG5cbiAgICA+Pj4gcmVzID0gY2F0YWxvZy5maW5kUmVsYXRpb25Ub2tlbnMoeydzdXBlcnZpc29yJzogJ0RpYW5lJ30pXG4gICAgPj4+IGxpc3QocmVzKVxuICAgIFsnSG93aWUnXVxuICAgID4+PiBsaXN0KHJlcykgIyBpdCBpc24ndCBsYXp5LCBpdCBpcyBwcmVjYWxjdWxhdGVkXG4gICAgWydIb3dpZSddXG5cbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZmluZFJlbGF0aW9uVG9rZW5zKHsnc3VwZXJ2aXNvcic6ICdCZXR0eSd9KSlcbiAgICAuLi4gIyBkb2N0ZXN0OiArTk9STUFMSVpFX1dISVRFU1BBQ0VcbiAgICBbJ0FsaWNlJywgJ0JldHR5JywgJ0NodWNrJywgJ0RpYW5lJywgJ0VkZ2FyJywgJ0ZyYW5rJywgJ0dhbHluJywgJ0hvd2llJyxcbiAgICAgJ1phbmUnXVxuXG5JZiB3ZSBhc2sgZm9yIHRoZSBzdXBlcnZpc29ycyBvZiBGcmFuaywgaXQgd2lsbCBpbmNsdWRlIEJldHR5LlxuXG4gICAgPj4+IGxpc3QoY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAnc3VwZXJ2aXNvcicsIHt6Yy5yZWxhdGlvbi5SRUxBVElPTjogJ0ZyYW5rJ30pKVxuICAgIFsnQ2h1Y2snLCAnQWxpY2UnLCAnWmFuZScsICdCZXR0eSddXG5cblBhdGhzIHJldHVybmVkIGJ5IGBgZmluZFJlbGF0aW9uQ2hhaW5zYGAgYXJlIG1hcmtlZCB3aXRoIHNwZWNpYWwgaW50ZXJmYWNlcyxcbmFuZCBzcGVjaWFsIG1ldGFkYXRhLCB0byBzaG93IHRoZSBjaGFpbi5cblxuICAgID4+PiByZXMgPSBsaXN0KGNhdGFsb2cuZmluZFJlbGF0aW9uQ2hhaW5zKHt6Yy5yZWxhdGlvbi5SRUxBVElPTjogJ0ZyYW5rJ30pKVxuICAgID4+PiBsZW4ocmVzKVxuICAgIDVcbiAgICA+Pj4gaW1wb3J0IHpjLnJlbGF0aW9uLmludGVyZmFjZXNcbiAgICA+Pj4gW3pjLnJlbGF0aW9uLmludGVyZmFjZXMuSUNpcmN1bGFyUmVsYXRpb25QYXRoLnByb3ZpZGVkQnkocilcbiAgICAuLi4gIGZvciByIGluIHJlc11cbiAgICBbRmFsc2UsIEZhbHNlLCBGYWxzZSwgRmFsc2UsIFRydWVdXG5cbkhlcmUncyB0aGUgbGFzdCBjaGFpbjpcblxuICAgID4+PiByZXNbLTFdICMgZG9jdGVzdDogK05PUk1BTElaRV9XSElURVNQQUNFXG4gICAgY3ljbGUoPEVtcGxveWVlIGluc3RhbmNlIFwiRnJhbmtcIj4sIDxFbXBsb3llZSBpbnN0YW5jZSBcIkNodWNrXCI+LFxuICAgICAgICAgIDxFbXBsb3llZSBpbnN0YW5jZSBcIkFsaWNlXCI+LCA8RW1wbG95ZWUgaW5zdGFuY2UgXCJaYW5lXCI+LFxuICAgICAgICAgIDxFbXBsb3llZSBpbnN0YW5jZSBcIkJldHR5XCI+KVxuXG5UaGUgY2hhaW4ncyAnY3ljbGVkJyBhdHRyaWJ1dGUgaGFzIGEgbGlzdCBvZiBxdWVyaWVzIHRoYXQgY3JlYXRlIGEgY3ljbGUuXG5JZiB5b3UgcnVuIHRoZSBxdWVyeSwgb3IgcXVlcmllcywgeW91IHNlZSB3aGVyZSB0aGUgY3ljbGUgd291bGRcbnJlc3RhcnQtLXdoZXJlIHRoZSBwYXRoIHdvdWxkIGhhdmUgc3RhcnRlZCB0byBvdmVybGFwLiAgU29tZXRpbWVzIHRoZSBxdWVyeVxucmVzdWx0cyB3aWxsIGluY2x1ZGUgbXVsdGlwbGUgY3ljbGVzLCBhbmQgc29tZSBwYXRocyB0aGF0IGFyZSBub3QgY3ljbGVzLlxuSW4gdGhpcyBjYXNlLCB0aGVyZSdzIG9ubHkgYSBzaW5nbGUgY3ljbGVkIHF1ZXJ5LCB3aGljaCByZXN1bHRzIGluIGEgc2luZ2xlXG5jeWNsZWQgcmVsYXRpb24uXG5cbiAgICA+Pj4gbGVuKHJlc1s0XS5jeWNsZWQpXG4gICAgMVxuXG4gICAgPj4+IGxpc3QoY2F0YWxvZy5maW5kUmVsYXRpb25zKHJlc1s0XS5jeWNsZWRbMF0sIG1heERlcHRoPTEpKVxuICAgIFs8RW1wbG95ZWUgaW5zdGFuY2UgXCJBbGljZVwiPl1cblxuVG8gcmVtb3ZlIHRoaXMgY3JhemluZXNzIFsjcmV2ZXJzZV9sb29rdXBdXywgd2UgY2FuIHVuaW5kZXggWmFuZSwgYW5kIGNoYW5nZVxuYW5kIHJlaW5kZXggQWxpY2UuXG5cbi4uIFsjcmV2ZXJzZV9sb29rdXBdIElmIHlvdSB3YW50IHRvLCBsb29rIHdoYXQgaGFwcGVucyB3aGVuIHlvdSBnbyB0aGVcbiAgICBvdGhlciB3YXk6XG5cbiAgICA+Pj4gcmVzID0gbGlzdChjYXRhbG9nLmZpbmRSZWxhdGlvbkNoYWlucyh7J3N1cGVydmlzb3InOiAnWmFuZSd9KSlcbiAgICA+Pj4gZGVmIHNvcnRFcXVhbExlbkJ5TmFtZShvbmUpOlxuICAgIC4uLiAgICAgcmV0dXJuIGxlbihvbmUpLCBvbmVcbiAgICAuLi5cbiAgICA+Pj4gcmVzLnNvcnQoa2V5PXNvcnRFcXVhbExlbkJ5TmFtZSkgICMgbm9ybWFsaXplcyBmb3IgdGVzdCBzdGFiaWxpdHlcbiAgICA+Pj4gZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBwcmludF9mdW5jdGlvblxuICAgID4+PiBwcmludChyZXMpICMgZG9jdGVzdDogK05PUk1BTElaRV9XSElURVNQQUNFXG4gICAgWyg8RW1wbG95ZWUgaW5zdGFuY2UgXCJBbGljZVwiPiwpLFxuICAgICAoPEVtcGxveWVlIGluc3RhbmNlIFwiQWxpY2VcIj4sIDxFbXBsb3llZSBpbnN0YW5jZSBcIkJldHR5XCI+KSxcbiAgICAgKDxFbXBsb3llZSBpbnN0YW5jZSBcIkFsaWNlXCI+LCA8RW1wbG95ZWUgaW5zdGFuY2UgXCJDaHVja1wiPiksXG4gICAgICg8RW1wbG95ZWUgaW5zdGFuY2UgXCJBbGljZVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiQmV0dHlcIj4sXG4gICAgICA8RW1wbG95ZWUgaW5zdGFuY2UgXCJEaWFuZVwiPiksXG4gICAgICg8RW1wbG95ZWUgaW5zdGFuY2UgXCJBbGljZVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiQmV0dHlcIj4sXG4gICAgICA8RW1wbG95ZWUgaW5zdGFuY2UgXCJFZGdhclwiPiksXG4gICAgIGN5Y2xlKDxFbXBsb3llZSBpbnN0YW5jZSBcIkFsaWNlXCI+LCA8RW1wbG95ZWUgaW5zdGFuY2UgXCJCZXR0eVwiPixcbiAgICAgICAgICAgPEVtcGxveWVlIGluc3RhbmNlIFwiWmFuZVwiPiksXG4gICAgICg8RW1wbG95ZWUgaW5zdGFuY2UgXCJBbGljZVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiQ2h1Y2tcIj4sXG4gICAgICA8RW1wbG95ZWUgaW5zdGFuY2UgXCJGcmFua1wiPiksXG4gICAgICg8RW1wbG95ZWUgaW5zdGFuY2UgXCJBbGljZVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiQ2h1Y2tcIj4sXG4gICAgICA8RW1wbG95ZWUgaW5zdGFuY2UgXCJHYWx5blwiPiksXG4gICAgICg8RW1wbG95ZWUgaW5zdGFuY2UgXCJBbGljZVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiQmV0dHlcIj4sXG4gICAgICA8RW1wbG95ZWUgaW5zdGFuY2UgXCJEaWFuZVwiPiwgPEVtcGxveWVlIGluc3RhbmNlIFwiSG93aWVcIj4pXVxuXG4gICAgPj4+IFt6Yy5yZWxhdGlvbi5pbnRlcmZhY2VzLklDaXJjdWxhclJlbGF0aW9uUGF0aC5wcm92aWRlZEJ5KHIpXG4gICAgLi4uICBmb3IgciBpbiByZXNdXG4gICAgW0ZhbHNlLCBGYWxzZSwgRmFsc2UsIEZhbHNlLCBGYWxzZSwgVHJ1ZSwgRmFsc2UsIEZhbHNlLCBGYWxzZV1cbiAgICA+Pj4gbGVuKHJlc1s1XS5jeWNsZWQpXG4gICAgMVxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFJlbGF0aW9ucyhyZXNbNV0uY3ljbGVkWzBdLCBtYXhEZXB0aD0xKSlcbiAgICBbPEVtcGxveWVlIGluc3RhbmNlIFwiQWxpY2VcIj5dXG5cbiAgICA+Pj4gYS5zdXBlcnZpc29yID0gTm9uZVxuICAgID4+PiBjYXRhbG9nLmluZGV4KGEpXG5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRWYWx1ZVRva2VucyhcbiAgICAuLi4gICAgICdzdXBlcnZpc29yJywge3pjLnJlbGF0aW9uLlJFTEFUSU9OOiAnRnJhbmsnfSkpXG4gICAgWydDaHVjaycsICdBbGljZSddXG5cbiAgICA+Pj4gY2F0YWxvZy51bmluZGV4KHopXG5cbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZmluZFJlbGF0aW9uVG9rZW5zKHsnc3VwZXJ2aXNvcic6ICdCZXR0eSd9KSlcbiAgICBbJ0RpYW5lJywgJ0VkZ2FyJywgJ0hvd2llJ11cblxuYGBjYW5GaW5kYGBcbi0tLS0tLS0tLS0tXG5cbldlJ3JlIHRvIHRoZSBsYXN0IHNlYXJjaCBtZXRob2Q6IGBgY2FuRmluZGBgLiAgV2UndmUgZ290dGVuIHZhbHVlcyBhbmRcbnJlbGF0aW9ucywgYnV0IHdoYXQgaWYgeW91IHNpbXBseSB3YW50IHRvIGtub3cgaWYgdGhlcmUgaXMgYW55XG5jb25uZWN0aW9uIGF0IGFsbD8gIEZvciBpbnN0YW5jZSwgaXMgQWxpY2UgYSBzdXBlcnZpc29yIG9mIEhvd2llPyBJc1xuQ2h1Y2s/ICBUbyBhbnN3ZXIgdGhlc2UgcXVlc3Rpb25zLCB5b3UgY2FuIHVzZSB0aGUgYGBjYW5GaW5kYGAgbWV0aG9kXG5jb21iaW5lZCB3aXRoIHRoZSBgYHRhcmdldFF1ZXJ5YGAgc2VhcmNoIGFyZ3VtZW50LlxuXG5UaGUgYGBjYW5GaW5kYGAgbWV0aG9kIHRha2VzIHRoZSBzYW1lIGFyZ3VtZW50cyBhcyBmaW5kUmVsYXRpb25zLiAgSG93ZXZlcixcbml0IHNpbXBseSByZXR1cm5zIGEgYm9vbGVhbiBhYm91dCB3aGV0aGVyIHRoZSBzZWFyY2ggaGFzIGFueSByZXN1bHRzLiAgVGhpc1xuaXMgYSBjb252ZW5pZW5jZSB0aGF0IGFsc28gYWxsb3dzIHNvbWUgZXh0cmEgb3B0aW1pemF0aW9ucy5cblxuRG9lcyBCZXR0eSBzdXBlcnZpc2UgYW55b25lP1xuXG4gICAgPj4+IGNhdGFsb2cuY2FuRmluZCh7J3N1cGVydmlzb3InOiAnQmV0dHknfSlcbiAgICBUcnVlXG5cbldoYXQgYWJvdXQgSG93aWU/XG5cbiAgICA+Pj4gY2F0YWxvZy5jYW5GaW5kKHsnc3VwZXJ2aXNvcic6ICdIb3dpZSd9KVxuICAgIEZhbHNlXG5cbldoYXQgYWJvdXQuLi5aYW5lIChubyBsb25nZXIgYW4gZW1wbG95ZWUpP1xuXG4gICAgPj4+IGNhdGFsb2cuY2FuRmluZCh7J3N1cGVydmlzb3InOiAnWmFuZSd9KVxuICAgIEZhbHNlXG5cbklmIHdlIHdhbnQgdG8ga25vdyBpZiBBbGljZSBvciBDaHVjayBzdXBlcnZpc2UgSG93aWUsIHRoZW4gd2Ugd2FudCB0byBzcGVjaWZ5XG5jaGFyYWN0ZXJpc3RpY3Mgb2YgdHdvIHBvaW50cyBvbiBhIHBhdGguICBUbyBhc2sgYSBxdWVzdGlvbiBhYm91dCB0aGUgb3RoZXJcbmVuZCBvZiBhIHBhdGgsIHVzZSBgYHRhcmdldFF1ZXJ5YGAuXG5cbklzIEFsaWNlIGEgc3VwZXJ2aXNvciBvZiBIb3dpZT9cblxuICAgID4+PiBjYXRhbG9nLmNhbkZpbmQoeydzdXBlcnZpc29yJzogJ0FsaWNlJ30sXG4gICAgLi4uICAgICAgICAgICAgICAgICB0YXJnZXRRdWVyeT17emMucmVsYXRpb24uUkVMQVRJT046ICdIb3dpZSd9KVxuICAgIFRydWVcblxuSXMgQ2h1Y2sgYSBzdXBlcnZpc29yIG9mIEhvd2llP1xuXG4gICAgPj4+IGNhdGFsb2cuY2FuRmluZCh7J3N1cGVydmlzb3InOiAnQ2h1Y2snfSxcbiAgICAuLi4gICAgICAgICAgICAgICAgIHRhcmdldFF1ZXJ5PXt6Yy5yZWxhdGlvbi5SRUxBVElPTjogJ0hvd2llJ30pXG4gICAgRmFsc2VcblxuSXMgSG93aWUgQWxpY2UncyBlbXBsb3llZT9cblxuICAgID4+PiBjYXRhbG9nLmNhbkZpbmQoe3pjLnJlbGF0aW9uLlJFTEFUSU9OOiAnSG93aWUnfSxcbiAgICAuLi4gICAgICAgICAgICAgICAgIHRhcmdldFF1ZXJ5PXsnc3VwZXJ2aXNvcic6ICdBbGljZSd9KVxuICAgIFRydWVcblxuSXMgSG93aWUgQ2h1Y2sncyBlbXBsb3llZT9cblxuICAgID4+PiBjYXRhbG9nLmNhbkZpbmQoe3pjLnJlbGF0aW9uLlJFTEFUSU9OOiAnSG93aWUnfSxcbiAgICAuLi4gICAgICAgICAgICAgICAgIHRhcmdldFF1ZXJ5PXsnc3VwZXJ2aXNvcic6ICdDaHVjayd9KVxuICAgIEZhbHNlXG5cbihOb3RlIHRoYXQsIGlmIHlvdXIgcmVsYXRpb25zIGRlc2NyaWJlIGEgaGllcmFyY2h5LCBzZWFyY2hpbmcgdXAgYSBoaWVyYXJjaHkgaXNcbnVzdWFsbHkgbW9yZSBlZmZpY2llbnQgdGhhbiBzZWFyY2hpbmcgZG93biwgc28gdGhlIHNlY29uZCBwYWlyIG9mIHF1ZXN0aW9ucyBpc1xuZ2VuZXJhbGx5IHByZWZlcmFibGUgdG8gdGhlIGZpcnN0IGluIHRoYXQgY2FzZS4pXG5cbldvcmtpbmcgd2l0aCBNb3JlIENvbXBsZXggUmVsYXRpb25zXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5TbyBmYXIsIG91ciBleGFtcGxlcyBoYXZlIHVzZWQgYSBzaW1wbGUgcmVsYXRpb24sIGluIHdoaWNoIHRoZSBpbmRleGVkIG9iamVjdFxuaXMgb25lIGVuZCBvZiB0aGUgcmVsYXRpb24sIGFuZCB0aGUgaW5kZXhlZCB2YWx1ZSBvbiB0aGUgb2JqZWN0IGlzIHRoZSBvdGhlci5cblRoaXMgZXhhbXBsZSBoYXMgbGV0IHVzIGxvb2sgYXQgYWxsIG9mIHRoZSBiYXNpYyB6Yy5yZWxhdGlvbiBjYXRhbG9nXG5mdW5jdGlvbmFsaXR5LlxuXG5BcyBtZW50aW9uZWQgaW4gdGhlIGludHJvZHVjdGlvbiwgdGhvdWdoLCB0aGUgY2F0YWxvZyBzdXBwb3J0cywgYW5kIHdhc1xuZGVzaWduZWQgZm9yLCBtb3JlIGNvbXBsZXggcmVsYXRpb25zLiAgVGhpcyBzZWN0aW9uIHdpbGwgcXVpY2tseSBleGFtaW5lIGFcbmZldyBleGFtcGxlcyBvZiBvdGhlciB1c2VzLlxuXG5JbiB0aGlzIHNlY3Rpb24sIHdlIHdpbGwgc2VlIHNldmVyYWwgZXhhbXBsZXMgb2YgaWRlYXMgbWVudGlvbmVkIGFib3ZlIGJ1dCBub3RcbnlldCBkZW1vbnN0cmF0ZWQuXG5cbi0gV2UgY2FuIHVzZSBpbnRlcmZhY2UgYXR0cmlidXRlcyAodmFsdWVzIG9yIGNhbGxhYmxlcykgdG8gZGVmaW5lIHZhbHVlXG4gIGluZGV4ZXMuXG5cbi0gVXNpbmcgaW50ZXJmYWNlIGF0dHJpYnV0ZXMgd2lsbCBjYXVzZSBhbiBhdHRlbXB0IHRvIGFkYXB0IHRoZSByZWxhdGlvbiBpZiBpdFxuICBkb2VzIG5vdCBhbHJlYWR5IHByb3ZpZGUgdGhlIGludGVyZmFjZS5cblxuLSBXZSBjYW4gdXNlIHRoZSBgYG11bHRpcGxlYGAgYXJndW1lbnQgd2hlbiBkZWZpbmluZyBhIHZhbHVlIGluZGV4IHRvIGluZGljYXRlXG4gIHRoYXQgdGhlIGluZGV4ZWQgdmFsdWUgaXMgYSBjb2xsZWN0aW9uLlxuXG4tIFdlIGNhbiB1c2UgdGhlIGBgbmFtZWBgIGFyZ3VtZW50IHdoZW4gZGVmaW5pbmcgYSB2YWx1ZSBpbmRleCB0byBzcGVjaWZ5IHRoZVxuICBuYW1lIHRvIGJlIHVzZWQgaW4gcXVlcmllcywgcmF0aGVyIHRoYW4gcmVseWluZyBvbiB0aGUgbmFtZSBvZiB0aGUgaW50ZXJmYWNlXG4gIGF0dHJpYnV0ZSBvciBjYWxsYWJsZS5cblxuLSBUaGUgYGBmYW1pbHlgYCBhcmd1bWVudCBpbiBpbnN0YW50aWF0aW5nIHRoZSBjYXRhbG9nIGxldHMgeW91IGNoYW5nZSB0aGVcbiAgZGVmYXVsdCBidHJlZSBmYW1pbHkgZm9yIHJlbGF0aW9ucyBhbmQgdmFsdWUgaW5kZXhlcyBmcm9tXG4gIGBgQlRyZWVzLmZhbWlseTMyLklGYGAgdG8gYGBCVHJlZXMuZmFtaWx5NjQuSUZgYC5cblxuRXh0cmluc2ljIFR3by1XYXkgUmVsYXRpb25zXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQSBzaW1wbGUgdmFyaWF0aW9uIG9mIG91ciBjdXJyZW50IHN0b3J5IGlzIHRoaXM6IHdoYXQgaWYgdGhlIGluZGV4ZWQgcmVsYXRpb25cbndlcmUgYmV0d2VlbiB0d28gb3RoZXIgb2JqZWN0cy0tdGhhdCBpcywgd2hhdCBpZiB0aGUgcmVsYXRpb24gd2VyZSBleHRyaW5zaWMgdG9cbmJvdGggcGFydGljaXBhbnRzP1xuXG5MZXQncyBpbWFnaW5lIHdlIGhhdmUgcmVsYXRpb25zIHRoYXQgc2hvdyBiaW9sb2dpY2FsIHBhcmVudGFnZS4gV2UnbGwgd2FudCBhXG5cIlBlcnNvblwiIGFuZCBhIFwiUGFyZW50YWdlXCIgcmVsYXRpb24uIFdlJ2xsIGRlZmluZSBhbiBpbnRlcmZhY2UgZm9yXG5gYElQYXJlbnRhZ2VgYCBzbyB3ZSBjYW4gc2VlIGhvdyB1c2luZyBhbiBpbnRlcmZhY2UgdG8gZGVmaW5lIGEgdmFsdWUgaW5kZXhcbndvcmtzLlxuXG4gICAgPj4+IGNsYXNzIFBlcnNvbihvYmplY3QpOlxuICAgIC4uLiAgICAgZGVmIF9faW5pdF9fKHNlbGYsIG5hbWUpOlxuICAgIC4uLiAgICAgICAgIHNlbGYubmFtZSA9IG5hbWVcbiAgICAuLi4gICAgIGRlZiBfX3JlcHJfXyhzZWxmKTpcbiAgICAuLi4gICAgICAgICByZXR1cm4gJzxQZXJzb24gJXI+JyAlIChzZWxmLm5hbWUsKVxuICAgIC4uLlxuICAgID4+PiBpbXBvcnQgem9wZS5pbnRlcmZhY2VcbiAgICA+Pj4gY2xhc3MgSVBhcmVudGFnZSh6b3BlLmludGVyZmFjZS5JbnRlcmZhY2UpOlxuICAgIC4uLiAgICAgY2hpbGQgPSB6b3BlLmludGVyZmFjZS5BdHRyaWJ1dGUoJ3RoZSBjaGlsZCcpXG4gICAgLi4uICAgICBwYXJlbnRzID0gem9wZS5pbnRlcmZhY2UuQXR0cmlidXRlKCd0aGUgcGFyZW50cycpXG4gICAgLi4uXG4gICAgPj4+IEB6b3BlLmludGVyZmFjZS5pbXBsZW1lbnRlcihJUGFyZW50YWdlKVxuICAgIC4uLiBjbGFzcyBQYXJlbnRhZ2Uob2JqZWN0KTpcbiAgICAuLi5cbiAgICAuLi4gICAgIGRlZiBfX2luaXRfXyhzZWxmLCBjaGlsZCwgcGFyZW50MSwgcGFyZW50Mik6XG4gICAgLi4uICAgICAgICAgc2VsZi5jaGlsZCA9IGNoaWxkXG4gICAgLi4uICAgICAgICAgc2VsZi5wYXJlbnRzID0gKHBhcmVudDEsIHBhcmVudDIpXG4gICAgLi4uXG5cbk5vdyB3ZSdsbCBkZWZpbmUgdGhlIGR1bXBlcnMgYW5kIGxvYWRlcnMgYW5kIHRoZW4gdGhlIGNhdGFsb2cuICBOb3RpY2UgdGhhdFxud2UgYXJlIHJlbHlpbmcgb24gYSBwYXR0ZXJuOiB0aGUgZHVtcCBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgdGhlIGxvYWQuXG5cbiAgICA+Pj4gX3Blb3BsZSA9IHt9XG4gICAgPj4+IF9yZWxhdGlvbnMgPSB7fVxuICAgID4+PiBkZWYgZHVtcFBlb3BsZShvYmosIGNhdGFsb2csIGNhY2hlKTpcbiAgICAuLi4gICAgIGlmIF9wZW9wbGUuc2V0ZGVmYXVsdChvYmoubmFtZSwgb2JqKSBpcyBub3Qgb2JqOlxuICAgIC4uLiAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ3dlIGFyZSBhc3N1bWluZyBuYW1lcyBhcmUgdW5pcXVlJylcbiAgICAuLi4gICAgIHJldHVybiBvYmoubmFtZVxuICAgIC4uLlxuICAgID4+PiBkZWYgbG9hZFBlb3BsZSh0b2tlbiwgY2F0YWxvZywgY2FjaGUpOlxuICAgIC4uLiAgICAgcmV0dXJuIF9wZW9wbGVbdG9rZW5dXG4gICAgLi4uXG4gICAgPj4+IGRlZiBkdW1wUmVsYXRpb25zKG9iaiwgY2F0YWxvZywgY2FjaGUpOlxuICAgIC4uLiAgICAgaWYgX3JlbGF0aW9ucy5zZXRkZWZhdWx0KGlkKG9iaiksIG9iaikgaXMgbm90IG9iajpcbiAgICAuLi4gICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdodWg/JylcbiAgICAuLi4gICAgIHJldHVybiBpZChvYmopXG4gICAgLi4uXG4gICAgPj4+IGRlZiBsb2FkUmVsYXRpb25zKHRva2VuLCBjYXRhbG9nLCBjYWNoZSk6XG4gICAgLi4uICAgICByZXR1cm4gX3JlbGF0aW9uc1t0b2tlbl1cbiAgICAuLi5cbiAgICA+Pj4gY2F0YWxvZyA9IHpjLnJlbGF0aW9uLmNhdGFsb2cuQ2F0YWxvZyhkdW1wUmVsYXRpb25zLCBsb2FkUmVsYXRpb25zLCBmYW1pbHk9QlRyZWVzLmZhbWlseTY0KVxuICAgID4+PiBjYXRhbG9nLmFkZFZhbHVlSW5kZXgoSVBhcmVudGFnZVsnY2hpbGQnXSwgZHVtcFBlb3BsZSwgbG9hZFBlb3BsZSxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgIGJ0cmVlPUJUcmVlcy5mYW1pbHkzMi5PTylcbiAgICA+Pj4gY2F0YWxvZy5hZGRWYWx1ZUluZGV4KElQYXJlbnRhZ2VbJ3BhcmVudHMnXSwgZHVtcFBlb3BsZSwgbG9hZFBlb3BsZSxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgIGJ0cmVlPUJUcmVlcy5mYW1pbHkzMi5PTywgbXVsdGlwbGU9VHJ1ZSxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgIG5hbWU9J3BhcmVudCcpXG4gICAgPj4+IGNhdGFsb2cuYWRkRGVmYXVsdFF1ZXJ5RmFjdG9yeShcbiAgICAuLi4gICAgIHpjLnJlbGF0aW9uLnF1ZXJ5ZmFjdG9yeS5UcmFuc3Bvc2luZ1RyYW5zaXRpdmUoXG4gICAgLi4uICAgICAgICAgJ2NoaWxkJywgJ3BhcmVudCcpKVxuXG5Ob3cgd2UgaGF2ZSBhIGNhdGFsb2cgZnVsbHkgc2V0IHVwLiAgTGV0J3MgYWRkIHNvbWUgcmVsYXRpb25zLlxuXG4gICAgPj4+IGEgPSBQZXJzb24oJ0FsaWNlJylcbiAgICA+Pj4gYiA9IFBlcnNvbignQmV0dHknKVxuICAgID4+PiBjID0gUGVyc29uKCdDaGFybGVzJylcbiAgICA+Pj4gZCA9IFBlcnNvbignRG9uYWxkJylcbiAgICA+Pj4gZSA9IFBlcnNvbignRXVnZW5pYScpXG4gICAgPj4+IGYgPSBQZXJzb24oJ0ZyZWQnKVxuICAgID4+PiBnID0gUGVyc29uKCdHZXJ0cnVkZScpXG4gICAgPj4+IGggPSBQZXJzb24oJ0hhcnJ5JylcbiAgICA+Pj4gaSA9IFBlcnNvbignSXBoaWdlbmlhJylcbiAgICA+Pj4gaiA9IFBlcnNvbignSmFjb2InKVxuICAgID4+PiBrID0gUGVyc29uKCdLYXJ5bicpXG4gICAgPj4+IGwgPSBQZXJzb24oJ0xlZScpXG5cbiAgICA+Pj4gcjEgPSBQYXJlbnRhZ2UoY2hpbGQ9aiwgcGFyZW50MT1rLCBwYXJlbnQyPWwpXG4gICAgPj4+IHIyID0gUGFyZW50YWdlKGNoaWxkPWcsIHBhcmVudDE9aSwgcGFyZW50Mj1qKVxuICAgID4+PiByMyA9IFBhcmVudGFnZShjaGlsZD1mLCBwYXJlbnQxPWcsIHBhcmVudDI9aClcbiAgICA+Pj4gcjQgPSBQYXJlbnRhZ2UoY2hpbGQ9ZSwgcGFyZW50MT1nLCBwYXJlbnQyPWgpXG4gICAgPj4+IHI1ID0gUGFyZW50YWdlKGNoaWxkPWIsIHBhcmVudDE9ZSwgcGFyZW50Mj1kKVxuICAgID4+PiByNiA9IFBhcmVudGFnZShjaGlsZD1hLCBwYXJlbnQxPWUsIHBhcmVudDI9YylcblxuSGVyZSdzIHRoYXQgaW4gb25lIG9mIG91ciBoaWVyYXJjaHkgZGlhZ3JhbXMuXG5cbjo6XG5cbiAgICBLYXJ5biAgIExlZVxuICAgICAgICAgXFwgL1xuICAgICAgICBKYWNvYiAgIElwaGlnZW5pYVxuICAgICAgICAgICAgIFxcIC9cbiAgICAgICAgICAgIEdlcnRydWRlICAgIEhhcnJ5XG4gICAgICAgICAgICAgICAgICAgIFxcICAvXG4gICAgICAgICAgICAgICAgIC8tLS0tLS0tXFxcbiAgICAgICAgICAgICBGcmVkICAgICAgICBFdWdlbmlhXG4gICAgICAgICAgICAgICBEb25hbGQgICAvICAgICBcXCAgICBDaGFybGVzXG4gICAgICAgICAgICAgICAgICAgICBcXCAvICAgICAgIFxcICAvXG4gICAgICAgICAgICAgICAgICAgIEJldHR5ICAgICAgQWxpY2VcblxuTm93IHdlIGNhbiBpbmRleCB0aGUgcmVsYXRpb25zLCBhbmQgYXNrIHNvbWUgcXVlc3Rpb25zLlxuXG4gICAgPj4+IGZvciByIGluIChyMSwgcjIsIHIzLCByNCwgcjUsIHI2KTpcbiAgICAuLi4gICAgIGNhdGFsb2cuaW5kZXgocilcbiAgICA+Pj4gcXVlcnkgPSBjYXRhbG9nLnRva2VuaXplUXVlcnlcbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKFxuICAgIC4uLiAgICAgJ3BhcmVudCcsIHF1ZXJ5KGNoaWxkPWEpLCBtYXhEZXB0aD0xKSlcbiAgICBbJ0NoYXJsZXMnLCAnRXVnZW5pYSddXG4gICAgPj4+IHNvcnRlZChjYXRhbG9nLmZpbmRWYWx1ZVRva2VucygncGFyZW50JywgcXVlcnkoY2hpbGQ9ZykpKVxuICAgIFsnSXBoaWdlbmlhJywgJ0phY29iJywgJ0thcnluJywgJ0xlZSddXG4gICAgPj4+IHNvcnRlZChjYXRhbG9nLmZpbmRWYWx1ZVRva2VucyhcbiAgICAuLi4gICAgICdjaGlsZCcsIHF1ZXJ5KHBhcmVudD1oKSwgbWF4RGVwdGg9MSkpXG4gICAgWydFdWdlbmlhJywgJ0ZyZWQnXVxuICAgID4+PiBzb3J0ZWQoY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoJ2NoaWxkJywgcXVlcnkocGFyZW50PWgpKSlcbiAgICBbJ0FsaWNlJywgJ0JldHR5JywgJ0V1Z2VuaWEnLCAnRnJlZCddXG4gICAgPj4+IGNhdGFsb2cuY2FuRmluZChxdWVyeShwYXJlbnQ9aCksIHRhcmdldFF1ZXJ5PXF1ZXJ5KGNoaWxkPWQpKVxuICAgIEZhbHNlXG4gICAgPj4+IGNhdGFsb2cuY2FuRmluZChxdWVyeShwYXJlbnQ9bCksIHRhcmdldFF1ZXJ5PXF1ZXJ5KGNoaWxkPWIpKVxuICAgIFRydWVcblxuTXVsdGktV2F5IFJlbGF0aW9uc1xuLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5UaGUgcHJldmlvdXMgZXhhbXBsZSBxdWlja2x5IHNob3dlZCBob3cgdG8gc2V0IHRoZSBjYXRhbG9nIHVwIGZvciBhIGNvbXBsZXRlbHlcbmV4dHJpbnNpYyB0d28td2F5IHJlbGF0aW9uLiAgVGhlIHNhbWUgcGF0dGVybiBjYW4gYmUgZXh0ZW5kZWQgZm9yIE4td2F5XG5yZWxhdGlvbnMuICBGb3IgZXhhbXBsZSwgY29uc2lkZXIgYSBmb3VyIHdheSByZWxhdGlvbiBpbiB0aGUgZm9ybSBvZlxuU1VCSkVDVFMgUFJFRElDQVRFIE9CSkVDVFMgW2luIENPTlRFWFRdLiAgRm9yIGluc3RhbmNlLCB3ZSBtaWdodFxud2FudCB0byBzYXkgXCIoam9lLCkgU0VMTFMgKGRvdWdobnV0cywgY29mZmVlKSBpbiBjb3JuZXJfc3RvcmVcIiwgd2hlcmUgXCIoam9lLClcIlxuaXMgdGhlIGNvbGxlY3Rpb24gb2Ygc3ViamVjdHMsIFwiU0VMTFNcIiBpcyB0aGUgcHJlZGljYXRlLCBcIihkb3VnaG51dHMsIGNvZmZlZSlcIlxuaXMgdGhlIGNvbGxlY3Rpb24gb2Ygb2JqZWN0cywgYW5kIFwiY29ybmVyX3N0b3JlXCIgaXMgdGhlIG9wdGlvbmFsIGNvbnRleHQuXG5cbkZvciB0aGlzIGxhc3QgZXhhbXBsZSwgd2UnbGwgaW50ZWdyYXRlIHR3byBjb21wb25lbnRzIHdlIGhhdmVuJ3Qgc2VlbiBleGFtcGxlc1xub2YgaGVyZSBiZWZvcmU6IHRoZSBaT0RCIGFuZCBhZGFwdGF0aW9uLlxuXG5PdXIgZXhhbXBsZSBaT0RCIGFwcHJvYWNoIHVzZXMgT0lEcyBhcyB0aGUgdG9rZW5zLiB0aGlzIG1pZ2h0IGJlIE9LIGluIHNvbWVcbmNhc2VzLCBpZiB5b3Ugd2lsbCBuZXZlciBzdXBwb3J0IG11bHRpcGxlIGRhdGFiYXNlcyBhbmQgeW91IGRvbid0IG5lZWQgYW5cbmFic3RyYWN0aW9uIGxheWVyIHNvIHRoYXQgYSBkaWZmZXJlbnQgb2JqZWN0IGNhbiBoYXZlIHRoZSBzYW1lIGlkZW50aWZpZXIuXG5cbiAgICA+Pj4gaW1wb3J0IHBlcnNpc3RlbnRcbiAgICA+Pj4gaW1wb3J0IHN0cnVjdFxuICAgID4+PiBjbGFzcyBEZW1vKHBlcnNpc3RlbnQuUGVyc2lzdGVudCk6XG4gICAgLi4uICAgICBkZWYgX19pbml0X18oc2VsZiwgbmFtZSk6XG4gICAgLi4uICAgICAgICAgc2VsZi5uYW1lID0gbmFtZVxuICAgIC4uLiAgICAgZGVmIF9fcmVwcl9fKHNlbGYpOlxuICAgIC4uLiAgICAgICAgIHJldHVybiAnPERlbW8gaW5zdGFuY2UgJXI+JyAlIChzZWxmLm5hbWUsKVxuICAgIC4uLlxuICAgID4+PiBjbGFzcyBJUmVsYXRpb24oem9wZS5pbnRlcmZhY2UuSW50ZXJmYWNlKTpcbiAgICAuLi4gICAgIHN1YmplY3RzID0gem9wZS5pbnRlcmZhY2UuQXR0cmlidXRlKCdzdWJqZWN0cycpXG4gICAgLi4uICAgICBwcmVkaWNhdGUgPSB6b3BlLmludGVyZmFjZS5BdHRyaWJ1dGUoJ3ByZWRpY2F0ZScpXG4gICAgLi4uICAgICBvYmplY3RzID0gem9wZS5pbnRlcmZhY2UuQXR0cmlidXRlKCdvYmplY3RzJylcbiAgICAuLi5cbiAgICA+Pj4gY2xhc3MgSUNvbnRleHR1YWwoem9wZS5pbnRlcmZhY2UuSW50ZXJmYWNlKTpcbiAgICAuLi4gICAgIGRlZiBnZXRDb250ZXh0KCk6XG4gICAgLi4uICAgICAgICAgJ3JldHVybiBjb250ZXh0J1xuICAgIC4uLiAgICAgZGVmIHNldENvbnRleHQodmFsdWUpOlxuICAgIC4uLiAgICAgICAgICdzZXQgY29udGV4dCdcbiAgICAuLi5cbiAgICA+Pj4gQHpvcGUuaW50ZXJmYWNlLmltcGxlbWVudGVyKElDb250ZXh0dWFsKVxuICAgIC4uLiBjbGFzcyBDb250ZXh0dWFsKG9iamVjdCk6XG4gICAgLi4uXG4gICAgLi4uICAgICBfY29udGV4dCA9IE5vbmVcbiAgICAuLi4gICAgIGRlZiBnZXRDb250ZXh0KHNlbGYpOlxuICAgIC4uLiAgICAgICAgIHJldHVybiBzZWxmLl9jb250ZXh0XG4gICAgLi4uICAgICBkZWYgc2V0Q29udGV4dChzZWxmLCB2YWx1ZSk6XG4gICAgLi4uICAgICAgICAgc2VsZi5fY29udGV4dCA9IHZhbHVlXG4gICAgLi4uXG4gICAgPj4+IEB6b3BlLmludGVyZmFjZS5pbXBsZW1lbnRlcihJUmVsYXRpb24pXG4gICAgLi4uIGNsYXNzIFJlbGF0aW9uKHBlcnNpc3RlbnQuUGVyc2lzdGVudCk6XG4gICAgLi4uXG4gICAgLi4uICAgICBkZWYgX19pbml0X18oc2VsZiwgc3ViamVjdHMsIHByZWRpY2F0ZSwgb2JqZWN0cyk6XG4gICAgLi4uICAgICAgICAgc2VsZi5zdWJqZWN0cyA9IHN1YmplY3RzXG4gICAgLi4uICAgICAgICAgc2VsZi5wcmVkaWNhdGUgPSBwcmVkaWNhdGVcbiAgICAuLi4gICAgICAgICBzZWxmLm9iamVjdHMgPSBvYmplY3RzXG4gICAgLi4uICAgICAgICAgc2VsZi5fY29udGV4dHVhbCA9IENvbnRleHR1YWwoKVxuICAgIC4uLlxuICAgIC4uLiAgICAgZGVmIF9fY29uZm9ybV9fKHNlbGYsIGlmYWNlKTpcbiAgICAuLi4gICAgICAgICBpZiBpZmFjZSBpcyBJQ29udGV4dHVhbDpcbiAgICAuLi4gICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2NvbnRleHR1YWxcbiAgICAuLi5cblxuKFdoZW4gdXNpbmcgem9wZS5jb21wb25lbnQsIHRoZSBgYF9fY29uZm9ybV9fYGAgd291bGQgbm9ybWFsbHkgYmUgdW5uZWNlc3Nhcnk7XG5ob3dldmVyLCB0aGlzIHBhY2thZ2UgZG9lcyBub3QgZGVwZW5kIG9uIHpvcGUuY29tcG9uZW50LilcblxuICAgID4+PiBkZWYgZHVtcFBlcnNpc3RlbnQob2JqLCBjYXRhbG9nLCBjYWNoZSk6XG4gICAgLi4uICAgICBpZiBvYmouX3BfamFyIGlzIE5vbmU6XG4gICAgLi4uICAgICAgICAgY2F0YWxvZy5fcF9qYXIuYWRkKG9iaikgIyBhc3N1bWVzIHNvbWV0aGluZyBlbHNlIHBsYWNlcyBpdFxuICAgIC4uLiAgICAgcmV0dXJuIHN0cnVjdC51bnBhY2soJzxxJywgb2JqLl9wX29pZClbMF1cbiAgICAuLi5cbiAgICA+Pj4gZGVmIGxvYWRQZXJzaXN0ZW50KHRva2VuLCBjYXRhbG9nLCBjYWNoZSk6XG4gICAgLi4uICAgICByZXR1cm4gY2F0YWxvZy5fcF9qYXIuZ2V0KHN0cnVjdC5wYWNrKCc8cScsIHRva2VuKSlcbiAgICAuLi5cblxuICAgID4+PiBmcm9tIFpPREIudGVzdHMudXRpbCBpbXBvcnQgREJcbiAgICA+Pj4gZGIgPSBEQigpXG4gICAgPj4+IGNvbm4gPSBkYi5vcGVuKClcbiAgICA+Pj4gcm9vdCA9IGNvbm4ucm9vdCgpXG4gICAgPj4+IGNhdGFsb2cgPSByb290WydjYXRhbG9nJ10gPSB6Yy5yZWxhdGlvbi5jYXRhbG9nLkNhdGFsb2coXG4gICAgLi4uICAgICBkdW1wUGVyc2lzdGVudCwgbG9hZFBlcnNpc3RlbnQsIGZhbWlseT1CVHJlZXMuZmFtaWx5NjQpXG4gICAgPj4+IGNhdGFsb2cuYWRkVmFsdWVJbmRleChJUmVsYXRpb25bJ3N1YmplY3RzJ10sXG4gICAgLi4uICAgICBkdW1wUGVyc2lzdGVudCwgbG9hZFBlcnNpc3RlbnQsIG11bHRpcGxlPVRydWUsIG5hbWU9J3N1YmplY3QnKVxuICAgID4+PiBjYXRhbG9nLmFkZFZhbHVlSW5kZXgoSVJlbGF0aW9uWydvYmplY3RzJ10sXG4gICAgLi4uICAgICBkdW1wUGVyc2lzdGVudCwgbG9hZFBlcnNpc3RlbnQsIG11bHRpcGxlPVRydWUsIG5hbWU9J29iamVjdCcpXG4gICAgPj4+IGNhdGFsb2cuYWRkVmFsdWVJbmRleChJUmVsYXRpb25bJ3ByZWRpY2F0ZSddLCBidHJlZT1CVHJlZXMuZmFtaWx5MzIuT08pXG4gICAgPj4+IGNhdGFsb2cuYWRkVmFsdWVJbmRleChJQ29udGV4dHVhbFsnZ2V0Q29udGV4dCddLFxuICAgIC4uLiAgICAgZHVtcFBlcnNpc3RlbnQsIGxvYWRQZXJzaXN0ZW50LCBuYW1lPSdjb250ZXh0JylcbiAgICA+Pj4gaW1wb3J0IHRyYW5zYWN0aW9uXG4gICAgPj4+IHRyYW5zYWN0aW9uLmNvbW1pdCgpXG5cblRoZSBgYGR1bXBQZXJzaXN0ZW50YGAgYW5kIGBgbG9hZFBlcnNpc3RlbnRgYCBpcyBhIGJpdCBvZiBhIHRveSwgYXMgd2FybmVkXG5hYm92ZS4gQWxzbywgd2hpbGUgb3VyIHByZWRpY2F0ZSB3aWxsIGJlIHN0b3JlZCBhcyBhIHN0cmluZywgc29tZSBwcm9ncmFtbWVyc1xubWF5IHByZWZlciB0byBoYXZlIGEgZHVtcCBpbiBzdWNoIGEgY2FzZSB2ZXJpZnkgdGhhdCB0aGUgc3RyaW5nIGhhcyBiZWVuXG5leHBsaWNpdGx5IHJlZ2lzdGVyZWQgaW4gc29tZSB3YXksIHRvIHByZXZlbnQgdHlwb3MuIE9idmlvdXNseSwgd2UgYXJlIG5vdFxuYm90aGVyaW5nIHdpdGggdGhpcyBmb3Igb3VyIGV4YW1wbGUuXG5cbldlIG1ha2Ugc29tZSBvYmplY3RzLCBhbmQgdGhlbiB3ZSBtYWtlIHNvbWUgcmVsYXRpb25zIHdpdGggdGhvc2Ugb2JqZWN0cyBhbmRcbmluZGV4IHRoZW0uXG5cbiAgICA+Pj4gam9lID0gcm9vdFsnam9lJ10gPSBEZW1vKCdqb2UnKVxuICAgID4+PiBzYXJhID0gcm9vdFsnc2FyYSddID0gRGVtbygnc2FyYScpXG4gICAgPj4+IGphY2sgPSByb290WydqYWNrJ10gPSBEZW1vKCdqYWNrJylcbiAgICA+Pj4gYW5uID0gcm9vdFsnYW5uJ10gPSBEZW1vKCdhbm4nKVxuICAgID4+PiBkb3VnaG51dHMgPSByb290Wydkb3VnaG51dHMnXSA9IERlbW8oJ2RvdWdobnV0cycpXG4gICAgPj4+IGNvZmZlZSA9IHJvb3RbJ2NvZmZlZSddID0gRGVtbygnY29mZmVlJylcbiAgICA+Pj4gbXVmZmlucyA9IHJvb3RbJ211ZmZpbnMnXSA9IERlbW8oJ211ZmZpbnMnKVxuICAgID4+PiBjb29raWVzID0gcm9vdFsnY29va2llcyddID0gRGVtbygnY29va2llcycpXG4gICAgPj4+IG5ld3NwYXBlciA9IHJvb3RbJ25ld3NwYXBlciddID0gRGVtbygnbmV3c3BhcGVyJylcbiAgICA+Pj4gY29ybmVyX3N0b3JlID0gcm9vdFsnY29ybmVyX3N0b3JlJ10gPSBEZW1vKCdjb3JuZXJfc3RvcmUnKVxuICAgID4+PiBiaXN0cm8gPSByb290WydiaXN0cm8nXSA9IERlbW8oJ2Jpc3RybycpXG4gICAgPj4+IGJha2VyeSA9IHJvb3RbJ2Jha2VyeSddID0gRGVtbygnYmFrZXJ5JylcblxuICAgID4+PiBTRUxMUyA9ICdTRUxMUydcbiAgICA+Pj4gQlVZUyA9ICdCVVlTJ1xuICAgID4+PiBPQlNFUlZFUyA9ICdPQlNFUlZFUydcblxuICAgID4+PiByZWwxID0gcm9vdFsncmVsMSddID0gUmVsYXRpb24oKGpvZSwpLCBTRUxMUywgKGRvdWdobnV0cywgY29mZmVlKSlcbiAgICA+Pj4gSUNvbnRleHR1YWwocmVsMSkuc2V0Q29udGV4dChjb3JuZXJfc3RvcmUpXG4gICAgPj4+IHJlbDIgPSByb290WydyZWwyJ10gPSBSZWxhdGlvbigoc2FyYSwgamFjayksIFNFTExTLFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG11ZmZpbnMsIGRvdWdobnV0cywgY29va2llcykpXG4gICAgPj4+IElDb250ZXh0dWFsKHJlbDIpLnNldENvbnRleHQoYmFrZXJ5KVxuICAgID4+PiByZWwzID0gcm9vdFsncmVsMyddID0gUmVsYXRpb24oKGFubiwpLCBCVVlTLCAoZG91Z2hudXRzLCkpXG4gICAgPj4+IHJlbDQgPSByb290WydyZWw0J10gPSBSZWxhdGlvbigoc2FyYSwpLCBCVVlTLCAoYmlzdHJvLCkpXG5cbiAgICA+Pj4gZm9yIHIgaW4gKHJlbDEsIHJlbDIsIHJlbDMsIHJlbDQpOlxuICAgIC4uLiAgICAgY2F0YWxvZy5pbmRleChyKVxuICAgIC4uLlxuXG5Ob3cgd2UgY2FuIGFzayBhIHNpbXBsZSBxdWVzdGlvbi4gIFdoZXJlIGRvIHRoZXkgc2VsbCBkb3VnaG51dHM/XG5cbiAgICA+Pj4gcXVlcnkgPSBjYXRhbG9nLnRva2VuaXplUXVlcnlcbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZmluZFZhbHVlcyhcbiAgICAuLi4gICAgICdjb250ZXh0JyxcbiAgICAuLi4gICAgIChxdWVyeShwcmVkaWNhdGU9U0VMTFMsIG9iamVjdD1kb3VnaG51dHMpKSksXG4gICAgLi4uICAgICBrZXk9bGFtYmRhIG9iOiBvYi5uYW1lKVxuICAgIFs8RGVtbyBpbnN0YW5jZSAnYmFrZXJ5Jz4sIDxEZW1vIGluc3RhbmNlICdjb3JuZXJfc3RvcmUnPl1cblxuSG9wZWZ1bGx5IHRoZXNlIGV4YW1wbGVzIGdpdmUgeW91IGZ1cnRoZXIgaWRlYXMgb24gaG93IHlvdSBjYW4gdXNlIHRoaXMgdG9vbC5cblxuQWRkaXRpb25hbCBGdW5jdGlvbmFsaXR5XG49PT09PT09PT09PT09PT09PT09PT09PT1cblxuVGhpcyBzZWN0aW9uIGludHJvZHVjZXMgcGVyaXBoZXJhbCBmdW5jdGlvbmFsaXR5LiAgV2Ugd2lsbCBsZWFybiB0aGUgZm9sbG93aW5nLlxuXG4tIExpc3RlbmVycyBjYW4gYmUgcmVnaXN0ZXJlZCBpbiB0aGUgY2F0YWxvZy4gIFRoZXkgYXJlIGFsZXJ0ZWQgd2hlbiBhIHJlbGF0aW9uXG4gIGlzIGFkZGVkLCBtb2RpZmllZCwgb3IgcmVtb3ZlZDsgYW5kIHdoZW4gdGhlIGNhdGFsb2cgaXMgY2xlYXJlZCBhbmQgY29waWVkXG4gIChzZWUgYmVsb3cpLlxuXG4tIFRoZSBgYGNsZWFyYGAgbWV0aG9kIGNsZWFycyB0aGUgcmVsYXRpb25zIGluIHRoZSBjYXRhbG9nLlxuXG4tIFRoZSBgYGNvcHlgYCBtZXRob2QgbWFrZXMgYSBjb3B5IG9mIHRoZSBjdXJyZW50IGNhdGFsb2cgYnkgY29weWluZyBpbnRlcm5hbFxuICBkYXRhIHN0cnVjdHVyZXMsIHJhdGhlciB0aGFuIHJlaW5kZXhpbmcgdGhlIHJlbGF0aW9ucywgd2hpY2ggY2FuIGJlIGFcbiAgc2lnbmlmaWNhbnQgb3B0aW1pemF0aW9uIG9wcG9ydHVuaXR5LiAgVGhpcyBjb3BpZXMgdmFsdWUgaW5kZXhlcyBhbmQgc2VhcmNoXG4gIGluZGV4ZXM7IGFuZCBnaXZlcyBsaXN0ZW5lcnMgYW4gb3Bwb3J0dW5pdHkgdG8gc3BlY2lmeSB3aGF0LCBpZiBhbnl0aGluZyxcbiAgc2hvdWxkIGJlIGluY2x1ZGVkIGluIHRoZSBuZXcgY29weS5cblxuLSBUaGUgYGBpZ25vcmVTZWFyY2hJbmRleGBgIGFyZ3VtZW50IHRvIHRoZSBmaXZlIHBlcnRpbmVudCBzZWFyY2ggbWV0aG9kc1xuICBjYXVzZXMgdGhlIHNlYXJjaCB0byBpZ25vcmUgc2VhcmNoIGluZGV4ZXMsIGV2ZW4gaWYgdGhlcmUgaXMgYW4gYXBwcm9wcmlhdGVcbiAgb25lLlxuXG4tIGBgZmluZFJlbGF0aW9uVG9rZW5zKClgYCAod2l0aG91dCBhcmd1bWVudHMpIHJldHVybnMgdGhlIEJUcmVlIHNldCBvZiBhbGxcbiAgcmVsYXRpb24gdG9rZW5zIGluIHRoZSBjYXRhbG9nLlxuXG4tIGBgZmluZFZhbHVlVG9rZW5zKElOREVYX05BTUUpYGAgKHdoZXJlIFwiSU5ERVhfTkFNRVwiIHNob3VsZCBiZSByZXBsYWNlZCB3aXRoXG4gIGFuIGluZGV4IG5hbWUpIHJldHVybnMgdGhlIEJUcmVlIHNldCBvZiBhbGwgdmFsdWUgdG9rZW5zIGluIHRoZSBjYXRhbG9nIGZvclxuICB0aGUgZ2l2ZW4gaW5kZXggbmFtZS5cblxuTGlzdGVuZXJzXG4tLS0tLS0tLS1cblxuQSB2YXJpZXR5IG9mIHBvdGVudGlhbCBjbGllbnRzIG1heSB3YW50IHRvIGJlIGFsZXJ0ZWQgd2hlbiB0aGUgY2F0YWxvZyBjaGFuZ2VzLlxuemMucmVsYXRpb24gZG9lcyBub3QgZGVwZW5kIG9uIHpvcGUuZXZlbnQsIHNvIGxpc3RlbmVycyBtYXkgYmUgcmVnaXN0ZXJlZCBmb3JcbnZhcmlvdXMgY2hhbmdlcy4gIExldCdzIG1ha2UgYSBxdWljayBkZW1vIGxpc3RlbmVyLiAgVGhlIGBgYWRkaXRpb25zYGAgYW5kXG5gYHJlbW92YWxzYGAgYXJndW1lbnRzIGFyZSBkaWN0aW9uYXJpZXMgb2Yge3ZhbHVlIG5hbWU6IGl0ZXJhYmxlIG9mIGFkZGVkIG9yXG5yZW1vdmVkIHZhbHVlIHRva2Vuc30uXG5cbiAgICA+Pj4gZGVmIHBjaGFuZ2UoZCk6XG4gICAgLi4uICAgICBwcHJpbnQucHByaW50KGRpY3QoXG4gICAgLi4uICAgICAgICAgKGssIHYgaXMgbm90IE5vbmUgYW5kIHNvcnRlZChzZXQodikpIG9yIHYpIGZvciBrLCB2IGluIGQuaXRlbXMoKSkpXG4gICAgPj4+IEB6b3BlLmludGVyZmFjZS5pbXBsZW1lbnRlcih6Yy5yZWxhdGlvbi5pbnRlcmZhY2VzLklMaXN0ZW5lcilcbiAgICAuLi4gY2xhc3MgRGVtb0xpc3RlbmVyKHBlcnNpc3RlbnQuUGVyc2lzdGVudCk6XG4gICAgLi4uXG4gICAgLi4uICAgICBkZWYgcmVsYXRpb25BZGRlZChzZWxmLCB0b2tlbiwgY2F0YWxvZywgYWRkaXRpb25zKTpcbiAgICAuLi4gICAgICAgICBwcmludCgnYSByZWxhdGlvbiAodG9rZW4gJXIpIHdhcyBhZGRlZCB0byAlciAnXG4gICAgLi4uICAgICAgICAgICAgICAgICd3aXRoIHRoZXNlIHZhbHVlczonICUgKHRva2VuLCBjYXRhbG9nKSlcbiAgICAuLi4gICAgICAgICBwY2hhbmdlKGFkZGl0aW9ucylcbiAgICAuLi4gICAgIGRlZiByZWxhdGlvbk1vZGlmaWVkKHNlbGYsIHRva2VuLCBjYXRhbG9nLCBhZGRpdGlvbnMsIHJlbW92YWxzKTpcbiAgICAuLi4gICAgICAgICBwcmludCgnYSByZWxhdGlvbiAodG9rZW4gJXIpIGluICVyIHdhcyBtb2RpZmllZCAnXG4gICAgLi4uICAgICAgICAgICAgICAgICd3aXRoIHRoZXNlIGFkZGl0aW9uczonICUgKHRva2VuLCBjYXRhbG9nKSlcbiAgICAuLi4gICAgICAgICBwY2hhbmdlKGFkZGl0aW9ucylcbiAgICAuLi4gICAgICAgICBwcmludCgnYW5kIHRoZXNlIHJlbW92YWxzOicpXG4gICAgLi4uICAgICAgICAgcGNoYW5nZShyZW1vdmFscylcbiAgICAuLi4gICAgIGRlZiByZWxhdGlvblJlbW92ZWQoc2VsZiwgdG9rZW4sIGNhdGFsb2csIHJlbW92YWxzKTpcbiAgICAuLi4gICAgICAgICBwcmludCgnYSByZWxhdGlvbiAodG9rZW4gJXIpIHdhcyByZW1vdmVkIGZyb20gJXIgJ1xuICAgIC4uLiAgICAgICAgICAgICAgICAnd2l0aCB0aGVzZSB2YWx1ZXM6JyAlICh0b2tlbiwgY2F0YWxvZykpXG4gICAgLi4uICAgICAgICAgcGNoYW5nZShyZW1vdmFscylcbiAgICAuLi4gICAgIGRlZiBzb3VyY2VDbGVhcmVkKHNlbGYsIGNhdGFsb2cpOlxuICAgIC4uLiAgICAgICAgIHByaW50KCdjYXRhbG9nICVyIGhhZCBhbGwgcmVsYXRpb25zIHVuaW5kZXhlZCcgJSAoY2F0YWxvZywpKVxuICAgIC4uLiAgICAgZGVmIHNvdXJjZUFkZGVkKHNlbGYsIGNhdGFsb2cpOlxuICAgIC4uLiAgICAgICAgIHByaW50KCdub3cgbGlzdGVuaW5nIHRvIGNhdGFsb2cgJXInICUgKGNhdGFsb2csKSlcbiAgICAuLi4gICAgIGRlZiBzb3VyY2VSZW1vdmVkKHNlbGYsIGNhdGFsb2cpOlxuICAgIC4uLiAgICAgICAgIHByaW50KCdubyBsb25nZXIgbGlzdGVuaW5nIHRvIGNhdGFsb2cgJXInICUgKGNhdGFsb2csKSlcbiAgICAuLi4gICAgIGRlZiBzb3VyY2VDb3BpZWQoc2VsZiwgb3JpZ2luYWwsIGNvcHkpOlxuICAgIC4uLiAgICAgICAgIHByaW50KCdjYXRhbG9nICVyIG1hZGUgYSBjb3B5ICVyJyAlIChjYXRhbG9nLCBjb3B5KSlcbiAgICAuLi4gICAgICAgICBjb3B5LmFkZExpc3RlbmVyKHNlbGYpXG4gICAgLi4uXG5cbkxpc3RlbmVycyBjYW4gYmUgaW5zdGFsbGVkIG11bHRpcGxlIHRpbWVzLlxuXG5MaXN0ZW5lcnMgY2FuIGJlIGFkZGVkIGFzIHBlcnNpc3RlbnQgd2VhayByZWZlcmVuY2VzLCBzbyB0aGF0LCBpZiB0aGV5IGFyZVxuZGVsZXRlZCBlbHNld2hlcmUsIGEgWk9EQiBwYWNrIHdpbGwgbm90IGNvbnNpZGVyIHRoZSByZWZlcmVuY2UgaW4gdGhlIGNhdGFsb2dcbnRvIGJlIHNvbWV0aGluZyBwcmV2ZW50aW5nIGdhcmJhZ2UgY29sbGVjdGlvbi5cblxuV2UnbGwgaW5zdGFsbCBvbmUgb2YgdGhlc2UgZGVtbyBsaXN0ZW5lcnMgaW50byBvdXIgbmV3IGNhdGFsb2cgYXMgYVxubm9ybWFsIHJlZmVyZW5jZSwgdGhlIGRlZmF1bHQgYmVoYXZpb3IuICBUaGVuIHdlJ2xsIHNob3cgc29tZSBleGFtcGxlIG1lc3NhZ2VzXG5zZW50IHRvIHRoZSBkZW1vIGxpc3RlbmVyLlxuXG4gICAgPj4+IGxpc3RlbmVyID0gRGVtb0xpc3RlbmVyKClcbiAgICA+Pj4gY2F0YWxvZy5hZGRMaXN0ZW5lcihsaXN0ZW5lcikgIyBkb2N0ZXN0OiArRUxMSVBTSVNcbiAgICBub3cgbGlzdGVuaW5nIHRvIGNhdGFsb2cgPHpjLnJlbGF0aW9uLmNhdGFsb2cuQ2F0YWxvZyBvYmplY3QgYXQgLi4uPlxuICAgID4+PiByZWw1ID0gcm9vdFsncmVsNSddID0gUmVsYXRpb24oKGFubiwpLCBPQlNFUlZFUywgKG5ld3NwYXBlciwpKVxuICAgID4+PiBjYXRhbG9nLmluZGV4KHJlbDUpICMgZG9jdGVzdDogK0VMTElQU0lTXG4gICAgYSByZWxhdGlvbiAodG9rZW4gLi4uKSB3YXMgYWRkZWQgdG8gPC4uLkNhdGFsb2cuLi4+IHdpdGggdGhlc2UgdmFsdWVzOlxuICAgIHsnY29udGV4dCc6IE5vbmUsXG4gICAgICdvYmplY3QnOiBbLi4uXSxcbiAgICAgJ3ByZWRpY2F0ZSc6IFsnT0JTRVJWRVMnXSxcbiAgICAgJ3N1YmplY3QnOiBbLi4uXX1cbiAgICA+Pj4gcmVsNS5zdWJqZWN0cyA9IChqYWNrLClcbiAgICA+Pj4gSUNvbnRleHR1YWwocmVsNSkuc2V0Q29udGV4dChiaXN0cm8pXG4gICAgPj4+IGNhdGFsb2cuaW5kZXgocmVsNSkgIyBkb2N0ZXN0OiArRUxMSVBTSVNcbiAgICBhIHJlbGF0aW9uICh0b2tlbiAuLi4pIGluIC4uLkNhdGFsb2cuLi4gd2FzIG1vZGlmaWVkIHdpdGggdGhlc2UgYWRkaXRpb25zOlxuICAgIHsnY29udGV4dCc6IFsuLi5dLCAnc3ViamVjdCc6IFsuLi5dfVxuICAgIGFuZCB0aGVzZSByZW1vdmFsczpcbiAgICB7J3N1YmplY3QnOiBbLi4uXX1cbiAgICA+Pj4gY2F0YWxvZy51bmluZGV4KHJlbDUpICMgZG9jdGVzdDogK0VMTElQU0lTXG4gICAgYSByZWxhdGlvbiAodG9rZW4gLi4uKSB3YXMgcmVtb3ZlZCBmcm9tIDwuLi5DYXRhbG9nLi4uPiB3aXRoIHRoZXNlIHZhbHVlczpcbiAgICB7J2NvbnRleHQnOiBbLi4uXSxcbiAgICAgJ29iamVjdCc6IFsuLi5dLFxuICAgICAncHJlZGljYXRlJzogWydPQlNFUlZFUyddLFxuICAgICAnc3ViamVjdCc6IFsuLi5dfVxuXG4gICAgPj4+IGNhdGFsb2cucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpICMgZG9jdGVzdDogK0VMTElQU0lTXG4gICAgbm8gbG9uZ2VyIGxpc3RlbmluZyB0byBjYXRhbG9nIDwuLi5DYXRhbG9nLi4uPlxuICAgID4+PiBjYXRhbG9nLmluZGV4KHJlbDUpICMgZG9jdGVzdDogK0VMTElQU0lTXG5cblRoZSBvbmx5IHR3byBtZXRob2RzIG5vdCBzaG93biBieSB0aG9zZSBleGFtcGxlcyBhcmUgYGBzb3VyY2VDbGVhcmVkYGAgYW5kXG5gYHNvdXJjZUNvcGllZGBgLiAgV2UnbGwgZ2V0IHRvIHRob3NlIHZlcnkgc29vbiBiZWxvdy5cblxuVGhlIGBgY2xlYXJgYCBNZXRob2Rcbi0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblRoZSBgYGNsZWFyYGAgbWV0aG9kIHNpbXBseSBpbmRleGVzIGFsbCByZWxhdGlvbnMgZnJvbSBhIGNhdGFsb2cuICBJbnN0YWxsZWRcbmxpc3RlbmVycyBoYXZlIGBgc291cmNlQ2xlYXJlZGBgIGNhbGxlZC5cblxuICAgID4+PiBsZW4oY2F0YWxvZylcbiAgICA1XG5cbiAgICA+Pj4gY2F0YWxvZy5hZGRMaXN0ZW5lcihsaXN0ZW5lcikgIyBkb2N0ZXN0OiArRUxMSVBTSVNcbiAgICBub3cgbGlzdGVuaW5nIHRvIGNhdGFsb2cgPHpjLnJlbGF0aW9uLmNhdGFsb2cuQ2F0YWxvZyBvYmplY3QgYXQgLi4uPlxuXG4gICAgPj4+IGNhdGFsb2cuY2xlYXIoKSAjIGRvY3Rlc3Q6ICtFTExJUFNJU1xuICAgIGNhdGFsb2cgPC4uLkNhdGFsb2cuLi4+IGhhZCBhbGwgcmVsYXRpb25zIHVuaW5kZXhlZFxuXG4gICAgPj4+IGxlbihjYXRhbG9nKVxuICAgIDBcbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZmluZFZhbHVlcyhcbiAgICAuLi4gICAgICdjb250ZXh0JyxcbiAgICAuLi4gICAgIChxdWVyeShwcmVkaWNhdGU9U0VMTFMsIG9iamVjdD1kb3VnaG51dHMpKSksXG4gICAgLi4uICAgICBrZXk9bGFtYmRhIG9iOiBvYi5uYW1lKVxuICAgIFtdXG5cblRoZSBgYGNvcHlgYCBNZXRob2Rcbi0tLS0tLS0tLS0tLS0tLS0tLS1cblxuU29tZXRpbWVzIHlvdSBtYXkgd2FudCB0byBjb3B5IGEgcmVsYXRpb24gY2F0YWxvZy4gIE9uZSB3YXkgb2YgZG9pbmcgdGhpcyBpc1xudG8gY3JlYXRlIGEgbmV3IGNhdGFsb2csIHNldCBpdCB1cCBsaWtlIHRoZSBjdXJyZW50IG9uZSwgYW5kIHRoZW4gcmVpbmRleFxuYWxsIHRoZSBzYW1lIHJlbGF0aW9ucy4gIFRoaXMgaXMgdW5uZWNlc3NhcmlseSBzbG93IGZvciBwcm9ncmFtbWVyIGFuZFxuY29tcHV0ZXIuICBUaGUgYGBjb3B5YGAgbWV0aG9kIG1ha2VzIGEgbmV3IGNhdGFsb2cgd2l0aCB0aGUgc2FtZSBjb3JwdXMgb2ZcbmluZGV4ZWQgcmVsYXRpb25zIGJ5IGNvcHlpbmcgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmVzLlxuXG5TZWFyY2ggaW5kZXhlcyBhcmUgcmVxdWVzdGVkIHRvIG1ha2UgbmV3IGNvcGllcyBvZiB0aGVtc2VsdmVzIGZvciB0aGUgbmV3XG5jYXRhbG9nOyBhbmQgbGlzdGVuZXJzIGFyZSBnaXZlbiBhbiBvcHBvcnR1bml0eSB0byByZWFjdCBhcyBkZXNpcmVkIHRvIHRoZSBuZXdcbmNvcHksIGluY2x1ZGluZyBpbnN0YWxsaW5nIHRoZW1zZWx2ZXMsIGFuZC9vciBhbm90aGVyIG9iamVjdCBvZiB0aGVpciBjaG9vc2luZ1xuYXMgYSBsaXN0ZW5lci5cblxuTGV0J3MgbWFrZSBhIGNvcHkgb2YgYSBwb3B1bGF0ZWQgaW5kZXggd2l0aCBhIHNlYXJjaCBpbmRleCBhbmQgYSBsaXN0ZW5lci5cbk5vdGljZSBpbiBvdXIgbGlzdGVuZXIgdGhhdCBgYHNvdXJjZUNvcGllZGBgIGFkZHMgaXRzZWxmIGFzIGEgbGlzdGVuZXIgdG8gdGhlXG5uZXcgY29weS4gVGhpcyBpcyBkb25lIGF0IHRoZSB2ZXJ5IGVuZCBvZiB0aGUgYGBjb3B5YGAgcHJvY2Vzcy5cblxuICAgID4+PiBmb3IgciBpbiAocmVsMSwgcmVsMiwgcmVsMywgcmVsNCwgcmVsNSk6XG4gICAgLi4uICAgICBjYXRhbG9nLmluZGV4KHIpXG4gICAgLi4uICMgZG9jdGVzdDogK0VMTElQU0lTXG4gICAgYSByZWxhdGlvbiAuLi4gd2FzIGFkZGVkLi4uXG4gICAgYSByZWxhdGlvbiAuLi4gd2FzIGFkZGVkLi4uXG4gICAgYSByZWxhdGlvbiAuLi4gd2FzIGFkZGVkLi4uXG4gICAgYSByZWxhdGlvbiAuLi4gd2FzIGFkZGVkLi4uXG4gICAgYSByZWxhdGlvbiAuLi4gd2FzIGFkZGVkLi4uXG4gICAgPj4+IEJFR0FUID0gJ0JFR0FUJ1xuICAgID4+PiByZWw2ID0gcm9vdFsncmVsNiddID0gUmVsYXRpb24oKGphY2ssIGFubiksIEJFR0FULCAoc2FyYSwpKVxuICAgID4+PiBoZW5yeSA9IHJvb3RbJ2hlbnJ5J10gPSBEZW1vKCdoZW5yeScpXG4gICAgPj4+IHJlbDcgPSByb290WydyZWw3J10gPSBSZWxhdGlvbigoc2FyYSwgam9lKSwgQkVHQVQsIChoZW5yeSwpKVxuICAgID4+PiBjYXRhbG9nLmluZGV4KHJlbDYpICMgZG9jdGVzdDogK0VMTElQU0lTXG4gICAgYSByZWxhdGlvbiAodG9rZW4gLi4uKSB3YXMgYWRkZWQgdG8gPC4uLkNhdGFsb2cuLi4+IHdpdGggdGhlc2UgdmFsdWVzOlxuICAgIHsnY29udGV4dCc6IE5vbmUsXG4gICAgICdvYmplY3QnOiBbLi4uXSxcbiAgICAgJ3ByZWRpY2F0ZSc6IFsnQkVHQVQnXSxcbiAgICAgJ3N1YmplY3QnOiBbLi4uLCAuLi5dfVxuICAgID4+PiBjYXRhbG9nLmluZGV4KHJlbDcpICMgZG9jdGVzdDogK0VMTElQU0lTXG4gICAgYSByZWxhdGlvbiAodG9rZW4gLi4uKSB3YXMgYWRkZWQgdG8gPC4uLkNhdGFsb2cuLi4+IHdpdGggdGhlc2UgdmFsdWVzOlxuICAgIHsnY29udGV4dCc6IE5vbmUsXG4gICAgICdvYmplY3QnOiBbLi4uXSxcbiAgICAgJ3ByZWRpY2F0ZSc6IFsnQkVHQVQnXSxcbiAgICAgJ3N1YmplY3QnOiBbLi4uLCAuLi5dfVxuICAgID4+PiBjYXRhbG9nLmFkZERlZmF1bHRRdWVyeUZhY3RvcnkoXG4gICAgLi4uICAgICB6Yy5yZWxhdGlvbi5xdWVyeWZhY3RvcnkuVHJhbnNwb3NpbmdUcmFuc2l0aXZlKFxuICAgIC4uLiAgICAgICAgICdzdWJqZWN0JywgJ29iamVjdCcsIHsncHJlZGljYXRlJzogQkVHQVR9KSlcbiAgICAuLi5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRWYWx1ZXMoXG4gICAgLi4uICAgICAnb2JqZWN0JywgcXVlcnkoc3ViamVjdD1qYWNrLCBwcmVkaWNhdGU9QkVHQVQpKSlcbiAgICBbPERlbW8gaW5zdGFuY2UgJ3NhcmEnPiwgPERlbW8gaW5zdGFuY2UgJ2hlbnJ5Jz5dXG4gICAgPj4+IGNhdGFsb2cuYWRkU2VhcmNoSW5kZXgoXG4gICAgLi4uICAgICB6Yy5yZWxhdGlvbi5zZWFyY2hpbmRleC5UcmFuc3Bvc2luZ1RyYW5zaXRpdmVNZW1iZXJzaGlwKFxuICAgIC4uLiAgICAgICAgICdzdWJqZWN0JywgJ29iamVjdCcsIHN0YXRpYz17J3ByZWRpY2F0ZSc6IEJFR0FUfSkpXG4gICAgPj4+IHNvcnRlZChcbiAgICAuLi4gICAgIGNhdGFsb2cuZmluZFZhbHVlcyhcbiAgICAuLi4gICAgICAgICAnb2JqZWN0JywgcXVlcnkoc3ViamVjdD1qYWNrLCBwcmVkaWNhdGU9QkVHQVQpKSxcbiAgICAuLi4gICAgIGtleT1sYW1iZGEgbzogby5uYW1lKVxuICAgIFs8RGVtbyBpbnN0YW5jZSAnaGVucnknPiwgPERlbW8gaW5zdGFuY2UgJ3NhcmEnPl1cblxuICAgID4+PiBuZXdjYXQgPSByb290WyduZXdjYXQnXSA9IGNhdGFsb2cuY29weSgpICMgZG9jdGVzdDogK0VMTElQU0lTXG4gICAgY2F0YWxvZyA8Li4uQ2F0YWxvZy4uLj4gbWFkZSBhIGNvcHkgPC4uLkNhdGFsb2cuLi4+XG4gICAgbm93IGxpc3RlbmluZyB0byBjYXRhbG9nIDwuLi5DYXRhbG9nLi4uPlxuICAgID4+PiB0cmFuc2FjdGlvbi5jb21taXQoKVxuXG5Ob3cgdGhlIGNvcHkgaGFzIGl0cyBvd24gY29waWVzIG9mIGludGVybmFsIGRhdGEgc3RydWN0dXJlcyBhbmQgb2YgdGhlXG5zZWFyY2hpbmRleC4gIEZvciBleGFtcGxlLCBsZXQncyBtb2RpZnkgdGhlIHJlbGF0aW9ucyBhbmQgYWRkIGEgbmV3IG9uZSB0byB0aGVcbmNvcHkuXG5cbiAgICA+Pj4gbWFyeSA9IHJvb3RbJ21hcnknXSA9IERlbW8oJ21hcnknKVxuICAgID4+PiBidWZmeSA9IHJvb3RbJ2J1ZmZ5J10gPSBEZW1vKCdidWZmeScpXG4gICAgPj4+IHphY2sgPSByb290Wyd6YWNrJ10gPSBEZW1vKCd6YWNrJylcbiAgICA+Pj4gcmVsNy5vYmplY3RzICs9IChtYXJ5LClcbiAgICA+Pj4gcmVsOCA9IHJvb3RbJ3JlbDgnXSA9IFJlbGF0aW9uKChoZW5yeSwgYnVmZnkpLCBCRUdBVCwgKHphY2ssKSlcbiAgICA+Pj4gbmV3Y2F0LmluZGV4KHJlbDcpICMgZG9jdGVzdDogK0VMTElQU0lTXG4gICAgYSByZWxhdGlvbiAodG9rZW4gLi4uKSBpbiAuLi5DYXRhbG9nLi4uIHdhcyBtb2RpZmllZCB3aXRoIHRoZXNlIGFkZGl0aW9uczpcbiAgICB7J29iamVjdCc6IFsuLi5dfVxuICAgIGFuZCB0aGVzZSByZW1vdmFsczpcbiAgICB7fVxuICAgID4+PiBuZXdjYXQuaW5kZXgocmVsOCkgIyBkb2N0ZXN0OiArRUxMSVBTSVNcbiAgICBhIHJlbGF0aW9uICh0b2tlbiAuLi4pIHdhcyBhZGRlZCB0byAuLi5DYXRhbG9nLi4uIHdpdGggdGhlc2UgdmFsdWVzOlxuICAgIHsnY29udGV4dCc6IE5vbmUsXG4gICAgICdvYmplY3QnOiBbLi4uXSxcbiAgICAgJ3ByZWRpY2F0ZSc6IFsnQkVHQVQnXSxcbiAgICAgJ3N1YmplY3QnOiBbLi4uLCAuLi5dfVxuICAgID4+PiBsZW4obmV3Y2F0KVxuICAgIDhcbiAgICA+Pj4gc29ydGVkKFxuICAgIC4uLiAgICAgbmV3Y2F0LmZpbmRWYWx1ZXMoXG4gICAgLi4uICAgICAgICAgJ29iamVjdCcsIHF1ZXJ5KHN1YmplY3Q9amFjaywgcHJlZGljYXRlPUJFR0FUKSksXG4gICAgLi4uICAgICBrZXk9bGFtYmRhIG86IG8ubmFtZSkgIyBkb2N0ZXN0OiArTk9STUFMSVpFX1dISVRFU1BBQ0VcbiAgICBbPERlbW8gaW5zdGFuY2UgJ2hlbnJ5Jz4sIDxEZW1vIGluc3RhbmNlICdtYXJ5Jz4sIDxEZW1vIGluc3RhbmNlICdzYXJhJz4sXG4gICAgIDxEZW1vIGluc3RhbmNlICd6YWNrJz5dXG4gICAgPj4+IHNvcnRlZChcbiAgICAuLi4gICAgIG5ld2NhdC5maW5kVmFsdWVzKFxuICAgIC4uLiAgICAgICAgICdvYmplY3QnLCBxdWVyeShzdWJqZWN0PXNhcmEpKSxcbiAgICAuLi4gICAgIGtleT1sYW1iZGEgbzogby5uYW1lKSAjIGRvY3Rlc3Q6ICtOT1JNQUxJWkVfV0hJVEVTUEFDRVxuICAgIFs8RGVtbyBpbnN0YW5jZSAnYmlzdHJvJz4sIDxEZW1vIGluc3RhbmNlICdjb29raWVzJz4sXG4gICAgPERlbW8gaW5zdGFuY2UgJ2RvdWdobnV0cyc+LCA8RGVtbyBpbnN0YW5jZSAnaGVucnknPixcbiAgICA8RGVtbyBpbnN0YW5jZSAnbWFyeSc+LCA8RGVtbyBpbnN0YW5jZSAnbXVmZmlucyc+XVxuXG5UaGUgb3JpZ2luYWwgY2F0YWxvZyBpcyBub3QgbW9kaWZpZWQuXG5cbiAgICA+Pj4gbGVuKGNhdGFsb2cpXG4gICAgN1xuICAgID4+PiBzb3J0ZWQoXG4gICAgLi4uICAgICBjYXRhbG9nLmZpbmRWYWx1ZXMoXG4gICAgLi4uICAgICAgICAgJ29iamVjdCcsIHF1ZXJ5KHN1YmplY3Q9amFjaywgcHJlZGljYXRlPUJFR0FUKSksXG4gICAgLi4uICAgICBrZXk9bGFtYmRhIG86IG8ubmFtZSlcbiAgICBbPERlbW8gaW5zdGFuY2UgJ2hlbnJ5Jz4sIDxEZW1vIGluc3RhbmNlICdzYXJhJz5dXG4gICAgPj4+IHNvcnRlZChcbiAgICAuLi4gICAgIGNhdGFsb2cuZmluZFZhbHVlcyhcbiAgICAuLi4gICAgICAgICAnb2JqZWN0JywgcXVlcnkoc3ViamVjdD1zYXJhKSksXG4gICAgLi4uICAgICBrZXk9bGFtYmRhIG86IG8ubmFtZSkgIyBkb2N0ZXN0OiArTk9STUFMSVpFX1dISVRFU1BBQ0VcbiAgICBbPERlbW8gaW5zdGFuY2UgJ2Jpc3Rybyc+LCA8RGVtbyBpbnN0YW5jZSAnY29va2llcyc+LFxuICAgICA8RGVtbyBpbnN0YW5jZSAnZG91Z2hudXRzJz4sIDxEZW1vIGluc3RhbmNlICdoZW5yeSc+LFxuICAgICA8RGVtbyBpbnN0YW5jZSAnbXVmZmlucyc+XVxuXG5UaGUgYGBpZ25vcmVTZWFyY2hJbmRleGBgIGFyZ3VtZW50XG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblRoZSBmaXZlIG1ldGhvZHMgdGhhdCBjYW4gdXNlIHNlYXJjaCBpbmRleGVzLCBgYGZpbmRWYWx1ZXNgYCxcbmBgZmluZFZhbHVlVG9rZW5zYGAsIGBgZmluZFJlbGF0aW9uc2BgLCBgYGZpbmRSZWxhdGlvblRva2Vuc2BgLCBhbmRcbmBgY2FuRmluZGBgLCBjYW4gYmUgZXhwbGljaXRseSByZXF1ZXN0ZWQgdG8gaWdub3JlIGFueSBwZXJ0aW5lbnQgc2VhcmNoIGluZGV4XG51c2luZyB0aGUgYGBpZ25vcmVTZWFyY2hJbmRleGBgIGFyZ3VtZW50LlxuXG5XZSBjYW4gc2VlIHRoaXMgZWFzaWx5IHdpdGggdGhlIHRva2VuLXJlbGF0ZWQgbWV0aG9kczogdGhlIHNlYXJjaCBpbmRleCByZXN1bHRcbndpbGwgYmUgYSBCVHJlZSBzZXQsIHdoaWxlIHdpdGhvdXQgdGhlIHNlYXJjaCBpbmRleCB0aGUgcmVzdWx0IHdpbGwgYmUgYVxuZ2VuZXJhdG9yLlxuXG4gICAgPj4+IHJlczEgPSBuZXdjYXQuZmluZFZhbHVlVG9rZW5zKFxuICAgIC4uLiAgICAgJ29iamVjdCcsIHF1ZXJ5KHN1YmplY3Q9amFjaywgcHJlZGljYXRlPUJFR0FUKSlcbiAgICA+Pj4gcmVzMSAjIGRvY3Rlc3Q6ICtFTExJUFNJU1xuICAgIExGU2V0KFsuLi4sIC4uLiwgLi4uLCAuLi5dKVxuICAgID4+PiByZXMyID0gbmV3Y2F0LmZpbmRWYWx1ZVRva2VucyhcbiAgICAuLi4gICAgICdvYmplY3QnLCBxdWVyeShzdWJqZWN0PWphY2ssIHByZWRpY2F0ZT1CRUdBVCksXG4gICAgLi4uICAgICBpZ25vcmVTZWFyY2hJbmRleD1UcnVlKVxuICAgID4+PiByZXMyICMgZG9jdGVzdDogK0VMTElQU0lTXG4gICAgPGdlbmVyYXRvciBvYmplY3QgLi4uIGF0IDB4Li4uPlxuICAgID4+PiBzb3J0ZWQocmVzMikgPT0gbGlzdChyZXMxKVxuICAgIFRydWVcblxuICAgID4+PiByZXMxID0gbmV3Y2F0LmZpbmRSZWxhdGlvblRva2VucyhcbiAgICAuLi4gICAgIHF1ZXJ5KHN1YmplY3Q9amFjaywgcHJlZGljYXRlPUJFR0FUKSlcbiAgICA+Pj4gcmVzMSAjIGRvY3Rlc3Q6ICtFTExJUFNJU1xuICAgIExGU2V0KFsuLi4sIC4uLiwgLi4uXSlcbiAgICA+Pj4gcmVzMiA9IG5ld2NhdC5maW5kUmVsYXRpb25Ub2tlbnMoXG4gICAgLi4uICAgICBxdWVyeShzdWJqZWN0PWphY2ssIHByZWRpY2F0ZT1CRUdBVCksIGlnbm9yZVNlYXJjaEluZGV4PVRydWUpXG4gICAgPj4+IHJlczIgIyBkb2N0ZXN0OiArRUxMSVBTSVNcbiAgICA8Z2VuZXJhdG9yIG9iamVjdCAuLi4gYXQgMHguLi4+XG4gICAgPj4+IHNvcnRlZChyZXMyKSA9PSBsaXN0KHJlczEpXG4gICAgVHJ1ZVxuXG5XZSBjYW4gc2VlIHRoYXQgdGhlIG90aGVyIG1ldGhvZHMgdGFrZSB0aGUgYXJndW1lbnQsIGJ1dCB0aGUgcmVzdWx0cyBsb29rIHRoZVxuc2FtZSBhcyB1c3VhbC5cblxuICAgID4+PiByZXMgPSBuZXdjYXQuZmluZFZhbHVlcyhcbiAgICAuLi4gICAgICdvYmplY3QnLCBxdWVyeShzdWJqZWN0PWphY2ssIHByZWRpY2F0ZT1CRUdBVCksXG4gICAgLi4uICAgICBpZ25vcmVTZWFyY2hJbmRleD1UcnVlKVxuICAgID4+PiByZXMgIyBkb2N0ZXN0OiArRUxMSVBTSVNcbiAgICA8Z2VuZXJhdG9yIG9iamVjdCAuLi4gYXQgMHguLi4+XG4gICAgPj4+IGxpc3QocmVzKSA9PSBsaXN0KG5ld2NhdC5yZXNvbHZlVmFsdWVUb2tlbnMobmV3Y2F0LmZpbmRWYWx1ZVRva2VucyhcbiAgICAuLi4gICAgICdvYmplY3QnLCBxdWVyeShzdWJqZWN0PWphY2ssIHByZWRpY2F0ZT1CRUdBVCksXG4gICAgLi4uICAgICBpZ25vcmVTZWFyY2hJbmRleD1UcnVlKSwgJ29iamVjdCcpKVxuICAgIFRydWVcblxuICAgID4+PiByZXMgPSBuZXdjYXQuZmluZFJlbGF0aW9ucyhcbiAgICAuLi4gICAgIHF1ZXJ5KHN1YmplY3Q9amFjaywgcHJlZGljYXRlPUJFR0FUKSxcbiAgICAuLi4gICAgIGlnbm9yZVNlYXJjaEluZGV4PVRydWUpXG4gICAgPj4+IHJlcyAjIGRvY3Rlc3Q6ICtFTExJUFNJU1xuICAgIDxnZW5lcmF0b3Igb2JqZWN0IC4uLiBhdCAweC4uLj5cbiAgICA+Pj4gbGlzdChyZXMpID09IGxpc3QobmV3Y2F0LnJlc29sdmVSZWxhdGlvblRva2VucyhcbiAgICAuLi4gICAgIG5ld2NhdC5maW5kUmVsYXRpb25Ub2tlbnMoXG4gICAgLi4uICAgICAgICAgcXVlcnkoc3ViamVjdD1qYWNrLCBwcmVkaWNhdGU9QkVHQVQpLFxuICAgIC4uLiAgICAgICAgIGlnbm9yZVNlYXJjaEluZGV4PVRydWUpKSlcbiAgICBUcnVlXG5cbiAgICA+Pj4gbmV3Y2F0LmNhbkZpbmQoXG4gICAgLi4uICAgICBxdWVyeShzdWJqZWN0PWphY2ssIHByZWRpY2F0ZT1CRUdBVCksIGlnbm9yZVNlYXJjaEluZGV4PVRydWUpXG4gICAgVHJ1ZVxuXG5gYGZpbmRSZWxhdGlvblRva2VucygpYGBcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5JZiB5b3UgY2FsbCBgYGZpbmRSZWxhdGlvblRva2Vuc2BgIHdpdGhvdXQgYW55IGFyZ3VtZW50cywgeW91IHdpbGwgZ2V0IHRoZVxuQlRyZWUgc2V0IG9mIGFsbCByZWxhdGlvbiB0b2tlbnMgaW4gdGhlIGNhdGFsb2cuICBUaGlzIGNhbiBiZSBoYW5keSBmb3IgdGVzdHNcbmFuZCBmb3IgYWR2YW5jZWQgdXNlcyBvZiB0aGUgY2F0YWxvZy5cblxuICAgID4+PiBuZXdjYXQuZmluZFJlbGF0aW9uVG9rZW5zKCkgIyBkb2N0ZXN0OiArRUxMSVBTSVNcbiAgICA8QlRyZWVzLkxGQlRyZWUuTEZUcmVlU2V0IG9iamVjdCBhdCAuLi4+XG4gICAgPj4+IGxlbihuZXdjYXQuZmluZFJlbGF0aW9uVG9rZW5zKCkpXG4gICAgOFxuICAgID4+PiBzZXQobmV3Y2F0LnJlc29sdmVSZWxhdGlvblRva2VucyhuZXdjYXQuZmluZFJlbGF0aW9uVG9rZW5zKCkpKSA9PSBzZXQoXG4gICAgLi4uICAgICAocmVsMSwgcmVsMiwgcmVsMywgcmVsNCwgcmVsNSwgcmVsNiwgcmVsNywgcmVsOCkpXG4gICAgVHJ1ZVxuXG5gYGZpbmRWYWx1ZVRva2VucyhJTkRFWF9OQU1FKWBgXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbklmIHlvdSBjYWxsIGBgZmluZFZhbHVlVG9rZW5zYGAgd2l0aCBvbmx5IGFuIGluZGV4IG5hbWUsIHlvdSB3aWxsIGdldCB0aGUgQlRyZWVcbnN0cnVjdHVyZSBvZiBhbGwgdG9rZW5zIGZvciB0aGF0IHZhbHVlIGluIHRoZSBpbmRleC4gVGhpcyBjYW4gYmUgaGFuZHkgZm9yXG50ZXN0cyBhbmQgZm9yIGFkdmFuY2VkIHVzZXMgb2YgdGhlIGNhdGFsb2cuXG5cbiAgICA+Pj4gbmV3Y2F0LmZpbmRWYWx1ZVRva2VucygncHJlZGljYXRlJykgIyBkb2N0ZXN0OiArRUxMSVBTSVNcbiAgICA8QlRyZWVzLk9PQlRyZWUuT09CVHJlZSBvYmplY3QgYXQgLi4uPlxuICAgID4+PiBsaXN0KG5ld2NhdC5maW5kVmFsdWVUb2tlbnMoJ3ByZWRpY2F0ZScpKVxuICAgIFsnQkVHQVQnLCAnQlVZUycsICdPQlNFUlZFUycsICdTRUxMUyddXG5cbkNvbmNsdXNpb25cbj09PT09PT09PT1cblxuUmV2aWV3XG4tLS0tLS1cblxuVGhhdCBicmluZ3MgdXMgdG8gdGhlIGVuZCBvZiBvdXIgaW50cm9kdWN0b3J5IGV4YW1wbGVzLiAgTGV0J3MgcmV2aWV3LCBhbmRcbnRoZW4gbG9vayBhdCB3aGVyZSB5b3UgY2FuIGdvIGZyb20gaGVyZS5cblxuKiBSZWxhdGlvbnMgYXJlIG9iamVjdHMgd2l0aCBpbmRleGVkIHZhbHVlcy5cblxuKiBUaGUgcmVsYXRpb24gY2F0YWxvZyBpbmRleGVzIHJlbGF0aW9ucy4gVGhlIHJlbGF0aW9ucyBjYW4gYmUgb25lLXdheSxcbiAgdHdvLXdheSwgdGhyZWUtd2F5LCBvciBOLXdheSwgYXMgbG9uZyBhcyB5b3UgdGVsbCB0aGUgY2F0YWxvZyB0byBpbmRleCB0aGVcbiAgZGlmZmVyZW50IHZhbHVlcy5cblxuKiBDcmVhdGluZyBhIGNhdGFsb2c6XG5cbiAgICAtIFJlbGF0aW9ucyBhbmQgdGhlaXIgdmFsdWVzIGFyZSBzdG9yZWQgaW4gdGhlIGNhdGFsb2cgYXMgdG9rZW5zOiB1bmlxdWVcbiAgICAgIGlkZW50aWZpZXJzIHRoYXQgeW91IGNhbiByZXNvbHZlIGJhY2sgdG8gdGhlIG9yaWdpbmFsIHZhbHVlLiBJbnRlZ2VycyBhcmVcbiAgICAgIHRoZSBtb3N0IGVmZmljaWVudCB0b2tlbnMsIGJ1dCBvdGhlcnMgY2FuIHdvcmsgZmluZSB0b28uXG5cbiAgICAtIFRva2VuIHR5cGUgZGV0ZXJtaW5lcyB0aGUgQlRyZWUgbW9kdWxlIG5lZWRlZC5cblxuICAgICAgICAtIElmIHRoZSB0b2tlbnMgYXJlIDMyLWJpdCBpbnRzLCBjaG9vc2UgYGBCVHJlZXMuZmFtaWx5MzIuSUlgYCxcbiAgICAgICAgICBgYEJUcmVlcy5mYW1pbHkzMi5JRmBgIG9yIGBgQlRyZWVzLmZhbWlseTMyLklPYGAuXG5cbiAgICAgICAgLSBJZiB0aGUgdG9rZW5zIGFyZSA2NCBiaXQgaW50cywgY2hvb3NlIGBgQlRyZWVzLmZhbWlseTY0LklJYGAsXG4gICAgICAgICAgYGBCVHJlZXMuZmFtaWx5NjQuSUZgYCBvciBgYEJUcmVlcy5mYW1pbHk2NC5JT2BgLlxuXG4gICAgICAgIC0gSWYgdGhleSBhcmUgYW55dGhpbmcgZWxzZSwgY2hvb3NlIGBgQlRyZWVzLmZhbWlseTMyLk9JYGAsXG4gICAgICAgICAgYGBCVHJlZXMuZmFtaWx5NjQuT0lgYCwgb3IgYGBCVHJlZXMuZmFtaWx5MzIuT09gYCAob3JcbiAgICAgICAgICBCVHJlZXMuZmFtaWx5NjQuT08tLXRoZXkgYXJlIHRoZSBzYW1lKS5cblxuICAgICAgV2l0aGluIHRoZXNlIHJ1bGVzLCB0aGUgY2hvaWNlIGlzIHNvbWV3aGF0IGFyYml0cmFyeSB1bmxlc3MgeW91IHBsYW4gdG9cbiAgICAgIG1lcmdlIHRoZXNlIHJlc3VsdHMgd2l0aCB0aGF0IG9mIGFub3RoZXIgc291cmNlIHRoYXQgaXMgdXNpbmcgYVxuICAgICAgcGFydGljdWxhciBCVHJlZSBtb2R1bGUuIEJUcmVlIHNldCBvcGVyYXRpb25zIG9ubHkgd29yayB3aXRoaW4gdGhlIHNhbWVcbiAgICAgIG1vZHVsZSwgc28geW91IG11c3QgbWF0Y2ggbW9kdWxlIHRvIG1vZHVsZS5cblxuICAgIC0gVGhlIGBgZmFtaWx5YGAgYXJndW1lbnQgaW4gaW5zdGFudGlhdGluZyB0aGUgY2F0YWxvZyBsZXRzIHlvdSBjaGFuZ2UgdGhlXG4gICAgICBkZWZhdWx0IGJ0cmVlIGZhbWlseSBmb3IgcmVsYXRpb25zIGFuZCB2YWx1ZSBpbmRleGVzIGZyb21cbiAgICAgIGBgQlRyZWVzLmZhbWlseTMyLklGYGAgdG8gYGBCVHJlZXMuZmFtaWx5NjQuSUZgYC5cblxuICAgIC0gWW91IG11c3QgZGVmaW5lIHlvdXIgb3duIGZ1bmN0aW9ucyBmb3IgdG9rZW5pemluZyBhbmQgcmVzb2x2aW5nIHRva2Vucy5cbiAgICAgIFRoZXNlIGZ1bmN0aW9ucyBhcmUgcmVnaXN0ZXJlZCB3aXRoIHRoZSBjYXRhbG9nIGZvciB0aGUgcmVsYXRpb25zIGFuZCBmb3JcbiAgICAgIGVhY2ggb2YgdGhlaXIgdmFsdWUgaW5kZXhlcy5cblxuICAgIC0gWW91IGFkZCB2YWx1ZSBpbmRleGVzIHRvIHJlbGF0aW9uIGNhdGFsb2dzIHRvIGJlIGFibGUgdG8gc2VhcmNoLiAgVmFsdWVzXG4gICAgICBjYW4gYmUgaWRlbnRpZmllZCB0byB0aGUgY2F0YWxvZyB3aXRoIGNhbGxhYmxlcyBvciBpbnRlcmZhY2UgZWxlbWVudHMuXG5cbiAgICAgICAgLSBVc2luZyBpbnRlcmZhY2UgYXR0cmlidXRlcyB3aWxsIGNhdXNlIGFuIGF0dGVtcHQgdG8gYWRhcHQgdGhlXG4gICAgICAgICAgcmVsYXRpb24gaWYgaXQgZG9lcyBub3QgYWxyZWFkeSBwcm92aWRlIHRoZSBpbnRlcmZhY2UuXG5cbiAgICAgICAgLSBXZSBjYW4gdXNlIHRoZSBgYG11bHRpcGxlYGAgYXJndW1lbnQgd2hlbiBkZWZpbmluZyBhIHZhbHVlIGluZGV4IHRvXG4gICAgICAgICAgaW5kaWNhdGUgdGhhdCB0aGUgaW5kZXhlZCB2YWx1ZSBpcyBhIGNvbGxlY3Rpb24uICBUaGlzIGRlZmF1bHRzIHRvXG4gICAgICAgICAgRmFsc2UuXG5cbiAgICAgICAgLSBXZSBjYW4gdXNlIHRoZSBgYG5hbWVgYCBhcmd1bWVudCB3aGVuIGRlZmluaW5nIGEgdmFsdWUgaW5kZXggdG9cbiAgICAgICAgICBzcGVjaWZ5IHRoZSBuYW1lIHRvIGJlIHVzZWQgaW4gcXVlcmllcywgcmF0aGVyIHRoYW4gcmVseWluZyBvbiB0aGVcbiAgICAgICAgICBuYW1lIG9mIHRoZSBpbnRlcmZhY2UgYXR0cmlidXRlIG9yIGNhbGxhYmxlLlxuXG4gICAgLSBZb3UgY2FuIHNldCB1cCBzZWFyY2ggaW5kZXhlcyB0byBzcGVlZCB1cCBzcGVjaWZpYyBzZWFyY2hlcywgdXN1YWxseVxuICAgICAgdHJhbnNpdGl2ZS5cblxuICAgIC0gTGlzdGVuZXJzIGNhbiBiZSByZWdpc3RlcmVkIGluIHRoZSBjYXRhbG9nLiBUaGV5IGFyZSBhbGVydGVkIHdoZW4gYVxuICAgICAgcmVsYXRpb24gaXMgYWRkZWQsIG1vZGlmaWVkLCBvciByZW1vdmVkOyBhbmQgd2hlbiB0aGUgY2F0YWxvZyBpcyBjbGVhcmVkXG4gICAgICBhbmQgY29waWVkLlxuXG4qIENhdGFsb2cgTWFuYWdlbWVudDpcblxuICAgIC0gUmVsYXRpb25zIGFyZSBpbmRleGVkIHdpdGggYGBpbmRleChyZWxhdGlvbilgYCwgYW5kIHJlbW92ZWQgZnJvbSB0aGVcbiAgICAgIGNhdGFsb2cgd2l0aCBgYHVuaW5kZXgocmVsYXRpb24pYGAuIGBgaW5kZXhfZG9jKHJlbGF0aW9uX3Rva2VuLFxuICAgICAgcmVsYXRpb24pYGAgYW5kIGBgdW5pbmRleF9kb2MocmVsYXRpb25fdG9rZW4pYGAgYWxzbyB3b3JrLlxuXG4gICAgLSBUaGUgYGBjbGVhcmBgIG1ldGhvZCBjbGVhcnMgdGhlIHJlbGF0aW9ucyBpbiB0aGUgY2F0YWxvZy5cblxuICAgIC0gVGhlIGBgY29weWBgIG1ldGhvZCBtYWtlcyBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgY2F0YWxvZyBieSBjb3B5aW5nXG4gICAgICBpbnRlcm5hbCBkYXRhIHN0cnVjdHVyZXMsIHJhdGhlciB0aGFuIHJlaW5kZXhpbmcgdGhlIHJlbGF0aW9ucywgd2hpY2ggY2FuXG4gICAgICBiZSBhIHNpZ25pZmljYW50IG9wdGltaXphdGlvbiBvcHBvcnR1bml0eS4gVGhpcyBjb3BpZXMgdmFsdWUgaW5kZXhlcyBhbmRcbiAgICAgIHNlYXJjaCBpbmRleGVzOyBhbmQgZ2l2ZXMgbGlzdGVuZXJzIGFuIG9wcG9ydHVuaXR5IHRvIHNwZWNpZnkgd2hhdCwgaWZcbiAgICAgIGFueXRoaW5nLCBzaG91bGQgYmUgaW5jbHVkZWQgaW4gdGhlIG5ldyBjb3B5LlxuXG4qIFNlYXJjaGluZyBhIGNhdGFsb2c6XG5cbiAgICAtIFF1ZXJpZXMgdG8gdGhlIHJlbGF0aW9uIGNhdGFsb2cgYXJlIGZvcm1lZCB3aXRoIGRpY3RzLlxuXG4gICAgLSBRdWVyeSBrZXlzIGFyZSB0aGUgbmFtZXMgb2YgdGhlIGluZGV4ZXMgeW91IHdhbnQgdG8gc2VhcmNoLCBvciwgZm9yIHRoZVxuICAgICAgc3BlY2lhbCBjYXNlIG9mIHByZWNpc2UgcmVsYXRpb25zLCB0aGUgYGB6Yy5yZWxhdGlvbi5SRUxBVElPTmBgIGNvbnN0YW50LlxuXG4gICAgLSBRdWVyeSB2YWx1ZXMgYXJlIHRoZSB0b2tlbnMgb2YgdGhlIHJlc3VsdHMgeW91IHdhbnQgdG8gbWF0Y2g7IG9yXG4gICAgICBgYE5vbmVgYCwgaW5kaWNhdGluZyByZWxhdGlvbnMgdGhhdCBoYXZlIGBgTm9uZWBgIGFzIGEgdmFsdWUgKG9yIGFuIGVtcHR5XG4gICAgICBjb2xsZWN0aW9uLCBpZiBpdCBpcyBhIG11bHRpcGxlKS4gU2VhcmNoIHZhbHVlcyBjYW4gdXNlXG4gICAgICBgYHpjLnJlbGF0aW9uLmNhdGFsb2cuYW55KGFyZ3MpYGAgb3IgYGB6Yy5yZWxhdGlvbi5jYXRhbG9nLkFueShhcmdzKWBgIHRvXG4gICAgICBzcGVjaWZ5IG11bHRpcGxlIChub24tYGBOb25lYGApIHJlc3VsdHMgdG8gbWF0Y2ggZm9yIGEgZ2l2ZW4ga2V5LlxuXG4gICAgLSBUaGUgaW5kZXggaGFzIGEgdmFyaWV0eSBvZiBtZXRob2RzIHRvIGhlbHAgeW91IHdvcmsgd2l0aCB0b2tlbnMuXG4gICAgICBgYHRva2VuaXplUXVlcnlgYCBpcyB0eXBpY2FsbHkgdGhlIG1vc3QgdXNlZCwgdGhvdWdoIG90aGVycyBhcmVcbiAgICAgIGF2YWlsYWJsZS5cblxuICAgIC0gVG8gZmluZCByZWxhdGlvbnMgdGhhdCBtYXRjaCBhIHF1ZXJ5LCB1c2UgYGBmaW5kUmVsYXRpb25zYGAgb3JcbiAgICAgIGBgZmluZFJlbGF0aW9uVG9rZW5zYGAuICBDYWxsaW5nIGBgZmluZFJlbGF0aW9uVG9rZW5zYGAgd2l0aG91dCBhbnlcbiAgICAgIGFyZ3VtZW50cyByZXR1cm5zIHRoZSBCVHJlZSBzZXQgb2YgYWxsIHJlbGF0aW9uIHRva2VucyBpbiB0aGUgY2F0YWxvZy5cblxuICAgIC0gVG8gZmluZCB2YWx1ZXMgdGhhdCBtYXRjaCBhIHF1ZXJ5LCB1c2UgYGBmaW5kVmFsdWVzYGAgb3JcbiAgICAgIGBgZmluZFZhbHVlVG9rZW5zYGAuICBDYWxsaW5nIGBgZmluZFZhbHVlVG9rZW5zYGAgd2l0aCBvbmx5IHRoZSBuYW1lXG4gICAgICBvZiBhIHZhbHVlIGluZGV4IHJldHVybnMgdGhlIEJUcmVlIHNldCBvZiBhbGwgdG9rZW5zIGluIHRoZSBjYXRhbG9nIGZvclxuICAgICAgdGhhdCB2YWx1ZSBpbmRleC5cblxuICAgIC0gWW91IHNlYXJjaCB0cmFuc2l0aXZlbHkgYnkgdXNpbmcgYSBxdWVyeSBmYWN0b3J5LiBUaGVcbiAgICAgIGBgemMucmVsYXRpb24ucXVlcnlmYWN0b3J5LlRyYW5zcG9zaW5nVHJhbnNpdGl2ZWBgIGlzIGEgZ29vZCBjb21tb24gY2FzZVxuICAgICAgZmFjdG9yeSB0aGF0IGxldHMgeW91IHdhbGsgdXAgYW5kIGRvd24gYSBoaWVyYXJjaHkuIEEgcXVlcnkgZmFjdG9yeSBjYW5cbiAgICAgIGJlIHBhc3NlZCBpbiBhcyBhbiBhcmd1bWVudCB0byBzZWFyY2ggbWV0aG9kcyBhcyBhIGBgcXVlcnlGYWN0b3J5YGAsIG9yXG4gICAgICBpbnN0YWxsZWQgYXMgYSBkZWZhdWx0IGJlaGF2aW9yIHVzaW5nIGBgYWRkRGVmYXVsdFF1ZXJ5RmFjdG9yeWBgLlxuXG4gICAgLSBUbyBmaW5kIGhvdyBhIHF1ZXJ5IGlzIHJlbGF0ZWQsIHVzZSBgYGZpbmRSZWxhdGlvbkNoYWluc2BgIG9yXG4gICAgICBgYGZpbmRSZWxhdGlvblRva2VuQ2hhaW5zYGAuXG5cbiAgICAtIFRvIGZpbmQgb3V0IGlmIGEgcXVlcnkgaXMgcmVsYXRlZCwgdXNlIGBgY2FuRmluZGBgLlxuXG4gICAgLSBDaXJjdWxhciB0cmFuc2l0aXZlIHJlbGF0aW9ucyBhcmUgaGFuZGxlZCB0byBwcmV2ZW50IGluZmluaXRlIGxvb3BzLiBUaGV5XG4gICAgICBhcmUgaWRlbnRpZmllZCBpbiBgYGZpbmRSZWxhdGlvbkNoYWluc2BgIGFuZCBgYGZpbmRSZWxhdGlvblRva2VuQ2hhaW5zYGBcbiAgICAgIHdpdGggYSBgYHpjLnJlbGF0aW9uLmludGVyZmFjZXMuSUNpcmN1bGFyUmVsYXRpb25QYXRoYGAgbWFya2VyIGludGVyZmFjZS5cblxuICAgIC0gc2VhcmNoIG1ldGhvZHMgc2hhcmUgdGhlIGZvbGxvd2luZyBhcmd1bWVudHM6XG5cbiAgICAgICogYGBtYXhEZXB0aGBgLCBsaW1pdGluZyB0aGUgdHJhbnNpdGl2ZSBkZXB0aCBmb3Igc2VhcmNoZXM7XG5cbiAgICAgICogYGBmaWx0ZXJgYCwgYWxsb3dpbmcgY29kZSB0byBmaWx0ZXIgdHJhbnNpdGl2ZSBwYXRocztcblxuICAgICAgKiBgYHRhcmdldFF1ZXJ5YGAsIGFsbG93aW5nIGEgcXVlcnkgdG8gZmlsdGVyIHRyYW5zaXRpdmUgcGF0aHMgb24gdGhlXG4gICAgICAgIGJhc2lzIG9mIHRoZSBlbmRwb2ludDtcblxuICAgICAgKiBgYHRhcmdldEZpbHRlcmBgLCBhbGxvd2luZyBjb2RlIHRvIGZpbHRlciB0cmFuc2l0aXZlIHBhdGhzIG9uIHRoZSBiYXNpc1xuICAgICAgICBvZiB0aGUgZW5kcG9pbnQ7IGFuZFxuXG4gICAgICAqIGBgcXVlcnlGYWN0b3J5YGAsIG1lbnRpb25lZCBhYm92ZS5cblxuICAgICAgSW4gYWRkaXRpb24sIHRoZSBgYGlnbm9yZVNlYXJjaEluZGV4YGAgYXJndW1lbnQgdG8gYGBmaW5kUmVsYXRpb25zYGAsXG4gICAgICBgYGZpbmRSZWxhdGlvblRva2Vuc2BgLCBgYGZpbmRWYWx1ZXNgYCwgYGBmaW5kVmFsdWVUb2tlbnNgYCwgYW5kXG4gICAgICBgYGNhbkZpbmRgYCBjYXVzZXMgdGhlIHNlYXJjaCB0byBpZ25vcmUgc2VhcmNoIGluZGV4ZXMsIGV2ZW4gaWYgdGhlcmUgaXNcbiAgICAgIGFuIGFwcHJvcHJpYXRlIG9uZS5cblxuTmV4dCBTdGVwc1xuLS0tLS0tLS0tLVxuXG5JZiB5b3Ugd2FudCB0byByZWFkIG1vcmUsIG5leHQgc3RlcHMgZGVwZW5kIG9uIGhvdyB5b3UgbGlrZSB0byBsZWFybi4gIEhlcmVcbmFyZSBzb21lIG9mIHRoZSBvdGhlciBkb2N1bWVudHMgaW4gdGhlIHpjLnJlbGF0aW9uIHBhY2thZ2UuXG5cbjpvcHRpbWl6YXRpb24ucnN0OlxuICAgIEJlc3QgcHJhY3RpY2VzIGZvciBvcHRpbWl6aW5nIHlvdXIgdXNlIG9mIHRoZSByZWxhdGlvbiBjYXRhbG9nLlxuXG46c2VhcmNoaW5kZXgucnN0OlxuICAgIFF1ZXJpZXMgZmFjdG9yaWVzIGFuZCBzZWFyY2ggaW5kZXhlczogZnJvbSBiYXNpY3MgdG8gbml0dHkgZ3JpdHR5IGRldGFpbHMuXG5cbjp0b2tlbnMucnN0OlxuICAgIFRoaXMgZG9jdW1lbnQgZXhwbG9yZXMgdGhlIGRldGFpbHMgb2YgdG9rZW5zLiAgQWxsIEdvZCdzIGNoaWxsdW5cbiAgICBsb3ZlIHRva2VucywgYXQgbGVhc3QgaWYgR29kJ3MgY2hpbGx1biBhcmUgd3JpdGluZyBub24tdG95IGFwcHNcbiAgICB1c2luZyB6Yy5yZWxhdGlvbi4gIEl0IGluY2x1ZGVzIGRpc2N1c3Npb24gb2YgdGhlIHRva2VuIGhlbHBlcnMgdGhhdFxuICAgIHRoZSBjYXRhbG9nIHByb3ZpZGVzLCBob3cgdG8gdXNlIHpvcGUuYXBwLmludGlkLWxpa2UgcmVnaXN0cmllcyB3aXRoXG4gICAgemMucmVsYXRpb24sIGhvdyB0byB1c2UgdG9rZW5zIHRvIFwiam9pblwiIHF1ZXJ5IHJlc3VsdHMgcmVhc29uYWJseVxuICAgIGVmZmljaWVudGx5LCBhbmQgaG93IHRvIGluZGV4IGpvaW5zLiAgSXQgYWxzbyBpcyB1bm5lY2Vzc2FyaWx5XG4gICAgbWluZC1ibG93aW5nIGJlY2F1c2Ugb2YgdGhlIGV4YW1wbGVzIHVzZWQuXG5cbjppbnRlcmZhY2VzLnB5OlxuICAgIFRoZSBjb250cmFjdCwgZm9yIG51dHMgYW5kIGJvbHRzLlxuXG5GaW5hbGx5LCB0aGUgdHJ1bHkgZGllLWhhcmQgbWlnaHQgYWxzbyBiZSBpbnRlcmVzdGVkIGluIHRoZSB0aW1laXRcbmRpcmVjdG9yeSwgd2hpY2ggaG9sZHMgc2NyaXB0cyB1c2VkIHRvIHRlc3QgYXNzdW1wdGlvbnMgYW5kIGxlYXJuLlxuXG4uLiAuLi4uLi4uLi4gLi5cbi4uIEZPT1ROT1RFUyAuLlxuLi4gLi4uLi4uLi4uIC4uXG5cbi4uIFsjSV9jYXJlXSBPSywgeW91IGNhcmUgYWJvdXQgaG93IHRoYXQgcXVlcnkgZmFjdG9yeSB3b3JrZWQsIHNvXG4gICAgd2Ugd2lsbCBsb29rIGludG8gaXQgYSBiaXQuICBMZXQncyB0YWxrIHRocm91Z2ggdHdvIHN0ZXBzIG9mIHRoZVxuICAgIHRyYW5zaXRpdmUgc2VhcmNoIGluIHRoZSBzZWNvbmQgcXVlc3Rpb24uICBUaGUgY2F0YWxvZyBpbml0aWFsbHlcbiAgICBwZXJmb3JtcyB0aGUgaW5pdGlhbCBpbnRyYW5zaXRpdmUgc2VhcmNoIHJlcXVlc3RlZDogZmluZCByZWxhdGlvbnNcbiAgICBmb3Igd2hpY2ggQmV0dHkgaXMgdGhlIHN1cGVydmlzb3IuICBUaGF0J3MgRGlhbmUgYW5kIEVkZ2FyLlxuXG4gICAgTm93LCBmb3IgZWFjaCBvZiB0aGUgcmVzdWx0cywgdGhlIGNhdGFsb2cgYXNrcyB0aGUgcXVlcnkgZmFjdG9yeSBmb3JcbiAgICBuZXh0IHN0ZXBzLiAgTGV0J3MgdGFrZSBEaWFuZS4gIFRoZSBjYXRhbG9nIHNheXMgdG8gdGhlIGZhY3RvcnksXG4gICAgXCJHaXZlbiB0aGlzIHF1ZXJ5IGZvciByZWxhdGlvbnMgd2hlcmUgQmV0dHkgaXMgc3VwZXJ2aXNvciwgSSBnb3RcbiAgICB0aGlzIHJlc3VsdCBvZiBEaWFuZS4gIERvIHlvdSBoYXZlIGFueSBvdGhlciBxdWVyaWVzIEkgc2hvdWxkIHRyeSB0b1xuICAgIGxvb2sgZnVydGhlcj9cIi4gIFRoZSBmYWN0b3J5IGFsc28gZ2V0cyB0aGUgY2F0YWxvZyBpbnN0YW5jZSBzbyBpdFxuICAgIGNhbiB1c2UgaXQgdG8gYW5zd2VyIHRoZSBxdWVzdGlvbiBpZiBpdCBuZWVkcyB0by5cblxuICAgIE9LLCB0aGUgbmV4dCBwYXJ0IGlzIHdoZXJlIHlvdXIgYnJhaW4gaHVydHMuICBIYW5nIG9uLlxuXG4gICAgSW4gb3VyIGNhc2UsIHRoZSBmYWN0b3J5IHNlZXMgdGhhdCB0aGUgcXVlcnkgd2FzIGZvciBzdXBlcnZpc29yLiBJdHNcbiAgICBvdGhlciBrZXksIHRoZSBvbmUgaXQgdHJhbnNwb3NlcyB3aXRoLCBpcyBgYHpjLnJlbGF0aW9uLlJFTEFUSU9OYGAuICpUaGVcbiAgICBmYWN0b3J5IGdldHMgdGhlIHRyYW5zcG9zaW5nIGtleSdzIHJlc3VsdCBmb3IgdGhlIGN1cnJlbnQgdG9rZW4uKiBTbywgZm9yXG4gICAgdXMsIGEga2V5IG9mIGBgemMucmVsYXRpb24uUkVMQVRJT05gYCBpcyBhY3R1YWxseSBhIG5vLW9wOiB0aGUgcmVzdWx0ICppcypcbiAgICB0aGUgY3VycmVudCB0b2tlbiwgRGlhbmUuIFRoZW4sIHRoZSBmYWN0b3J5IGhhcyBpdHMgYW5zd2VyOiByZXBsYWNlIHRoZSBvbGRcbiAgICB2YWx1ZSBvZiBzdXBlcnZpc29yIGluIHRoZSBxdWVyeSwgQmV0dHksIHdpdGggdGhlIHJlc3VsdCwgRGlhbmUuIFRoZSBuZXh0XG4gICAgdHJhbnNpdGl2ZSBxdWVyeSBzaG91bGQgYmUgeydzdXBlcnZpc29yJywgJ0RpYW5lJ30uIFRhLWRhLlxuXG5cbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuVG9rZW5zIGFuZCBKb2luczogemMucmVsYXRpb24gQ2F0YWxvZyBFeHRlbmRlZCBFeGFtcGxlXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuSW50cm9kdWN0aW9uIGFuZCBTZXQgVXBcbj09PT09PT09PT09PT09PT09PT09PT09XG5cblRoaXMgZG9jdW1lbnQgYXNzdW1lcyB5b3UgaGF2ZSByZWFkIHRoZSBpbnRyb2R1Y3RvcnkgUkVBRE1FLnJzdCBhbmQgd2FudFxudG8gbGVhcm4gYSBiaXQgbW9yZSBieSBleGFtcGxlLiBJbiBpdCwgd2Ugd2lsbCBleHBsb3JlIGEgbW9yZVxuY29tcGxpY2F0ZWQgc2V0IG9mIHJlbGF0aW9ucyB0aGF0IGRlbW9uc3RyYXRlcyBtb3N0IG9mIHRoZSBhc3BlY3RzIG9mXG53b3JraW5nIHdpdGggdG9rZW5zLiAgSW4gcGFydGljdWxhciwgd2Ugd2lsbCBsb29rIGF0IGpvaW5zLCB3aGljaCB3aWxsXG5hbHNvIGdpdmUgdXMgYSBjaGFuY2UgdG8gbG9vayBtb3JlIGluIGRlcHRoIGF0IHF1ZXJ5IGZhY3RvcmllcyBhbmRcbnNlYXJjaCBpbmRleGVzLCBhbmQgaW50cm9kdWNlIHRoZSBpZGVhIG9mIGxpc3RlbmVycy4gSXQgd2lsbCBub3QgZXhwbGFpblxudGhlIGJhc2ljcyB0aGF0IHRoZSBSRUFETUUgYWxyZWFkeSBhZGRyZXNzZWQuXG5cbkltYWdpbmUgd2UgYXJlIGluZGV4aW5nIHNlY3VyaXR5IGFzc2VydGlvbnMgaW4gYSBzeXN0ZW0uICBJbiB0aGlzXG5zeXN0ZW0sIHVzZXJzIG1heSBoYXZlIHJvbGVzIHdpdGhpbiBhbiBvcmdhbml6YXRpb24uICBFYWNoIG9yZ2FuaXphdGlvblxubWF5IGhhdmUgbXVsdGlwbGUgY2hpbGQgb3JnYW5pemF0aW9ucyBhbmQgbWF5IGhhdmUgYSBzaW5nbGUgcGFyZW50XG5vcmdhbml6YXRpb24uICBBIHVzZXIgd2l0aCBhIHJvbGUgaW4gYSBwYXJlbnQgb3JnYW5pemF0aW9uIHdpbGwgaGF2ZSB0aGVcbnNhbWUgcm9sZSBpbiBhbGwgdHJhbnNpdGl2ZWx5IGNvbm5lY3RlZCBjaGlsZCByZWxhdGlvbnMuXG5cbldlIGhhdmUgdHdvIGtpbmRzIG9mIHJlbGF0aW9ucywgdGhlbi4gIE9uZSBraW5kIG9mIHJlbGF0aW9uIHdpbGwgbW9kZWxcbnRoZSBoaWVyYXJjaHkgb2Ygb3JnYW5pemF0aW9ucy4gIFdlJ2xsIGRvIGl0IHdpdGggYW4gaW50cmluc2ljIHJlbGF0aW9uXG5vZiBvcmdhbml6YXRpb25zIHRvIHRoZWlyIGNoaWxkcmVuOiB0aGF0IHJlZmxlY3RzIHRoZSBmYWN0IHRoYXQgcGFyZW50XG5vcmdhbml6YXRpb25zIGNob29zZSBhbmQgYXJlIGNvbXByaXNlZCBvZiB0aGVpciBjaGlsZHJlbjsgY2hpbGRyZW4gZG9cbm5vdCBjaG9vc2UgdGhlaXIgcGFyZW50cy5cblxuVGhlIG90aGVyIHJlbGF0aW9uIHdpbGwgbW9kZWwgdGhlIChtdWx0aXBsZSkgcm9sZXMgYSAoc2luZ2xlKSB1c2VyIGhhc1xuaW4gYSAoc2luZ2xlKSBvcmdhbml6YXRpb24uICBUaGlzIHJlbGF0aW9uIHdpbGwgYmUgZW50aXJlbHkgZXh0cmluc2ljLlxuXG5XZSBjb3VsZCBjcmVhdGUgdHdvIGNhdGFsb2dzLCBvbmUgZm9yIGVhY2ggdHlwZS4gIE9yIHdlIGNvdWxkIHB1dCB0aGVtXG5ib3RoIGluIHRoZSBzYW1lIGNhdGFsb2cuICBJbml0aWFsbHksIHdlJ2xsIGdvIHdpdGggdGhlIHNpbmdsZS1jYXRhbG9nXG5hcHByb2FjaCBmb3Igb3VyIGV4YW1wbGVzLiAgVGhpcyBzaW5nbGUgY2F0YWxvZywgdGhlbiwgd2lsbCBiZSBpbmRleGluZ1xuYSBoZXRlcm9nZW5lb3VzIGNvbGxlY3Rpb24gb2YgcmVsYXRpb25zLlxuXG5MZXQncyBkZWZpbmUgdGhlIHR3byByZWxhdGlvbnMgd2l0aCBpbnRlcmZhY2VzLiAgV2UnbGwgaW5jbHVkZSBvbmVcbmFjY2Vzc29yLCBnZXRPcmdhbml6YXRpb24sIGxhcmdlbHkgdG8gc2hvdyBob3cgdG8gaGFuZGxlIG1ldGhvZHMuXG5cbiAgICA+Pj4gaW1wb3J0IHpvcGUuaW50ZXJmYWNlXG4gICAgPj4+IGNsYXNzIElPcmdhbml6YXRpb24oem9wZS5pbnRlcmZhY2UuSW50ZXJmYWNlKTpcbiAgICAuLi4gICAgIHRpdGxlID0gem9wZS5pbnRlcmZhY2UuQXR0cmlidXRlKCd0aGUgdGl0bGUnKVxuICAgIC4uLiAgICAgcGFydHMgPSB6b3BlLmludGVyZmFjZS5BdHRyaWJ1dGUoXG4gICAgLi4uICAgICAgICAgJ3RoZSBvcmdhbml6YXRpb25zIHRoYXQgbWFrZSB1cCB0aGlzIG9uZScpXG4gICAgLi4uXG4gICAgPj4+IGNsYXNzIElSb2xlcyh6b3BlLmludGVyZmFjZS5JbnRlcmZhY2UpOlxuICAgIC4uLiAgICAgZGVmIGdldE9yZ2FuaXphdGlvbigpOlxuICAgIC4uLiAgICAgICAgICdyZXR1cm4gdGhlIG9yZ2FuaXphdGlvbiBpbiB3aGljaCB0aGlzIHJlbGF0aW9uIG9wZXJhdGVzJ1xuICAgIC4uLiAgICAgcHJpbmNpcGFsX2lkID0gem9wZS5pbnRlcmZhY2UuQXR0cmlidXRlKFxuICAgIC4uLiAgICAgICAgICd0aGUgcHJpY2lwYWwgaWQgd2hvc2Ugcm9sZXMgdGhpcyByZWxhdGlvbiBsaXN0cycpXG4gICAgLi4uICAgICByb2xlX2lkcyA9IHpvcGUuaW50ZXJmYWNlLkF0dHJpYnV0ZShcbiAgICAuLi4gICAgICAgICAndGhlIHJvbGUgaWRzIHRoYXQgdGhlIHByaW5jaXBhbCBleHBsaWNpdGx5IGhhcyBpbiB0aGUgJ1xuICAgIC4uLiAgICAgICAgICdvcmdhbml6YXRpb24uICBUaGUgcHJpbmNpcGFsIG1heSBoYXZlIG90aGVyIHJvbGVzIHZpYSAnXG4gICAgLi4uICAgICAgICAgJ3JvbGVzIGluIHBhcmVudCBvcmdhbml6YXRpb25zLicpXG4gICAgLi4uXG5cbk5vdyB3ZSBjYW4gY3JlYXRlIHNvbWUgY2xhc3Nlcy4gIEluIHRoZSBSRUFETUUgZXhhbXBsZSwgdGhlIHNldHVwIHdhcyBhIGJpdFxub2YgYSB0b3kuICBUaGlzIHRpbWUgd2Ugd2lsbCBiZSBqdXN0IGEgYml0IG1vcmUgcHJhY3RpY2FsLiAgV2UnbGwgYWxzbyBleHBlY3RcbnRvIGJlIG9wZXJhdGluZyB3aXRoaW4gdGhlIFpPREIsIHdpdGggYSByb290IGFuZCB0cmFuc2FjdGlvbnMuIFsjWk9EQl1fXG5cbi4uIFsjWk9EQl0gSGVyZSB3ZSB3aWxsIHNldCB1cCBhIFpPREIgaW5zdGFuY2UgZm9yIHVzIHRvIHVzZS5cblxuICAgID4+PiBmcm9tIFpPREIudGVzdHMudXRpbCBpbXBvcnQgREJcbiAgICA+Pj4gZGIgPSBEQigpXG4gICAgPj4+IGNvbm4gPSBkYi5vcGVuKClcbiAgICA+Pj4gcm9vdCA9IGNvbm4ucm9vdCgpXG5cbkhlcmUncyBob3cgd2Ugd2lsbCBkdW1wIGFuZCBsb2FkIG91ciByZWxhdGlvbnM6IHVzZSBhIFwicmVnaXN0cnlcIlxub2JqZWN0LCBzaW1pbGFyIHRvIGFuIGludGlkIHV0aWxpdHkuIFsjZmF1eF9pbnRpZF1fXG5cbi4uIFsjZmF1eF9pbnRpZF0gSGVyZSdzIGEgc2ltcGxlIHBlcnNpc3RlbnQga2V5cmVmZXJlbmNlLiAgTm90aWNlIHRoYXQgaXQgaXNcbiAgICBub3QgcGVyc2lzdGVudCBpdHNlbGY6IHRoaXMgaXMgaW1wb3J0YW50IGZvciBjb25mbGljdCByZXNvbHV0aW9uIHRvIGJlXG4gICAgYWJsZSB0byB3b3JrICh3aGljaCB3ZSBkb24ndCBzaG93IGhlcmUsIGJ1dCB3ZSdyZSB0cnlpbmcgdG8gbGVhbiBtb3JlXG4gICAgdG93YXJkcyByZWFsIHVzYWdlIGZvciB0aGlzIGV4YW1wbGUpLlxuXG4gICAgPj4+IGZyb20gZnVuY3Rvb2xzIGltcG9ydCB0b3RhbF9vcmRlcmluZ1xuICAgID4+PiBAdG90YWxfb3JkZXJpbmdcbiAgICAuLi4gY2xhc3MgUmVmZXJlbmNlKG9iamVjdCk6ICMgc2VlIHpvcGUuYXBwLmtleXJlZmVyZW5jZVxuICAgIC4uLiAgICAgZGVmIF9faW5pdF9fKHNlbGYsIG9iaik6XG4gICAgLi4uICAgICAgICAgc2VsZi5vYmplY3QgPSBvYmpcbiAgICAuLi4gICAgIGRlZiBfZ2V0X3NvcnRpbmdfa2V5KHNlbGYpOlxuICAgIC4uLiAgICAgICAgICMgdGhpcyBkb2Vzbid0IHdvcmsgZHVyaW5nIGNvbmZsaWN0IHJlc29sdXRpb24uICBTZWVcbiAgICAuLi4gICAgICAgICAjIHpvcGUuYXBwLmtleXJlZmVyZW5jZS5wZXJzaXN0ZW50LCAzLjUgcmVsZWFzZSwgZm9yIGN1cnJlbnRcbiAgICAuLi4gICAgICAgICAjIGJlc3QgcHJhY3RpY2UuXG4gICAgLi4uICAgICAgICAgaWYgc2VsZi5vYmplY3QuX3BfamFyIGlzIE5vbmU6XG4gICAgLi4uICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoXG4gICAgLi4uICAgICAgICAgICAgICAgICAnY2FuIG9ubHkgY29tcGFyZSB3aGVuIGJvdGggb2JqZWN0cyBoYXZlIGNvbm5lY3Rpb25zJylcbiAgICAuLi4gICAgICAgICByZXR1cm4gc2VsZi5vYmplY3QuX3Bfb2lkIG9yICcnXG4gICAgLi4uICAgICBkZWYgX19sdF9fKHNlbGYsIG90aGVyKTpcbiAgICAuLi4gICAgICAgICAjIHRoaXMgZG9lc24ndCB3b3JrIGR1cmluZyBjb25mbGljdCByZXNvbHV0aW9uLiAgU2VlXG4gICAgLi4uICAgICAgICAgIyB6b3BlLmFwcC5rZXlyZWZlcmVuY2UucGVyc2lzdGVudCwgMy41IHJlbGVhc2UsIGZvciBjdXJyZW50XG4gICAgLi4uICAgICAgICAgIyBiZXN0IHByYWN0aWNlLlxuICAgIC4uLiAgICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBSZWZlcmVuY2UpOlxuICAgIC4uLiAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdjYW4gb25seSBjb21wYXJlIHdpdGggUmVmZXJlbmNlIG9iamVjdHMnKVxuICAgIC4uLiAgICAgICAgIHJldHVybiBzZWxmLl9nZXRfc29ydGluZ19rZXkoKSA8IG90aGVyLl9nZXRfc29ydGluZ19rZXkoKVxuICAgIC4uLiAgICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6XG4gICAgLi4uICAgICAgICAgIyB0aGlzIGRvZXNuJ3Qgd29yayBkdXJpbmcgY29uZmxpY3QgcmVzb2x1dGlvbi4gIFNlZVxuICAgIC4uLiAgICAgICAgICMgem9wZS5hcHAua2V5cmVmZXJlbmNlLnBlcnNpc3RlbnQsIDMuNSByZWxlYXNlLCBmb3IgY3VycmVudFxuICAgIC4uLiAgICAgICAgICMgYmVzdCBwcmFjdGljZS5cbiAgICAuLi4gICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgUmVmZXJlbmNlKTpcbiAgICAuLi4gICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignY2FuIG9ubHkgY29tcGFyZSB3aXRoIFJlZmVyZW5jZSBvYmplY3RzJylcbiAgICAuLi4gICAgICAgICByZXR1cm4gc2VsZi5fZ2V0X3NvcnRpbmdfa2V5KCkgPT0gb3RoZXIuX2dldF9zb3J0aW5nX2tleSgpXG5cbiAgICBIZXJlJ3MgYSBzaW1wbGUgaW50ZWdlciBpZGVudGlmaWVyIHRvb2wuXG5cbiAgICA+Pj4gaW1wb3J0IHBlcnNpc3RlbnRcbiAgICA+Pj4gaW1wb3J0IEJUcmVlc1xuICAgID4+PiBjbGFzcyBSZWdpc3RyeShwZXJzaXN0ZW50LlBlcnNpc3RlbnQpOiAjIHNlZSB6b3BlLmFwcC5pbnRpZFxuICAgIC4uLiAgICAgZGVmIF9faW5pdF9fKHNlbGYsIGZhbWlseT1CVHJlZXMuZmFtaWx5MzIpOlxuICAgIC4uLiAgICAgICAgIHNlbGYuZmFtaWx5ID0gZmFtaWx5XG4gICAgLi4uICAgICAgICAgc2VsZi5pZHMgPSBzZWxmLmZhbWlseS5JTy5CVHJlZSgpXG4gICAgLi4uICAgICAgICAgc2VsZi5yZWZzID0gc2VsZi5mYW1pbHkuT0kuQlRyZWUoKVxuICAgIC4uLiAgICAgZGVmIGdldElkKHNlbGYsIG9iaik6XG4gICAgLi4uICAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob2JqLCBwZXJzaXN0ZW50LlBlcnNpc3RlbnQpOlxuICAgIC4uLiAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdub3QgYSBwZXJzaXN0ZW50IG9iamVjdCcsIG9iailcbiAgICAuLi4gICAgICAgICBpZiBvYmouX3BfamFyIGlzIE5vbmU6XG4gICAgLi4uICAgICAgICAgICAgIHNlbGYuX3BfamFyLmFkZChvYmopXG4gICAgLi4uICAgICAgICAgcmVmID0gUmVmZXJlbmNlKG9iailcbiAgICAuLi4gICAgICAgICBpZCA9IHNlbGYucmVmcy5nZXQocmVmKVxuICAgIC4uLiAgICAgICAgIGlmIGlkIGlzIE5vbmU6XG4gICAgLi4uICAgICAgICAgICAgICMgbmFpdmUgZm9yIGNvbmZsaWN0IHJlc29sdXRpb247IHNlZSB6b3BlLmFwcC5pbnRpZFxuICAgIC4uLiAgICAgICAgICAgICBpZiBzZWxmLmlkczpcbiAgICAuLi4gICAgICAgICAgICAgICAgIGlkID0gc2VsZi5pZHMubWF4S2V5KCkgKyAxXG4gICAgLi4uICAgICAgICAgICAgIGVsc2U6XG4gICAgLi4uICAgICAgICAgICAgICAgICAgaWQgPSBzZWxmLmZhbWlseS5taW5pbnRcbiAgICAuLi4gICAgICAgICAgICAgc2VsZi5pZHNbaWRdID0gcmVmXG4gICAgLi4uICAgICAgICAgICAgIHNlbGYucmVmc1tyZWZdID0gaWRcbiAgICAuLi4gICAgICAgICByZXR1cm4gaWRcbiAgICAuLi4gICAgIGRlZiBfX2NvbnRhaW5zX18oc2VsZiwgb2JqKTpcbiAgICAuLi4gICAgICAgICBpZiAobm90IGlzaW5zdGFuY2Uob2JqLCBwZXJzaXN0ZW50LlBlcnNpc3RlbnQpIG9yXG4gICAgLi4uICAgICAgICAgICAgIG9iai5fcF9vaWQgaXMgTm9uZSk6XG4gICAgLi4uICAgICAgICAgICAgIHJldHVybiBGYWxzZVxuICAgIC4uLiAgICAgICAgIHJldHVybiBSZWZlcmVuY2Uob2JqKSBpbiBzZWxmLnJlZnNcbiAgICAuLi4gICAgIGRlZiBnZXRPYmplY3Qoc2VsZiwgaWQsIGRlZmF1bHQ9Tm9uZSk6XG4gICAgLi4uICAgICAgICAgcmVzID0gc2VsZi5pZHMuZ2V0KGlkLCBOb25lKVxuICAgIC4uLiAgICAgICAgIGlmIHJlcyBpcyBOb25lOlxuICAgIC4uLiAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdFxuICAgIC4uLiAgICAgICAgIGVsc2U6XG4gICAgLi4uICAgICAgICAgICAgIHJldHVybiByZXMub2JqZWN0XG4gICAgLi4uICAgICBkZWYgcmVtb3ZlKHNlbGYsIHIpOlxuICAgIC4uLiAgICAgICAgIGlmIGlzaW5zdGFuY2UociwgaW50KTpcbiAgICAuLi4gICAgICAgICAgICAgc2VsZi5yZWZzLnBvcChzZWxmLmlkcy5wb3AocikpXG4gICAgLi4uICAgICAgICAgZWxpZiAobm90IGlzaW5zdGFuY2UociwgcGVyc2lzdGVudC5QZXJzaXN0ZW50KSBvclxuICAgIC4uLiAgICAgICAgICAgICAgIHIuX3Bfb2lkIGlzIE5vbmUpOlxuICAgIC4uLiAgICAgICAgICAgICByYWlzZSBMb29rdXBFcnJvcihyKVxuICAgIC4uLiAgICAgICAgIGVsc2U6XG4gICAgLi4uICAgICAgICAgICAgIHNlbGYuaWRzLnBvcChzZWxmLnJlZnMucG9wKFJlZmVyZW5jZShyKSkpXG4gICAgLi4uXG4gICAgPj4+IHJlZ2lzdHJ5ID0gcm9vdFsncmVnaXN0cnknXSA9IFJlZ2lzdHJ5KClcblxuICAgID4+PiBpbXBvcnQgdHJhbnNhY3Rpb25cbiAgICA+Pj4gdHJhbnNhY3Rpb24uY29tbWl0KClcblxuSW4gdGhpcyBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgXCJkdW1wXCIgbWV0aG9kLCB3ZSB1c2UgdGhlIGNhY2hlIGp1c3QgdG9cbnNob3cgeW91IGhvdyB5b3UgbWlnaHQgdXNlIGl0LiAgSXQgcHJvYmFibHkgaXMgb3ZlcmtpbGwgZm9yIHRoaXMgam9iLFxuYW5kIG1heWJlIGV2ZW4gYSBzcGVlZCBsb3NzLCBidXQgeW91IGNhbiBzZWUgdGhlIGlkZWEuXG5cbiAgICA+Pj4gZGVmIGR1bXAob2JqLCBjYXRhbG9nLCBjYWNoZSk6XG4gICAgLi4uICAgICByZWcgPSBjYWNoZS5nZXQoJ3JlZ2lzdHJ5JylcbiAgICAuLi4gICAgIGlmIHJlZyBpcyBOb25lOlxuICAgIC4uLiAgICAgICAgIHJlZyA9IGNhY2hlWydyZWdpc3RyeSddID0gY2F0YWxvZy5fcF9qYXIucm9vdCgpWydyZWdpc3RyeSddXG4gICAgLi4uICAgICByZXR1cm4gcmVnLmdldElkKG9iailcbiAgICAuLi5cbiAgICA+Pj4gZGVmIGxvYWQodG9rZW4sIGNhdGFsb2csIGNhY2hlKTpcbiAgICAuLi4gICAgIHJlZyA9IGNhY2hlLmdldCgncmVnaXN0cnknKVxuICAgIC4uLiAgICAgaWYgcmVnIGlzIE5vbmU6XG4gICAgLi4uICAgICAgICAgcmVnID0gY2FjaGVbJ3JlZ2lzdHJ5J10gPSBjYXRhbG9nLl9wX2phci5yb290KClbJ3JlZ2lzdHJ5J11cbiAgICAuLi4gICAgIHJldHVybiByZWcuZ2V0T2JqZWN0KHRva2VuKVxuICAgIC4uLlxuXG5Ob3cgd2UgY2FuIGNyZWF0ZSBhIHJlbGF0aW9uIGNhdGFsb2cgdG8gaG9sZCB0aGVzZSBpdGVtcy5cblxuICAgID4+PiBpbXBvcnQgemMucmVsYXRpb24uY2F0YWxvZ1xuICAgID4+PiBjYXRhbG9nID0gcm9vdFsnY2F0YWxvZyddID0gemMucmVsYXRpb24uY2F0YWxvZy5DYXRhbG9nKGR1bXAsIGxvYWQpXG4gICAgPj4+IHRyYW5zYWN0aW9uLmNvbW1pdCgpXG5cbk5vdyB3ZSBzZXQgdXAgb3VyIGluZGV4ZXMuICBXZSdsbCBzdGFydCB3aXRoIGp1c3QgdGhlIG9yZ2FuaXphdGlvbnMsIGFuZFxuc2V0IHVwIHRoZSBjYXRhbG9nIHdpdGggdGhlbS4gVGhpcyBwYXJ0IHdpbGwgYmUgc2ltaWxhciB0byB0aGUgZXhhbXBsZVxuaW4gUkVBRE1FLnJzdCwgYnV0IHdpbGwgaW50cm9kdWNlIG1vcmUgZGlzY3Vzc2lvbnMgb2Ygb3B0aW1pemF0aW9ucyBhbmRcbnRva2Vucy4gIFRoZW4gd2UnbGwgYWRkIGluIHRoZSBwYXJ0IGFib3V0IHJvbGVzLCBhbmQgZXhwbG9yZSBxdWVyaWVzIGFuZFxudG9rZW4tYmFzZWQgXCJqb2luc1wiLlxuXG5Pcmdhbml6YXRpb25zXG49PT09PT09PT09PT09XG5cblRoZSBvcmdhbml6YXRpb24gd2lsbCBob2xkIGEgc2V0IG9mIG9yZ2FuaXphdGlvbnMuICBUaGlzIGlzIGFjdHVhbGx5IG5vdFxuaW5oZXJlbnRseSBlYXN5IGluIHRoZSBaT0RCIGJlY2F1c2UgdGhpcyBtZWFucyB0aGF0IHdlIG5lZWQgdG8gY29tcGFyZVxub3IgaGFzaCBwZXJzaXN0ZW50IG9iamVjdHMsIHdoaWNoIGRvZXMgbm90IHdvcmsgcmVsaWFibHkgb3ZlciB0aW1lIGFuZFxuYWNyb3NzIG1hY2hpbmVzIG91dC1vZi10aGUtYm94LiAgVG8gc2lkZS1zdGVwIHRoZSBpc3N1ZSBmb3IgdGhpcyBleGFtcGxlLFxuYW5kIHN0aWxsIGRvIHNvbWV0aGluZyBhIGJpdCBpbnRlcmVzdGluZyBhbmQgcmVhbC13b3JsZCwgd2UnbGwgdXNlIHRoZVxucmVnaXN0cnkgdG9rZW5zIGludHJvZHVjZWQgYWJvdmUuICBUaGlzIHdpbGwgYWxzbyBnaXZlIHVzIGEgY2hhbmNlIHRvXG50YWxrIGEgYml0IG1vcmUgYWJvdXQgb3B0aW1pemF0aW9ucyBhbmQgdG9rZW5zLiAgKElmIHlvdSB3b3VsZCBsaWtlXG50byBzYW5lbHkgYW5kIHRyYW5zcGFyZW50bHkgaG9sZCBhIHNldCBvZiBwZXJzaXN0ZW50IG9iamVjdHMsIHRyeSB0aGVcbnpjLnNldCBwYWNrYWdlIFhYWCBub3QgeWV0LilcblxuICAgID4+PiBpbXBvcnQgQlRyZWVzXG4gICAgPj4+IGltcG9ydCBwZXJzaXN0ZW50XG4gICAgPj4+IEB6b3BlLmludGVyZmFjZS5pbXBsZW1lbnRlcihJT3JnYW5pemF0aW9uKVxuICAgIC4uLiBAdG90YWxfb3JkZXJpbmdcbiAgICAuLi4gY2xhc3MgT3JnYW5pemF0aW9uKHBlcnNpc3RlbnQuUGVyc2lzdGVudCk6XG4gICAgLi4uXG4gICAgLi4uICAgICBkZWYgX19pbml0X18oc2VsZiwgdGl0bGUpOlxuICAgIC4uLiAgICAgICAgIHNlbGYudGl0bGUgPSB0aXRsZVxuICAgIC4uLiAgICAgICAgIHNlbGYucGFydHMgPSBCVHJlZXMuZmFtaWx5MzIuSUYuVHJlZVNldCgpXG4gICAgLi4uICAgICAjIHRoZSBuZXh0IHBhcnRzIGp1c3QgbWFrZSB0aGUgdGVzdHMgcHJldHRpZXJcbiAgICAuLi4gICAgIGRlZiBfX3JlcHJfXyhzZWxmKTpcbiAgICAuLi4gICAgICAgICByZXR1cm4gJzxPcmdhbml6YXRpb24gaW5zdGFuY2UgXCInICsgc2VsZi50aXRsZSArICdcIj4nXG4gICAgLi4uICAgICBkZWYgX19sdF9fKHNlbGYsIG90aGVyKTpcbiAgICAuLi4gICAgICAgICAjIHB1a2VzIGlmIG90aGVyIGRvZXNuJ3QgaGF2ZSBuYW1lXG4gICAgLi4uICAgICAgICAgcmV0dXJuIHNlbGYudGl0bGUgPCBvdGhlci50aXRsZVxuICAgIC4uLiAgICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcik6XG4gICAgLi4uICAgICAgICAgcmV0dXJuIHNlbGYgaXMgb3RoZXJcbiAgICAuLi4gICAgIGRlZiBfX2hhc2hfXyhzZWxmKTpcbiAgICAuLi4gICAgICAgICByZXR1cm4gMSAgIyBkdW1teVxuICAgIC4uLlxuXG5PSywgbm93IHdlIGtub3cgaG93IG9yZ2FuaXphdGlvbnMgd2lsbCB3b3JrLiAgTm93IHdlIGNhbiBhZGQgdGhlIGBwYXJ0c2BcbmluZGV4IHRvIHRoZSBjYXRhbG9nLiAgVGhpcyB3aWxsIGRvIGEgZmV3IG5ldyB0aGluZ3MgZnJvbSBob3cgd2UgYWRkZWRcbmluZGV4ZXMgaW4gdGhlIFJFQURNRS5cblxuXG4gICAgPj4+IGNhdGFsb2cuYWRkVmFsdWVJbmRleChJT3JnYW5pemF0aW9uWydwYXJ0cyddLCBtdWx0aXBsZT1UcnVlLFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInBhcnRcIilcblxuU28sIHdoYXQncyBkaWZmZXJlbnQgZnJvbSB0aGUgUkVBRE1FIGV4YW1wbGVzP1xuXG5GaXJzdCwgd2UgYXJlIHVzaW5nIGFuIGludGVyZmFjZSBlbGVtZW50IHRvIGRlZmluZSB0aGUgdmFsdWUgdG8gYmUgaW5kZXhlZC5cbkl0IHByb3ZpZGVzIGFuIGludGVyZmFjZSB0byB3aGljaCBvYmplY3RzIHdpbGwgYmUgYWRhcHRlZCwgYSBkZWZhdWx0IG5hbWVcbmZvciB0aGUgaW5kZXgsIGFuZCBpbmZvcm1hdGlvbiBhcyB0byB3aGV0aGVyIHRoZSBhdHRyaWJ1dGUgc2hvdWxkIGJlIHVzZWRcbmRpcmVjdGx5IG9yIGNhbGxlZC5cblxuU2Vjb25kLCB3ZSBhcmUgbm90IHNwZWNpZnlpbmcgYSBkdW1wIG9yIGxvYWQuICBUaGV5IGFyZSBOb25lLiAgVGhpc1xubWVhbnMgdGhhdCB0aGUgaW5kZXhlZCB2YWx1ZSBjYW4gYWxyZWFkeSBiZSB0cmVhdGVkIGFzIGEgdG9rZW4uICBUaGlzXG5jYW4gYWxsb3cgYSB2ZXJ5IHNpZ25pZmljYW50IG9wdGltaXphdGlvbiBmb3IgcmVpbmRleGluZyBpZiB0aGUgaW5kZXhlZFxudmFsdWUgaXMgYSBsYXJnZSBjb2xsZWN0aW9uIHVzaW5nIHRoZSBzYW1lIEJUcmVlIGZhbWlseSBhcyB0aGVcbmluZGV4LS13aGljaCBsZWFkcyB1cyB0byB0aGUgbmV4dCBkaWZmZXJlbmNlLlxuXG5UaGlyZCwgd2UgYXJlIHNwZWNpZnlpbmcgdGhhdCBgbXVsdGlwbGU9VHJ1ZWAuICBUaGlzIG1lYW5zIHRoYXQgdGhlIHZhbHVlXG5vbiBhIGdpdmVuIHJlbGF0aW9uIHRoYXQgcHJvdmlkZXMgb3IgY2FuIGJlIGFkYXB0ZWQgdG8gSU9yZ2FuaXphdGlvbiB3aWxsXG5oYXZlIGEgY29sbGVjdGlvbiBvZiBgcGFydHNgLiAgVGhlc2Ugd2lsbCBhbHdheXMgYmUgcmVnYXJkZWQgYXMgYSBzZXQsXG53aGV0aGVyIHRoZSBhY3R1YWwgY29sZWN0aW9uIGlzIGEgQlRyZWVzIHNldCBvciB0aGUga2V5cyBvZiBhIEJUcmVlLlxuXG5MYXN0LCB3ZSBhcmUgc3BlY2lmeWluZyBhIG5hbWUgdG8gYmUgdXNlZCBmb3IgcXVlcmllcy4gIEkgZmluZCB0aGF0IHF1ZXJpZXNcbnJlYWQgbW9yZSBlYXNpbHkgd2hlbiB0aGUgcXVlcnkga2V5cyBhcmUgc2luZ3VsYXIsIHNvIEkgb2Z0ZW4gcmVuYW1lIHBsdXJhbHMuXG5cbkFzIGluIHRoZSBSRUFETUUsIFdlIGNhbiBhZGQgYW5vdGhlciBzaW1wbGUgdHJhbnNwb3NpbmcgdHJhbnNpdGl2ZSBxdWVyeVxuZmFjdG9yeSwgc3dpdGNoaW5nIGJldHdlZW4gJ3BhcnQnIGFuZCBgTm9uZWAuXG5cbiAgICA+Pj4gaW1wb3J0IHpjLnJlbGF0aW9uLnF1ZXJ5ZmFjdG9yeVxuICAgID4+PiBmYWN0b3J5MSA9IHpjLnJlbGF0aW9uLnF1ZXJ5ZmFjdG9yeS5UcmFuc3Bvc2luZ1RyYW5zaXRpdmUoXG4gICAgLi4uICAgICAncGFydCcsIE5vbmUpXG4gICAgPj4+IGNhdGFsb2cuYWRkRGVmYXVsdFF1ZXJ5RmFjdG9yeShmYWN0b3J5MSlcblxuTGV0J3MgYWRkIGEgY291cGxlIG9mIHNlYXJjaCBpbmRleGVzIGluIHRvbywgb2YgdGhlIGhpZXJhcmNoeSBsb29raW5nIHVwLi4uXG5cbiAgICA+Pj4gaW1wb3J0IHpjLnJlbGF0aW9uLnNlYXJjaGluZGV4XG4gICAgPj4+IGNhdGFsb2cuYWRkU2VhcmNoSW5kZXgoXG4gICAgLi4uICAgICB6Yy5yZWxhdGlvbi5zZWFyY2hpbmRleC5UcmFuc3Bvc2luZ1RyYW5zaXRpdmVNZW1iZXJzaGlwKFxuICAgIC4uLiAgICAgICAgICdwYXJ0JywgTm9uZSkpXG5cbi4uLmFuZCBkb3duLlxuXG4gICAgPj4+IGNhdGFsb2cuYWRkU2VhcmNoSW5kZXgoXG4gICAgLi4uICAgICB6Yy5yZWxhdGlvbi5zZWFyY2hpbmRleC5UcmFuc3Bvc2luZ1RyYW5zaXRpdmVNZW1iZXJzaGlwKFxuICAgIC4uLiAgICAgICAgIE5vbmUsICdwYXJ0JykpXG5cblBMRUFTRSBOT1RFOiB0aGUgc2VhcmNoIGluZGV4IGxvb2tpbmcgdXAgaXMgbm90IGEgZ29vZCBpZGVhIHByYWN0aWNhbGx5LiAgVGhlXG5pbmRleCBpcyBkZXNpZ25lZCBmb3IgbG9va2luZyBkb3duIFsjdmVyaWZ5T2JqZWN0VHJhbnNpdGl2ZV1fLlxuXG4uLiBbI3ZlcmlmeU9iamVjdFRyYW5zaXRpdmVdIFRoZSBUcmFuc3Bvc2luZ1RyYW5zaXRpdmVNZW1iZXJzaGlwIGluZGV4ZXNcbiAgICBwcm92aWRlIElTZWFyY2hJbmRleC5cblxuICAgID4+PiBmcm9tIHpvcGUuaW50ZXJmYWNlLnZlcmlmeSBpbXBvcnQgdmVyaWZ5T2JqZWN0XG4gICAgPj4+IGltcG9ydCB6Yy5yZWxhdGlvbi5pbnRlcmZhY2VzXG4gICAgPj4+IGluZGV4ID0gbGlzdChjYXRhbG9nLml0ZXJTZWFyY2hJbmRleGVzKCkpWzBdXG4gICAgPj4+IHZlcmlmeU9iamVjdCh6Yy5yZWxhdGlvbi5pbnRlcmZhY2VzLklTZWFyY2hJbmRleCwgaW5kZXgpXG4gICAgVHJ1ZVxuXG5MZXQncyBjcmVhdGUgYW5kIGFkZCBhIGZldyBvcmdhbml6YXRpb25zLlxuXG5XZSdsbCBtYWtlIGEgc3RydWN0dXJlIGxpa2UgdGhpcyBbI3NpbGxpbmVzc11fOjpcblxuICAgICAgICAgWW5vZCBDb3JwIE1hbmdlbWVudCAgICAgICAgICAgICAgICAgWm9va2QgQ29ycCBNYW5hZ2VtZW50XG4gICAgICAgICAgLyAgICAgIHwgICAgICBcXCAgICAgICAgICAgICAgICAgICAgICAgLyAgICAgIHwgICAgICBcXFxuICAgWW5vZCBEZXZzICBZbm9kIFNBcyAgWW5vZCBBZG1pbnMgIFpvb2tkIEFkbWlucyAgIFpvb2tkIFNBcyAgWm9va2QgRGV2c1xuICAgICAvICAgICAgXFwgICAgICAgICAgICAgIFxcICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgIC8gICAgICAgICBcXFxuIFkzTDQgUHJvaiAgQmV0IFByb2ogICAgICBZbm9kIFpvb2tkIFRhc2sgRm9yY2UgICAgICBab29rZCBoT2dubWQgICAgIFpvb2tkIE5iZFxuXG5IZXJlJ3MgdGhlIFB5dGhvbi5cblxuXG4gICAgPj4+IG9yZ3MgPSByb290Wydvcmdhbml6YXRpb25zJ10gPSBCVHJlZXMuZmFtaWx5MzIuT08uQlRyZWUoKVxuICAgID4+PiBmb3Igbm0sIHBhcnRzIGluIChcbiAgICAuLi4gICAgICgnWTNMNCBQcm9qJywgKCkpLFxuICAgIC4uLiAgICAgKCdCZXQgUHJvaicsICgpKSxcbiAgICAuLi4gICAgICgnWW5vZCBab29rZCBUYXNrIEZvcmNlJywgKCkpLFxuICAgIC4uLiAgICAgKCdab29rZCBoT2dubWQnLCAoKSksXG4gICAgLi4uICAgICAoJ1pvb2tkIE5iZCcsICgpKSxcbiAgICAuLi4gICAgICgnWW5vZCBEZXZzJywgKCdZM0w0IFByb2onLCAnQmV0IFByb2onKSksXG4gICAgLi4uICAgICAoJ1lub2QgU0FzJywgKCkpLFxuICAgIC4uLiAgICAgKCdZbm9kIEFkbWlucycsICgnWW5vZCBab29rZCBUYXNrIEZvcmNlJywpKSxcbiAgICAuLi4gICAgICgnWm9va2QgQWRtaW5zJywgKCdZbm9kIFpvb2tkIFRhc2sgRm9yY2UnLCkpLFxuICAgIC4uLiAgICAgKCdab29rZCBTQXMnLCAoKSksXG4gICAgLi4uICAgICAoJ1pvb2tkIERldnMnLCAoJ1pvb2tkIGhPZ25tZCcsICdab29rZCBOYmQnKSksXG4gICAgLi4uICAgICAoJ1lub2QgQ29ycCBNYW5hZ2VtZW50JywgKCdZbm9kIERldnMnLCAnWW5vZCBTQXMnLCAnWW5vZCBBZG1pbnMnKSksXG4gICAgLi4uICAgICAoJ1pvb2tkIENvcnAgTWFuYWdlbWVudCcsICgnWm9va2QgRGV2cycsICdab29rZCBTQXMnLFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1pvb2tkIEFkbWlucycpKSk6XG4gICAgLi4uICAgICBvcmcgPSBPcmdhbml6YXRpb24obm0pXG4gICAgLi4uICAgICBmb3IgcGFydCBpbiBwYXJ0czpcbiAgICAuLi4gICAgICAgICBpZ25vcmUgPSBvcmcucGFydHMuaW5zZXJ0KHJlZ2lzdHJ5LmdldElkKG9yZ3NbcGFydF0pKVxuICAgIC4uLiAgICAgb3Jnc1tubV0gPSBvcmdcbiAgICAuLi4gICAgIGNhdGFsb2cuaW5kZXgob3JnKVxuICAgIC4uLlxuXG5Ob3cgdGhlIGNhdGFsb2cga25vd3MgYWJvdXQgdGhlIHJlbGF0aW9ucy5cblxuICAgID4+PiBsZW4oY2F0YWxvZylcbiAgICAxM1xuICAgID4+PiByb290WydkdW1teSddID0gT3JnYW5pemF0aW9uKCdGb28nKVxuICAgID4+PiByb290WydkdW1teSddIGluIGNhdGFsb2dcbiAgICBGYWxzZVxuICAgID4+PiBvcmdzWydZM0w0IFByb2onXSBpbiBjYXRhbG9nXG4gICAgVHJ1ZVxuXG5BbHNvLCBub3cgd2UgY2FuIHNlYXJjaC4gIFRvIGRvIHRoaXMsIHdlIGNhbiB1c2Ugc29tZSBvZiB0aGUgdG9rZW4gbWV0aG9kcyB0aGF0XG50aGUgY2F0YWxvZyBwcm92aWRlcy4gIFRoZSBtb3N0IGNvbW1vbmx5IHVzZWQgaXMgYHRva2VuaXplUXVlcnlgLiAgSXQgdGFrZXMgYVxucXVlcnkgd2l0aCB2YWx1ZXMgdGhhdCBhcmUgbm90IHRva2VuaXplZCBhbmQgY29udmVydHMgdGhlbSB0byB2YWx1ZXMgdGhhdCBhcmVcbnRva2VuaXplZC5cblxuICAgID4+PiBZbm9kX1NBc19pZCA9IHJlZ2lzdHJ5LmdldElkKG9yZ3NbJ1lub2QgU0FzJ10pXG4gICAgPj4+IGNhdGFsb2cudG9rZW5pemVRdWVyeSh7Tm9uZTogb3Jnc1snWW5vZCBTQXMnXX0pID09IHtcbiAgICAuLi4gICAgIE5vbmU6IFlub2RfU0FzX2lkfVxuICAgIFRydWVcbiAgICA+Pj4gWm9va2RfU0FzX2lkID0gcmVnaXN0cnkuZ2V0SWQob3Jnc1snWm9va2QgU0FzJ10pXG4gICAgPj4+IFpvb2tkX0RldnNfaWQgPSByZWdpc3RyeS5nZXRJZChvcmdzWydab29rZCBEZXZzJ10pXG4gICAgPj4+IGNhdGFsb2cudG9rZW5pemVRdWVyeShcbiAgICAuLi4gICAgIHtOb25lOiB6Yy5yZWxhdGlvbi5jYXRhbG9nLmFueShcbiAgICAuLi4gICAgICAgICBvcmdzWydab29rZCBTQXMnXSwgb3Jnc1snWm9va2QgRGV2cyddKX0pID09IHtcbiAgICAuLi4gICAgIE5vbmU6IHpjLnJlbGF0aW9uLmNhdGFsb2cuYW55KFpvb2tkX1NBc19pZCwgWm9va2RfRGV2c19pZCl9XG4gICAgVHJ1ZVxuXG5PZiBjb3Vyc2UsIHJpZ2h0IG5vdyBkb2luZyB0aGlzIHdpdGggJ3BhcnQnIGFsb25lIGlzIGtpbmQgb2Ygc2lsbHksIHNpbmNlIGl0XG5kb2VzIG5vdCBjaGFuZ2Ugd2l0aGluIHRoZSByZWxhdGlvbiBjYXRhbG9nIChiZWNhdXNlIHdlIHNhaWQgdGhhdCBkdW1wIGFuZFxubG9hZCB3ZXJlIGBOb25lYCwgYXMgZGlzY3Vzc2VkIGFib3ZlKS5cblxuICAgID4+PiBjYXRhbG9nLnRva2VuaXplUXVlcnkoeydwYXJ0JzogWW5vZF9TQXNfaWR9KSA9PSB7XG4gICAgLi4uICAgICAncGFydCc6IFlub2RfU0FzX2lkfVxuICAgIFRydWVcbiAgICA+Pj4gY2F0YWxvZy50b2tlbml6ZVF1ZXJ5KFxuICAgIC4uLiAgICAgeydwYXJ0JzogemMucmVsYXRpb24uY2F0YWxvZy5hbnkoWm9va2RfU0FzX2lkLCBab29rZF9EZXZzX2lkKX1cbiAgICAuLi4gICAgICkgPT0geydwYXJ0JzogemMucmVsYXRpb24uY2F0YWxvZy5hbnkoWm9va2RfU0FzX2lkLCBab29rZF9EZXZzX2lkKX1cbiAgICBUcnVlXG5cblRoZSBgdG9rZW5pemVRdWVyeWAgbWV0aG9kIGlzIHNvIGNvbW1vbiB0aGF0IHdlJ3JlIGdvaW5nIHRvIGFzc2lnbiBpdCB0b1xuYSB2YXJpYWJsZSBpbiBvdXIgZXhhbXBsZS4gVGhlbiB3ZSdsbCBkbyBhIHNlYXJjaCBvciB0d28uXG5cblNvLi4uZmluZCB0aGUgcmVsYXRpb25zIHRoYXQgWW5vZCBEZXZzIHN1cGVydmlzZS5cblxuICAgID4+PiB0ID0gY2F0YWxvZy50b2tlbml6ZVF1ZXJ5XG4gICAgPj4+IHJlcyA9IGxpc3QoY2F0YWxvZy5maW5kUmVsYXRpb25Ub2tlbnModCh7Tm9uZTogb3Jnc1snWW5vZCBEZXZzJ119KSkpXG5cbk9LLi4ud2UgdXNlZCBgZmluZFJlbGF0aW9uVG9rZW5zYCwgYXMgb3Bwb3NlZCB0byBgZmluZFJlbGF0aW9uc2AsIHNvIHJlc1xuaXMgYSBjb3VwbGUgb2YgbnVtYmVycyBub3cuICBIb3cgZG8gd2UgY29udmVydCB0aGVtIGJhY2s/XG5gcmVzb2x2ZVJlbGF0aW9uVG9rZW5zYCB3aWxsIGRvIHRoZSB0cmljay5cblxuICAgID4+PiBsZW4ocmVzKVxuICAgIDNcbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cucmVzb2x2ZVJlbGF0aW9uVG9rZW5zKHJlcykpXG4gICAgLi4uICMgZG9jdGVzdDogK05PUk1BTElaRV9XSElURVNQQUNFXG4gICAgWzxPcmdhbml6YXRpb24gaW5zdGFuY2UgXCJCZXQgUHJvalwiPiwgPE9yZ2FuaXphdGlvbiBpbnN0YW5jZSBcIlkzTDQgUHJvalwiPixcbiAgICAgPE9yZ2FuaXphdGlvbiBpbnN0YW5jZSBcIllub2QgRGV2c1wiPl1cblxuYHJlc29sdmVRdWVyeWAgaXMgdGhlIG1pcnJvciBpbWFnZSBvZiBgdG9rZW5pemVRdWVyeWA6IGl0IGNvbnZlcnRzXG50b2tlbml6ZWQgcXVlcmllcyB0byBxdWVyaWVzIHdpdGggXCJsb2FkZWRcIiB2YWx1ZXMuXG5cbiAgICA+Pj4gb3JpZ2luYWwgPSB7J3BhcnQnOiB6Yy5yZWxhdGlvbi5jYXRhbG9nLmFueShcbiAgICAuLi4gICAgICAgICAgICAgICAgIFpvb2tkX1NBc19pZCwgWm9va2RfRGV2c19pZCksXG4gICAgLi4uICAgICAgICAgICAgIE5vbmU6IG9yZ3NbJ1pvb2tkIERldnMnXX1cbiAgICA+Pj4gdG9rZW5pemVkID0gY2F0YWxvZy50b2tlbml6ZVF1ZXJ5KG9yaWdpbmFsKVxuICAgID4+PiBvcmlnaW5hbCA9PSBjYXRhbG9nLnJlc29sdmVRdWVyeSh0b2tlbml6ZWQpXG4gICAgVHJ1ZVxuXG4gICAgPj4+IG9yaWdpbmFsID0ge05vbmU6IHpjLnJlbGF0aW9uLmNhdGFsb2cuYW55KFxuICAgIC4uLiAgICAgICAgICAgICAgICAgb3Jnc1snWm9va2QgU0FzJ10sIG9yZ3NbJ1pvb2tkIERldnMnXSksXG4gICAgLi4uICAgICAgICAgICAgICdwYXJ0JzogWm9va2RfRGV2c19pZH1cbiAgICA+Pj4gdG9rZW5pemVkID0gY2F0YWxvZy50b2tlbml6ZVF1ZXJ5KG9yaWdpbmFsKVxuICAgID4+PiBvcmlnaW5hbCA9PSBjYXRhbG9nLnJlc29sdmVRdWVyeSh0b2tlbml6ZWQpXG4gICAgVHJ1ZVxuXG5MaWtld2lzZSwgYHRva2VuaXplUmVsYXRpb25zYCBpcyB0aGUgbWlycm9yIGltYWdlIG9mIGByZXNvbHZlUmVsYXRpb25Ub2tlbnNgLlxuXG4gICAgPj4+IHNvcnRlZChjYXRhbG9nLnRva2VuaXplUmVsYXRpb25zKFxuICAgIC4uLiAgICAgW29yZ3NbXCJCZXQgUHJvalwiXSwgb3Jnc1tcIlkzTDQgUHJvalwiXV0pKSA9PSBzb3J0ZWQoXG4gICAgLi4uICAgICByZWdpc3RyeS5nZXRJZChvKSBmb3IgbyBpblxuICAgIC4uLiAgICAgW29yZ3NbXCJCZXQgUHJvalwiXSwgb3Jnc1tcIlkzTDQgUHJvalwiXV0pXG4gICAgVHJ1ZVxuXG5UaGUgb3RoZXIgdG9rZW4tcmVsYXRlZCBtZXRob2RzIGFyZSBhcyBmb2xsb3dzXG5bI3Nob3dfcmVtYWluaW5nX3Rva2VuX21ldGhvZHNdXzpcblxuLi4gWyNzaG93X3JlbWFpbmluZ190b2tlbl9tZXRob2RzXSBGb3Igd2hhdCBpdCdzIHdvcnRoLCBoZXJlIGFyZSBzb21lIHNtYWxsXG4gICAgZXhhbXBsZXMgb2YgdGhlIHJlbWFpbmluZyB0b2tlbi1yZWxhdGVkIG1ldGhvZHMuXG5cbiAgICBUaGVzZSB0d28gYXJlIHRoZSBzaW5ndWxhciB2ZXJzaW9ucyBvZiBgdG9rZW5pemVSZWxhdGlvbnNgIGFuZFxuICAgIGByZXNvbHZlUmVsYXRpb25Ub2tlbnNgLlxuXG4gICAgYHRva2VuaXplUmVsYXRpb25gIHJldHVybnMgYSB0b2tlbiBmb3IgdGhlIGdpdmVuIHJlbGF0aW9uLlxuXG4gICAgPj4+IGNhdGFsb2cudG9rZW5pemVSZWxhdGlvbihvcmdzWydab29rZCBDb3JwIE1hbmFnZW1lbnQnXSkgPT0gKFxuICAgIC4uLiAgICAgcmVnaXN0cnkuZ2V0SWQob3Jnc1snWm9va2QgQ29ycCBNYW5hZ2VtZW50J10pKVxuICAgIFRydWVcblxuICAgIGByZXNvbHZlUmVsYXRpb25Ub2tlbmAgcmV0dXJucyBhIHJlbGF0aW9uIGZvciB0aGUgZ2l2ZW4gdG9rZW4uXG5cbiAgICA+Pj4gY2F0YWxvZy5yZXNvbHZlUmVsYXRpb25Ub2tlbihyZWdpc3RyeS5nZXRJZChcbiAgICAuLi4gICAgIG9yZ3NbJ1pvb2tkIENvcnAgTWFuYWdlbWVudCddKSkgaXMgb3Jnc1snWm9va2QgQ29ycCBNYW5hZ2VtZW50J11cbiAgICBUcnVlXG5cbiAgICBUaGUgXCJ2YWx1ZXNcIiBvbmVzIGFyZSBhIGJpdCBsYW1lIHRvIHNob3cgbm93LCBzaW5jZSB0aGUgb25seSB2YWx1ZVxuICAgIHdlIGhhdmUgcmlnaHQgbm93IGlzIG5vdCB0b2tlbml6ZWQgYnV0IHVzZWQgc3RyYWlnaHQgdXAuICBCdXQgaGVyZVxuICAgIGdvZXMsIHNob3dpbmcgc29tZSBmYXNjaW5hdGluZyBuby1vcHMuXG5cbiAgICBgdG9rZW5pemVWYWx1ZXNgLCByZXR1cm5zIGFuIGl0ZXJhYmxlIG9mIHRva2VucyBmb3IgdGhlIHZhbHVlcyBvZlxuICAgIHRoZSBnaXZlbiBpbmRleCBuYW1lLlxuXG4gICAgPj4+IGxpc3QoY2F0YWxvZy50b2tlbml6ZVZhbHVlcygoMSwyLDMpLCAncGFydCcpKVxuICAgIFsxLCAyLCAzXVxuXG4gICAgYHJlc29sdmVWYWx1ZVRva2Vuc2AgcmV0dXJucyBhbiBpdGVyYWJsZSBvZiB2YWx1ZXMgZm9yIHRoZSB0b2tlbnMgb2ZcbiAgICB0aGUgZ2l2ZW4gaW5kZXggbmFtZS5cblxuICAgID4+PiBsaXN0KGNhdGFsb2cucmVzb2x2ZVZhbHVlVG9rZW5zKCgxLDIsMyksICdwYXJ0JykpXG4gICAgWzEsIDIsIDNdXG5cblxuLSBgdG9rZW5pemVWYWx1ZXNgLCB3aGljaCByZXR1cm5zIGFuIGl0ZXJhYmxlIG9mIHRva2VucyBmb3IgdGhlIHZhbHVlc1xuICBvZiB0aGUgZ2l2ZW4gaW5kZXggbmFtZTtcbi0gYHJlc29sdmVWYWx1ZVRva2Vuc2AsIHdoaWNoIHJldHVybnMgYW4gaXRlcmFibGUgb2YgdmFsdWVzIGZvciB0aGUgdG9rZW5zIG9mXG4gIHRoZSBnaXZlbiBpbmRleCBuYW1lO1xuLSBgdG9rZW5pemVSZWxhdGlvbmAsIHdoaWNoIHJldHVybnMgYSB0b2tlbiBmb3IgdGhlIGdpdmVuIHJlbGF0aW9uOyBhbmRcbi0gYHJlc29sdmVSZWxhdGlvblRva2VuYCwgd2hpY2ggcmV0dXJucyBhIHJlbGF0aW9uIGZvciB0aGUgZ2l2ZW4gdG9rZW4uXG5cbldoeSBkbyB3ZSBib3RoZXIgd2l0aCB0aGVzZSB0b2tlbnMsIGluc3RlYWQgb2YgaGlkaW5nIHRoZW0gYXdheSBhbmRcbm1ha2luZyB0aGUgQVBJIHByZXR0aWVyPyAgQnkgZXhwb3NpbmcgdGhlbSwgd2UgZW5hYmxlIGVmZmljaWVudCBqb2luaW5nLFxuYW5kIGVmZmljaWVudCB1c2UgaW4gb3RoZXIgY29udGV4dHMuICBGb3IgaW5zdGFuY2UsIGlmIHlvdSB1c2UgdGhlIHNhbWVcbmludGlkIHV0aWxpdHkgdG8gdG9rZW5pemUgaW4gb3RoZXIgY2F0YWxvZ3MsIG91ciByZXN1bHRzIGNhbiBiZSBtZXJnZWRcbndpdGggdGhlIHJlc3VsdHMgb2Ygb3RoZXIgY2F0YWxvZ3MuICBTaW1pbGFybHksIHlvdSBjYW4gdXNlIHRoZSByZXN1bHRzXG5vZiBxdWVyaWVzIHRvIG90aGVyIGNhdGFsb2dzLS1vciBldmVuIFwiam9pbnNcIiBmcm9tIGVhcmxpZXIgcmVzdWx0cyBvZlxucXVlcnlpbmcgdGhpcyBjYXRhbG9nLS1hcyBxdWVyeSB2YWx1ZXMgaGVyZS4gIFdlJ2xsIGV4cGxvcmUgdGhpcyBpbiB0aGVcbm5leHQgc2VjdGlvbi5cblxuUm9sZXNcbj09PT09XG5cbldlIGhhdmUgc2V0IHVwIHRoZSBPcmdhbml6YXRpb24gcmVsYXRpb25zLiAgTm93IGxldCdzIHNldCB1cCB0aGUgcm9sZXMsIGFuZFxuYWN0dWFsbHkgYmUgYWJsZSB0byBhbnN3ZXIgdGhlIHF1ZXN0aW9ucyB0aGF0IHdlIGRlc2NyaWJlZCBhdCB0aGUgYmVnaW5uaW5nXG5vZiB0aGUgZG9jdW1lbnQuXG5cbkluIG91ciBSb2xlcyBvYmplY3QsIHJvbGVzIGFuZCBwcmluY2lwYWxzIHdpbGwgc2ltcGx5IGJlIHN0cmluZ3MtLWlkcywgaWZcbnRoaXMgd2VyZSBhIHJlYWwgc3lzdGVtLiAgVGhlIG9yZ2FuaXphdGlvbiB3aWxsIGJlIGEgZGlyZWN0IG9iamVjdCByZWZlcmVuY2UuXG5cbiAgICA+Pj4gQHpvcGUuaW50ZXJmYWNlLmltcGxlbWVudGVyKElSb2xlcylcbiAgICAuLi4gQHRvdGFsX29yZGVyaW5nXG4gICAgLi4uIGNsYXNzIFJvbGVzKHBlcnNpc3RlbnQuUGVyc2lzdGVudCk6XG4gICAgLi4uXG4gICAgLi4uICAgICBkZWYgX19pbml0X18oc2VsZiwgcHJpbmNpcGFsX2lkLCByb2xlX2lkcywgb3JnYW5pemF0aW9uKTpcbiAgICAuLi4gICAgICAgICBzZWxmLnByaW5jaXBhbF9pZCA9IHByaW5jaXBhbF9pZFxuICAgIC4uLiAgICAgICAgIHNlbGYucm9sZV9pZHMgPSBCVHJlZXMuZmFtaWx5MzIuT0kuVHJlZVNldChyb2xlX2lkcylcbiAgICAuLi4gICAgICAgICBzZWxmLl9vcmdhbml6YXRpb24gPSBvcmdhbml6YXRpb25cbiAgICAuLi4gICAgIGRlZiBnZXRPcmdhbml6YXRpb24oc2VsZik6XG4gICAgLi4uICAgICAgICAgcmV0dXJuIHNlbGYuX29yZ2FuaXphdGlvblxuICAgIC4uLiAgICAgIyB0aGUgcmVzdCBpcyBmb3IgcHJldHRpZXIvZWFzaWVyIHRlc3RzXG4gICAgLi4uICAgICBkZWYgX19yZXByX18oc2VsZik6XG4gICAgLi4uICAgICAgICAgcmV0dXJuIFwiPFJvbGVzIGluc3RhbmNlICglcyBoYXMgJXMgaW4gJXMpPlwiICUgKFxuICAgIC4uLiAgICAgICAgICAgICBzZWxmLnByaW5jaXBhbF9pZCwgJywgJy5qb2luKHNlbGYucm9sZV9pZHMpLFxuICAgIC4uLiAgICAgICAgICAgICBzZWxmLl9vcmdhbml6YXRpb24udGl0bGUpXG4gICAgLi4uICAgICBkZWYgX19sdF9fKHNlbGYsIG90aGVyKTpcbiAgICAuLi4gICAgICAgICBfc2VsZiA9IChcbiAgICAuLi4gICAgICAgICAgICAgc2VsZi5wcmluY2lwYWxfaWQsXG4gICAgLi4uICAgICAgICAgICAgIHR1cGxlKHNlbGYucm9sZV9pZHMpLFxuICAgIC4uLiAgICAgICAgICAgICBzZWxmLl9vcmdhbml6YXRpb24udGl0bGUsXG4gICAgLi4uICAgICAgICAgKVxuICAgIC4uLiAgICAgICAgIF9vdGhlciA9IChcbiAgICAuLi4gICAgICAgICAgICAgb3RoZXIucHJpbmNpcGFsX2lkLFxuICAgIC4uLiAgICAgICAgICAgICB0dXBsZShvdGhlci5yb2xlX2lkcyksXG4gICAgLi4uICAgICAgICAgICAgIG90aGVyLl9vcmdhbml6YXRpb24udGl0bGUsXG4gICAgLi4uICAgICAgICAgKVxuICAgIC4uLiAgICAgICAgIHJldHVybiBfc2VsZiA8X290aGVyXG4gICAgLi4uICAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyKTpcbiAgICAuLi4gICAgICAgICByZXR1cm4gc2VsZiBpcyBvdGhlclxuICAgIC4uLiAgICAgZGVmIF9faGFzaF9fKHNlbGYpOlxuICAgIC4uLiAgICAgICAgIHJldHVybiAxICAjIGR1bW15XG4gICAgLi4uXG5cbk5vdyBsZXQncyBhZGQgYWRkIHRoZSB2YWx1ZSBpbmRleGVzIHRvIHRoZSByZWxhdGlvbiBjYXRhbG9nLlxuXG4gICAgPj4+IGNhdGFsb2cuYWRkVmFsdWVJbmRleChJUm9sZXNbJ3ByaW5jaXBhbF9pZCddLCBidHJlZT1CVHJlZXMuZmFtaWx5MzIuT0kpXG4gICAgPj4+IGNhdGFsb2cuYWRkVmFsdWVJbmRleChJUm9sZXNbJ3JvbGVfaWRzJ10sIGJ0cmVlPUJUcmVlcy5mYW1pbHkzMi5PSSxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlPVRydWUsIG5hbWU9J3JvbGVfaWQnKVxuICAgID4+PiBjYXRhbG9nLmFkZFZhbHVlSW5kZXgoSVJvbGVzWydnZXRPcmdhbml6YXRpb24nXSwgZHVtcCwgbG9hZCxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgIG5hbWU9J29yZ2FuaXphdGlvbicpXG5cblRob3NlIGFyZSBzb21lIHNsaWdodGx5IG5ldyB2YXJpYXRpb25zIG9mIHdoYXQgd2UndmUgc2VlbiBpbiBgYWRkVmFsdWVJbmRleGBcbmJlZm9yZSwgYnV0IGFsbCBtaXhpbmcgYW5kIG1hdGNoaW5nIG9uIHRoZSBzYW1lIGluZ3JlZGllbnRzLlxuXG5BcyBhIHJlbWluZGVyLCBoZXJlIGlzIG91ciBvcmdhbml6YXRpb24gc3RydWN0dXJlOjpcblxuICAgICAgICAgWW5vZCBDb3JwIE1hbmdlbWVudCAgICAgICAgICAgICAgICAgWm9va2QgQ29ycCBNYW5hZ2VtZW50XG4gICAgICAgICAgLyAgICAgIHwgICAgICBcXCAgICAgICAgICAgICAgICAgICAgICAgLyAgICAgIHwgICAgICBcXFxuICAgWW5vZCBEZXZzICBZbm9kIFNBcyAgWW5vZCBBZG1pbnMgIFpvb2tkIEFkbWlucyAgIFpvb2tkIFNBcyAgWm9va2QgRGV2c1xuICAgICAvICAgICAgXFwgICAgICAgICAgICAgIFxcICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgIC8gICAgICAgICBcXFxuIFkzTDQgUHJvaiAgQmV0IFByb2ogICAgICBZbm9kIFpvb2tkIFRhc2sgRm9yY2UgICAgICBab29rZCBoT2dubWQgICAgIFpvb2tkIE5iZFxuXG5Ob3cgbGV0J3MgY3JlYXRlIGFuZCBhZGQgc29tZSByb2xlcy5cblxuICAgID4+PiBwcmluY2lwYWxfaWRzID0gW1xuICAgIC4uLiAgICAgJ2FiZScsICdicmFuJywgJ2NhdGh5JywgJ2RhdmlkJywgJ2VkZ2FyJywgJ2ZyYW5rJywgJ2dlcnRydWRlJyxcbiAgICAuLi4gICAgICdoYXJyaWV0JywgJ2lnbmFzJywgJ2phY29iJywgJ2thcnluJywgJ2xldHRpZScsICdtb2xseScsICduYW5jeScsXG4gICAgLi4uICAgICAnb3BoZWxpYScsICdwYXQnXVxuICAgID4+PiByb2xlX2lkcyA9IFsndXNlciBtYW5hZ2VyJywgJ3dyaXRlcicsICdyZXZpZXdlcicsICdwdWJsaXNoZXInXVxuICAgID4+PiBnZXRfcm9sZSA9IGRpY3QoKHZbMF0sIHYpIGZvciB2IGluIHJvbGVfaWRzKS5fX2dldGl0ZW1fX1xuICAgID4+PiByb2xlcyA9IHJvb3RbJ3JvbGVzJ10gPSBCVHJlZXMuZmFtaWx5MzIuSU8uQlRyZWUoKVxuICAgID4+PiBuZXh0ID0gMFxuICAgID4+PiBmb3IgcHJpbiwgb3JnLCByb2xlX2lkcyBpbiAoXG4gICAgLi4uICAgICAoJ2FiZScsIG9yZ3NbJ1pvb2tkIENvcnAgTWFuYWdlbWVudCddLCAndXdycCcpLFxuICAgIC4uLiAgICAgKCdicmFuJywgb3Jnc1snWW5vZCBDb3JwIE1hbmFnZW1lbnQnXSwgJ3V3cnAnKSxcbiAgICAuLi4gICAgICgnY2F0aHknLCBvcmdzWydZbm9kIERldnMnXSwgJ3cnKSxcbiAgICAuLi4gICAgICgnY2F0aHknLCBvcmdzWydZM0w0IFByb2onXSwgJ3InKSxcbiAgICAuLi4gICAgICgnZGF2aWQnLCBvcmdzWydCZXQgUHJvaiddLCAnd3JwJyksXG4gICAgLi4uICAgICAoJ2VkZ2FyJywgb3Jnc1snWW5vZCBEZXZzJ10sICd1cCcpLFxuICAgIC4uLiAgICAgKCdmcmFuaycsIG9yZ3NbJ1lub2QgU0FzJ10sICd1d3JwJyksXG4gICAgLi4uICAgICAoJ2ZyYW5rJywgb3Jnc1snWW5vZCBBZG1pbnMnXSwgJ3cnKSxcbiAgICAuLi4gICAgICgnZ2VydHJ1ZGUnLCBvcmdzWydZbm9kIFpvb2tkIFRhc2sgRm9yY2UnXSwgJ3V3cnAnKSxcbiAgICAuLi4gICAgICgnaGFycmlldCcsIG9yZ3NbJ1lub2QgWm9va2QgVGFzayBGb3JjZSddLCAndycpLFxuICAgIC4uLiAgICAgKCdoYXJyaWV0Jywgb3Jnc1snWW5vZCBBZG1pbnMnXSwgJ3InKSxcbiAgICAuLi4gICAgICgnaWduYXMnLCBvcmdzWydab29rZCBBZG1pbnMnXSwgJ3InKSxcbiAgICAuLi4gICAgICgnaWduYXMnLCBvcmdzWydab29rZCBDb3JwIE1hbmFnZW1lbnQnXSwgJ3cnKSxcbiAgICAuLi4gICAgICgna2FyeW4nLCBvcmdzWydab29rZCBDb3JwIE1hbmFnZW1lbnQnXSwgJ3V3cnAnKSxcbiAgICAuLi4gICAgICgna2FyeW4nLCBvcmdzWydZbm9kIENvcnAgTWFuYWdlbWVudCddLCAndXdycCcpLFxuICAgIC4uLiAgICAgKCdsZXR0aWUnLCBvcmdzWydab29rZCBDb3JwIE1hbmFnZW1lbnQnXSwgJ3UnKSxcbiAgICAuLi4gICAgICgnbGV0dGllJywgb3Jnc1snWW5vZCBab29rZCBUYXNrIEZvcmNlJ10sICd3JyksXG4gICAgLi4uICAgICAoJ2xldHRpZScsIG9yZ3NbJ1pvb2tkIFNBcyddLCAndycpLFxuICAgIC4uLiAgICAgKCdtb2xseScsIG9yZ3NbJ1pvb2tkIFNBcyddLCAndXdycCcpLFxuICAgIC4uLiAgICAgKCduYW5jeScsIG9yZ3NbJ1pvb2tkIERldnMnXSwgJ3dycCcpLFxuICAgIC4uLiAgICAgKCduYW5jeScsIG9yZ3NbJ1pvb2tkIGhPZ25tZCddLCAndScpLFxuICAgIC4uLiAgICAgKCdvcGhlbGlhJywgb3Jnc1snWm9va2QgQ29ycCBNYW5hZ2VtZW50J10sICd3JyksXG4gICAgLi4uICAgICAoJ29waGVsaWEnLCBvcmdzWydab29rZCBEZXZzJ10sICdyJyksXG4gICAgLi4uICAgICAoJ29waGVsaWEnLCBvcmdzWydab29rZCBOYmQnXSwgJ3AnKSxcbiAgICAuLi4gICAgICgncGF0Jywgb3Jnc1snWm9va2QgTmJkJ10sICd3cnAnKSk6XG4gICAgLi4uICAgICBhc3NlcnQgcHJpbiBpbiBwcmluY2lwYWxfaWRzXG4gICAgLi4uICAgICByb2xlX2lkcyA9IFtnZXRfcm9sZShsKSBmb3IgbCBpbiByb2xlX2lkc11cbiAgICAuLi4gICAgIHJvbGUgPSByb2xlc1tuZXh0XSA9IFJvbGVzKHByaW4sIHJvbGVfaWRzLCBvcmcpXG4gICAgLi4uICAgICByb2xlLmtleSA9IG5leHRcbiAgICAuLi4gICAgIG5leHQgKz0gMVxuICAgIC4uLiAgICAgY2F0YWxvZy5pbmRleChyb2xlKVxuICAgIC4uLlxuXG5Ob3cgd2UgY2FuIGJlZ2luIHRvIGRvIHNlYXJjaGVzIFsjcmVhbF92YWx1ZV90b2tlbnNdXy5cblxuXG4uLiBbI3JlYWxfdmFsdWVfdG9rZW5zXSBXZSBjYW4gYWxzbyBzaG93IHRoZSB2YWx1ZXMgdG9rZW4gbWV0aG9kcyBtb3JlXG4gICAgc2FuZWx5IG5vdy5cblxuICAgID4+PiBvcmlnaW5hbCA9IHNvcnRlZCgob3Jnc1snWm9va2QgRGV2cyddLCBvcmdzWydZbm9kIFNBcyddKSlcbiAgICA+Pj4gdG9rZW5zID0gbGlzdChjYXRhbG9nLnRva2VuaXplVmFsdWVzKG9yaWdpbmFsLCAnb3JnYW5pemF0aW9uJykpXG4gICAgPj4+IG9yaWdpbmFsID09IHNvcnRlZChjYXRhbG9nLnJlc29sdmVWYWx1ZVRva2Vucyh0b2tlbnMsICdvcmdhbml6YXRpb24nKSlcbiAgICBUcnVlXG5cbldoYXQgYXJlIGFsbCB0aGUgcm9sZSBzZXR0aW5ncyBmb3Igb3BoZWxpYT9cblxuICAgID4+PiBzb3J0ZWQoY2F0YWxvZy5maW5kUmVsYXRpb25zKHsncHJpbmNpcGFsX2lkJzogJ29waGVsaWEnfSkpXG4gICAgLi4uICMgZG9jdGVzdDogK05PUk1BTElaRV9XSElURVNQQUNFXG4gICAgWzxSb2xlcyBpbnN0YW5jZSAob3BoZWxpYSBoYXMgcHVibGlzaGVyIGluIFpvb2tkIE5iZCk+LFxuICAgICA8Um9sZXMgaW5zdGFuY2UgKG9waGVsaWEgaGFzIHJldmlld2VyIGluIFpvb2tkIERldnMpPixcbiAgICAgPFJvbGVzIGluc3RhbmNlIChvcGhlbGlhIGhhcyB3cml0ZXIgaW4gWm9va2QgQ29ycCBNYW5hZ2VtZW50KT5dXG5cblRoYXQgYW5zd2VyIGRvZXMgbm90IG5lZWQgdG8gYmUgdHJhbnNpdGl2ZTogd2UncmUgZG9uZS5cblxuTmV4dCBxdWVzdGlvbi4gIFdoZXJlIGRvZXMgb3BoZWxpYSBoYXZlIHRoZSAnd3JpdGVyJyByb2xlP1xuXG4gICAgPj4+IGxpc3QoY2F0YWxvZy5maW5kVmFsdWVzKFxuICAgIC4uLiAgICAgJ29yZ2FuaXphdGlvbicsIHsncHJpbmNpcGFsX2lkJzogJ29waGVsaWEnLFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAgICAgICdyb2xlX2lkJzogJ3dyaXRlcid9KSlcbiAgICBbPE9yZ2FuaXphdGlvbiBpbnN0YW5jZSBcIlpvb2tkIENvcnAgTWFuYWdlbWVudFwiPl1cblxuV2VsbCwgdGhhdCdzIGNvcnJlY3QgaW50cmFuc2l0aXZlbHkuICBEbyB3ZSBuZWVkIGEgdHJhbnNpdGl2ZSBxdWVyaWVzXG5mYWN0b3J5PyAgTm8hIFRoaXMgaXMgYSBncmVhdCBjaGFuY2UgdG8gbG9vayBhdCB0aGUgdG9rZW4gam9pbiB3ZSB0YWxrZWRcbmFib3V0IGluIHRoZSBwcmV2aW91cyBzZWN0aW9uLiAgVGhpcyBzaG91bGQgYWN0dWFsbHkgYmUgYSB0d28tc3RlcFxub3BlcmF0aW9uOiBmaW5kIGFsbCBvZiB0aGUgb3JnYW5pemF0aW9ucyBpbiB3aGljaCBvcGhlbGlhIGhhcyB3cml0ZXIsXG5hbmQgdGhlbiBmaW5kIGFsbCBvZiB0aGUgdHJhbnNpdGl2ZSBwYXJ0cyB0byB0aGF0IG9yZ2FuaXphdGlvbi5cblxuICAgID4+PiBzb3J0ZWQoY2F0YWxvZy5maW5kUmVsYXRpb25zKHtOb25lOiB6Yy5yZWxhdGlvbi5jYXRhbG9nLkFueShcbiAgICAuLi4gICAgIGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKCdvcmdhbml6YXRpb24nLFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeydwcmluY2lwYWxfaWQnOiAnb3BoZWxpYScsXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3JvbGVfaWQnOiAnd3JpdGVyJ30pKX0pKVxuICAgIC4uLiAjIGRvY3Rlc3Q6ICtOT1JNQUxJWkVfV0hJVEVTUEFDRVxuICAgIFs8T3JnYW5pemF0aW9uIGluc3RhbmNlIFwiWW5vZCBab29rZCBUYXNrIEZvcmNlXCI+LFxuICAgICA8T3JnYW5pemF0aW9uIGluc3RhbmNlIFwiWm9va2QgQWRtaW5zXCI+LFxuICAgICA8T3JnYW5pemF0aW9uIGluc3RhbmNlIFwiWm9va2QgQ29ycCBNYW5hZ2VtZW50XCI+LFxuICAgICA8T3JnYW5pemF0aW9uIGluc3RhbmNlIFwiWm9va2QgRGV2c1wiPixcbiAgICAgPE9yZ2FuaXphdGlvbiBpbnN0YW5jZSBcIlpvb2tkIE5iZFwiPixcbiAgICAgPE9yZ2FuaXphdGlvbiBpbnN0YW5jZSBcIlpvb2tkIFNBc1wiPixcbiAgICAgPE9yZ2FuaXphdGlvbiBpbnN0YW5jZSBcIlpvb2tkIGhPZ25tZFwiPl1cblxuVGhhdCdzIG1vcmUgbGlrZSBpdC5cblxuTmV4dCBxdWVzdGlvbi4gIFdoYXQgdXNlcnMgaGF2ZSByb2xlcyBpbiB0aGUgJ1pvb2tkIERldnMnIG9yZ2FuaXphdGlvbj9cbkludHJhbnNpdGl2ZWx5LCB0aGF0J3MgcHJldHR5IGVhc3kuXG5cbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKFxuICAgIC4uLiAgICAgJ3ByaW5jaXBhbF9pZCcsIHQoeydvcmdhbml6YXRpb24nOiBvcmdzWydab29rZCBEZXZzJ119KSkpXG4gICAgWyduYW5jeScsICdvcGhlbGlhJ11cblxuVHJhbnNpdGl2ZWx5LCB3ZSBzaG91bGQgZG8gYW5vdGhlciBqb2luLlxuXG4gICAgPj4+IG9yZ19pZCA9IHJlZ2lzdHJ5LmdldElkKG9yZ3NbJ1pvb2tkIERldnMnXSlcbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKFxuICAgIC4uLiAgICAgJ3ByaW5jaXBhbF9pZCcsIHtcbiAgICAuLi4gICAgICAgICAnb3JnYW5pemF0aW9uJzogemMucmVsYXRpb24uY2F0YWxvZy5hbnkoXG4gICAgLi4uICAgICAgICAgICAgIG9yZ19pZCwgKmNhdGFsb2cuZmluZFJlbGF0aW9uVG9rZW5zKHsncGFydCc6IG9yZ19pZH0pKX0pKVxuICAgIFsnYWJlJywgJ2lnbmFzJywgJ2thcnluJywgJ2xldHRpZScsICduYW5jeScsICdvcGhlbGlhJ11cblxuVGhhdCdzIGEgbGl0dGxlIGF3a3dhcmQsIGJ1dCBpdCBkb2VzIHRoZSB0cmljay5cblxuTGFzdCBxdWVzdGlvbiwgYW5kIHRoZSBraW5kIG9mIHF1ZXN0aW9uIHRoYXQgc3RhcnRlZCB0aGUgZW50aXJlIGV4YW1wbGUuXG4gV2hhdCByb2xlcyBkb2VzIG9waGVsaWEgaGF2ZSBpbiB0aGUgXCJab29rZCBOYmRcIiBvcmdhbml6YXRpb24/XG5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRWYWx1ZVRva2VucyhcbiAgICAuLi4gICAgICdyb2xlX2lkJywgdCh7J29yZ2FuaXphdGlvbic6IG9yZ3NbJ1pvb2tkIE5iZCddLFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAncHJpbmNpcGFsX2lkJzogJ29waGVsaWEnfSkpKVxuICAgIFsncHVibGlzaGVyJ11cblxuSW50cmFuc2l0aXZlbHksIHRoYXQncyBjb3JyZWN0LiAgQnV0LCB0cmFuc2l0aXZlbHksIG9waGVsaWEgYWxzbyBoYXNcbnJldmlld2VyIGFuZCB3cml0ZXIsIGFuZCB0aGF0J3MgdGhlIGFuc3dlciB3ZSB3YW50IHRvIGJlIGFibGUgdG8gZ2V0IHF1aWNrbHkuXG5cbldlIGNvdWxkIGFzayB0aGUgcXVlc3Rpb24gYSBkaWZmZXJlbnQgd2F5LCB0aGVuLCBhZ2FpbiBsZXZlcmFnaW5nIGEgam9pbi5cbldlJ2xsIHNldCBpdCB1cCBhcyBhIGZ1bmN0aW9uLCBiZWNhdXNlIHdlIHdpbGwgd2FudCB0byB1c2UgaXQgYSBsaXR0bGUgbGF0ZXJcbndpdGhvdXQgcmVwZWF0aW5nIHRoZSBjb2RlLlxuXG4gICAgPj4+IGRlZiBnZXRSb2xlc0luT3JnYW5pemF0aW9uKHByaW5jaXBhbF9pZCwgb3JnKTpcbiAgICAuLi4gICAgIG9yZ19pZCA9IHJlZ2lzdHJ5LmdldElkKG9yZylcbiAgICAuLi4gICAgIHJldHVybiBzb3J0ZWQoY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAgICAgJ3JvbGVfaWQnLCB7XG4gICAgLi4uICAgICAgICAgICAgICdvcmdhbml6YXRpb24nOiB6Yy5yZWxhdGlvbi5jYXRhbG9nLmFueShcbiAgICAuLi4gICAgICAgICAgICAgICAgIG9yZ19pZCxcbiAgICAuLi4gICAgICAgICAgICAgICAgICpjYXRhbG9nLmZpbmRSZWxhdGlvblRva2Vucyh7J3BhcnQnOiBvcmdfaWR9KSksXG4gICAgLi4uICAgICAgICAgICAgICdwcmluY2lwYWxfaWQnOiBwcmluY2lwYWxfaWR9KSlcbiAgICAuLi5cbiAgICA+Pj4gZ2V0Um9sZXNJbk9yZ2FuaXphdGlvbignb3BoZWxpYScsIG9yZ3NbJ1pvb2tkIE5iZCddKVxuICAgIFsncHVibGlzaGVyJywgJ3Jldmlld2VyJywgJ3dyaXRlciddXG5cbkFzIHlvdSBjYW4gc2VlLCB0aGVuLCB3b3JraW5nIHdpdGggdG9rZW5zIG1ha2VzIGludGVyZXN0aW5nIGpvaW5zIHBvc3NpYmxlLFxuYXMgbG9uZyBhcyB0aGUgdG9rZW5zIGFyZSB0aGUgc2FtZSBhY3Jvc3MgdGhlIHR3byBxdWVyaWVzLlxuXG5XZSBoYXZlIGV4YW1pbmVkIHRva2VucyBtZXRob2RzIGFuZCB0b2tlbiB0ZWNobmlxdWVzIGxpa2Ugam9pbnMuICBUaGUgZXhhbXBsZVxuc3Rvcnkgd2UgaGF2ZSB0b2xkIGNhbiBsZXQgdXMgZ2V0IGludG8gYSBmZXcgbW9yZSBhZHZhbmNlZCB0b3BpY3MsIHN1Y2ggYXNcbnF1ZXJ5IGZhY3Rvcnkgam9pbnMgYW5kIHNlYXJjaCBpbmRleGVzIHRoYXQgY2FuIGluY3JlYXNlIHRoZWlyIHJlYWQgc3BlZWQuXG5cblF1ZXJ5IEZhY3RvcnkgSm9pbnNcbj09PT09PT09PT09PT09PT09PT1cblxuV2UgY2FuIGJ1aWxkIGEgcXVlcnkgZmFjdG9yeSB0aGF0IG1ha2VzIHRoZSBqb2luIGF1dG9tYXRpYy4gIEEgcXVlcnlcbmZhY3RvcnkgaXMgYSBjYWxsYWJsZSB0aGF0IHRha2VzIHR3byBhcmd1bWVudHM6IGEgcXVlcnkgKHRoZSBvbmUgdGhhdFxuc3RhcnRzIHRoZSBzZWFyY2gpIGFuZCB0aGUgY2F0YWxvZy4gIFRoZSBmYWN0b3J5IGVpdGhlciByZXR1cm5zIE5vbmUsXG5pbmRpY2F0aW5nIHRoYXQgdGhlIHF1ZXJ5IGZhY3RvcnkgY2Fubm90IGJlIHVzZWQgZm9yIHRoaXMgcXVlcnksIG9yIGl0XG5yZXR1cm5zIGFub3RoZXIgY2FsbGFibGUgdGhhdCB0YWtlcyBhIGNoYWluIG9mIHJlbGF0aW9ucy4gIFRoZSBsYXN0XG50b2tlbiBpbiB0aGUgcmVsYXRpb24gY2hhaW4gaXMgdGhlIG1vc3QgcmVjZW50LiAgVGhlIG91dHB1dCBvZiB0aGlzXG5pbm5lciBjYWxsYWJsZSBpcyBleHBlY3RlZCB0byBiZSBhbiBpdGVyYWJsZSBvZlxuQlRyZWVzLmZhbWlseTMyLk9PLkJ1Y2tldCBxdWVyaWVzIHRvIHNlYXJjaCBmdXJ0aGVyIGZyb20gdGhlIGdpdmVuIGNoYWluXG5vZiByZWxhdGlvbnMuXG5cbkhlcmUncyBhIGZsYXdlZCBhcHByb2FjaCB0byB0aGlzIHByb2JsZW0uXG5cbiAgICA+Pj4gZGVmIGZsYXdlZF9mYWN0b3J5KHF1ZXJ5LCBjYXRhbG9nKTpcbiAgICAuLi4gICAgIGlmIChsZW4ocXVlcnkpID09IDIgYW5kXG4gICAgLi4uICAgICAgICAgJ29yZ2FuaXphdGlvbicgaW4gcXVlcnkgYW5kXG4gICAgLi4uICAgICAgICAgJ3ByaW5jaXBhbF9pZCcgaW4gcXVlcnkpOlxuICAgIC4uLiAgICAgICAgIGRlZiBnZXRRdWVyaWVzKHJlbGNoYWluKTpcbiAgICAuLi4gICAgICAgICAgICAgaWYgbm90IHJlbGNoYWluOlxuICAgIC4uLiAgICAgICAgICAgICAgICAgeWllbGQgcXVlcnlcbiAgICAuLi4gICAgICAgICAgICAgICAgIHJldHVyblxuICAgIC4uLiAgICAgICAgICAgICBjdXJyZW50ID0gY2F0YWxvZy5nZXRWYWx1ZVRva2VucyhcbiAgICAuLi4gICAgICAgICAgICAgICAgICdvcmdhbml6YXRpb24nLCByZWxjaGFpblstMV0pXG4gICAgLi4uICAgICAgICAgICAgIGlmIGN1cnJlbnQ6XG4gICAgLi4uICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25zID0gY2F0YWxvZy5nZXRSZWxhdGlvblRva2VucyhcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICB7J3BhcnQnOiB6Yy5yZWxhdGlvbi5jYXRhbG9nLkFueShjdXJyZW50KX0pXG4gICAgLi4uICAgICAgICAgICAgICAgICBpZiBvcmdhbml6YXRpb25zOlxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAgIHJlcyA9IEJUcmVlcy5mYW1pbHkzMi5PTy5CdWNrZXQocXVlcnkpXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICAgcmVzWydvcmdhbml6YXRpb24nXSA9IHpjLnJlbGF0aW9uLmNhdGFsb2cuQW55KFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25zKVxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAgIHlpZWxkIHJlc1xuICAgIC4uLiAgICAgICAgIHJldHVybiBnZXRRdWVyaWVzXG4gICAgLi4uXG5cblRoYXQgd29ya3MgZm9yIG91ciBjdXJyZW50IGV4YW1wbGUuXG5cbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKFxuICAgIC4uLiAgICAgJ3JvbGVfaWQnLCB0KHsnb3JnYW5pemF0aW9uJzogb3Jnc1snWm9va2QgTmJkJ10sXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICdwcmluY2lwYWxfaWQnOiAnb3BoZWxpYSd9KSxcbiAgICAuLi4gICAgIHF1ZXJ5RmFjdG9yeT1mbGF3ZWRfZmFjdG9yeSkpXG4gICAgWydwdWJsaXNoZXInLCAncmV2aWV3ZXInLCAnd3JpdGVyJ11cblxuSG93ZXZlciwgaXQgd29uJ3Qgd29yayBmb3Igb3RoZXIgc2ltaWxhciBxdWVyaWVzLlxuXG4gICAgPj4+IGdldFJvbGVzSW5Pcmdhbml6YXRpb24oJ2FiZScsIG9yZ3NbJ1pvb2tkIE5iZCddKVxuICAgIFsncHVibGlzaGVyJywgJ3Jldmlld2VyJywgJ3VzZXIgbWFuYWdlcicsICd3cml0ZXInXVxuICAgID4+PiBzb3J0ZWQoY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAncm9sZV9pZCcsIHQoeydvcmdhbml6YXRpb24nOiBvcmdzWydab29rZCBOYmQnXSxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgJ3ByaW5jaXBhbF9pZCc6ICdhYmUnfSksXG4gICAgLi4uICAgICBxdWVyeUZhY3Rvcnk9Zmxhd2VkX2ZhY3RvcnkpKVxuICAgIFtdXG5cbm9vcHMuXG5cblRoZSBmbGF3ZWRfZmFjdG9yeSBpcyBhY3R1YWxseSBhIHVzZWZ1bCBwYXR0ZXJuIGZvciBtb3JlIHR5cGljYWwgcmVsYXRpb25cbnRyYXZlcnNhbC4gIEl0IGdvZXMgZnJvbSByZWxhdGlvbiB0byByZWxhdGlvbiB0byByZWxhdGlvbiwgYW5kIG9waGVsaWEgaGFzXG5jb25uZWN0ZWQgcmVsYXRpb25zIGFsbCB0aGUgd2F5IHRvIHRoZSB0b3AuICBIb3dldmVyLCBhYmUgb25seSBoYXMgdGhlbSBhdFxudGhlIHRvcCwgc28gbm90aGluZyBpcyB0cmF2ZXJzZWQuXG5cbkluc3RlYWQsIHdlIGNhbiBtYWtlIGEgcXVlcnkgZmFjdG9yeSB0aGF0IG1vZGlmaWVzIHRoZSBpbml0aWFsIHF1ZXJ5LlxuXG4gICAgPj4+IGRlZiBmYWN0b3J5MihxdWVyeSwgY2F0YWxvZyk6XG4gICAgLi4uICAgICBpZiAobGVuKHF1ZXJ5KSA9PSAyIGFuZFxuICAgIC4uLiAgICAgICAgICdvcmdhbml6YXRpb24nIGluIHF1ZXJ5IGFuZFxuICAgIC4uLiAgICAgICAgICdwcmluY2lwYWxfaWQnIGluIHF1ZXJ5KTpcbiAgICAuLi4gICAgICAgICBkZWYgZ2V0UXVlcmllcyhyZWxjaGFpbik6XG4gICAgLi4uICAgICAgICAgICAgIGlmIG5vdCByZWxjaGFpbjpcbiAgICAuLi4gICAgICAgICAgICAgICAgIHJlcyA9IEJUcmVlcy5mYW1pbHkzMi5PTy5CdWNrZXQocXVlcnkpXG4gICAgLi4uICAgICAgICAgICAgICAgICBvcmdfaWQgPSBxdWVyeVsnb3JnYW5pemF0aW9uJ11cbiAgICAuLi4gICAgICAgICAgICAgICAgIGlmIG9yZ19pZCBpcyBub3QgTm9uZTpcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICByZXNbJ29yZ2FuaXphdGlvbiddID0gemMucmVsYXRpb24uY2F0YWxvZy5hbnkoXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ19pZCxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgKmNhdGFsb2cuZmluZFJlbGF0aW9uVG9rZW5zKHsncGFydCc6IG9yZ19pZH0pKVxuICAgIC4uLiAgICAgICAgICAgICAgICAgeWllbGQgcmVzXG4gICAgLi4uICAgICAgICAgcmV0dXJuIGdldFF1ZXJpZXNcbiAgICAuLi5cblxuICAgID4+PiBzb3J0ZWQoY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAncm9sZV9pZCcsIHQoeydvcmdhbml6YXRpb24nOiBvcmdzWydab29rZCBOYmQnXSxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgJ3ByaW5jaXBhbF9pZCc6ICdvcGhlbGlhJ30pLFxuICAgIC4uLiAgICAgcXVlcnlGYWN0b3J5PWZhY3RvcnkyKSlcbiAgICBbJ3B1Ymxpc2hlcicsICdyZXZpZXdlcicsICd3cml0ZXInXVxuXG4gICAgPj4+IHNvcnRlZChjYXRhbG9nLmZpbmRWYWx1ZVRva2VucyhcbiAgICAuLi4gICAgICdyb2xlX2lkJywgdCh7J29yZ2FuaXphdGlvbic6IG9yZ3NbJ1pvb2tkIE5iZCddLFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAncHJpbmNpcGFsX2lkJzogJ2FiZSd9KSxcbiAgICAuLi4gICAgIHF1ZXJ5RmFjdG9yeT1mYWN0b3J5MikpXG4gICAgWydwdWJsaXNoZXInLCAncmV2aWV3ZXInLCAndXNlciBtYW5hZ2VyJywgJ3dyaXRlciddXG5cbkEgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoaXMgYW5kIHRoZSBvdGhlciBhcHByb2FjaCBpcyB0aGF0IGl0IGlzIGVzc2VudGlhbGx5XG5pbnRyYW5zaXRpdmU6IHRoaXMgcXVlcnkgZmFjdG9yeSBtb2RpZmllcyB0aGUgaW5pdGlhbCBxdWVyeSwgYW5kIHRoZW4gZG9lc1xubm90IGdpdmUgZnVydGhlciBxdWVyaWVzLiAgVGhlIGNhdGFsb2cgY3VycmVudGx5IGFsd2F5cyBzdG9wcyBjYWxsaW5nIHRoZVxucXVlcnkgZmFjdG9yeSBpZiB0aGUgcXVlcmllcyBkbyBub3QgcmV0dXJuIGFueSByZXN1bHRzLCBzbyBhbiBhcHByb2FjaCBsaWtlXG50aGUgZmxhd2VkX2ZhY3Rvcnkgc2ltcGx5IHdvbid0IHdvcmsgZm9yIHRoaXMga2luZCBvZiBwcm9ibGVtLlxuXG5XZSBjb3VsZCBhZGQgdGhpcyBxdWVyeSBmYWN0b3J5IGFzIGFub3RoZXIgZGVmYXVsdC5cblxuICAgID4+PiBjYXRhbG9nLmFkZERlZmF1bHRRdWVyeUZhY3RvcnkoZmFjdG9yeTIpXG5cbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKFxuICAgIC4uLiAgICAgJ3JvbGVfaWQnLCB0KHsnb3JnYW5pemF0aW9uJzogb3Jnc1snWm9va2QgTmJkJ10sXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICdwcmluY2lwYWxfaWQnOiAnb3BoZWxpYSd9KSkpXG4gICAgWydwdWJsaXNoZXInLCAncmV2aWV3ZXInLCAnd3JpdGVyJ11cblxuICAgID4+PiBzb3J0ZWQoY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAncm9sZV9pZCcsIHQoeydvcmdhbml6YXRpb24nOiBvcmdzWydab29rZCBOYmQnXSxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgJ3ByaW5jaXBhbF9pZCc6ICdhYmUnfSkpKVxuICAgIFsncHVibGlzaGVyJywgJ3Jldmlld2VyJywgJ3VzZXIgbWFuYWdlcicsICd3cml0ZXInXVxuXG5UaGUgcHJldmlvdXNseSBpbnN0YWxsZWQgcXVlcnkgZmFjdG9yeSBpcyBzdGlsbCBhdmFpbGFibGUuXG5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLml0ZXJEZWZhdWx0UXVlcnlGYWN0b3JpZXMoKSkgPT0gW2ZhY3RvcnkxLCBmYWN0b3J5Ml1cbiAgICBUcnVlXG5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRSZWxhdGlvbnMoXG4gICAgLi4uICAgICB7J3BhcnQnOiByZWdpc3RyeS5nZXRJZChvcmdzWydZM0w0IFByb2onXSl9KSlcbiAgICAuLi4gICAgICMgZG9jdGVzdDogK05PUk1BTElaRV9XSElURVNQQUNFXG4gICAgWzxPcmdhbml6YXRpb24gaW5zdGFuY2UgXCJZbm9kIERldnNcIj4sXG4gICAgIDxPcmdhbml6YXRpb24gaW5zdGFuY2UgXCJZbm9kIENvcnAgTWFuYWdlbWVudFwiPl1cblxuICAgID4+PiBzb3J0ZWQoY2F0YWxvZy5maW5kUmVsYXRpb25zKFxuICAgIC4uLiAgICAge05vbmU6IHJlZ2lzdHJ5LmdldElkKG9yZ3NbJ1lub2QgQ29ycCBNYW5hZ2VtZW50J10pfSkpXG4gICAgLi4uICAgICAjIGRvY3Rlc3Q6ICtOT1JNQUxJWkVfV0hJVEVTUEFDRVxuICAgIFs8T3JnYW5pemF0aW9uIGluc3RhbmNlIFwiQmV0IFByb2pcIj4sIDxPcmdhbml6YXRpb24gaW5zdGFuY2UgXCJZM0w0IFByb2pcIj4sXG4gICAgIDxPcmdhbml6YXRpb24gaW5zdGFuY2UgXCJZbm9kIEFkbWluc1wiPixcbiAgICAgPE9yZ2FuaXphdGlvbiBpbnN0YW5jZSBcIllub2QgQ29ycCBNYW5hZ2VtZW50XCI+LFxuICAgICA8T3JnYW5pemF0aW9uIGluc3RhbmNlIFwiWW5vZCBEZXZzXCI+LCA8T3JnYW5pemF0aW9uIGluc3RhbmNlIFwiWW5vZCBTQXNcIj4sXG4gICAgIDxPcmdhbml6YXRpb24gaW5zdGFuY2UgXCJZbm9kIFpvb2tkIFRhc2sgRm9yY2VcIj5dXG5cblNlYXJjaCBJbmRleCBmb3IgUXVlcnkgRmFjdG9yeSBKb2luc1xuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbk5vdyB0aGF0IHdlIGhhdmUgd3JpdHRlbiBhIHF1ZXJ5IGZhY3RvcnkgdGhhdCBlbmNhcHN1bGF0ZXMgdGhlIGpvaW4sIHdlIGNhblxudXNlIGEgc2VhcmNoIGluZGV4IHRoYXQgc3BlZWRzIGl0IHVwLiAgV2UndmUgb25seSB1c2VkIHRyYW5zaXRpdmUgc2VhcmNoXG5pbmRleGVzIHNvIGZhci4gIE5vdyB3ZSB3aWxsIGFkZCBhbiBpbnRyYW5zaXRpdmUgc2VhcmNoIGluZGV4LlxuXG5UaGUgaW50cmFuc2l0aXZlIHNlYXJjaCBpbmRleCBnZW5lcmFsbHkganVzdCBuZWVkcyB0aGUgc2VhcmNoIHZhbHVlXG5uYW1lcyBpdCBzaG91bGQgYmUgaW5kZXhpbmcsIG9wdGlvbmFsbHkgdGhlIHJlc3VsdCBuYW1lIChkZWZhdWx0aW5nIHRvXG5yZWxhdGlvbnMpLCBhbmQgb3B0aW9uYWxseSB0aGUgcXVlcnkgZmFjdG9yeSB0byBiZSB1c2VkLlxuXG5XZSBuZWVkIHRvIHVzZSB0d28gYWRkaXRpb25hbCBvcHRpb25zIGJlY2F1c2Ugb2YgdGhlIG9kZCBqb2luIHRyaWNrIHdlJ3JlXG5kb2luZy4gIFdlIG5lZWQgdG8gc3BlY2lmeSB3aGF0IG9yZ2FuaXphdGlvbiBhbmQgcHJpbmNpcGFsX2lkIHZhbHVlcyBuZWVkXG50byBiZSBjaGFuZ2VkIHdoZW4gYW4gb2JqZWN0IGlzIGluZGV4ZWQsIGFuZCB3ZSBuZWVkIHRvIGluZGljYXRlIHRoYXQgd2VcbnNob3VsZCB1cGRhdGUgd2hlbiBvcmdhbml6YXRpb24sIHByaW5jaXBhbF9pZCwgKm9yKiBwYXJ0cyBjaGFuZ2VzLlxuXG5gZ2V0VmFsdWVUb2tlbnNgIHNwZWNpZmllcyB0aGUgdmFsdWVzIHRoYXQgbmVlZCB0byBiZSBpbmRleGVkLiAgSXQgZ2V0c1xudGhlIGluZGV4LCB0aGUgbmFtZSBmb3IgdGhlIHRva2VucyBkZXNpcmVkLCB0aGUgdG9rZW4sIHRoZSBjYXRhbG9nIHRoYXRcbmdlbmVyYXRlZCB0aGUgdG9rZW4gY2hhbmdlIChpdCBtYXkgbm90IGJlIHRoZSBzYW1lIGFzIHRoZSBpbmRleCdzXG5jYXRhbG9nLCB0aGUgc291cmNlIGRpY3Rpb25hcnkgdGhhdCBjb250YWlucyBhIGRpY3Rpb25hcnkgb2YgdGhlIHZhbHVlc1xudGhhdCB3aWxsIGJlIHVzZWQgZm9yIHRva2VucyBpZiB5b3UgZG8gbm90IG92ZXJyaWRlIHRoZW0sIGEgZGljdCBvZiB0aGVcbmFkZGVkIHZhbHVlcyBmb3IgdGhpcyB0b2tlbiAoa2V5cyBhcmUgdmFsdWUgbmFtZXMpLCBhIGRpY3Qgb2YgdGhlXG5yZW1vdmVkIHZhbHVlcyBmb3IgdGhpcyB0b2tlbiwgYW5kIHdoZXRoZXIgdGhlIHRva2VuIGhhcyBiZWVuIHJlbW92ZWQuXG5UaGUgbWV0aG9kIGNhbiByZXR1cm4gTm9uZSwgd2hpY2ggd2lsbCBsZWF2ZSB0aGUgaW5kZXggdG8gaXRzIGRlZmF1bHRcbmJlaGF2aW9yIHRoYXQgc2hvdWxkIHdvcmsgaWYgbm8gcXVlcnkgZmFjdG9yeSBpcyB1c2VkOyBvciBhbiBpdGVyYWJsZSBvZlxudmFsdWVzLlxuXG4gICAgPj4+IGRlZiBnZXRWYWx1ZVRva2VucyhpbmRleCwgbmFtZSwgdG9rZW4sIGNhdGFsb2csIHNvdXJjZSxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgIGFkZGl0aW9ucywgcmVtb3ZhbHMsIHJlbW92ZWQpOlxuICAgIC4uLiAgICAgaWYgbmFtZSA9PSAnb3JnYW5pemF0aW9uJzpcbiAgICAuLi4gICAgICAgICBvcmdzID0gc291cmNlLmdldCgnb3JnYW5pemF0aW9uJylcbiAgICAuLi4gICAgICAgICBpZiBub3QgcmVtb3ZlZCBvciBub3Qgb3JnczpcbiAgICAuLi4gICAgICAgICAgICAgb3JncyA9IGluZGV4LmNhdGFsb2cuZ2V0VmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAgICAgICAgICAgICAnb3JnYW5pemF0aW9uJywgdG9rZW4pXG4gICAgLi4uICAgICAgICAgICAgIGlmIG5vdCBvcmdzOlxuICAgIC4uLiAgICAgICAgICAgICAgICAgb3JncyA9IFt0b2tlbl1cbiAgICAuLi4gICAgICAgICAgICAgICAgIG9yZ3MuZXh0ZW5kKHJlbW92YWxzLmdldCgncGFydCcsICgpKSlcbiAgICAuLi4gICAgICAgICBvcmdzID0gc2V0KG9yZ3MpXG4gICAgLi4uICAgICAgICAgb3Jncy51cGRhdGUoaW5kZXguY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAgICAgICAgICdwYXJ0JyxcbiAgICAuLi4gICAgICAgICAgICAge05vbmU6IHpjLnJlbGF0aW9uLmNhdGFsb2cuQW55KFxuICAgIC4uLiAgICAgICAgICAgICAgICAgdCBmb3IgdCBpbiBvcmdzIGlmIHQgaXMgbm90IE5vbmUpfSkpXG4gICAgLi4uICAgICAgICAgcmV0dXJuIG9yZ3NcbiAgICAuLi4gICAgIGVsaWYgbmFtZSA9PSAncHJpbmNpcGFsX2lkJzpcbiAgICAuLi4gICAgICAgICAjIHdlIG9ubHkgd2FudCBjdXN0b20gYmVoYXZpb3IgaWYgdGhpcyBpcyBhbiBvcmdhbml6YXRpb25cbiAgICAuLi4gICAgICAgICBpZiAncHJpbmNpcGFsX2lkJyBpbiBzb3VyY2Ugb3IgaW5kZXguY2F0YWxvZy5nZXRWYWx1ZVRva2VucyhcbiAgICAuLi4gICAgICAgICAgICAgJ3ByaW5jaXBhbF9pZCcsIHRva2VuKTpcbiAgICAuLi4gICAgICAgICAgICAgcmV0dXJuICcnXG4gICAgLi4uICAgICAgICAgb3JncyA9IHNldCgodG9rZW4sKSlcbiAgICAuLi4gICAgICAgICBvcmdzLnVwZGF0ZShpbmRleC5jYXRhbG9nLmZpbmRSZWxhdGlvblRva2VucyhcbiAgICAuLi4gICAgICAgICAgICAgeydwYXJ0JzogdG9rZW59KSlcbiAgICAuLi4gICAgICAgICByZXR1cm4gc2V0KGluZGV4LmNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKFxuICAgIC4uLiAgICAgICAgICAgICAncHJpbmNpcGFsX2lkJywge1xuICAgIC4uLiAgICAgICAgICAgICAgICAgJ29yZ2FuaXphdGlvbic6IHpjLnJlbGF0aW9uLmNhdGFsb2cuQW55KG9yZ3MpfSkpXG4gICAgLi4uXG5cbiAgICA+Pj4gaW5kZXggPSB6Yy5yZWxhdGlvbi5zZWFyY2hpbmRleC5JbnRyYW5zaXRpdmUoXG4gICAgLi4uICAgICAoJ29yZ2FuaXphdGlvbicsICdwcmluY2lwYWxfaWQnKSwgJ3JvbGVfaWQnLCBmYWN0b3J5MixcbiAgICAuLi4gICAgIGdldFZhbHVlVG9rZW5zLFxuICAgIC4uLiAgICAgKCdvcmdhbml6YXRpb24nLCAncHJpbmNpcGFsX2lkJywgJ3BhcnQnLCAncm9sZV9pZCcpLFxuICAgIC4uLiAgICAgdW5saW1pdGVkRGVwdGg9VHJ1ZSlcbiAgICA+Pj4gY2F0YWxvZy5hZGRTZWFyY2hJbmRleChpbmRleClcblxuICAgID4+PiByZXMgPSBjYXRhbG9nLmZpbmRWYWx1ZVRva2VucyhcbiAgICAuLi4gICAgICdyb2xlX2lkJywgdCh7J29yZ2FuaXphdGlvbic6IG9yZ3NbJ1pvb2tkIE5iZCddLFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAncHJpbmNpcGFsX2lkJzogJ29waGVsaWEnfSkpXG4gICAgPj4+IGxpc3QocmVzKVxuICAgIFsncHVibGlzaGVyJywgJ3Jldmlld2VyJywgJ3dyaXRlciddXG4gICAgPj4+IGxpc3QocmVzKVxuICAgIFsncHVibGlzaGVyJywgJ3Jldmlld2VyJywgJ3dyaXRlciddXG5cbiAgICA+Pj4gcmVzID0gY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAncm9sZV9pZCcsIHQoeydvcmdhbml6YXRpb24nOiBvcmdzWydab29rZCBOYmQnXSxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgJ3ByaW5jaXBhbF9pZCc6ICdhYmUnfSkpXG4gICAgPj4+IGxpc3QocmVzKVxuICAgIFsncHVibGlzaGVyJywgJ3Jldmlld2VyJywgJ3VzZXIgbWFuYWdlcicsICd3cml0ZXInXVxuICAgID4+PiBsaXN0KHJlcylcbiAgICBbJ3B1Ymxpc2hlcicsICdyZXZpZXdlcicsICd1c2VyIG1hbmFnZXInLCAnd3JpdGVyJ11cblxuWyN2ZXJpZnlPYmplY3RJbnRyYW5zaXRpdmVdX1xuXG4uLiBbI3ZlcmlmeU9iamVjdEludHJhbnNpdGl2ZV0gVGhlIEludHJhbnNpdGl2ZSBzZWFyY2ggaW5kZXggcHJvdmlkZXNcbiAgICBJU2VhcmNoSW5kZXggYW5kIElMaXN0ZW5lci5cblxuICAgID4+PiBmcm9tIHpvcGUuaW50ZXJmYWNlLnZlcmlmeSBpbXBvcnQgdmVyaWZ5T2JqZWN0XG4gICAgPj4+IGltcG9ydCB6Yy5yZWxhdGlvbi5pbnRlcmZhY2VzXG4gICAgPj4+IHZlcmlmeU9iamVjdCh6Yy5yZWxhdGlvbi5pbnRlcmZhY2VzLklTZWFyY2hJbmRleCwgaW5kZXgpXG4gICAgVHJ1ZVxuICAgID4+PiB2ZXJpZnlPYmplY3QoemMucmVsYXRpb24uaW50ZXJmYWNlcy5JTGlzdGVuZXIsIGluZGV4KVxuICAgIFRydWVcblxuTm93IHdlIGNhbiBjaGFuZ2UgYW5kIHJlbW92ZSByZWxhdGlvbnMtLWJvdGggb3JnYW5pemF0aW9ucyBhbmQgcm9sZXMtLWFuZFxuaGF2ZSB0aGUgaW5kZXggbWFpbnRhaW4gY29ycmVjdCBzdGF0ZS4gIEdpdmVuIHRoZSBjdXJyZW50IHN0YXRlIG9mXG5vcmdhbml6YXRpb25zLS1cblxuOjpcblxuICAgICAgICAgWW5vZCBDb3JwIE1hbmdlbWVudCAgICAgICAgICAgICAgICAgWm9va2QgQ29ycCBNYW5hZ2VtZW50XG4gICAgICAgICAgLyAgICAgIHwgICAgICBcXCAgICAgICAgICAgICAgICAgICAgICAgLyAgICAgIHwgICAgICBcXFxuICAgWW5vZCBEZXZzICBZbm9kIFNBcyAgWW5vZCBBZG1pbnMgIFpvb2tkIEFkbWlucyAgIFpvb2tkIFNBcyAgWm9va2QgRGV2c1xuICAgICAvICAgICAgXFwgICAgICAgICAgICAgIFxcICAgICAgICAgICAgICAgICAvICAgICAgICAgICAgICAgIC8gICAgICAgICBcXFxuIFkzTDQgUHJvaiAgQmV0IFByb2ogICAgICBZbm9kIFpvb2tkIFRhc2sgRm9yY2UgICAgICBab29rZCBoT2dubWQgICAgIFpvb2tkIE5iZFxuXG4tLWZpcnN0IHdlIHdpbGwgbW92ZSBZbm9kIERldnMgdG8gYmVuZWF0aCBab29rZCBEZXZzLCBhbmQgYmFjayBvdXQuICBUaGlzIHdpbGxcbmJyaWVmbHkgZ2l2ZSBhYmUgZnVsbCBwcml2aWxlZ2VzIHRvIFkzTDQgUHJvai4sIGFtb25nIG90aGVycy5cblxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKFxuICAgIC4uLiAgICAgJ3JvbGVfaWQnLCB0KHsnb3JnYW5pemF0aW9uJzogb3Jnc1snWTNMNCBQcm9qJ10sXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICdwcmluY2lwYWxfaWQnOiAnYWJlJ30pKSlcbiAgICBbXVxuICAgID4+PiBvcmdzWydab29rZCBEZXZzJ10ucGFydHMuaW5zZXJ0KHJlZ2lzdHJ5LmdldElkKG9yZ3NbJ1lub2QgRGV2cyddKSlcbiAgICAxXG4gICAgPj4+IGNhdGFsb2cuaW5kZXgob3Jnc1snWm9va2QgRGV2cyddKVxuICAgID4+PiByZXMgPSBjYXRhbG9nLmZpbmRWYWx1ZVRva2VucyhcbiAgICAuLi4gICAgICdyb2xlX2lkJywgdCh7J29yZ2FuaXphdGlvbic6IG9yZ3NbJ1kzTDQgUHJvaiddLFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAncHJpbmNpcGFsX2lkJzogJ2FiZSd9KSlcbiAgICA+Pj4gbGlzdChyZXMpXG4gICAgWydwdWJsaXNoZXInLCAncmV2aWV3ZXInLCAndXNlciBtYW5hZ2VyJywgJ3dyaXRlciddXG4gICAgPj4+IGxpc3QocmVzKVxuICAgIFsncHVibGlzaGVyJywgJ3Jldmlld2VyJywgJ3VzZXIgbWFuYWdlcicsICd3cml0ZXInXVxuICAgID4+PiBvcmdzWydab29rZCBEZXZzJ10ucGFydHMucmVtb3ZlKHJlZ2lzdHJ5LmdldElkKG9yZ3NbJ1lub2QgRGV2cyddKSlcbiAgICA+Pj4gY2F0YWxvZy5pbmRleChvcmdzWydab29rZCBEZXZzJ10pXG4gICAgPj4+IGxpc3QoY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAncm9sZV9pZCcsIHQoeydvcmdhbml6YXRpb24nOiBvcmdzWydZM0w0IFByb2onXSxcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgJ3ByaW5jaXBhbF9pZCc6ICdhYmUnfSkpKVxuICAgIFtdXG5cbkFzIGFub3RoZXIgZXhhbXBsZSwgd2Ugd2lsbCBjaGFuZ2UgdGhlIHJvbGVzIGFiZSBoYXMsIGFuZCBzZWUgdGhhdCBpdCBpc1xucHJvcGFnYXRlZCBkb3duIHRvIFpvb2tkIE5iZC5cblxuICAgID4+PiByZWxzID0gbGlzdChjYXRhbG9nLmZpbmRSZWxhdGlvbnModChcbiAgICAuLi4gICAgIHsncHJpbmNpcGFsX2lkJzogJ2FiZScsXG4gICAgLi4uICAgICAgJ29yZ2FuaXphdGlvbic6IG9yZ3NbJ1pvb2tkIENvcnAgTWFuYWdlbWVudCddfSkpKVxuICAgID4+PiBsZW4ocmVscylcbiAgICAxXG4gICAgPj4+IHJlbHNbMF0ucm9sZV9pZHMucmVtb3ZlKCdyZXZpZXdlcicpXG4gICAgPj4+IGNhdGFsb2cuaW5kZXgocmVsc1swXSlcblxuICAgID4+PiByZXMgPSBjYXRhbG9nLmZpbmRWYWx1ZVRva2VucyhcbiAgICAuLi4gICAgICdyb2xlX2lkJywgdCh7J29yZ2FuaXphdGlvbic6IG9yZ3NbJ1pvb2tkIE5iZCddLFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAncHJpbmNpcGFsX2lkJzogJ2FiZSd9KSlcbiAgICA+Pj4gbGlzdChyZXMpXG4gICAgWydwdWJsaXNoZXInLCAndXNlciBtYW5hZ2VyJywgJ3dyaXRlciddXG4gICAgPj4+IGxpc3QocmVzKVxuICAgIFsncHVibGlzaGVyJywgJ3VzZXIgbWFuYWdlcicsICd3cml0ZXInXVxuXG5Ob3RlIHRoYXQgc2VhcmNoIGluZGV4IG9yZGVyIG1hdHRlcnMuICBJbiBvdXIgY2FzZSwgb3VyIGludHJhbnNpdGl2ZSBzZWFyY2hcbmluZGV4IGlzIHJlbHlpbmcgb24gb3VyIHRyYW5zaXRpdmUgaW5kZXgsIHNvIHRoZSB0cmFuc2l0aXZlIGluZGV4IG5lZWRzIHRvXG5jb21lIGZpcnN0LiAgWW91IHdhbnQgdHJhbnNpdGl2ZSByZWxhdGlvbiBpbmRleGVzIGJlZm9yZSBuYW1lLiAgUmlnaHQgbm93LFxueW91IGFyZSBpbiBjaGFyZ2Ugb2YgdGhpcyBvcmRlcjogaXQgd2lsbCBiZSBkaWZmaWN1bHQgdG8gY29tZSB1cCB3aXRoIGFcbnJlbGlhYmxlIGFsZ29yaXRobSBmb3IgZ3Vlc3NpbmcgdGhpcy5cblxuTGlzdGVuZXJzLCBDYXRhbG9nIEFkbWluaXN0cmF0aW9uLCBhbmQgSm9pbmluZyBBY3Jvc3MgUmVsYXRpb24gQ2F0YWxvZ3Ncbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbldlJ3ZlIGRvbmUgYWxsIG9mIG91ciBleGFtcGxlcyBzbyBmYXIgd2l0aCBhIHNpbmdsZSBjYXRhbG9nIHRoYXQgaW5kZXhlc1xuYm90aCBraW5kcyBvZiByZWxhdGlvbnMuICBXaGF0IGlmIHdlIHdhbnQgdG8gaGF2ZSB0d28gY2F0YWxvZ3Mgd2l0aFxuaG9tb2dlbm91cyBjb2xsZWN0aW9ucyBvZiByZWxhdGlvbnM/ICBUaGF0IGNhbiBmZWVsIGNsZWFuZXIsIGJ1dCBpdCBhbHNvXG5pbnRyb2R1Y2VzIHNvbWUgbmV3IHdyaW5rbGVzLlxuXG5MZXQncyB1c2Ugb3VyIGN1cnJlbnQgY2F0YWxvZyBmb3Igb3JnYW5pemF0aW9ucywgcmVtb3ZpbmcgdGhlIGV4dHJhXG5pbmZvcm1hdGlvbjsgYW5kIGNyZWF0ZSBhIG5ldyBvbmUgZm9yIHJvbGVzLlxuXG4gICAgPj4+IHJvbGVfY2F0YWxvZyA9IHJvb3RbJ3JvbGVfY2F0YWxvZyddID0gY2F0YWxvZy5jb3B5KClcbiAgICA+Pj4gdHJhbnNhY3Rpb24uY29tbWl0KClcbiAgICA+Pj4gb3JnX2NhdGFsb2cgPSBjYXRhbG9nXG4gICAgPj4+IGRlbCBjYXRhbG9nXG5cbldlJ2xsIG5lZWQgYSBzbGlnaHRseSBkaWZmZXJlbnQgcXVlcnkgZmFjdG9yeSBhbmQgYSBzbGlnaHRseSBkaWZmZXJlbnRcbnNlYXJjaCBpbmRleCBgZ2V0VmFsdWVUb2tlbnNgIGZ1bmN0aW9uLiAgV2UnbGwgd3JpdGUgdGhvc2UsIHRoZW4gbW9kaWZ5IHRoZVxuY29uZmlndXJhdGlvbiBvZiBvdXIgdHdvIGNhdGFsb2dzIGZvciB0aGUgbmV3IHdvcmxkLlxuXG5UaGUgdHJhbnNpdGl2ZSBmYWN0b3J5IHdlIHdyaXRlIGhlcmUgaXMgZm9yIHRoZSByb2xlIGNhdGFsb2cuICBJdCBuZWVkc1xuYWNjZXNzIHRvIHRoZSBvcmdhbnphdGlvbiBjYXRhbG9nLiAgV2UgY291bGQgZG8gdGhpcyBhIHZhcmlldHkgb2ZcbndheXMtLXJlbHlpbmcgb24gYSB1dGlsaXR5LCBvciBmaW5kaW5nIHRoZSBjYXRhbG9nIGZyb20gY29udGV4dC4gIFdlIHdpbGxcbm1ha2UgdGhlIHJvbGVfY2F0YWxvZyBoYXZlIGEgLm9yZ19jYXRhbG9nIGF0dHJpYnV0ZSwgYW5kIHJlbHkgb24gdGhhdC5cblxuICAgID4+PiByb2xlX2NhdGFsb2cub3JnX2NhdGFsb2cgPSBvcmdfY2F0YWxvZ1xuICAgID4+PiBkZWYgZmFjdG9yeTMocXVlcnksIGNhdGFsb2cpOlxuICAgIC4uLiAgICAgaWYgKGxlbihxdWVyeSkgPT0gMiBhbmRcbiAgICAuLi4gICAgICAgICAnb3JnYW5pemF0aW9uJyBpbiBxdWVyeSBhbmRcbiAgICAuLi4gICAgICAgICAncHJpbmNpcGFsX2lkJyBpbiBxdWVyeSk6XG4gICAgLi4uICAgICAgICAgZGVmIGdldFF1ZXJpZXMocmVsY2hhaW4pOlxuICAgIC4uLiAgICAgICAgICAgICBpZiBub3QgcmVsY2hhaW46XG4gICAgLi4uICAgICAgICAgICAgICAgICByZXMgPSBCVHJlZXMuZmFtaWx5MzIuT08uQnVja2V0KHF1ZXJ5KVxuICAgIC4uLiAgICAgICAgICAgICAgICAgb3JnX2lkID0gcXVlcnlbJ29yZ2FuaXphdGlvbiddXG4gICAgLi4uICAgICAgICAgICAgICAgICBpZiBvcmdfaWQgaXMgbm90IE5vbmU6XG4gICAgLi4uICAgICAgICAgICAgICAgICAgICAgcmVzWydvcmdhbml6YXRpb24nXSA9IHpjLnJlbGF0aW9uLmNhdGFsb2cuYW55KFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAgICAgICBvcmdfaWQsXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICpjYXRhbG9nLm9yZ19jYXRhbG9nLmZpbmRSZWxhdGlvblRva2VucyhcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsncGFydCc6IG9yZ19pZH0pKVxuICAgIC4uLiAgICAgICAgICAgICAgICAgeWllbGQgcmVzXG4gICAgLi4uICAgICAgICAgcmV0dXJuIGdldFF1ZXJpZXNcbiAgICAuLi5cblxuICAgID4+PiBkZWYgZ2V0VmFsdWVUb2tlbnMyKGluZGV4LCBuYW1lLCB0b2tlbiwgY2F0YWxvZywgc291cmNlLFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25zLCByZW1vdmFscywgcmVtb3ZlZCk6XG4gICAgLi4uICAgICBpc19yb2xlX2NhdGFsb2cgPSBjYXRhbG9nIGlzIGluZGV4LmNhdGFsb2cgIyByb2xlX2NhdGFsb2dcbiAgICAuLi4gICAgIGlmIG5hbWUgPT0gJ29yZ2FuaXphdGlvbic6XG4gICAgLi4uICAgICAgICAgaWYgaXNfcm9sZV9jYXRhbG9nOlxuICAgIC4uLiAgICAgICAgICAgICBvcmdzID0gc2V0KHNvdXJjZS5nZXQoJ29yZ2FuaXphdGlvbicpIG9yXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXguY2F0YWxvZy5nZXRWYWx1ZVRva2VucyhcbiAgICAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgJ29yZ2FuaXphdGlvbicsIHRva2VuKSBvciAoKSlcbiAgICAuLi4gICAgICAgICBlbHNlOlxuICAgIC4uLiAgICAgICAgICAgICBvcmdzID0gc2V0KCh0b2tlbiwpKVxuICAgIC4uLiAgICAgICAgICAgICBvcmdzLnVwZGF0ZShyZW1vdmFscy5nZXQoJ3BhcnQnLCAoKSkpXG4gICAgLi4uICAgICAgICAgb3Jncy51cGRhdGUoaW5kZXguY2F0YWxvZy5vcmdfY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAgICAgICAgICdwYXJ0JyxcbiAgICAuLi4gICAgICAgICAgICAge05vbmU6IHpjLnJlbGF0aW9uLmNhdGFsb2cuQW55KFxuICAgIC4uLiAgICAgICAgICAgICAgICAgdCBmb3IgdCBpbiBvcmdzIGlmIHQgaXMgbm90IE5vbmUpfSkpXG4gICAgLi4uICAgICAgICAgcmV0dXJuIG9yZ3NcbiAgICAuLi4gICAgIGVsaWYgbmFtZSA9PSAncHJpbmNpcGFsX2lkJzpcbiAgICAuLi4gICAgICAgICAjIHdlIG9ubHkgd2FudCBjdXN0b20gYmVoYXZpb3IgaWYgdGhpcyBpcyBhbiBvcmdhbml6YXRpb25cbiAgICAuLi4gICAgICAgICBpZiBub3QgaXNfcm9sZV9jYXRhbG9nOlxuICAgIC4uLiAgICAgICAgICAgICBvcmdzID0gc2V0KCh0b2tlbiwpKVxuICAgIC4uLiAgICAgICAgICAgICBvcmdzLnVwZGF0ZShpbmRleC5jYXRhbG9nLm9yZ19jYXRhbG9nLmZpbmRSZWxhdGlvblRva2VucyhcbiAgICAuLi4gICAgICAgICAgICAgICAgIHsncGFydCc6IHRva2VufSkpXG4gICAgLi4uICAgICAgICAgICAgIHJldHVybiBzZXQoaW5kZXguY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAgICAgICAgICAgICAncHJpbmNpcGFsX2lkJywge1xuICAgIC4uLiAgICAgICAgICAgICAgICAgICAgICdvcmdhbml6YXRpb24nOiB6Yy5yZWxhdGlvbi5jYXRhbG9nLkFueShvcmdzKX0pKVxuICAgIC4uLiAgICAgcmV0dXJuICcnXG5cbklmIHlvdSBhcmUgZm9sbG93aW5nIGFsb25nIGluIHRoZSBjb2RlIGFuZCBjb21wYXJpbmcgdG8gdGhlIG9yaWdpbmFscywgeW91IG1heVxuc2VlIHRoYXQgdGhpcyBhcHByb2FjaCBpcyBhIGJpdCBjbGVhbmVyIHRoYW4gdGhlIG9uZSB3aGVuIHRoZSByZWxhdGlvbnMgd2VyZVxuaW4gdGhlIHNhbWUgY2F0YWxvZy5cblxuTm93IHdlIHdpbGwgZml4IHVwIHRoZSB0aGUgb3JnYW5pemF0aW9uIGNhdGFsb2cgWyNjb21wYXJlX2NvcHldXy5cblxuLi4gWyNjb21wYXJlX2NvcHldIEJlZm9yZSB3ZSBtb2RpZnkgdGhlbSwgbGV0J3MgbG9vayBhdCB0aGUgY29weSB3ZSBtYWRlLlxuICAgIFRoZSBjb3B5IHNob3VsZCBjdXJyZW50bHkgYmVoYXZlIGlkZW50aWNhbGx5IHRvIHRoZSBvcmlnaW5hbC5cblxuICAgID4+PiBsZW4ob3JnX2NhdGFsb2cpXG4gICAgMzhcbiAgICA+Pj4gbGVuKHJvbGVfY2F0YWxvZylcbiAgICAzOFxuICAgID4+PiBpbmRleGVkID0gbGlzdChvcmdfY2F0YWxvZylcbiAgICA+Pj4gbGVuKGluZGV4ZWQpXG4gICAgMzhcbiAgICA+Pj4gb3Jnc1snWm9va2QgRGV2cyddIGluIGluZGV4ZWRcbiAgICBUcnVlXG4gICAgPj4+IGZvciByIGluIGluZGV4ZWQ6XG4gICAgLi4uICAgICBpZiByIG5vdCBpbiByb2xlX2NhdGFsb2c6XG4gICAgLi4uICAgICAgICAgcHJpbnQoJ2JhZCcpXG4gICAgLi4uICAgICAgICAgYnJlYWtcbiAgICAuLi4gZWxzZTpcbiAgICAuLi4gICAgIHByaW50KCdnb29kJylcbiAgICAuLi5cbiAgICBnb29kXG4gICAgPj4+IG9yZ19uYW1lcyA9IHNldChkaXIob3JnX2NhdGFsb2cpKVxuICAgID4+PiByb2xlX25hbWVzID0gc2V0KGRpcihyb2xlX2NhdGFsb2cpKVxuICAgID4+PiBzb3J0ZWQob3JnX25hbWVzIC0gcm9sZV9uYW1lcylcbiAgICBbXVxuICAgID4+PiBzb3J0ZWQocm9sZV9uYW1lcyAtIG9yZ19uYW1lcylcbiAgICBbJ29yZ19jYXRhbG9nJ11cblxuICAgID4+PiBkZWYgY2hlY2tZbm9kRGV2c1BhcnRzKGNhdGFsb2cpOlxuICAgIC4uLiAgICAgcmVzID0gc29ydGVkKGNhdGFsb2cuZmluZFJlbGF0aW9ucyh0KHtOb25lOiBvcmdzWydZbm9kIERldnMnXX0pKSlcbiAgICAuLi4gICAgIGlmIHJlcyAhPSBbXG4gICAgLi4uICAgICAgICAgb3Jnc1tcIkJldCBQcm9qXCJdLCBvcmdzW1wiWTNMNCBQcm9qXCJdLCBvcmdzW1wiWW5vZCBEZXZzXCJdXTpcbiAgICAuLi4gICAgICAgICBwcmludChcImJhZFwiLCByZXMpXG4gICAgLi4uXG4gICAgPj4+IGNoZWNrWW5vZERldnNQYXJ0cyhvcmdfY2F0YWxvZylcbiAgICA+Pj4gY2hlY2tZbm9kRGV2c1BhcnRzKHJvbGVfY2F0YWxvZylcblxuICAgID4+PiBkZWYgY2hlY2tPcGhlbGlhUm9sZXMoY2F0YWxvZyk6XG4gICAgLi4uICAgICByZXMgPSBzb3J0ZWQoY2F0YWxvZy5maW5kUmVsYXRpb25zKHsncHJpbmNpcGFsX2lkJzogJ29waGVsaWEnfSkpXG4gICAgLi4uICAgICBpZiByZXByKHJlcykgIT0gKFxuICAgIC4uLiAgICAgICAgIFwiWzxSb2xlcyBpbnN0YW5jZSAob3BoZWxpYSBoYXMgcHVibGlzaGVyIGluIFpvb2tkIE5iZCk+LCBcIiArXG4gICAgLi4uICAgICAgICAgXCI8Um9sZXMgaW5zdGFuY2UgKG9waGVsaWEgaGFzIHJldmlld2VyIGluIFpvb2tkIERldnMpPiwgXCIgK1xuICAgIC4uLiAgICAgICAgIFwiPFJvbGVzIGluc3RhbmNlIChvcGhlbGlhIGhhcyB3cml0ZXIgaW4gXCIgK1xuICAgIC4uLiAgICAgICAgIFwiWm9va2QgQ29ycCBNYW5hZ2VtZW50KT5dXCIpOlxuICAgIC4uLiAgICAgICAgIHByaW50KFwiYmFkXCIsIHJlcylcbiAgICAuLi5cbiAgICA+Pj4gY2hlY2tPcGhlbGlhUm9sZXMob3JnX2NhdGFsb2cpXG4gICAgPj4+IGNoZWNrT3BoZWxpYVJvbGVzKHJvbGVfY2F0YWxvZylcblxuICAgID4+PiBkZWYgY2hlY2tPcGhlbGlhV3JpdGVyT3JnYW5pemF0aW9ucyhjYXRhbG9nKTpcbiAgICAuLi4gICAgIHJlcyA9IHNvcnRlZChjYXRhbG9nLmZpbmRSZWxhdGlvbnMoe05vbmU6IHpjLnJlbGF0aW9uLmNhdGFsb2cuQW55KFxuICAgIC4uLiAgICAgICAgIGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKFxuICAgIC4uLiAgICAgICAgICAgICAnb3JnYW5pemF0aW9uJywgeydwcmluY2lwYWxfaWQnOiAnb3BoZWxpYScsXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3JvbGVfaWQnOiAnd3JpdGVyJ30pKX0pKVxuICAgIC4uLiAgICAgaWYgcmVwcihyZXMpICE9IChcbiAgICAuLi4gICAgICAgICAnWzxPcmdhbml6YXRpb24gaW5zdGFuY2UgXCJZbm9kIFpvb2tkIFRhc2sgRm9yY2VcIj4sICcgK1xuICAgIC4uLiAgICAgICAgICc8T3JnYW5pemF0aW9uIGluc3RhbmNlIFwiWm9va2QgQWRtaW5zXCI+LCAnICtcbiAgICAuLi4gICAgICAgICAnPE9yZ2FuaXphdGlvbiBpbnN0YW5jZSBcIlpvb2tkIENvcnAgTWFuYWdlbWVudFwiPiwgJyArXG4gICAgLi4uICAgICAgICAgJzxPcmdhbml6YXRpb24gaW5zdGFuY2UgXCJab29rZCBEZXZzXCI+LCAnICtcbiAgICAuLi4gICAgICAgICAnPE9yZ2FuaXphdGlvbiBpbnN0YW5jZSBcIlpvb2tkIE5iZFwiPiwgJyArXG4gICAgLi4uICAgICAgICAgJzxPcmdhbml6YXRpb24gaW5zdGFuY2UgXCJab29rZCBTQXNcIj4sICcgK1xuICAgIC4uLiAgICAgICAgICc8T3JnYW5pemF0aW9uIGluc3RhbmNlIFwiWm9va2QgaE9nbm1kXCI+XScpOlxuICAgIC4uLiAgICAgICAgIHByaW50KFwiYmFkXCIsIHJlcylcbiAgICAuLi5cbiAgICA+Pj4gY2hlY2tPcGhlbGlhV3JpdGVyT3JnYW5pemF0aW9ucyhvcmdfY2F0YWxvZylcbiAgICA+Pj4gY2hlY2tPcGhlbGlhV3JpdGVyT3JnYW5pemF0aW9ucyhyb2xlX2NhdGFsb2cpXG5cbiAgICA+Pj4gZGVmIGNoZWNrUHJpbmNpcGFsc1dpdGhSb2xlc0luWm9va2REZXZzKGNhdGFsb2cpOlxuICAgIC4uLiAgICAgb3JnX2lkID0gcmVnaXN0cnkuZ2V0SWQob3Jnc1snWm9va2QgRGV2cyddKVxuICAgIC4uLiAgICAgcmVzID0gc29ydGVkKGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKFxuICAgIC4uLiAgICAgICAgICdwcmluY2lwYWxfaWQnLFxuICAgIC4uLiAgICAgICAgIHsnb3JnYW5pemF0aW9uJzogemMucmVsYXRpb24uY2F0YWxvZy5hbnkoXG4gICAgLi4uICAgICAgICAgICAgIG9yZ19pZCwgKmNhdGFsb2cuZmluZFJlbGF0aW9uVG9rZW5zKHsncGFydCc6IG9yZ19pZH0pKX0pKVxuICAgIC4uLiAgICAgaWYgcmVzICE9IFsnYWJlJywgJ2lnbmFzJywgJ2thcnluJywgJ2xldHRpZScsICduYW5jeScsICdvcGhlbGlhJ106XG4gICAgLi4uICAgICAgICAgcHJpbnQoXCJiYWRcIiwgcmVzKVxuICAgIC4uLlxuICAgID4+PiBjaGVja1ByaW5jaXBhbHNXaXRoUm9sZXNJblpvb2tkRGV2cyhvcmdfY2F0YWxvZylcbiAgICA+Pj4gY2hlY2tQcmluY2lwYWxzV2l0aFJvbGVzSW5ab29rZERldnMocm9sZV9jYXRhbG9nKVxuXG4gICAgPj4+IGRlZiBjaGVja09waGVsaWFSb2xlc0luWm9va2ROYmQoY2F0YWxvZyk6XG4gICAgLi4uICAgICByZXMgPSBzb3J0ZWQoY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAgICAgJ3JvbGVfaWQnLCB7XG4gICAgLi4uICAgICAgICAgICAgICdvcmdhbml6YXRpb24nOiByZWdpc3RyeS5nZXRJZChvcmdzWydab29rZCBOYmQnXSksXG4gICAgLi4uICAgICAgICAgICAgICdwcmluY2lwYWxfaWQnOiAnb3BoZWxpYSd9KSlcbiAgICAuLi4gICAgIGlmIHJlcyAhPSBbJ3B1Ymxpc2hlcicsICdyZXZpZXdlcicsICd3cml0ZXInXTpcbiAgICAuLi4gICAgICAgICBwcmludChcImJhZFwiLCByZXMpXG4gICAgLi4uXG4gICAgPj4+IGNoZWNrT3BoZWxpYVJvbGVzSW5ab29rZE5iZChvcmdfY2F0YWxvZylcbiAgICA+Pj4gY2hlY2tPcGhlbGlhUm9sZXNJblpvb2tkTmJkKHJvbGVfY2F0YWxvZylcblxuICAgID4+PiBkZWYgY2hlY2tBYmVSb2xlc0luWm9va2ROYmQoY2F0YWxvZyk6XG4gICAgLi4uICAgICByZXMgPSBzb3J0ZWQoY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAgICAgJ3JvbGVfaWQnLCB7XG4gICAgLi4uICAgICAgICAgICAgICdvcmdhbml6YXRpb24nOiByZWdpc3RyeS5nZXRJZChvcmdzWydab29rZCBOYmQnXSksXG4gICAgLi4uICAgICAgICAgICAgICdwcmluY2lwYWxfaWQnOiAnYWJlJ30pKVxuICAgIC4uLiAgICAgaWYgcmVzICE9IFsncHVibGlzaGVyJywgJ3VzZXIgbWFuYWdlcicsICd3cml0ZXInXTpcbiAgICAuLi4gICAgICAgICBwcmludChcImJhZFwiLCByZXMpXG4gICAgLi4uXG4gICAgPj4+IGNoZWNrQWJlUm9sZXNJblpvb2tkTmJkKG9yZ19jYXRhbG9nKVxuICAgID4+PiBjaGVja0FiZVJvbGVzSW5ab29rZE5iZChyb2xlX2NhdGFsb2cpXG4gICAgPj4+IG9yZ19jYXRhbG9nLnJlbW92ZURlZmF1bHRRdWVyeUZhY3RvcnkoTm9uZSkgIyBkb2N0ZXN0OiArRUxMSVBTSVNcbiAgICBUcmFjZWJhY2sgKG1vc3QgcmVjZW50IGNhbGwgbGFzdCk6XG4gICAgLi4uXG4gICAgTG9va3VwRXJyb3I6ICgnZmFjdG9yeSBub3QgZm91bmQnLCBOb25lKVxuXG4gICAgPj4+IG9yZ19jYXRhbG9nLnJlbW92ZVZhbHVlSW5kZXgoJ29yZ2FuaXphdGlvbicpXG4gICAgPj4+IG9yZ19jYXRhbG9nLnJlbW92ZVZhbHVlSW5kZXgoJ3JvbGVfaWQnKVxuICAgID4+PiBvcmdfY2F0YWxvZy5yZW1vdmVWYWx1ZUluZGV4KCdwcmluY2lwYWxfaWQnKVxuICAgID4+PiBvcmdfY2F0YWxvZy5yZW1vdmVEZWZhdWx0UXVlcnlGYWN0b3J5KGZhY3RvcnkyKVxuICAgID4+PiBvcmdfY2F0YWxvZy5yZW1vdmVTZWFyY2hJbmRleChpbmRleClcbiAgICA+Pj4gb3JnX2NhdGFsb2cuY2xlYXIoKVxuICAgID4+PiBsZW4ob3JnX2NhdGFsb2cpXG4gICAgMFxuICAgID4+PiBmb3IgdiBpbiBvcmdzLnZhbHVlcygpOlxuICAgIC4uLiAgICAgb3JnX2NhdGFsb2cuaW5kZXgodilcblxuVGhpcyBhbHNvIHNob3dzIHVzaW5nIHRoZSBgcmVtb3ZlRGVmYXVsdFF1ZXJ5RmFjdG9yeWAgYW5kIGByZW1vdmVTZWFyY2hJbmRleGBcbm1ldGhvZHMgWyNyZW1vdmVEZWZhdWx0UXVlcnlGYWN0b3J5RXhjZXB0aW9uc11fLlxuXG4uLiBbI3JlbW92ZURlZmF1bHRRdWVyeUZhY3RvcnlFeGNlcHRpb25zXSBZb3UgZ2V0IGVycm9ycyBieSByZW1vdmluZyBxdWVyeVxuICAgIGZhY3RvcmllcyB0aGF0IGFyZSBub3QgcmVnaXN0ZXJlZC5cblxuICAgID4+PiBvcmdfY2F0YWxvZy5yZW1vdmVEZWZhdWx0UXVlcnlGYWN0b3J5KGZhY3RvcnkyKSAjIGRvY3Rlc3Q6ICtFTExJUFNJU1xuICAgIFRyYWNlYmFjayAobW9zdCByZWNlbnQgY2FsbCBsYXN0KTpcbiAgICAuLi5cbiAgICBMb29rdXBFcnJvcjogKCdmYWN0b3J5IG5vdCBmb3VuZCcsIDxmdW5jdGlvbiBmYWN0b3J5MiBhdCAuLi4+KVxuXG5Ob3cgd2Ugd2lsbCBzZXQgdXAgdGhlIHJvbGUgY2F0YWxvZyBbI2NvcHlfdW5jaGFuZ2VkXV8uXG5cblxuLi4gWyNjb3B5X3VuY2hhbmdlZF0gQ2hhbmdlcyB0byBvbmUgY29weSBzaG91bGQgbm90IGFmZmVjdCB0aGUgb3RoZXIuICBUaGF0XG4gICAgbWVhbnMgdGhlIHJvbGVfY2F0YWxvZyBzaG91bGQgc3RpbGwgd29yayBhcyBiZWZvcmUuXG5cbiAgICA+Pj4gbGVuKG9yZ19jYXRhbG9nKVxuICAgIDEzXG4gICAgPj4+IGxlbihsaXN0KG9yZ19jYXRhbG9nKSlcbiAgICAxM1xuXG4gICAgPj4+IGxlbihyb2xlX2NhdGFsb2cpXG4gICAgMzhcbiAgICA+Pj4gaW5kZXhlZCA9IGxpc3Qocm9sZV9jYXRhbG9nKVxuICAgID4+PiBsZW4oaW5kZXhlZClcbiAgICAzOFxuICAgID4+PiBvcmdzWydab29rZCBEZXZzJ10gaW4gaW5kZXhlZFxuICAgIFRydWVcbiAgICA+Pj4gb3Jnc1snWm9va2QgRGV2cyddIGluIHJvbGVfY2F0YWxvZ1xuICAgIFRydWVcblxuICAgID4+PiBjaGVja1lub2REZXZzUGFydHMocm9sZV9jYXRhbG9nKVxuICAgID4+PiBjaGVja09waGVsaWFSb2xlcyhyb2xlX2NhdGFsb2cpXG4gICAgPj4+IGNoZWNrT3BoZWxpYVdyaXRlck9yZ2FuaXphdGlvbnMocm9sZV9jYXRhbG9nKVxuICAgID4+PiBjaGVja1ByaW5jaXBhbHNXaXRoUm9sZXNJblpvb2tkRGV2cyhyb2xlX2NhdGFsb2cpXG4gICAgPj4+IGNoZWNrT3BoZWxpYVJvbGVzSW5ab29rZE5iZChyb2xlX2NhdGFsb2cpXG4gICAgPj4+IGNoZWNrQWJlUm9sZXNJblpvb2tkTmJkKHJvbGVfY2F0YWxvZylcblxuICAgID4+PiByb2xlX2NhdGFsb2cucmVtb3ZlVmFsdWVJbmRleCgncGFydCcpXG4gICAgPj4+IGZvciBpeCBpbiBsaXN0KHJvbGVfY2F0YWxvZy5pdGVyU2VhcmNoSW5kZXhlcygpKTpcbiAgICAuLi4gICAgIHJvbGVfY2F0YWxvZy5yZW1vdmVTZWFyY2hJbmRleChpeClcbiAgICAuLi5cbiAgICA+Pj4gcm9sZV9jYXRhbG9nLnJlbW92ZURlZmF1bHRRdWVyeUZhY3RvcnkoZmFjdG9yeTEpXG4gICAgPj4+IHJvbGVfY2F0YWxvZy5yZW1vdmVEZWZhdWx0UXVlcnlGYWN0b3J5KGZhY3RvcnkyKVxuICAgID4+PiByb2xlX2NhdGFsb2cuYWRkRGVmYXVsdFF1ZXJ5RmFjdG9yeShmYWN0b3J5MylcbiAgICA+Pj4gcm9vdFsnaW5kZXgyJ10gPSBpbmRleDIgPSB6Yy5yZWxhdGlvbi5zZWFyY2hpbmRleC5JbnRyYW5zaXRpdmUoXG4gICAgLi4uICAgICAoJ29yZ2FuaXphdGlvbicsICdwcmluY2lwYWxfaWQnKSwgJ3JvbGVfaWQnLCBmYWN0b3J5MyxcbiAgICAuLi4gICAgIGdldFZhbHVlVG9rZW5zMixcbiAgICAuLi4gICAgICgnb3JnYW5pemF0aW9uJywgJ3ByaW5jaXBhbF9pZCcsICdwYXJ0JywgJ3JvbGVfaWQnKSxcbiAgICAuLi4gICAgIHVubGltaXRlZERlcHRoPVRydWUpXG4gICAgPj4+IHJvbGVfY2F0YWxvZy5hZGRTZWFyY2hJbmRleChpbmRleDIpXG5cblRoZSBuZXcgcm9sZV9jYXRhbG9nIGluZGV4IG5lZWRzIHRvIGJlIHVwZGF0ZWQgZnJvbSB0aGUgb3JnX2NhdGFsb2cuXG5XZSdsbCBzZXQgdGhhdCB1cCB1c2luZyBsaXN0ZW5lcnMsIGEgbmV3IGNvbmNlcHQuXG5cbiAgICA+Pj4gb3JnX2NhdGFsb2cuYWRkTGlzdGVuZXIoaW5kZXgyKVxuICAgID4+PiBsaXN0KG9yZ19jYXRhbG9nLml0ZXJMaXN0ZW5lcnMoKSkgPT0gW2luZGV4Ml1cbiAgICBUcnVlXG5cbk5vdyB0aGUgcm9sZV9jYXRhbG9nIHNob3VsZCBiZSBhYmxlIHRvIGFuc3dlciB0aGUgc2FtZSBxdWVzdGlvbnMgYXMgdGhlIG9sZFxuc2luZ2xlIGNhdGFsb2cgYXBwcm9hY2guXG5cbiAgICA+Pj4gdCA9IHJvbGVfY2F0YWxvZy50b2tlbml6ZVF1ZXJ5XG4gICAgPj4+IGxpc3Qocm9sZV9jYXRhbG9nLmZpbmRWYWx1ZVRva2VucyhcbiAgICAuLi4gICAgICdyb2xlX2lkJywgdCh7J29yZ2FuaXphdGlvbic6IG9yZ3NbJ1pvb2tkIE5iZCddLFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAncHJpbmNpcGFsX2lkJzogJ2FiZSd9KSkpXG4gICAgWydwdWJsaXNoZXInLCAndXNlciBtYW5hZ2VyJywgJ3dyaXRlciddXG5cbiAgICA+Pj4gbGlzdChyb2xlX2NhdGFsb2cuZmluZFZhbHVlVG9rZW5zKFxuICAgIC4uLiAgICAgJ3JvbGVfaWQnLCB0KHsnb3JnYW5pemF0aW9uJzogb3Jnc1snWm9va2QgTmJkJ10sXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICdwcmluY2lwYWxfaWQnOiAnb3BoZWxpYSd9KSkpXG4gICAgWydwdWJsaXNoZXInLCAncmV2aWV3ZXInLCAnd3JpdGVyJ11cblxuV2UgY2FuIGFsc28gbWFrZSBjaGFuZ2VzIHRvIGJvdGggY2F0YWxvZ3MgYW5kIHRoZSBzZWFyY2ggaW5kZXhlcyBhcmVcbm1haW50YWluZWQuXG5cbiAgICA+Pj4gbGlzdChyb2xlX2NhdGFsb2cuZmluZFZhbHVlVG9rZW5zKFxuICAgIC4uLiAgICAgJ3JvbGVfaWQnLCB0KHsnb3JnYW5pemF0aW9uJzogb3Jnc1snWTNMNCBQcm9qJ10sXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICdwcmluY2lwYWxfaWQnOiAnYWJlJ30pKSlcbiAgICBbXVxuICAgID4+PiBvcmdzWydab29rZCBEZXZzJ10ucGFydHMuaW5zZXJ0KHJlZ2lzdHJ5LmdldElkKG9yZ3NbJ1lub2QgRGV2cyddKSlcbiAgICAxXG4gICAgPj4+IG9yZ19jYXRhbG9nLmluZGV4KG9yZ3NbJ1pvb2tkIERldnMnXSlcbiAgICA+Pj4gbGlzdChyb2xlX2NhdGFsb2cuZmluZFZhbHVlVG9rZW5zKFxuICAgIC4uLiAgICAgJ3JvbGVfaWQnLCB0KHsnb3JnYW5pemF0aW9uJzogb3Jnc1snWTNMNCBQcm9qJ10sXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICdwcmluY2lwYWxfaWQnOiAnYWJlJ30pKSlcbiAgICBbJ3B1Ymxpc2hlcicsICd1c2VyIG1hbmFnZXInLCAnd3JpdGVyJ11cbiAgICA+Pj4gb3Jnc1snWm9va2QgRGV2cyddLnBhcnRzLnJlbW92ZShyZWdpc3RyeS5nZXRJZChvcmdzWydZbm9kIERldnMnXSkpXG4gICAgPj4+IG9yZ19jYXRhbG9nLmluZGV4KG9yZ3NbJ1pvb2tkIERldnMnXSlcbiAgICA+Pj4gbGlzdChyb2xlX2NhdGFsb2cuZmluZFZhbHVlVG9rZW5zKFxuICAgIC4uLiAgICAgJ3JvbGVfaWQnLCB0KHsnb3JnYW5pemF0aW9uJzogb3Jnc1snWTNMNCBQcm9qJ10sXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICdwcmluY2lwYWxfaWQnOiAnYWJlJ30pKSlcbiAgICBbXVxuXG4gICAgPj4+IHJlbHMgPSBsaXN0KHJvbGVfY2F0YWxvZy5maW5kUmVsYXRpb25zKHQoXG4gICAgLi4uICAgICB7J3ByaW5jaXBhbF9pZCc6ICdhYmUnLFxuICAgIC4uLiAgICAgICdvcmdhbml6YXRpb24nOiBvcmdzWydab29rZCBDb3JwIE1hbmFnZW1lbnQnXX0pKSlcbiAgICA+Pj4gbGVuKHJlbHMpXG4gICAgMVxuICAgID4+PiByZWxzWzBdLnJvbGVfaWRzLmluc2VydCgncmV2aWV3ZXInKVxuICAgIDFcbiAgICA+Pj4gcm9sZV9jYXRhbG9nLmluZGV4KHJlbHNbMF0pXG5cbiAgICA+Pj4gcmVzID0gcm9sZV9jYXRhbG9nLmZpbmRWYWx1ZVRva2VucyhcbiAgICAuLi4gICAgICdyb2xlX2lkJywgdCh7J29yZ2FuaXphdGlvbic6IG9yZ3NbJ1pvb2tkIE5iZCddLFxuICAgIC4uLiAgICAgICAgICAgICAgICAgICAncHJpbmNpcGFsX2lkJzogJ2FiZSd9KSlcbiAgICA+Pj4gbGlzdChyZXMpXG4gICAgWydwdWJsaXNoZXInLCAncmV2aWV3ZXInLCAndXNlciBtYW5hZ2VyJywgJ3dyaXRlciddXG5cbkhlcmUgd2UgYWRkIGEgbmV3IG9yZ2FuaXphdGlvbi5cblxuICAgID4+PiBvcmdzWydab29rZCBoT25jJ10gPSBvcmcgPSBPcmdhbml6YXRpb24oJ1pvb2tkIGhPbmMnKVxuICAgID4+PiBvcmdzWydab29rZCBEZXZzJ10ucGFydHMuaW5zZXJ0KHJlZ2lzdHJ5LmdldElkKG9yZykpXG4gICAgMVxuICAgID4+PiBvcmdfY2F0YWxvZy5pbmRleChvcmdzWydab29rZCBoT25jJ10pXG4gICAgPj4+IG9yZ19jYXRhbG9nLmluZGV4KG9yZ3NbJ1pvb2tkIERldnMnXSlcblxuICAgID4+PiBsaXN0KHJvbGVfY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAncm9sZV9pZCcsIHQoeydvcmdhbml6YXRpb24nOiBvcmdzWydab29rZCBoT25jJ10sXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICdwcmluY2lwYWxfaWQnOiAnYWJlJ30pKSlcbiAgICBbJ3B1Ymxpc2hlcicsICdyZXZpZXdlcicsICd1c2VyIG1hbmFnZXInLCAnd3JpdGVyJ11cblxuICAgID4+PiBsaXN0KHJvbGVfY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoXG4gICAgLi4uICAgICAncm9sZV9pZCcsIHQoeydvcmdhbml6YXRpb24nOiBvcmdzWydab29rZCBoT25jJ10sXG4gICAgLi4uICAgICAgICAgICAgICAgICAgICdwcmluY2lwYWxfaWQnOiAnb3BoZWxpYSd9KSkpXG4gICAgWydyZXZpZXdlcicsICd3cml0ZXInXVxuXG5Ob3cgd2UnbGwgcmVtb3ZlIGl0LlxuXG4gICAgPj4+IG9yZ3NbJ1pvb2tkIERldnMnXS5wYXJ0cy5yZW1vdmUocmVnaXN0cnkuZ2V0SWQob3JnKSlcbiAgICA+Pj4gb3JnX2NhdGFsb2cuaW5kZXgob3Jnc1snWm9va2QgRGV2cyddKVxuICAgID4+PiBvcmdfY2F0YWxvZy51bmluZGV4KG9yZ3NbJ1pvb2tkIGhPbmMnXSlcblxuVE9ETyBtYWtlIHN1cmUgdGhhdCBpbnRyYW5zaXRpdmUgY29weSBsb29rcyB0aGUgd2F5IHdlIGV4cGVjdFxuXG5bI2FkbWluaXN0cml2aWFdX1xuXG4uLiBbI2FkbWluaXN0cml2aWFdXG5cbiAgICBZb3UgY2FuIGFkZCBsaXN0ZW5lcnMgbXVsdGlwbGUgdGltZXMuXG5cbiAgICA+Pj4gb3JnX2NhdGFsb2cuYWRkTGlzdGVuZXIoaW5kZXgyKVxuICAgID4+PiBsaXN0KG9yZ19jYXRhbG9nLml0ZXJMaXN0ZW5lcnMoKSkgPT0gW2luZGV4MiwgaW5kZXgyXVxuICAgIFRydWVcblxuICAgIE5vdyB3ZSB3aWxsIHJlbW92ZSB0aGUgbGlzdGVuZXJzLCB0byBzaG93IHdlIGNhbi5cblxuICAgID4+PiBvcmdfY2F0YWxvZy5yZW1vdmVMaXN0ZW5lcihpbmRleDIpXG4gICAgPj4+IG9yZ19jYXRhbG9nLnJlbW92ZUxpc3RlbmVyKGluZGV4MilcbiAgICA+Pj4gb3JnX2NhdGFsb2cucmVtb3ZlTGlzdGVuZXIoaW5kZXgyKVxuICAgIC4uLiAjIGRvY3Rlc3Q6ICtFTExJUFNJUyArTk9STUFMSVpFX1dISVRFU1BBQ0VcbiAgICBUcmFjZWJhY2sgKG1vc3QgcmVjZW50IGNhbGwgbGFzdCk6XG4gICAgLi4uXG4gICAgTG9va3VwRXJyb3I6ICgnbGlzdGVuZXIgbm90IGZvdW5kJyxcbiAgICAgICAgICAgICAgICAgIDx6Yy5yZWxhdGlvbi5zZWFyY2hpbmRleC5JbnRyYW5zaXRpdmUgb2JqZWN0IGF0IC4uLj4pXG4gICAgPj4+IG9yZ19jYXRhbG9nLnJlbW92ZUxpc3RlbmVyKE5vbmUpXG4gICAgLi4uICMgZG9jdGVzdDogK0VMTElQU0lTICtOT1JNQUxJWkVfV0hJVEVTUEFDRVxuICAgIFRyYWNlYmFjayAobW9zdCByZWNlbnQgY2FsbCBsYXN0KTpcbiAgICAuLi5cbiAgICBMb29rdXBFcnJvcjogKCdsaXN0ZW5lciBub3QgZm91bmQnLCBOb25lKVxuXG4gICAgSGVyZSdzIHRoZSBzYW1lIGZvciByZW1vdmluZyBhIHNlYXJjaCBpbmRleCB3ZSBkb24ndCBoYXZlXG5cbiAgICA+Pj4gb3JnX2NhdGFsb2cucmVtb3ZlU2VhcmNoSW5kZXgoaW5kZXgyKVxuICAgIC4uLiAjIGRvY3Rlc3Q6ICtFTExJUFNJUyArTk9STUFMSVpFX1dISVRFU1BBQ0VcbiAgICBUcmFjZWJhY2sgKG1vc3QgcmVjZW50IGNhbGwgbGFzdCk6XG4gICAgLi4uXG4gICAgTG9va3VwRXJyb3I6ICgnaW5kZXggbm90IGZvdW5kJyxcbiAgICAgICAgICAgICAgICAgIDx6Yy5yZWxhdGlvbi5zZWFyY2hpbmRleC5JbnRyYW5zaXRpdmUgb2JqZWN0IGF0IC4uLj4pXG5cbi4uIC4uLi4uLi4uLiAuLlxuLi4gRm9vdG5vdGVzIC4uXG4uLiAuLi4uLi4uLi4gLi5cblxuXG4uLiBbI3NpbGxpbmVzc10gSW4gXCIyMDAxOiBBIFNwYWNlIE9keXNzZXlcIiwgbWFueSBwZW9wbGUgYmVsaWV2ZSB0aGUgbmFtZSBIQUxcbiAgICB3YXMgY2hvc2VuIGJlY2F1c2UgaXQgd2FzIFJPVDI1IG9mIElCTS4uLi4gIEkgY2hlYXQgYSBiaXQgc29tZXRpbWVzIGFuZFxuICAgIHVzZSBST1QxIGJlY2F1c2UgdGhlIHJlc3VsdCBzb3VuZHMgYmV0dGVyLlxuXG5cbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5Xb3JraW5nIHdpdGggU2VhcmNoIEluZGV4ZXM6IHpjLnJlbGF0aW9uIENhdGFsb2cgRXh0ZW5kZWQgRXhhbXBsZVxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuSW50cm9kdWN0aW9uXG49PT09PT09PT09PT1cblxuVGhpcyBkb2N1bWVudCBhc3N1bWVzIHlvdSBoYXZlIHJlYWQgdGhlIFJFQURNRS5yc3QgZG9jdW1lbnQsIGFuZCB3YW50IHRvIGxlYXJuXG5hIGJpdCBtb3JlIGJ5IGV4YW1wbGUuIEluIGl0LCB3ZSB3aWxsIGV4cGxvcmUgYSBzZXQgb2YgcmVsYXRpb25zIHRoYXRcbmRlbW9uc3RyYXRlcyBtb3N0IG9mIHRoZSBhc3BlY3RzIG9mIHdvcmtpbmcgd2l0aCBzZWFyY2ggaW5kZXhlcyBhbmQgbGlzdGVuZXJzLlxuSXQgd2lsbCBub3QgZXhwbGFpbiB0aGUgdG9waWNzIHRoYXQgdGhlIG90aGVyIGRvY3VtZW50cyBhbHJlYWR5IGFkZHJlc3NlZC4gSXRcbmFsc28gZGVzY3JpYmVzIGFuIGFkdmFuY2VkIHVzZSBjYXNlLlxuXG5BcyB3ZSBoYXZlIHNlZW4gaW4gdGhlIG90aGVyIGRvY3VtZW50cywgdGhlIHJlbGF0aW9uIGNhdGFsb2cgc3VwcG9ydHNcbnNlYXJjaCBpbmRleGVzLiAgVGhlc2UgY2FuIHJldHVybiB0aGUgcmVzdWx0cyBvZiBhbnkgc2VhcmNoLCBhcyBkZXNpcmVkLlxuT2YgY291cnNlLCB0aGUgaW50ZW50IGlzIHRoYXQgeW91IHN1cHBseSBhbiBpbmRleCB0aGF0IG9wdGltaXplcyB0aGVcbnBhcnRpY3VsYXIgc2VhcmNoZXMgaXQgY2xhaW1zLlxuXG5UaGUgc2VhcmNoaW5kZXggbW9kdWxlIHN1cHBsaWVzIGEgZmV3IHNlYXJjaCBpbmRleGVzLCBvcHRpbWl6aW5nXG5zcGVjaWZpZWQgdHJhbnNpdGl2ZSBhbmQgaW50cmFuc2l0aXZlIHNlYXJjaGVzLiAgV2UgaGF2ZSBzZWVuIHRoZW0gd29ya2luZ1xuaW4gb3RoZXIgZG9jdW1lbnRzLiAgV2Ugd2lsbCBleGFtaW5lIHRoZW0gbW9yZSBpbiBkZXB0aCBpbiB0aGlzIGRvY3VtZW50LlxuXG5TZWFyY2ggaW5kZXhlcyB1cGRhdGUgdGhlbXNlbHZlcyBieSByZWNlaXZpbmcgbWVzc2FnZXMgdmlhIGEgXCJsaXN0ZW5lclwiXG5pbnRlcmZhY2UuICBXZSB3aWxsIGFsc28gbG9vayBhdCBob3cgdGhpcyB3b3Jrcy5cblxuVGhlIGV4YW1wbGUgZGVzY3JpYmVkIGluIHRoaXMgZmlsZSBleGFtaW5lcyBhIHVzZSBjYXNlIHNpbWlsYXIgdG8gdGhhdCBpblxudGhlIHpjLnJldmlzaW9uIG9yIHpjLnZhdWx0IHBhY2thZ2VzOiBhIHJlbGF0aW9uIGRlc2NyaWJlcyBhIGdyYXBoIG9mXG5vdGhlciBvYmplY3RzLiAgVGhlcmVmb3JlLCB0aGlzIGlzIG91ciBmaXJzdCBjb25jcmV0ZSBleGFtcGxlIG9mIHB1cmVseVxuZXh0cmluc2ljIHJlbGF0aW9ucy5cblxuTGV0J3MgYnVpbGQgdGhlIGV4YW1wbGUgc3RvcnkgYSBiaXQuICBJbWFnaW5lIHdlIGhhdmUgYSBncmFwaCwgb2Z0ZW4gYVxuaGllcmFyY2h5LCBvZiB0b2tlbnMtLWludGVnZXJzLiAgUmVsYXRpb25zIHNwZWNpZnkgdGhhdCBhIGdpdmVuIGludGVnZXJcbnRva2VuIHJlbGF0ZXMgdG8gb3RoZXIgaW50ZWdlciB0b2tlbnMsIHdpdGggYSBjb250YWlubWVudCBkZW5vdGF0aW9uIG9yXG5vdGhlciBtZWFuaW5nLlxuXG5UaGUgaW50ZWdlcnMgbWF5IGFsc28gaGF2ZSByZWxhdGlvbnMgdGhhdCBzcGVjaWZ5IHRoYXQgdGhleSByZXByZXNlbnQgYW5cbm9iamVjdCBvciBvYmplY3RzLlxuXG5UaGlzIGFsbG93cyB1cyB0byBoYXZlIGEgZ3JhcGggb2Ygb2JqZWN0cyBpbiB3aGljaCBjaGFuZ2luZyBvbmUgcGFydCBvZiB0aGVcbmdyYXBoIGRvZXMgbm90IHJlcXVpcmUgY2hhbmdpbmcgdGhlIHJlc3QuICB6Yy5yZXZpc2lvbiBhbmQgemMudmF1bHQgdGh1c1xuYXJlIGFibGUgdG8gbW9kZWwgZ3JhcGhzIHRoYXQgY2FuIGhhdmUgbXVsdGlwbGUgcmV2aXNpb25zIGVmZmljaWVudGx5IGFuZFxud2l0aCBxdWl0ZSBhIGJpdCBvZiBtZXRhZGF0YSB0byBzdXBwb3J0IG1lcmdlcy5cblxuTGV0J3MgaW1hZ2luZSBhIHNpbXBsZSBoaWVyYXJjaHkuICBUaGUgcmVsYXRpb24gaGFzIGEgYHRva2VuYCBhdHRyaWJ1dGVcbmFuZCBhIGBjaGlsZHJlbmAgYXR0cmlidXRlOyBjaGlsZHJlbiBwb2ludCB0byB0b2tlbnMuIFJlbGF0aW9ucyB3aWxsXG5pZGVudGlmeSB0aGVtc2VsdmVzIHdpdGggaWRzLlxuXG4gICAgPj4+IGltcG9ydCBCVHJlZXNcbiAgICA+Pj4gcmVsYXRpb25zID0gQlRyZWVzLmZhbWlseTY0LklPLkJUcmVlKClcbiAgICA+Pj4gcmVsYXRpb25zWzk5XSA9IE5vbmUgIyBqdXN0IHRvIGdpdmUgdXMgYSBzdGFydFxuXG4gICAgPj4+IGNsYXNzIFJlbGF0aW9uKG9iamVjdCk6XG4gICAgLi4uICAgICBkZWYgX19pbml0X18oc2VsZiwgdG9rZW4sIGNoaWxkcmVuPSgpKTpcbiAgICAuLi4gICAgICAgICBzZWxmLnRva2VuID0gdG9rZW5cbiAgICAuLi4gICAgICAgICBzZWxmLmNoaWxkcmVuID0gQlRyZWVzLmZhbWlseTY0LklGLlRyZWVTZXQoY2hpbGRyZW4pXG4gICAgLi4uICAgICAgICAgc2VsZi5pZCA9IHJlbGF0aW9ucy5tYXhLZXkoKSArIDFcbiAgICAuLi4gICAgICAgICByZWxhdGlvbnNbc2VsZi5pZF0gPSBzZWxmXG4gICAgLi4uXG5cbiAgICA+Pj4gZGVmIHRva2VuKHJlbCwgc2VsZik6XG4gICAgLi4uICAgICByZXR1cm4gcmVsLnRva2VuXG4gICAgLi4uXG4gICAgPj4+IGRlZiBjaGlsZHJlbihyZWwsIHNlbGYpOlxuICAgIC4uLiAgICAgcmV0dXJuIHJlbC5jaGlsZHJlblxuICAgIC4uLlxuICAgID4+PiBkZWYgZHVtcFJlbGF0aW9uKG9iaiwgaW5kZXgsIGNhY2hlKTpcbiAgICAuLi4gICAgIHJldHVybiBvYmouaWRcbiAgICAuLi5cbiAgICA+Pj4gZGVmIGxvYWRSZWxhdGlvbih0b2tlbiwgaW5kZXgsIGNhY2hlKTpcbiAgICAuLi4gICAgIHJldHVybiByZWxhdGlvbnNbdG9rZW5dXG4gICAgLi4uXG5cblRoZSBzdGFuZGFyZCBUcmFuc3Bvc2luZ1RyYW5zaXRpdmVRdWVyaWVzRmFjdG9yeSB3aWxsIGJlIGFibGUgdG8gaGFuZGxlIHRoaXNcbnF1aXRlIHdlbGwsIHNvIHdlJ2xsIHVzZSB0aGF0IGZvciBvdXIgaW5kZXguXG5cbiAgICA+Pj4gaW1wb3J0IHpjLnJlbGF0aW9uLnF1ZXJ5ZmFjdG9yeVxuICAgID4+PiBmYWN0b3J5ID0gemMucmVsYXRpb24ucXVlcnlmYWN0b3J5LlRyYW5zcG9zaW5nVHJhbnNpdGl2ZShcbiAgICAuLi4gICAgICd0b2tlbicsICdjaGlsZHJlbicpXG4gICAgPj4+IGltcG9ydCB6Yy5yZWxhdGlvbi5jYXRhbG9nXG4gICAgPj4+IGNhdGFsb2cgPSB6Yy5yZWxhdGlvbi5jYXRhbG9nLkNhdGFsb2coXG4gICAgLi4uICAgICBkdW1wUmVsYXRpb24sIGxvYWRSZWxhdGlvbiwgQlRyZWVzLmZhbWlseTY0LklPLCBCVHJlZXMuZmFtaWx5NjQpXG4gICAgPj4+IGNhdGFsb2cuYWRkVmFsdWVJbmRleCh0b2tlbilcbiAgICA+Pj4gY2F0YWxvZy5hZGRWYWx1ZUluZGV4KGNoaWxkcmVuLCBtdWx0aXBsZT1UcnVlKVxuICAgID4+PiBjYXRhbG9nLmFkZERlZmF1bHRRdWVyeUZhY3RvcnkoZmFjdG9yeSlcblxuTm93IGxldCdzIHF1aWNrbHkgY3JlYXRlIGEgaGllcmFyY2h5IGFuZCBpbmRleCBpdC5cblxuICAgID4+PiBmb3IgdG9rZW4sIGNoaWxkcmVuIGluIChcbiAgICAuLi4gICAgICgwLCAoMSwgMikpLCAoMSwgKDMsIDQpKSwgKDIsICgxMCwgMTEsIDEyKSksICgzLCAoNSwgNikpLFxuICAgIC4uLiAgICAgKDQsICgxMywgMTQpKSwgKDUsICg3LCA4LCA5KSksICg2LCAoMTUsIDE2KSksICg3LCAoMTcsIDE4LCAxOSkpLFxuICAgIC4uLiAgICAgKDgsICgyMCwgMjEsIDIyKSksICg5LCAoMjMsIDI0KSksICgxMCwgKDI1LCAyNikpLFxuICAgIC4uLiAgICAgKDExLCAoMjcsIDI4LCAyOSwgMzAsIDMxLCAzMikpKTpcbiAgICAuLi4gICAgIGNhdGFsb2cuaW5kZXgoUmVsYXRpb24odG9rZW4sIGNoaWxkcmVuKSlcbiAgICAuLi5cblxuWyNxdWVyeUZhY3RvcnldXyBUaGF0IGhpZXJhcmNoeSBpcyBhcmJpdHJhcnkuICBIZXJlJ3Mgd2hhdCB3ZSBoYXZlLCBpbiB0ZXJtcyBvZiB0b2tlbnNcbnBvaW50aW5nIHRvIGNoaWxkcmVuOjpcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fX19fX19fX19fX18wX19fX19fX19fX19fX1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBfX19fX19fXzFfX19fX19fICAgICAgICAgICAgICAgIF9fX19fXzJfX19fX19fX19fX19cbiAgICAgICAgICAgICAgICAgICAgICAgLyAgICAgICAgICAgICAgICBcXCAgICAgICAgICAgICAgLyAgICAgICAgICB8ICAgICAgICBcXFxuICAgICAgICAgICAgICAgIF9fX19fXzNfX19fXyAgICAgICAgICAgIF80XyAgICAgICAgICAxMCAgICAgICBfX19fMTFfX19fXyAgIDEyXG4gICAgICAgICAgICAgICAvICAgICAgICAgICAgXFwgICAgICAgICAgLyAgIFxcICAgICAgICAgLyBcXCAgICAgLyAvICB8ICBcXCBcXCBcXFxuICAgICAgIF9fX19fX181X19fX19fXyAgICAgICA2ICAgICAgIDEzICAgICAxNCAgICAgMjUgIDI2ICAyNyAyOCAyOSAzMCAzMSAzMlxuICAgICAgLyAgICAgICB8ICAgICAgIFxcICAgICAvIFxcXG4gICAgXzdfICAgICAgXzhfICAgICAgIDkgICAxNSAxNlxuICAgLyB8IFxcICAgIC8gfCBcXCAgICAgLyBcXFxuIDE3IDE4IDE5ICAyMCAyMSAyMiAgMjMgMjRcblxuVHdlbHZlIHJlbGF0aW9ucywgd2l0aCB0b2tlbnMgMCB0aHJvdWdoIDExLCBhbmQgYSB0b3RhbCBvZiAzMyB0b2tlbnMsXG5pbmNsdWRpbmcgY2hpbGRyZW4uICBUaGUgaWRzIGZvciB0aGUgMTIgcmVsYXRpb25zIGFyZSAxMDAgdGhyb3VnaCAxMTEsXG5jb3JyZXNwb25kaW5nIHdpdGggdGhlIHRva2VucyBvZiAwIHRocm91Z2ggMTEuXG5cbldpdGhvdXQgYSB0cmFuc2l0aXZlIHNlYXJjaCBpbmRleCwgd2UgY2FuIGdldCBhbGwgdHJhbnNpdGl2ZSByZXN1bHRzLlxuVGhlIHJlc3VsdHMgYXJlIGl0ZXJhdG9ycy5cblxuICAgID4+PiByZXMgPSBjYXRhbG9nLmZpbmRSZWxhdGlvblRva2Vucyh7J3Rva2VuJzogMH0pXG4gICAgPj4+IGdldGF0dHIocmVzLCAnX19uZXh0X18nKSBpcyBOb25lXG4gICAgRmFsc2VcbiAgICA+Pj4gZ2V0YXR0cihyZXMsICdfX2xlbl9fJywgTm9uZSkgaXMgTm9uZVxuICAgIFRydWVcbiAgICA+Pj4gc29ydGVkKHJlcylcbiAgICBbMTAwLCAxMDEsIDEwMiwgMTAzLCAxMDQsIDEwNSwgMTA2LCAxMDcsIDEwOCwgMTA5LCAxMTAsIDExMV1cbiAgICA+Pj4gbGlzdChyZXMpXG4gICAgW11cblxuICAgID4+PiByZXMgPSBjYXRhbG9nLmZpbmRWYWx1ZVRva2VucygnY2hpbGRyZW4nLCB7J3Rva2VuJzogMH0pXG4gICAgPj4+IHNvcnRlZChyZXMpID09IGxpc3QocmFuZ2UoMSwgMzMpKVxuICAgIFRydWVcbiAgICA+Pj4gbGlzdChyZXMpXG4gICAgW11cblxuWyNmaW5kVmFsdWVzVW5pbmRleGVkXV8gYGNhbkZpbmRgIGFsc28gY2FuIHdvcmsgdHJhbnNpdGl2ZWx5LCBhbmQgd2lsbFxudXNlIHRyYW5zaXRpdmUgc2VhcmNoIGluZGV4ZXMsIGFzIHdlJ2xsIHNlZSBiZWxvdy5cblxuICAgID4+PiBjYXRhbG9nLmNhbkZpbmQoeyd0b2tlbic6IDF9LCB0YXJnZXRRdWVyeT17J2NoaWxkcmVuJzogMjN9KVxuICAgIFRydWVcbiAgICA+Pj4gY2F0YWxvZy5jYW5GaW5kKHsndG9rZW4nOiAyfSwgdGFyZ2V0UXVlcnk9eydjaGlsZHJlbic6IDIzfSlcbiAgICBGYWxzZVxuICAgID4+PiBjYXRhbG9nLmNhbkZpbmQoeydjaGlsZHJlbic6IDIzfSwgdGFyZ2V0UXVlcnk9eyd0b2tlbic6IDF9KVxuICAgIFRydWVcbiAgICA+Pj4gY2F0YWxvZy5jYW5GaW5kKHsnY2hpbGRyZW4nOiAyM30sIHRhcmdldFF1ZXJ5PXsndG9rZW4nOiAyfSlcbiAgICBGYWxzZVxuXG5gZmluZFJlbGF0aW9uVG9rZW5DaGFpbnNgIHdvbid0IGNoYW5nZSwgYnV0IHdlJ2xsIGluY2x1ZGUgaXQgaW4gdGhlXG5kaXNjdXNzaW9uIGFuZCBleGFtcGxlcyB0byBzaG93IHRoYXQuXG5cbiAgICA+Pj4gcmVzID0gY2F0YWxvZy5maW5kUmVsYXRpb25Ub2tlbkNoYWlucyh7J3Rva2VuJzogMn0pXG4gICAgPj4+IGNoYWlucyA9IGxpc3QocmVzKVxuICAgID4+PiBsZW4oY2hhaW5zKVxuICAgIDNcbiAgICA+Pj4gbGVuKGxpc3QocmVzKSlcbiAgICAwXG5cblRyYW5zaXRpdmUgU2VhcmNoIEluZGV4ZXNcbj09PT09PT09PT09PT09PT09PT09PT09PT1cblxuTm93IHdlIGNhbiBhZGQgYSBjb3VwbGUgb2YgdHJhbnNpdGl2ZSBzZWFyY2ggaW5kZXguICBXZSdsbCB0YWxrIGFib3V0XG50aGVtIGEgYml0IGZpcnN0LlxuXG5UaGVyZSBpcyBjdXJyZW50bHkgb25lIHZhcmlldHkgb2YgdHJhbnNpdGl2ZSBpbmRleCwgd2hpY2ggaW5kZXhlc1xucmVsYXRpb24gYW5kIHZhbHVlIHNlYXJjaGVzIGZvciB0aGUgdHJhbnNwb3NpbmcgdHJhbnNpdGl2ZSBxdWVyeVxuZmFjdG9yeS5cblxuVGhlIGluZGV4IGNhbiBvbmx5IGJlIHVzZWQgdW5kZXIgY2VydGFpbiBjb25kaXRpb25zLlxuXG4gICAgLSBUaGUgc2VhcmNoIGlzIG5vdCBhIHJlcXVlc3QgZm9yIGEgcmVsYXRpb24gY2hhaW4uXG5cbiAgICAtIEl0IGRvZXMgbm90IHNwZWNpZnkgYSBtYXhpbXVtIGRlcHRoLlxuXG4gICAgLSBGaWx0ZXJzIGFyZSBub3QgdXNlZC5cblxuSWYgaXQgaXMgYSB2YWx1ZSBzZWFyY2gsIHRoZW4gc3BlY2lmaWMgdmFsdWUgaW5kZXhlcyBjYW5ub3QgYmUgdXNlZCBpZiBhXG50YXJnZXQgZmlsdGVyIG9yIHRhcmdldCBxdWVyeSBhcmUgdXNlZCwgYnV0IHRoZSBiYXNpYyByZWxhdGlvbiBpbmRleCBjYW5cbnN0aWxsIGJlIHVzZWQgaW4gdGhhdCBjYXNlLlxuXG5UaGUgdXNhZ2Ugb2YgdGhlIHNlYXJjaCBpbmRleGVzIGlzIGxhcmdlbHkgdHJhbnNwYXJlbnQ6IHNldCB0aGVtIHVwLCBhbmRcbnRoZSByZWxhdGlvbiBjYXRhbG9nIHdpbGwgdXNlIHRoZW0gZm9yIHRoZSBzYW1lIEFQSSBjYWxscyB0aGF0IHVzZWQgbW9yZVxuYnJ1dGUgZm9yY2UgcHJldmlvdXNseS4gIFRoZSBvbmx5IGRpZmZlcmVuY2UgZnJvbSBleHRlcm5hbCB1c2VzIGlzIHRoYXRcbnJlc3VsdHMgdGhhdCB1c2UgYW4gaW5kZXggd2lsbCB1c3VhbGx5IGJlIGEgQlRyZWUgc3RydWN0dXJlLCByYXRoZXIgdGhhblxuYW4gaXRlcmF0b3IuXG5cbldoZW4geW91IGFkZCBhIHRyYW5zaXRpdmUgaW5kZXggZm9yIGEgcmVsYXRpb24sIHlvdSBtdXN0IHNwZWNpZnkgdGhlXG50cmFuc2l0aXZlIG5hbWUgKG9yIG5hbWVzKSBvZiB0aGUgcXVlcnksIGFuZCB0aGUgc2FtZSBmb3IgdGhlIHJldmVyc2UuXG5UaGF0J3MgYWxsIHdlJ2xsIGRvIG5vdy5cblxuICAgID4+PiBpbXBvcnQgemMucmVsYXRpb24uc2VhcmNoaW5kZXhcbiAgICA+Pj4gY2F0YWxvZy5hZGRTZWFyY2hJbmRleChcbiAgICAuLi4gICAgIHpjLnJlbGF0aW9uLnNlYXJjaGluZGV4LlRyYW5zcG9zaW5nVHJhbnNpdGl2ZU1lbWJlcnNoaXAoXG4gICAgLi4uICAgICAgICAgJ3Rva2VuJywgJ2NoaWxkcmVuJywgbmFtZXM9KCdjaGlsZHJlbicsKSkpXG5cbk5vdyB3ZSBzaG91bGQgaGF2ZSBhIHNlYXJjaCBpbmRleCBpbnN0YWxsZWQuXG5cbk5vdGljZSB0aGF0IHdlIHdlbnQgZnJvbSBwYXJlbnQgKHRva2VuKSB0byBjaGlsZDogdGhpcyBpbmRleCBpcyBwcmltYXJpbHlcbmRlc2lnbmVkIGZvciBoZWxwaW5nIHRyYW5zaXRpdmUgbWVtYmVyc2hpcCBzZWFyY2hlcyBpbiBhIGhpZXJhcmNoeS4gVXNpbmcgaXQgdG9cbmluZGV4IHBhcmVudHMgd291bGQgaW5jdXIgYSBsb3Qgb2Ygd3JpdGUgZXhwZW5zZSBmb3Igbm90IG11Y2ggd2luLlxuXG5UaGVyZSdzIGp1c3QgYSBiaXQgbW9yZSB5b3UgY2FuIHNwZWNpZnkgaGVyZTogc3RhdGljIGZpZWxkcyBmb3IgYSBxdWVyeVxudG8gZG8gYSBiaXQgb2YgZmlsdGVyaW5nLiAgV2UgZG9uJ3QgbmVlZCBhbnkgb2YgdGhhdCBmb3IgdGhpcyBleGFtcGxlLlxuXG5Ob3cgaG93IGRvZXMgdGhlIGNhdGFsb2cgdXNlIHRoaXMgaW5kZXggZm9yIHNlYXJjaGVzPyAgVGhyZWUgYmFzaWMgd2F5cyxcbmRlcGVuZGluZyBvbiB0aGUga2luZCBvZiBzZWFyY2gsIHJlbGF0aW9ucywgdmFsdWVzLCBvciBgY2FuRmluZGAuXG5CZWZvcmUgd2Ugc3RhcnQgbG9va2luZyBpbnRvIHRoZSBpbnRlcm5hbHMsIGxldCdzIHZlcmlmeSB0aGF0IHdlJ3JlIGdldHRpbmdcbndoYXQgd2UgZXhwZWN0OiBjb3JyZWN0IGFuc3dlcnMsIGFuZCBub3QgaXRlcmF0b3JzLCBidXQgQlRyZWUgc3RydWN0dXJlcy5cblxuICAgID4+PiByZXMgPSBjYXRhbG9nLmZpbmRSZWxhdGlvblRva2Vucyh7J3Rva2VuJzogMH0pXG4gICAgPj4+IGxpc3QocmVzKVxuICAgIFsxMDAsIDEwMSwgMTAyLCAxMDMsIDEwNCwgMTA1LCAxMDYsIDEwNywgMTA4LCAxMDksIDExMCwgMTExXVxuICAgID4+PiBsaXN0KHJlcylcbiAgICBbMTAwLCAxMDEsIDEwMiwgMTAzLCAxMDQsIDEwNSwgMTA2LCAxMDcsIDEwOCwgMTA5LCAxMTAsIDExMV1cblxuICAgID4+PiByZXMgPSBjYXRhbG9nLmZpbmRWYWx1ZVRva2VucygnY2hpbGRyZW4nLCB7J3Rva2VuJzogMH0pXG4gICAgPj4+IGxpc3QocmVzKSA9PSBsaXN0KHJhbmdlKDEsIDMzKSlcbiAgICBUcnVlXG4gICAgPj4+IGxpc3QocmVzKSA9PSBsaXN0KHJhbmdlKDEsIDMzKSlcbiAgICBUcnVlXG5cbiAgICA+Pj4gY2F0YWxvZy5jYW5GaW5kKHsndG9rZW4nOiAxfSwgdGFyZ2V0UXVlcnk9eydjaGlsZHJlbic6IDIzfSlcbiAgICBUcnVlXG4gICAgPj4+IGNhdGFsb2cuY2FuRmluZCh7J3Rva2VuJzogMn0sIHRhcmdldFF1ZXJ5PXsnY2hpbGRyZW4nOiAyM30pXG4gICAgRmFsc2VcblxuWyNmaW5kVmFsdWVzSW5kZXhlZF1fIE5vdGUgdGhhdCB0aGUgbGFzdCB0d28gYGNhbkZpbmRgIGV4YW1wbGVzIGZyb21cbndoZW4gd2Ugd2VudCB0aHJvdWdoIHRoZXNlIGV4YW1wbGVzIHdpdGhvdXQgYW4gaW5kZXggZG8gbm90IHVzZSB0aGVcbmluZGV4LCBzbyB3ZSBkb24ndCBzaG93IHRoZW0gaGVyZTogdGhleSBsb29rIHRoZSB3cm9uZyBkaXJlY3Rpb24gZm9yXG50aGlzIGluZGV4LlxuXG5TbyBob3cgZG8gdGhlc2UgcmVzdWx0cyBoYXBwZW4/XG5cblRoZSBmaXJzdCwgYGZpbmRSZWxhdGlvblRva2Vuc2AsIGFuZCB0aGUgbGFzdCwgYGNhbkZpbmRgLCBhcmUgdGhlIG1vc3RcbnN0cmFpZ2h0Zm9yd2FyZC4gIFRoZSBpbmRleCBmaW5kcyBhbGwgcmVsYXRpb25zIHRoYXQgbWF0Y2ggdGhlIGdpdmVuXG5xdWVyeSwgaW50cmFuc2l0aXZlbHkuIFRoZW4gZm9yIGVhY2ggcmVsYXRpb24sIGl0IGxvb2tzIHVwIHRoZSBpbmRleGVkXG50cmFuc2l0aXZlIHJlc3VsdHMgZm9yIHRoYXQgdG9rZW4uICBUaGUgZW5kIHJlc3VsdCBpcyB0aGUgdW5pb24gb2YgYWxsXG5pbmRleGVkIHJlc3VsdHMgZm91bmQgZnJvbSB0aGUgaW50cmFuc2l0aXZlIHNlYXJjaC4gIGBjYW5GaW5kYCBzaW1wbHlcbmNhc3RzIHRoZSByZXN1bHQgaW50byBhIGJvb2xlYW4uXG5cbmBmaW5kVmFsdWVUb2tlbnNgIGlzIHRoZSBzYW1lIHN0b3J5IGFzIGFib3ZlIHdpdGggb25seSBvbmUgbW9yZSBzdGVwLiAgQWZ0ZXJcbnRoZSB1bmlvbiBvZiByZWxhdGlvbnMgaXMgY2FsY3VsYXRlZCwgdGhlIG1ldGhvZCByZXR1cm5zIHRoZSB1bmlvbiBvZiB0aGVcbnNldHMgb2YgdGhlIHJlcXVlc3RlZCB2YWx1ZSBmb3IgYWxsIGZvdW5kIHJlbGF0aW9ucy5cblxuSXQgd2lsbCBtYWludGFpbiBpdHNlbGYgd2hlbiByZWxhdGlvbnMgYXJlIHJlaW5kZXhlZC5cblxuICAgID4+PiByZWwgPSBsaXN0KGNhdGFsb2cuZmluZFJlbGF0aW9ucyh7J3Rva2VuJzogMTF9KSlbMF1cbiAgICA+Pj4gZm9yIHQgaW4gKDI3LCAyOCwgMjksIDMwLCAzMSk6XG4gICAgLi4uICAgICByZWwuY2hpbGRyZW4ucmVtb3ZlKHQpXG4gICAgLi4uXG4gICAgPj4+IGNhdGFsb2cuaW5kZXgocmVsKVxuXG4gICAgPj4+IGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKCdjaGlsZHJlbicsIHsndG9rZW4nOiAwfSlcbiAgICAuLi4gIyBkb2N0ZXN0OiArTk9STUFMSVpFX1dISVRFU1BBQ0VcbiAgICBMRlNldChbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwgMTYsIDE3LCAxOCwgMTksXG4gICAgICAgICAgIDIwLCAyMSwgMjIsIDIzLCAyNCwgMjUsIDI2LCAzMl0pXG4gICAgPj4+IGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKCdjaGlsZHJlbicsIHsndG9rZW4nOiAyfSlcbiAgICBMRlNldChbMTAsIDExLCAxMiwgMjUsIDI2LCAzMl0pXG4gICAgPj4+IGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKCdjaGlsZHJlbicsIHsndG9rZW4nOiAxMX0pXG4gICAgTEZTZXQoWzMyXSlcblxuICAgID4+PiByZWwuY2hpbGRyZW4ucmVtb3ZlKDMyKVxuICAgID4+PiBjYXRhbG9nLmluZGV4KHJlbClcblxuICAgID4+PiBjYXRhbG9nLmZpbmRWYWx1ZVRva2VucygnY2hpbGRyZW4nLCB7J3Rva2VuJzogMH0pXG4gICAgLi4uICMgZG9jdGVzdDogK05PUk1BTElaRV9XSElURVNQQUNFXG4gICAgTEZTZXQoWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTIsIDEzLCAxNCwgMTUsIDE2LCAxNywgMTgsIDE5LFxuICAgICAgICAgICAyMCwgMjEsIDIyLCAyMywgMjQsIDI1LCAyNl0pXG4gICAgPj4+IGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKCdjaGlsZHJlbicsIHsndG9rZW4nOiAyfSlcbiAgICBMRlNldChbMTAsIDExLCAxMiwgMjUsIDI2XSlcbiAgICA+Pj4gY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoJ2NoaWxkcmVuJywgeyd0b2tlbic6IDExfSlcbiAgICBMRlNldChbXSlcblxuICAgID4+PiByZWwuY2hpbGRyZW4uaW5zZXJ0KDI3KVxuICAgIDFcbiAgICA+Pj4gY2F0YWxvZy5pbmRleChyZWwpXG5cbiAgICA+Pj4gY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoJ2NoaWxkcmVuJywgeyd0b2tlbic6IDB9KVxuICAgIC4uLiAjIGRvY3Rlc3Q6ICtOT1JNQUxJWkVfV0hJVEVTUEFDRVxuICAgIExGU2V0KFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LCAxNiwgMTcsIDE4LCAxOSxcbiAgICAgICAgICAgMjAsIDIxLCAyMiwgMjMsIDI0LCAyNSwgMjYsIDI3XSlcbiAgICA+Pj4gY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoJ2NoaWxkcmVuJywgeyd0b2tlbic6IDJ9KVxuICAgIExGU2V0KFsxMCwgMTEsIDEyLCAyNSwgMjYsIDI3XSlcbiAgICA+Pj4gY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoJ2NoaWxkcmVuJywgeyd0b2tlbic6IDExfSlcbiAgICBMRlNldChbMjddKVxuXG5XaGVuIHRoZSBpbmRleCBpcyBjb3BpZWQsIHRoZSBzZWFyY2ggaW5kZXggaXMgY29waWVkLlxuXG4gICAgPj4+IG5ldyA9IGNhdGFsb2cuY29weSgpXG4gICAgPj4+IHJlcyA9IGxpc3QobmV3Lml0ZXJTZWFyY2hJbmRleGVzKCkpXG4gICAgPj4+IGxlbihyZXMpXG4gICAgMVxuICAgID4+PiBuZXdfaW5kZXggPSByZXNbMF1cbiAgICA+Pj4gcmVzID0gbGlzdChjYXRhbG9nLml0ZXJTZWFyY2hJbmRleGVzKCkpXG4gICAgPj4+IGxlbihyZXMpXG4gICAgMVxuICAgID4+PiBvbGRfaW5kZXggPSByZXNbMF1cbiAgICA+Pj4gbmV3X2luZGV4IGlzIG9sZF9pbmRleFxuICAgIEZhbHNlXG4gICAgPj4+IG9sZF9pbmRleC5pbmRleCBpcyBuZXdfaW5kZXguaW5kZXhcbiAgICBGYWxzZVxuICAgID4+PiBsaXN0KG9sZF9pbmRleC5pbmRleC5rZXlzKCkpID09IGxpc3QobmV3X2luZGV4LmluZGV4LmtleXMoKSlcbiAgICBUcnVlXG4gICAgPj4+IGZyb20gX19mdXR1cmVfXyBpbXBvcnQgcHJpbnRfZnVuY3Rpb25cbiAgICA+Pj4gZm9yIGtleSwgdmFsdWUgaW4gb2xkX2luZGV4LmluZGV4Lml0ZW1zKCk6XG4gICAgLi4uICAgICB2ID0gbmV3X2luZGV4LmluZGV4W2tleV1cbiAgICAuLi4gICAgIGlmIHYgaXMgdmFsdWUgb3IgbGlzdCh2KSAhPSBsaXN0KHZhbHVlKTpcbiAgICAuLi4gICAgICAgICBwcmludCgnb29wcycsIGtleSwgdmFsdWUsIHYpXG4gICAgLi4uICAgICAgICAgYnJlYWtcbiAgICAuLi4gZWxzZTpcbiAgICAuLi4gICAgIHByaW50KCdnb29kJylcbiAgICAuLi5cbiAgICBnb29kXG4gICAgPj4+IG9sZF9pbmRleC5uYW1lcyBpcyBub3QgbmV3X2luZGV4Lm5hbWVzXG4gICAgVHJ1ZVxuICAgID4+PiBsaXN0KG9sZF9pbmRleC5uYW1lcykgPT0gbGlzdChuZXdfaW5kZXgubmFtZXMpXG4gICAgVHJ1ZVxuICAgID4+PiBmb3IgbmFtZSwgb2xkX2l4IGluIG9sZF9pbmRleC5uYW1lcy5pdGVtcygpOlxuICAgIC4uLiAgICAgbmV3X2l4ID0gbmV3X2luZGV4Lm5hbWVzW25hbWVdXG4gICAgLi4uICAgICBpZiBuZXdfaXggaXMgb2xkX2l4IG9yIGxpc3QobmV3X2l4LmtleXMoKSkgIT0gbGlzdChvbGRfaXgua2V5cygpKTpcbiAgICAuLi4gICAgICAgICBwcmludCgnb29wcycpXG4gICAgLi4uICAgICAgICAgYnJlYWtcbiAgICAuLi4gICAgIGZvciBrZXksIHZhbHVlIGluIG9sZF9peC5pdGVtcygpOlxuICAgIC4uLiAgICAgICAgIHYgPSBuZXdfaXhba2V5XVxuICAgIC4uLiAgICAgICAgIGlmIHYgaXMgdmFsdWUgb3IgbGlzdCh2KSAhPSBsaXN0KHZhbHVlKTpcbiAgICAuLi4gICAgICAgICAgICAgcHJpbnQoJ29vcHMnLCBuYW1lLCBrZXksIHZhbHVlLCB2KVxuICAgIC4uLiAgICAgICAgICAgICBicmVha1xuICAgIC4uLiAgICAgZWxzZTpcbiAgICAuLi4gICAgICAgICBjb250aW51ZVxuICAgIC4uLiAgICAgYnJlYWtcbiAgICAuLi4gZWxzZTpcbiAgICAuLi4gICAgIHByaW50KCdnb29kJylcbiAgICAuLi5cbiAgICBnb29kXG5cbkhlbHBlcnNcbj09PT09PT1cblxuV2hlbiB3cml0aW5nIHNlYXJjaCBpbmRleGVzIGFuZCBxdWVyeSBmYWN0b3JpZXMsIHlvdSBvZnRlbiB3YW50IGNvbXBsZXRlXG5hY2Nlc3MgdG8gcmVsYXRpb24gY2F0YWxvZyBkYXRhLiAgV2UndmUgc2VlbiBhIG51bWJlciBvZiB0aGVzZSB0b29scyBhbHJlYWR5OlxuXG4tIGBnZXRSZWxhdGlvbk1vZHVsZVRvb2xzYCBnZXRzIGEgZGljdGlvbmFyeSBvZiB0aGUgQlRyZWUgdG9vbHMgbmVlZGVkIHRvXG4gIHdvcmsgd2l0aCByZWxhdGlvbnMuXG5cbiAgICA+Pj4gc29ydGVkKGNhdGFsb2cuZ2V0UmVsYXRpb25Nb2R1bGVUb29scygpLmtleXMoKSlcbiAgICAuLi4gIyBkb2N0ZXN0OiArTk9STUFMSVpFX1dISVRFU1BBQ0VcbiAgICBbJ0JUcmVlJywgJ0J1Y2tldCcsICdTZXQnLCAnVHJlZVNldCcsICdkaWZmZXJlbmNlJywgJ2R1bXAnLFxuICAgICAnaW50ZXJzZWN0aW9uJywgJ2xvYWQnLCAnbXVsdGl1bmlvbicsICd1bmlvbiddXG5cbiAgICAnbXVsdGl1bmlvbicgaXMgb25seSB0aGVyZSBpZiB0aGUgQlRyZWUgaXMgYW4gSSogb3IgTCogbW9kdWxlLlxuICAgIFVzZSB0aGUgemMucmVsYXRpb24uY2F0YWxvZy5tdWx0aXVuaW9uIGhlbHBlciBmdW5jdGlvbiB0byBkbyB0aGVcbiAgICBiZXN0IHVuaW9uIHlvdSBjYW4gZm9yIGEgZ2l2ZW4gc2V0IG9mIHRvb2xzLlxuXG4tIGBnZXRWYWx1ZU1vZHVsZVRvb2xzYCBkb2VzIHRoZSBzYW1lIGZvciBpbmRleGVkIHZhbHVlcy5cblxuICAgID4+PiB0b29scyA9IHNldCgoJ0JUcmVlJywgJ0J1Y2tldCcsICdTZXQnLCAnVHJlZVNldCcsICdkaWZmZXJlbmNlJyxcbiAgICAuLi4gICAgICAgICAgICAgICdkdW1wJywgJ2ludGVyc2VjdGlvbicsICdsb2FkJywgJ211bHRpdW5pb24nLCAndW5pb24nKSlcbiAgICA+Pj4gdG9vbHMuZGlmZmVyZW5jZShjYXRhbG9nLmdldFZhbHVlTW9kdWxlVG9vbHMoJ2NoaWxkcmVuJykua2V5cygpKSA9PSBzZXQoKVxuICAgIFRydWVcblxuICAgID4+PiB0b29scy5kaWZmZXJlbmNlKGNhdGFsb2cuZ2V0VmFsdWVNb2R1bGVUb29scygndG9rZW4nKS5rZXlzKCkpID09IHNldCgpXG4gICAgVHJ1ZVxuXG4tIGBnZXRSZWxhdGlvblRva2Vuc2AgY2FuIHJldHVybiBhbGwgb2YgdGhlIHRva2VucyBpbiB0aGUgY2F0YWxvZy5cblxuICAgID4+PiBsZW4oY2F0YWxvZy5nZXRSZWxhdGlvblRva2VucygpKSA9PSBsZW4oY2F0YWxvZylcbiAgICBUcnVlXG5cbiAgICBUaGlzIGFsc28gaGFwcGVucyB0byBiZSBlcXVpdmFsZW50IHRvIGBmaW5kUmVsYXRpb25Ub2tlbnNgIHdpdGggYW4gZW1wdHlcbiAgICBxdWVyeS5cblxuICAgID4+PiBjYXRhbG9nLmdldFJlbGF0aW9uVG9rZW5zKCkgaXMgY2F0YWxvZy5maW5kUmVsYXRpb25Ub2tlbnMoe30pXG4gICAgVHJ1ZVxuXG4gICAgSXQgYWxzbyBjYW4gcmV0dXJuIGFsbCB0aGUgdG9rZW5zIHRoYXQgbWF0Y2ggYSBnaXZlbiBxdWVyeSwgb3IgTm9uZSBpZlxuICAgIHRoZXJlIGFyZSBubyBtYXRjaGVzLlxuXG4gICAgPj4+IGNhdGFsb2cuZ2V0UmVsYXRpb25Ub2tlbnMoeyd0b2tlbic6IDB9KSAjIGRvY3Rlc3Q6ICtFTExJUFNJU1xuICAgIDxCVHJlZXMuTE9CVHJlZS5MT1RyZWVTZXQgb2JqZWN0IGF0IC4uLj5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmdldFJlbGF0aW9uVG9rZW5zKHsndG9rZW4nOiAwfSkpXG4gICAgWzEwMF1cblxuICAgIFRoaXMgYWxzbyBoYXBwZW5zIHRvIGJlIGVxdWl2YWxlbnQgdG8gYGZpbmRSZWxhdGlvblRva2Vuc2Agd2l0aCBhIHF1ZXJ5LFxuICAgIGEgbWF4RGVwdGggb2YgMSwgYW5kIG5vIG90aGVyIGFyZ3VtZW50cy5cblxuICAgID4+PiBjYXRhbG9nLmZpbmRSZWxhdGlvblRva2Vucyh7J3Rva2VuJzogMH0sIG1heERlcHRoPTEpIGlzIChcbiAgICAuLi4gICAgIGNhdGFsb2cuZ2V0UmVsYXRpb25Ub2tlbnMoeyd0b2tlbic6IDB9KSlcbiAgICBUcnVlXG5cbiAgICBFeGNlcHQgdGhhdCBpZiB0aGVyZSBhcmUgbm8gbWF0Y2hlcywgYGZpbmRSZWxhdGlvblRva2Vuc2AgcmV0dXJucyBhbiBlbXB0eVxuICAgIHNldCAoc28gaXQgKmFsd2F5cyogcmV0dXJucyBhbiBpdGVyYWJsZSkuXG5cbiAgICA+Pj4gY2F0YWxvZy5maW5kUmVsYXRpb25Ub2tlbnMoeyd0b2tlbic6IDUwfSwgbWF4RGVwdGg9MSlcbiAgICBMT1NldChbXSlcbiAgICA+Pj4gcHJpbnQoY2F0YWxvZy5nZXRSZWxhdGlvblRva2Vucyh7J3Rva2VuJzogNTB9KSlcbiAgICBOb25lXG5cbi0gYGdldFZhbHVlVG9rZW5zYCBjYW4gcmV0dXJuIGFsbCBvZiB0aGUgdG9rZW5zIGZvciBhIGdpdmVuIHZhbHVlIG5hbWUgaW5cbiAgICB0aGUgY2F0YWxvZy5cblxuICAgID4+PiBsaXN0KGNhdGFsb2cuZ2V0VmFsdWVUb2tlbnMoJ3Rva2VuJykpID09IGxpc3QocmFuZ2UoMTIpKVxuICAgIFRydWVcblxuICAgIFRoaXMgaXMgaWRlbnRpY2FsIHRvIGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zIHdpdGggYSBuYW1lIG9ubHkgKG9yIHdpdGhcbiAgICBhbiBlbXB0eSBxdWVyeSwgYW5kIGEgbWF4RGVwdGggb2YgMSkuXG5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRWYWx1ZVRva2VucygndG9rZW4nKSkgPT0gbGlzdChyYW5nZSgxMikpXG4gICAgVHJ1ZVxuICAgID4+PiBjYXRhbG9nLmZpbmRWYWx1ZVRva2VucygndG9rZW4nKSBpcyBjYXRhbG9nLmdldFZhbHVlVG9rZW5zKCd0b2tlbicpXG4gICAgVHJ1ZVxuXG4gICAgSXQgY2FuIGFsc28gcmV0dXJuIHRoZSB2YWx1ZXMgZm9yIGEgZ2l2ZW4gdG9rZW4uXG5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmdldFZhbHVlVG9rZW5zKCdjaGlsZHJlbicsIDEwMCkpXG4gICAgWzEsIDJdXG5cbiAgICBUaGlzIGlzIGlkZW50aWNhbCB0byBjYXRhbG9nLmZpbmRWYWx1ZVRva2VucyB3aXRoIGEgbmFtZSBhbmQgYSBxdWVyeSBvZlxuICAgIHtOb25lOiB0b2tlbn0uXG5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRWYWx1ZVRva2VucygnY2hpbGRyZW4nLCB7Tm9uZTogMTAwfSkpXG4gICAgWzEsIDJdXG4gICAgPj4+IGNhdGFsb2cuZ2V0VmFsdWVUb2tlbnMoJ2NoaWxkcmVuJywgMTAwKSBpcyAoXG4gICAgLi4uICAgICBjYXRhbG9nLmZpbmRWYWx1ZVRva2VucygnY2hpbGRyZW4nLCB7Tm9uZTogMTAwfSkpXG4gICAgVHJ1ZVxuXG4gICAgRXhjZXB0IHRoYXQgaWYgdGhlcmUgYXJlIG5vIG1hdGNoZXMsIGBmaW5kVmFsdWVUb2tlbnNgIHJldHVybnMgYW4gZW1wdHlcbiAgICBzZXQgKHNvIGl0ICphbHdheXMqIHJldHVybnMgYW4gaXRlcmFibGUpOyB3aGlsZSBnZXRWYWx1ZVRva2VucyB3aWxsXG4gICAgcmV0dXJuIE5vbmUgaWYgdGhlIHJlbGF0aW9uIGhhcyBubyB2YWx1ZXMgKG9yIHRoZSByZWxhdGlvbiBpcyB1bmtub3duKS5cblxuICAgID4+PiBjYXRhbG9nLmZpbmRWYWx1ZVRva2VucygnY2hpbGRyZW4nLCB7Tm9uZTogNTB9LCBtYXhEZXB0aD0xKVxuICAgIExGU2V0KFtdKVxuICAgID4+PiBwcmludChjYXRhbG9nLmdldFZhbHVlVG9rZW5zKCdjaGlsZHJlbicsIDUwKSlcbiAgICBOb25lXG5cbiAgICA+Pj4gcmVsLmNoaWxkcmVuLnJlbW92ZSgyNylcbiAgICA+Pj4gY2F0YWxvZy5pbmRleChyZWwpXG4gICAgPj4+IGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKCdjaGlsZHJlbicsIHtOb25lOiByZWwuaWR9LCBtYXhEZXB0aD0xKVxuICAgIExGU2V0KFtdKVxuICAgID4+PiBwcmludChjYXRhbG9nLmdldFZhbHVlVG9rZW5zKCdjaGlsZHJlbicsIHJlbC5pZCkpXG4gICAgTm9uZVxuXG4tIGB5aWVsZFJlbGF0aW9uVG9rZW5DaGFpbnNgIGlzIGEgc2VhcmNoIHdvcmtob3JzZSBmb3Igc2VhcmNoZXMgdGhhdCB1c2UgYVxuICAgIHF1ZXJ5IGZhY3RvcnkuICBUT0RPOiBkZXNjcmliZS5cblxuLi4gLi4uLi4uLi4uIC4uXG4uLiBGb290bm90ZXMgLi5cbi4uIC4uLi4uLi4uLiAuLlxuXG4uLiBbI3F1ZXJ5RmFjdG9yeV0gVGhlIHF1ZXJ5IGZhY3Rvcnkga25vd3Mgd2hlbiBpdCBpcyBub3QgbmVlZGVkLS1ub3Qgb25seVxuICAgIHdoZW4gbmVpdGhlciBvZiBpdHMgbmFtZXMgYXJlIHVzZWQsIGJ1dCBhbHNvIHdoZW4gYm90aCBvZiBpdHMgbmFtZXMgYXJlXG4gICAgdXNlZC5cblxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFJlbGF0aW9uVG9rZW5zKHsndG9rZW4nOiAwLCAnY2hpbGRyZW4nOiAxfSkpXG4gICAgWzEwMF1cblxuLi4gWyNmaW5kVmFsdWVzVW5pbmRleGVkXSBXaGVuIHZhbHVlcyBhcmUgdGhlIHNhbWUgYXMgdGhlaXIgdG9rZW5zLFxuICAgIGBmaW5kVmFsdWVzYCByZXR1cm5zIHRoZSBzYW1lIHJlc3VsdCBhcyBgZmluZFZhbHVlVG9rZW5zYC4gIEhlcmVcbiAgICB3ZSBzZWUgdGhpcyB3aXRob3V0IGluZGV4ZXMuXG5cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRWYWx1ZVRva2VucygnY2hpbGRyZW4nLCB7J3Rva2VuJzogMH0pKSA9PSBsaXN0KFxuICAgIC4uLiAgICAgY2F0YWxvZy5maW5kVmFsdWVzKCdjaGlsZHJlbicsIHsndG9rZW4nOiAwfSkpXG4gICAgVHJ1ZVxuXG4uLiBbI2ZpbmRWYWx1ZXNJbmRleGVkXSBBZ2Fpbiwgd2hlbiB2YWx1ZXMgYXJlIHRoZSBzYW1lIGFzIHRoZWlyIHRva2VucyxcbiAgICBgZmluZFZhbHVlc2AgcmV0dXJucyB0aGUgc2FtZSByZXN1bHQgYXMgYGZpbmRWYWx1ZVRva2Vuc2AuICBIZXJlXG4gICAgd2Ugc2VlIHRoaXMgd2l0aCBpbmRleGVzLlxuXG4gICAgPj4+IGxpc3QoY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoJ2NoaWxkcmVuJywgeyd0b2tlbic6IDB9KSkgPT0gbGlzdChcbiAgICAuLi4gICAgIGNhdGFsb2cuZmluZFZhbHVlcygnY2hpbGRyZW4nLCB7J3Rva2VuJzogMH0pKVxuICAgIFRydWVcblxuXG5PcHRpbWl6aW5nIFJlbGF0aW9uIENhdGFsb2cgVXNlXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblRoZXJlIGFyZSBzZXZlcmFsIGJlc3QgcHJhY3RpY2VzIGFuZCBvcHRpbWl6YXRpb24gb3Bwb3J0dW5pdGllcyBpbiByZWdhcmRzIHRvXG50aGUgY2F0YWxvZy5cblxuLSBVc2UgaW50ZWdlci1rZXllZCBCVHJlZSBzZXRzIHdoZW4gcG9zc2libGUuICBUaGV5IGNhbiB1c2UgdGhlIEJUcmVlcydcbiAgYG11bHRpdW5pb25gIGZvciBhIHNwZWVkIGJvb3N0LiAgSW50ZWdlcnMnIF9fY21wX18gaXMgcmVsaWFibGUsIGFuZCBpbiBDLlxuXG4tIE5ldmVyIHVzZSBwZXJzaXN0ZW50IG9iamVjdHMgYXMga2V5cy4gIFRoZXkgd2lsbCBjYXVzZSBhIGRhdGFiYXNlIGxvYWQgZXZlcnlcbiAgdGltZSB5b3UgbmVlZCB0byBsb29rIGF0IHRoZW0sIHRoZXkgdGFrZSB1cCBtZW1vcnkgYW5kIG9iamVjdCBjYWNoZXMsIGFuZFxuICB0aGV5IChhcyBvZiB0aGlzIHdyaXRpbmcpIGRpc2FibGUgY29uZmxpY3QgcmVzb2x1dGlvbi4gIEludGlkcyAob3Igc2ltaWxhcilcbiAgYXJlIHlvdXIgYmVzdCBiZXQgZm9yIHJlcHJlc2VudGluZyBvYmplY3RzLCBhbmQgc29tZSBvdGhlciBpbW11dGFibGUgc3VjaCBhc1xuICBzdHJpbmdzIGFyZSB0aGUgbmV4dC1iZXN0IGJldCwgYW5kIHpvcGUuYXBwLmtleXJlZmVyZW5jZXMgKG9yIHNpbWlsYXIpIGFyZVxuICBhZnRlciB0aGF0LlxuXG4tIFVzZSBtdWx0aXBsZS10b2tlbiB2YWx1ZXMgaW4geW91ciBxdWVyaWVzIHdoZW4gcG9zc2libGUsIGVzcGVjaWFsbHkgaW4geW91clxuICB0cmFuc2l0aXZlIHF1ZXJ5IGZhY3Rvcmllcy5cblxuLSBVc2UgdGhlIGNhY2hlIHdoZW4geW91IGFyZSBsb2FkaW5nIGFuZCBkdW1waW5nIHRva2VucywgYW5kIGluIHlvdXJcbiAgdHJhbnNpdGl2ZSBxdWVyeSBmYWN0b3JpZXMuXG5cbi0gV2hlbiBwb3NzaWJsZSwgZG9uJ3QgbG9hZCBvciBkdW1wIHRva2VucyAodGhlIHZhbHVlcyB0aGVtc2VsdmVzIG1heSBiZSB1c2VkXG4gIGFzIHRva2VucykuICBUaGlzIGlzIGVzcGVjaWFsbHkgaW1wb3J0YW50IHdoZW4geW91IGhhdmUgbXVsdGlwbGUgdG9rZW5zOlxuICBzdG9yZSB0aGVtIGluIGEgQlRyZWUgc3RydWN0dXJlIGluIHRoZSBzYW1lIG1vZHVsZSBhcyB0aGUgemMucmVsYXRpb24gbW9kdWxlXG4gIGZvciB0aGUgdmFsdWUuXG5cbkZvciBzb21lIG9wZXJhdGlvbnMsIHBhcnRpY3VsYXJseSB3aXRoIGh1bmRyZWRzIG9yIHRob3VzYW5kcyBvZiBtZW1iZXJzIGluIGFcbnNpbmdsZSByZWxhdGlvbiB2YWx1ZSwgc29tZSBvZiB0aGVzZSBvcHRpbWl6YXRpb25zIGNhbiBzcGVlZCB1cCBzb21lXG5jb21tb24tY2FzZSByZWluZGV4aW5nIHdvcmsgYnkgYXJvdW5kIDEwMCB0aW1lcy5cblxuVGhlIGVhc2llc3QgKGFuZCBwZXJoYXBzIGxlYXN0IHVzZWZ1bCkgb3B0aW1pemF0aW9uIGlzIHRoYXQgYWxsIGR1bXBcbmNhbGxzIGFuZCBhbGwgbG9hZCBjYWxscyBnZW5lcmF0ZWQgYnkgYSBzaW5nbGUgb3BlcmF0aW9uIHNoYXJlIGEgY2FjaGVcbmRpY3Rpb25hcnkgcGVyIGNhbGwgdHlwZSAoZHVtcC9sb2FkKSwgcGVyIGluZGV4ZWQgcmVsYXRpb24gdmFsdWUuXG5UaGVyZWZvcmUsIGZvciBpbnN0YW5jZSwgd2UgY291bGQgc3Rhc2ggYW4gaW50aWRzIHV0aWxpdHksIHNvIHRoYXQgd2Vcbm9ubHkgaGFkIHRvIGRvIGEgdXRpbGl0eSBsb29rdXAgb25jZSwgYW5kIHRoZXJlYWZ0ZXIgaXQgd2FzIG9ubHkgYVxuc2luZ2xlIGRpY3Rpb25hcnkgbG9va3VwLiBUaGlzIGlzIHdoYXQgdGhlIGRlZmF1bHQgYGdlbmVyYXRlVG9rZW5gIGFuZFxuYHJlc29sdmVUb2tlbmAgZnVuY3Rpb25zIGluIHpjLnJlbGF0aW9uc2hpcCdzIGluZGV4LnB5IGRvOiBsb29rIGF0IHRoZW1cbmZvciBhbiBleGFtcGxlLlxuXG5BIGZ1cnRoZXIgb3B0aW1pemF0aW9uIGlzIHRvIG5vdCBsb2FkIG9yIGR1bXAgdG9rZW5zIGF0IGFsbCwgYnV0IHVzZSB2YWx1ZXNcbnRoYXQgbWF5IGJlIHRva2Vucy4gIFRoaXMgd2lsbCBiZSBwYXJ0aWN1bGFybHkgdXNlZnVsIGlmIHRoZSB0b2tlbnMgaGF2ZVxuX19jbXBfXyAob3IgZXF1aXZhbGVudCkgaW4gQywgc3VjaCBhcyBidWlsdC1pbiB0eXBlcyBsaWtlIGludHMuICBUbyBzcGVjaWZ5XG50aGlzIGJlaGF2aW9yLCB5b3UgY3JlYXRlIGFuIGluZGV4IHdpdGggdGhlICdsb2FkJyBhbmQgJ2R1bXAnIHZhbHVlcyBmb3IgdGhlXG5pbmRleGVkIGF0dHJpYnV0ZSBkZXNjcmlwdGlvbnMgZXhwbGljaXRseSBzZXQgdG8gTm9uZS5cblxuXG4gICAgPj4+IGltcG9ydCB6b3BlLmludGVyZmFjZVxuICAgID4+PiBjbGFzcyBJUmVsYXRpb24oem9wZS5pbnRlcmZhY2UuSW50ZXJmYWNlKTpcbiAgICAuLi4gICAgIHN1YmplY3RzID0gem9wZS5pbnRlcmZhY2UuQXR0cmlidXRlKFxuICAgIC4uLiAgICAgICAgICdUaGUgc291cmNlcyBvZiB0aGUgcmVsYXRpb247IHRoZSBzdWJqZWN0IG9mIHRoZSBzZW50ZW5jZScpXG4gICAgLi4uICAgICByZWxhdGlvbnR5cGUgPSB6b3BlLmludGVyZmFjZS5BdHRyaWJ1dGUoXG4gICAgLi4uICAgICAgICAgJycndW5pY29kZTogdGhlIHNpbmdsZSByZWxhdGlvbiB0eXBlIG9mIHRoaXMgcmVsYXRpb247XG4gICAgLi4uICAgICAgICAgdXN1YWxseSBjb250YWlucyB0aGUgdmVyYiBvZiB0aGUgc2VudGVuY2UuJycnKVxuICAgIC4uLiAgICAgb2JqZWN0cyA9IHpvcGUuaW50ZXJmYWNlLkF0dHJpYnV0ZShcbiAgICAuLi4gICAgICAgICAnJyd0aGUgdGFyZ2V0cyBvZiB0aGUgcmVsYXRpb247IHVzdWFsbHkgYSBkaXJlY3Qgb3JcbiAgICAuLi4gICAgICAgICBpbmRpcmVjdCBvYmplY3QgaW4gdGhlIHNlbnRlbmNlJycnKVxuICAgIC4uLlxuXG4gICAgPj4+IGltcG9ydCBCVHJlZXNcbiAgICA+Pj4gcmVsYXRpb25zID0gQlRyZWVzLmZhbWlseTMyLklPLkJUcmVlKClcbiAgICA+Pj4gcmVsYXRpb25zWzk5XSA9IE5vbmUgIyBqdXN0IHRvIGdpdmUgdXMgYSBzdGFydFxuXG4gICAgPj4+IEB6b3BlLmludGVyZmFjZS5pbXBsZW1lbnRlcihJUmVsYXRpb24pXG4gICAgLi4uIGNsYXNzIFJlbGF0aW9uKG9iamVjdCk6XG4gICAgLi4uXG4gICAgLi4uICAgICBkZWYgX19pbml0X18oc2VsZiwgc3ViamVjdHMsIHJlbGF0aW9udHlwZSwgb2JqZWN0cyk6XG4gICAgLi4uICAgICAgICAgc2VsZi5zdWJqZWN0cyA9IHN1YmplY3RzXG4gICAgLi4uICAgICAgICAgYXNzZXJ0IHJlbGF0aW9udHlwZSBpbiByZWxUeXBlc1xuICAgIC4uLiAgICAgICAgIHNlbGYucmVsYXRpb250eXBlID0gcmVsYXRpb250eXBlXG4gICAgLi4uICAgICAgICAgc2VsZi5vYmplY3RzID0gb2JqZWN0c1xuICAgIC4uLiAgICAgICAgIHNlbGYuaWQgPSByZWxhdGlvbnMubWF4S2V5KCkgKyAxXG4gICAgLi4uICAgICAgICAgcmVsYXRpb25zW3NlbGYuaWRdID0gc2VsZlxuICAgIC4uLiAgICAgZGVmIF9fcmVwcl9fKHNlbGYpOlxuICAgIC4uLiAgICAgICAgIHJldHVybiAnPCVyICVzICVyPicgJSAoXG4gICAgLi4uICAgICAgICAgICAgIHNlbGYuc3ViamVjdHMsIHNlbGYucmVsYXRpb250eXBlLCBzZWxmLm9iamVjdHMpXG5cbiAgICA+Pj4gZGVmIHRva2VuKHJlbCwgc2VsZik6XG4gICAgLi4uICAgICByZXR1cm4gcmVsLnRva2VuXG4gICAgLi4uXG4gICAgPj4+IGRlZiBjaGlsZHJlbihyZWwsIHNlbGYpOlxuICAgIC4uLiAgICAgcmV0dXJuIHJlbC5jaGlsZHJlblxuICAgIC4uLlxuICAgID4+PiBkZWYgZHVtcFJlbGF0aW9uKG9iaiwgaW5kZXgsIGNhY2hlKTpcbiAgICAuLi4gICAgIHJldHVybiBvYmouaWRcbiAgICAuLi5cbiAgICA+Pj4gZGVmIGxvYWRSZWxhdGlvbih0b2tlbiwgaW5kZXgsIGNhY2hlKTpcbiAgICAuLi4gICAgIHJldHVybiByZWxhdGlvbnNbdG9rZW5dXG4gICAgLi4uXG5cbiAgICA+Pj4gcmVsVHlwZXMgPSBbJ2hhcyB0aGUgcm9sZSBvZiddXG4gICAgPj4+IGRlZiByZWxUeXBlRHVtcChvYmosIGluZGV4LCBjYWNoZSk6XG4gICAgLi4uICAgICBhc3NlcnQgb2JqIGluIHJlbFR5cGVzLCAndW5rbm93biByZWxhdGlvbnR5cGUnXG4gICAgLi4uICAgICByZXR1cm4gb2JqXG4gICAgLi4uXG4gICAgPj4+IGRlZiByZWxUeXBlTG9hZCh0b2tlbiwgaW5kZXgsIGNhY2hlKTpcbiAgICAuLi4gICAgIGFzc2VydCB0b2tlbiBpbiByZWxUeXBlcywgJ3Vua25vd24gcmVsYXRpb250eXBlJ1xuICAgIC4uLiAgICAgcmV0dXJuIHRva2VuXG4gICAgLi4uXG5cbiAgICA+Pj4gaW1wb3J0IHpjLnJlbGF0aW9uLmNhdGFsb2dcbiAgICA+Pj4gY2F0YWxvZyA9IHpjLnJlbGF0aW9uLmNhdGFsb2cuQ2F0YWxvZyhcbiAgICAuLi4gICAgIGR1bXBSZWxhdGlvbiwgbG9hZFJlbGF0aW9uKVxuICAgID4+PiBjYXRhbG9nLmFkZFZhbHVlSW5kZXgoSVJlbGF0aW9uWydzdWJqZWN0cyddLCBtdWx0aXBsZT1UcnVlKVxuICAgID4+PiBjYXRhbG9nLmFkZFZhbHVlSW5kZXgoXG4gICAgLi4uICAgICBJUmVsYXRpb25bJ3JlbGF0aW9udHlwZSddLCByZWxUeXBlRHVtcCwgcmVsVHlwZUxvYWQsXG4gICAgLi4uICAgICBCVHJlZXMuZmFtaWx5MzIuT0ksIG5hbWU9J3JlbHR5cGUnKVxuICAgID4+PiBjYXRhbG9nLmFkZFZhbHVlSW5kZXgoSVJlbGF0aW9uWydvYmplY3RzJ10sIG11bHRpcGxlPVRydWUpXG4gICAgPj4+IGltcG9ydCB6Yy5yZWxhdGlvbi5xdWVyeWZhY3RvcnlcbiAgICA+Pj4gZmFjdG9yeSA9IHpjLnJlbGF0aW9uLnF1ZXJ5ZmFjdG9yeS5UcmFuc3Bvc2luZ1RyYW5zaXRpdmUoXG4gICAgLi4uICAgICAnc3ViamVjdHMnLCAnb2JqZWN0cycpXG4gICAgPj4+IGNhdGFsb2cuYWRkRGVmYXVsdFF1ZXJ5RmFjdG9yeShmYWN0b3J5KVxuXG4gICAgPj4+IHJlbCA9IFJlbGF0aW9uKCgxLCksICdoYXMgdGhlIHJvbGUgb2YnLCAoMiwpKVxuICAgID4+PiBjYXRhbG9nLmluZGV4KHJlbClcbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRWYWx1ZVRva2Vucygnb2JqZWN0cycsIHsnc3ViamVjdHMnOiAxfSkpXG4gICAgWzJdXG5cbklmIHlvdSBoYXZlIHNpbmdsZSByZWxhdGlvbnMgdGhhdCByZWxhdGUgaHVuZHJlZHMgb3IgdGhvdXNhbmRzIG9mXG5vYmplY3RzLCBpdCBjYW4gYmUgYSBodWdlIHdpbiBpZiB0aGUgdmFsdWUgaXMgYSAnbXVsdGlwbGUnIG9mIHRoZSBzYW1lXG50eXBlIGFzIHRoZSBzdG9yZWQgQlRyZWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUuICBUaGUgZGVmYXVsdCBCVHJlZVxuZmFtaWx5IGZvciBhdHRyaWJ1dGVzIGlzIElGQlRyZWU7IElPQlRyZWUgaXMgYWxzbyBhIGdvb2QgY2hvaWNlLCBhbmQgbWF5XG5iZSBwcmVmZXJyYWJsZSBmb3Igc29tZSBhcHBsaWNhdGlvbnMuXG5cbiAgICA+Pj4gY2F0YWxvZy51bmluZGV4KHJlbClcbiAgICA+Pj4gcmVsID0gUmVsYXRpb24oXG4gICAgLi4uICAgICBCVHJlZXMuZmFtaWx5MzIuSUYuVHJlZVNldCgoMSwpKSwgJ2hhcyB0aGUgcm9sZSBvZicsXG4gICAgLi4uICAgICBCVHJlZXMuZmFtaWx5MzIuSUYuVHJlZVNldCgpKVxuICAgID4+PiBjYXRhbG9nLmluZGV4KHJlbClcbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRWYWx1ZVRva2Vucygnb2JqZWN0cycsIHsnc3ViamVjdHMnOiAxfSkpXG4gICAgW11cbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRWYWx1ZVRva2Vucygnc3ViamVjdHMnLCB7J29iamVjdHMnOiBOb25lfSkpXG4gICAgWzFdXG5cblJlaW5kZXhpbmcgaXMgd2hlcmUgc29tZSBvZiB0aGUgYmlnIGltcHJvdmVtZW50cyBjYW4gaGFwcGVuLiAgVGhlIGZvbGxvd2luZ1xuZ3lyYXRpb25zIGV4ZXJjaXNlIHRoZSBvcHRpbWl6YXRpb24gY29kZS5cblxuICAgID4+PiByZWwub2JqZWN0cy5pbnNlcnQoMilcbiAgICAxXG4gICAgPj4+IGNhdGFsb2cuaW5kZXgocmVsKVxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKCdvYmplY3RzJywgeydzdWJqZWN0cyc6IDF9KSlcbiAgICBbMl1cbiAgICA+Pj4gcmVsLnN1YmplY3RzID0gQlRyZWVzLmZhbWlseTMyLklGLlRyZWVTZXQoKDMsNCw1KSlcbiAgICA+Pj4gY2F0YWxvZy5pbmRleChyZWwpXG4gICAgPj4+IGxpc3QoY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoJ29iamVjdHMnLCB7J3N1YmplY3RzJzogM30pKVxuICAgIFsyXVxuXG4gICAgPj4+IHJlbC5zdWJqZWN0cy5pbnNlcnQoNilcbiAgICAxXG4gICAgPj4+IGNhdGFsb2cuaW5kZXgocmVsKVxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKCdvYmplY3RzJywgeydzdWJqZWN0cyc6IDZ9KSlcbiAgICBbMl1cblxuICAgID4+PiByZWwuc3ViamVjdHMudXBkYXRlKHJhbmdlKDEwMCwgMjAwKSlcbiAgICAxMDBcbiAgICA+Pj4gY2F0YWxvZy5pbmRleChyZWwpXG4gICAgPj4+IGxpc3QoY2F0YWxvZy5maW5kVmFsdWVUb2tlbnMoJ29iamVjdHMnLCB7J3N1YmplY3RzJzogMTAwfSkpXG4gICAgWzJdXG5cbiAgICA+Pj4gcmVsLnN1YmplY3RzID0gQlRyZWVzLmZhbWlseTMyLklGLlRyZWVTZXQoKDMsNCw1LDYpKVxuICAgID4+PiBjYXRhbG9nLmluZGV4KHJlbClcbiAgICA+Pj4gbGlzdChjYXRhbG9nLmZpbmRWYWx1ZVRva2Vucygnb2JqZWN0cycsIHsnc3ViamVjdHMnOiAzfSkpXG4gICAgWzJdXG5cbiAgICA+Pj4gcmVsLnN1YmplY3RzID0gQlRyZWVzLmZhbWlseTMyLklGLlRyZWVTZXQoKCkpXG4gICAgPj4+IGNhdGFsb2cuaW5kZXgocmVsKVxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKCdvYmplY3RzJywgeydzdWJqZWN0cyc6IDN9KSlcbiAgICBbXVxuXG4gICAgPj4+IHJlbC5zdWJqZWN0cyA9IEJUcmVlcy5mYW1pbHkzMi5JRi5UcmVlU2V0KCgzLDQsNSkpXG4gICAgPj4+IGNhdGFsb2cuaW5kZXgocmVsKVxuICAgID4+PiBsaXN0KGNhdGFsb2cuZmluZFZhbHVlVG9rZW5zKCdvYmplY3RzJywgeydzdWJqZWN0cyc6IDN9KSlcbiAgICBbMl1cblxudG9rZW5pemVWYWx1ZXMgYW5kIHJlc29sdmVWYWx1ZVRva2VucyB3b3JrIGNvcnJlY3RseSB3aXRob3V0IGxvYWRlcnMgYW5kXG5kdW1wZXJzLS10aGF0IGlzLCB0aGV5IGRvIG5vdGhpbmcuXG5cbiAgICA+Pj4gY2F0YWxvZy50b2tlbml6ZVZhbHVlcygoMyw0LDUpLCAnc3ViamVjdHMnKVxuICAgICgzLCA0LCA1KVxuICAgID4+PiBjYXRhbG9nLnJlc29sdmVWYWx1ZVRva2VucygoMyw0LDUpLCAnc3ViamVjdHMnKVxuICAgICgzLCA0LCA1KVxuXG5cbj09PT09PT1cbkNoYW5nZXNcbj09PT09PT1cblxuXG4yLjAgKDIwMjMtMDQtMDUpXG49PT09PT09PT09PT09PT09XG5cbi0gRHJvcCBzdXBwb3J0IGZvciBQeXRob24gMi43LCAzLjUsIDMuNi5cbiAgW2FsZS1ydF1cblxuLSBGaXggdGhlIGRlcGVuZGVuY3kgb24gdGhlIFpPREIsIHdlIGp1c3QgbmVlZCB0byBkZXBlbmQgb24gdGhlIEJUcmVlcyBwYWNrYWdlLlxuICBSZWZzLiAjMTEuXG4gIFthbGUtcnRdXG5cblxuMS4yICgyMDIzLTAzLTI4KVxuPT09PT09PT09PT09PT09PVxuXG4tIEFkYXB0IGNvZGUgZm9yIFBFUC00NzkgKENoYW5nZSBTdG9wSXRlcmF0aW9uIGhhbmRsaW5nIGluc2lkZSBnZW5lcmF0b3JzKS5cbiAgU2VlOiBodHRwczovL3BlcHMucHl0aG9uLm9yZy9wZXAtMDQ3OS5cbiAgRml4ZXMgIzExLlxuICBbYWxlLXJ0XVxuXG5cbjEuMS5wb3N0MiAoMjAxOC0wNi0xOClcbj09PT09PT09PT09PT09PT09PT09PT1cblxuLSBBbm90aGVyIGF0dGVtcHQgdG8gZml4IFB5UEkgcGFnZSBieSB1c2luZyBjb3JyZWN0IGV4cGVjdGVkIG1ldGFkYXRhIHN5bnRheC5cblxuXG4xLjEucG9zdDEgKDIwMTgtMDYtMTgpXG49PT09PT09PT09PT09PT09PT09PT09XG5cbi0gRml4IFB5UEkgcGFnZSBieSB1c2luZyBjb3JyZWN0IFJlU1Qgc3ludGF4LlxuXG5cbjEuMSAoMjAxOC0wNi0xNSlcbj09PT09PT09PT09PT09PT1cblxuLSBBZGQgc3VwcG9ydCBmb3IgUHl0aG9uIDMuNSBhbmQgMy42LlxuXG5cbjEuMCAoMjAwOC0wNC0yMylcbj09PT09PT09PT09PT09PT1cblxuVGhpcyBpcyB0aGUgaW5pdGlhbCByZWxlYXNlIG9mIHRoZSB6Yy5yZWxhdGlvbiBwYWNrYWdlLiAgSG93ZXZlciwgaXRcbnJlcHJlc2VudHMgYSByZWZhY3RvcmluZyBvZiBhbm90aGVyIHBhY2thZ2UsIHpjLnJlbGF0aW9uc2hpcC4gIFRoaXNcbnBhY2thZ2UgY29udGFpbnMgb25seSBhIG1vZGlmaWVkIHZlcnNpb24gb2YgdGhlIHJlbGF0aW9uKHNoaXApIGluZGV4LFxubm93IGNhbGxlZCBhIGNhdGFsb2cuIFRoZSByZWZhY3RvcmVkIHZlcnNpb24gb2YgemMucmVsYXRpb25zaGlwIGluZGV4XG5yZWxpZXMgb24gKHN1YmNsYXNzZXMpIHRoaXMgY2F0YWxvZy4gemMucmVsYXRpb25zaGlwIGFsc28gbWFpbnRhaW5zIGFcbmJhY2t3YXJkcy1jb21wYXRpYmxlIHN1YmNsYXNzLlxuXG5UaGlzIHBhY2thZ2Ugb25seSByZWxpZXMgb24gdGhlIFpPREIsIHpvcGUuaW50ZXJmYWNlLCBhbmQgem9wZS50ZXN0aW5nXG5zb2Z0d2FyZSwgYW5kIGNhbiBiZSB1c2VkIGluc2lkZSBvciBvdXRzaWRlIG9mIGEgc3RhbmRhcmQgWk9EQiBkYXRhYmFzZS5cblRoZSBzb2Z0d2FyZSBkb2VzIGhhdmUgdG8gYmUgdGhlcmUsIHRob3VnaCAodGhlIHBhY2thZ2UgcmVsaWVzIGhlYXZpbHlcbm9uIHRoZSBaT0RCIEJUcmVlcyBwYWNrYWdlKS5cblxuSWYgeW91IHdvdWxkIGxpa2UgdG8gc3dpdGNoIGEgbGVnYWN5IHpjLnJlbGF0aW9uc2hpcCBpbmRleCB0byBhXG56Yy5yZWxhdGlvbiBjYXRhbG9nLCB0cnkgdGhpcyB0cmljayBpbiB5b3VyIGdlbmVyYXRpb25zIHNjcmlwdC5cbkFzc3VtaW5nIHRoZSBvbGQgaW5kZXggaXMgYGBvbGRgYCwgdGhlIGZvbGxvd2luZyBsaW5lIHNob3VsZCBjcmVhdGVcbmEgbmV3IHpjLnJlbGF0aW9uIGNhdGFsb2cgd2l0aCB5b3VyIGxlZ2FjeSBkYXRhOlxuXG4gICAgPj4+IG5ldyA9IG9sZC5jb3B5KHpjLnJlbGF0aW9uLkNhdGFsb2cpXG5cbldoeSBpcyB0aGUgc2FtZSBiYXNpYyBkYXRhIHN0cnVjdHVyZSBjYWxsZWQgYSBjYXRhbG9nIG5vdz8gIEJlY2F1c2Ugd2VcbmV4cG9zZWQgdGhlIGFiaWxpdHkgdG8gbXV0YXRlIHRoZSBkYXRhIHN0cnVjdHVyZSwgYW5kIHdoYXQgeW91IGFyZSByZWFsbHlcbmFkZGluZyBhbmQgcmVtb3ZpbmcgYXJlIGluZGV4ZXMuICBJdCBkaWRuJ3QgbWFrZSBzZW5zZSB0byBwdXQgYW4gaW5kZXggaW5cbmFuIGluZGV4LCBidXQgaXQgZG9lcyBtYWtlIHNlbnNlIHRvIHB1dCBhbiBpbmRleCBpbiBhIGNhdGFsb2cuICBUaHVzLCBhXG5uYW1lIGNoYW5nZSB3YXMgYm9ybi5cblxuVGhlIGNhdGFsb2cgaW4gdGhpcyBwYWNrYWdlIGhhcyBzZXZlcmFsIGluY29tcGF0aWJpbGl0aWVzIGZyb20gdGhlIGVhcmxpZXJcbnpjLnJlbGF0aW9uc2hpcCBpbmRleCwgYW5kIG1hbnkgbmV3IGZlYXR1cmVzLiAgVGhlIHpjLnJlbGF0aW9uc2hpcCBwYWNrYWdlXG5tYWludGFpbnMgYSBiYWNrd2FyZHMtY29tcGF0aWJsZSBzdWJjbGFzcy4gIFRoZSBmb2xsb3dpbmcgZGlzY3Vzc2lvblxuY29tcGFyZXMgdGhlIHpjLnJlbGF0aW9uIGNhdGFsb2cgd2l0aCB0aGUgemMucmVsYXRpb25zaGlwIDEueCBpbmRleC5cblxuSW5jb21wYXRpYmlsaXRpZXMgd2l0aCB6Yy5yZWxhdGlvbnNoaXAgMS54IGluZGV4XG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuVGhlIHR3byBiaWcgY2hhbmdlcyBhcmUgdGhhdCBtZXRob2QgbmFtZXMgbm93IHJlZmVyIHRvIGBgUmVsYXRpb25gYCByYXRoZXJcbnRoYW4gYGBSZWxhdGlvbnNoaXBgYDsgYW5kIHRoZSBjYXRhbG9nIGlzIGluc3RhbnRpYXRlZCBzbGlnaHRseSBkaWZmZXJlbnRseVxuZnJvbSB0aGUgaW5kZXguICBBIGZldyBvdGhlciBjaGFuZ2VzIGFyZSB3b3J0aCB5b3VyIGF0dGVudGlvbi4gIFRoZVxuZm9sbG93aW5nIGxpc3QgYXR0ZW1wdHMgdG8gaGlnaGxpZ2h0IGFsbCBpbmNvbXBhdGliaWxpdGllcy5cblxuOkJpZyBpbmNvbXBhdGliaWxpdGllczpcblxuICAgIC0gYGBmaW5kUmVsYXRpb25zaGlwVG9rZW5TZXRgYCBhbmQgYGBmaW5kVmFsdWVUb2tlblNldGBgIGFyZSByZW5hbWVkLCB3aXRoXG4gICAgICBzb21lIHNsaWdodGx5IGRpZmZlcmVudCBzZW1hbnRpY3MsIGFzIGBgZ2V0UmVsYXRpb25Ub2tlbnNgYCBhbmRcbiAgICAgIGBgZ2V0VmFsdWVUb2tlbnNgYC4gIFRoZSBleGFjdCBzYW1lIHJlc3VsdCBhc1xuICAgICAgYGBmaW5kUmVsYXRpb25Ub2tlblNldChxdWVyeSlgYCBjYW4gYmUgb2J0YWluZWQgd2l0aFxuICAgICAgYGBmaW5kUmVsYXRpb25Ub2tlbnMocXVlcnksIDEpYGAgKHdoZXJlIDEgaXMgbWF4RGVwdGgpLiAgVGhlIHNhbWVcbiAgICAgIHJlc3VsdCBhcyBgYGZpbmRWYWx1ZVRva2VuU2V0KHJlbHRva2VuLCBuYW1lKWBgIGNhbiBiZSBvYnRhaW5lZCB3aXRoXG4gICAgICBgYGZpbmRWYWx1ZVRva2VucyhuYW1lLCB7emMucmVsYXRpb24uUkVMQVRJT046IHJlbHRva2VufSwgMSlgYC5cblxuICAgIC0gYGBmaW5kUmVsYXRpb25zYGAgcmVwbGFjZXMgYGBmaW5kUmVsYXRvbnNoaXBzYGAuICBUaGUgbmV3IG1ldGhvZCB3aWxsIHVzZVxuICAgICAgdGhlIGRlZmF1bHRUcmFuc2l0aXZlUXVlcmllc0ZhY3RvcnkgaWYgaXQgaXMgc2V0IGFuZCBtYXhEZXB0aCBpcyBub3QgMS5cbiAgICAgIEl0IHNoYXJlcyB0aGUgY2FsbCBzaWduYXR1cmUgb2YgYGBmaW5kUmVsYXRpb25DaGFpbnNgYC5cblxuICAgIC0gYGBpc0xpbmtlZGBgIGlzIG5vdyBgYGNhbkZpbmRgYC5cblxuICAgIC0gVGhlIGNhdGFsb2cgaW5zdGFudGlhdGlvbiBhcmd1bWVudHMgaGF2ZSBjaGFuZ2VkIGZyb20gdGhlIG9sZCBpbmRleC5cblxuICAgICAgKiBgYGxvYWRgYCBhbmQgYGBkdW1wYGAgKGZvcm1lcmx5IGBgbG9hZFJlbGBgIGFuZCBgYGR1bXBSZWxgYCxcbiAgICAgICAgcmVzcGVjdGl2ZWx5KSBhcmUgbm93IHJlcXVpcmVkIGFyZ3VtZW50cyBmb3IgaW5zdGFudGlhdGlvbi5cblxuICAgICAgKiBUaGUgb25seSBvdGhlciBvcHRpb25hbCBhcmd1bWVudHMgYXJlIGBgYnRyZWVgYCAod2FzIGBgcmVsRmFtaWx5YGApIGFuZFxuICAgICAgICBgYGZhbWlseWBgLiBZb3Ugbm93IHNwZWNpZnkgd2hhdCBlbGVtZW50cyB0byBpbmRleCB3aXRoXG4gICAgICAgIGBgYWRkVmFsdWVJbmRleGBgXG5cbiAgICAgICogTm90ZSBhbHNvIHRoYXQgYGBhZGRWYWx1ZUluZGV4YGAgZGVmYXVsdHMgdG8gbm8gbG9hZCBhbmQgZHVtcCBmdW5jdGlvbixcbiAgICAgICAgdW5saWtlIHRoZSBvbGQgaW5zdGFudGlhdGlvbiBvcHRpb25zLlxuXG4gICAgLSBxdWVyeSBmYWN0b3JpZXMgYXJlIGRpZmZlcmVudC4gIFNlZSBgYElRdWVyeUZhY3RvcnlgYCBpbiB0aGUgaW50ZXJmYWNlcy5cblxuICAgICAgKiB0aGV5IGZpcnN0IGdldCAocXVlcnksIGNhdGFsb2csIGNhY2hlKSBhbmQgdGhlbiByZXR1cm4gYSBnZXRRdWVyaWVzXG4gICAgICAgIGNhbGxhYmxlIHRoYXQgZ2V0cyByZWxjaGFpbnMgYW5kIHlpZWxkcyBxdWVyaWVzOyBPUiBOb25lIGlmIHRoZXlcbiAgICAgICAgZG9uJ3QgbWF0Y2guXG5cbiAgICAgICogVGhleSBtdXN0IGFsc28gaGFuZGxlIGFuIGVtcHR5IHJlbGNoYWluLiAgVHlwaWNhbGx5IHRoaXMgc2hvdWxkXG4gICAgICAgIHJldHVybiB0aGUgb3JpZ2luYWwgcXVlcnksIGJ1dCBtYXkgYWxzbyBiZSB1c2VkIHRvIG11dGF0ZSB0aGVcbiAgICAgICAgb3JpZ2luYWwgcXVlcnkuXG5cbiAgICAgICogVGhleSBhcmUgbm8gbG9uZ2VyIHRob3VnaHQgb2YgYXMgdHJhbnNpdGl2ZSBxdWVyeSBmYWN0b3JpZXMsIGJ1dCBhc1xuICAgICAgICBnZW5lcmFsIHF1ZXJ5IG11dGF0b3JzLlxuXG46TWVkaXVtOlxuXG4gICAgLSBUaGUgY2F0YWxvZyBubyBsb25nZXIgaW5oZXJpdHMgZnJvbVxuICAgICAgem9wZS5hcHAuY29udGFpbmVyLmNvbnRhaW5lZC5Db250YWluZWQuXG5cbiAgICAtIFRoZSBpbmRleCByZXF1aXJlcyBaT0RCIDMuOCBvciBoaWdoZXIuXG5cbjpTbWFsbDpcblxuICAgIC0gYGBkZWFjdGl2YXRlU2V0c2BgIGlzIG5vIGxvbmdlciBhbiBpbnN0YW50aWF0aW9uIG9wdGlvbiAoaXQgd2FzIGJyb2tlblxuICAgICAgYmVjYXVzZSBvZiBhIFpPREIgYnVnIGFueXdheSwgYXMgaGFkIGJlZW4gZGVzY3JpYmVkIGluIHRoZVxuICAgICAgZG9jdW1lbnRhdGlvbikuXG5cbkNoYW5nZXMgYW5kIG5ldyBmZWF0dXJlc1xuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi0gVGhlIGNhdGFsb2cgbm93IG9mZmVycyB0aGUgYWJpbGl0eSB0byBpbmRleCBjZXJ0YWluXG4gIHNlYXJjaGVzLiAgVGhlIGluZGV4ZXMgbXVzdCBiZSBleHBsaWNpdGx5IGluc3RhbnRpYXRlZCBhbmQgcmVnaXN0ZXJlZFxuICB5b3Ugd2FudCB0byBvcHRpbWl6ZS4gVGhpcyBjYW4gYmUgdXNlZCB3aGVuIHNlYXJjaGluZyBmb3IgdmFsdWVzLCB3aGVuXG4gIHNlYXJjaGluZyBmb3IgcmVsYXRpb25zLCBvciB3aGVuIGRldGVybWluaW5nIGlmIHR3byBvYmplY3RzIGFyZVxuICBsaW5rZWQuICBJdCBjYW5ub3QgYmUgdXNlZCBmb3IgcmVsYXRpb24gY2hhaW5zLiBSZXF1ZXN0aW5nIGFuIGluZGV4XG4gIGhhcyB0aGUgdXN1YWwgdHJhZGUtb2ZmcyBvZiBncmVhdGVyIHN0b3JhZ2Ugc3BhY2UgYW5kIHNsb3dlciB3cml0ZVxuICBzcGVlZCBmb3IgZmFzdGVyIHNlYXJjaCBzcGVlZC4gIFJlZ2lzdGVyaW5nIGEgc2VhcmNoIGluZGV4IGlzIGRvbmVcbiAgYWZ0ZXIgaW5zdGFudGlhdGlvbiB0aW1lOyB5b3UgY2FuIGl0ZXJhdGF0ZSBvdmVyIHRoZSBjdXJyZW50IHNldHRpbmdzXG4gIHVzZWQsIGFuZCByZW1vdmUgdGhlbS4gIChUaGUgY29kZSBwYXRoIGV4cGVjdHMgdG8gc3VwcG9ydCBsZWdhY3lcbiAgemMucmVsYXRpb25zaGlwIGluZGV4IGluc3RhbmNlcyBmb3IgYWxsIG9mIHRoZXNlIEFQSXMuKVxuXG4tIFlvdSBjYW4gbm93IHNwZWNpZnkgbmV3IHZhbHVlcyBhZnRlciB0aGUgY2F0YWxvZyBoYXMgYmVlbiBjcmVhdGVkLCBpdGVyYXRlXG4gIG92ZXIgdGhlIHNldHRpbmdzIHVzZWQsIGFuZCByZW1vdmUgdmFsdWVzLlxuXG4tIFRoZSBjYXRhbG9nIGhhcyBhIGNvcHkgbWV0aG9kLCB0byBxdWlja2x5IG1ha2UgbmV3IGNvcGllcyB3aXRob3V0IGFjdHVhbGx5XG4gIGhhdmluZyB0byByZWluZGV4IHRoZSByZWxhdGlvbnMuXG5cbi0gcXVlcnkgYXJndW1lbnRzIGNhbiBub3cgc3BlY2lmeSBtdWx0aXBsZSB2YWx1ZXMgZm9yIGEgZ2l2ZW4gbmFtZSBieVxuICB1c2luZyB6Yy5yZWxhdGlvbi5jYXRhbG9nLmFueSgxLCAyLCAzLCA0KSBvclxuICB6Yy5yZWxhdGlvbi5jYXRhbG9nLkFueSgoMSwgMiwgMywgNCkpLlxuXG4tIFRoZSBjYXRhbG9nIHN1cHBvcnRzIHNwZWNpZnlpbmcgaW5kZXhlZCB2YWx1ZXMgYnkgcGFzc2luZyBjYWxsYWJsZXMgcmF0aGVyXG4gIHRoYW4gaW50ZXJmYWNlIGVsZW1lbnRzICh3aGljaCBhcmUgYWxzbyBzdGlsbCBzdXBwb3J0ZWQpLlxuXG4tIGBgZmluZFJlbGF0aW9uc2BgIGFuZCBuZXcgbWV0aG9kIGBgZmluZFJlbGF0aW9uVG9rZW5zYGAgY2FuIGZpbmRcbiAgcmVsYXRpb25zIHRyYW5zaXRpdmVseSBhbmQgaW50cmFuc2l0aXZlbHkuICBgYGZpbmRSZWxhdGlvblRva2Vuc2BgXG4gIHdoZW4gdXNlZCBpbnRyYW5zaXRpdmVseSByZXBlYXRzIHRoZSBsZWdhY3kgemMucmVsYXRpb25zaGlwIGluZGV4XG4gIGJlaGF2aW9yIG9mIGBgZmluZFJlbGF0aW9uVG9rZW5TZXRgYC5cbiAgKGBgZmluZFJlbGF0aW9uVG9rZW5TZXRgYCByZW1haW5zIGluIHRoZSBBUEksIG5vdCBkZXByZWNhdGVkLCBhIGNvbXBhbmlvblxuICB0byBgYGZpbmRWYWx1ZVRva2VuU2V0YGAuKVxuXG4tIGluIGZpbmRWYWx1ZXMgYW5kIGZpbmRWYWx1ZVRva2VucywgYGBxdWVyeWBgIGFyZ3VtZW50IGlzIG5vdyBvcHRpb25hbC4gIElmXG4gIHRoZSBxdWVyeSBldmFsdWF0ZXMgdG8gRmFsc2UgaW4gYSBib29sZWFuIGNvbnRleHQsIGFsbCB2YWx1ZXMsIG9yIHZhbHVlXG4gIHRva2VucywgYXJlIHJldHVybmVkLiAgVmFsdWUgdG9rZW5zIGFyZSBleHBsaWNpdGx5IHJldHVybmVkIHVzaW5nIHRoZVxuICB1bmRlcmx5aW5nIEJUcmVlIHN0b3JhZ2UuICBUaGlzIGNhbiB0aGVuIGJlIHVzZWQgZGlyZWN0bHkgZm9yIG90aGVyIEJUcmVlXG4gIG9wZXJhdGlvbnMuXG5cbi0gQ29tcGxldGVseSBuZXcgZG9jcy4gIFVuZm9ydHVuYXRlbHksIHN0aWxsIHJlYWxseSBub3QgZ29vZCBlbm91Z2guXG5cbi0gVGhlIHBhY2thZ2UgaGFzIGRyYXN0aWNhbGx5IHJlZHVjZWQgZGlyZWN0IGRlcGVuZGVjaWVzIGZyb20gemMucmVsYXRpb25zaGlwOlxuICBpdCBpcyBub3cgbW9yZSBjbGVhcmx5IGEgWk9EQiB0b29sLCB3aXRoIG5vIG90aGVyIFpvcGUgZGVwZW5kZW5jaWVzIHRoYW5cbiAgem9wZS50ZXN0aW5nIGFuZCB6b3BlLmludGVyZmFjZS5cblxuLSBMaXN0ZW5lcnMgYWxsb3cgb2JqZWN0cyB0byBsaXN0ZW4gdG8gbWVzc2FnZXMgZnJvbSB0aGUgY2F0YWxvZyAod2hpY2ggY2FuXG4gIGJlIHVzZWQgZGlyZWN0bHkgb3IsIGZvciBpbnN0YW5jZSwgdG8gZmlyZSBvZmYgZXZlbnRzKS5cblxuLSBZb3UgY2FuIHNlYXJjaCBmb3IgcmVsYXRpb25zLCB1c2luZyBhIGtleSBvZiB6Yy5yZWxhdGlvbi5SRUxBVElPTi4uLndoaWNoIGlzXG4gIHJlYWxseSBhbiBhbGlhcyBmb3IgTm9uZS4gU29ycnkuIEJ1dCBoZXksIHVzZSB0aGUgY29uc3RhbnQhIEkgdGhpbmsgaXQgaXNcbiAgbW9yZSByZWFkYWJsZS5cblxuLSB0b2tlbml6ZVF1ZXJ5IChhbmQgcmVzb2x2ZVF1ZXJ5KSBub3cgYWNjZXB0IGtleXdvcmQgYXJndW1lbnRzIGFzIGFuXG4gIGFsdGVybmF0aXZlIHRvIGEgbm9ybWFsIGRpY3QgcXVlcnkuICBUaGlzIGNhbiBtYWtlIGNvbnN0cnVjdGluZyB0aGUgcXVlcnlcbiAgYSBiaXQgbW9yZSBhdHRyYWN0aXZlIChpLmUuLCBgYHF1ZXJ5ID0gY2F0YWxvZy50b2tlbml6ZVF1ZXJ5O1xuICByZXMgPSBjYXRhbG9nLmZpbmRWYWx1ZXMoJ29iamVjdCcsIHF1ZXJ5KHN1YmplY3Q9am9lLCBwcmVkaWNhdGU9T1dOUykpYGApLlxuIiw=
ICAgICJkZXNjcmlwdGlvbl9jb250ZW50X3R5cGUiOiAiIiw=
ICAgICJkb2NzX3VybCI6IG51bGws
ICAgICJkb3dubG9hZF91cmwiOiAiIiw=
ICAgICJkb3dubG9hZHMiOiB7
ICAgICAgImxhc3RfZGF5IjogLTEs
ICAgICAgImxhc3RfbW9udGgiOiAtMSw=
ICAgICAgImxhc3Rfd2VlayI6IC0x
ICAgIH0s
ICAgICJob21lX3BhZ2UiOiAiaHR0cHM6Ly9naXRodWIuY29tL3pvcGVmb3VuZGF0aW9uL3pjLnJlbGF0aW9uIiw=
ICAgICJrZXl3b3JkcyI6ICJ6b3BlIHpvcGUzIHJlbGF0aW9uIiw=
ICAgICJsaWNlbnNlIjogIlpQTCAyLjEiLA==
ICAgICJtYWludGFpbmVyIjogIiIs
ICAgICJtYWludGFpbmVyX2VtYWlsIjogIiIs
ICAgICJuYW1lIjogInpjLnJlbGF0aW9uIiw=
ICAgICJwYWNrYWdlX3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvemMucmVsYXRpb24vIiw=
ICAgICJwbGF0Zm9ybSI6IG51bGws
ICAgICJwcm9qZWN0X3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvemMucmVsYXRpb24vIiw=
ICAgICJwcm9qZWN0X3VybHMiOiB7
ICAgICAgIkhvbWVwYWdlIjogImh0dHBzOi8vZ2l0aHViLmNvbS96b3BlZm91bmRhdGlvbi96Yy5yZWxhdGlvbiI=
ICAgIH0s
ICAgICJyZWxlYXNlX3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvemMucmVsYXRpb24vMi4wLyIs
ICAgICJyZXF1aXJlc19kaXN0IjogWw==
ICAgICAgIkJUcmVlcyIs
ICAgICAgInpvcGUuaW50ZXJmYWNlIiw=
ICAgICAgInNldHVwdG9vbHMiLA==
ICAgICAgInpvcGUudGVzdGluZyIs
ICAgICAgInpjLnJlbGF0aW9uc2hpcCAoPj0yKSA7IGV4dHJhID09ICd0ZXN0JyIs
ICAgICAgIlpPREIgOyBleHRyYSA9PSAndGVzdCci
ICAgIF0s
ICAgICJyZXF1aXJlc19weXRob24iOiAiPj0zLjciLA==
ICAgICJzdW1tYXJ5IjogIkluZGV4IGludHJhbnNpdGl2ZSBhbmQgdHJhbnNpdGl2ZSBuLWFyeSByZWxhdGlvbnNoaXBzLiIs
ICAgICJ2ZXJzaW9uIjogIjIuMCIs
ICAgICJ5YW5rZWQiOiBmYWxzZSw=
ICAgICJ5YW5rZWRfcmVhc29uIjogbnVsbA==
ICB9LA==
ICAibGFzdF9zZXJpYWwiOiAxNzU4NTYxNCw=
ICAicmVsZWFzZXMiOiB7
ICAgICIxLjAiOiBb
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICJiZjMxNzZiMmMxZTQwODEzNmIzZTYxYjU1MDhkMjU0YjZjY2MyNmM3OWIxNGRjNDQwYWJlMTdhYWUwNWUzNjk1Iiw=
ICAgICAgICAgICJtZDUiOiAiN2U0NzkwOTU5NTRmYzZkOGY2NDg5NTE0MzQ2OTU4MzciLA==
ICAgICAgICAgICJzaGEyNTYiOiAiNzcxZWU5MjhiY2U0MTJmNGVhZWI2ZWJlYmI2ZGJmMTJjYTJiYTlkYzRkNjBhZDBhMGRhZTBiNjA4YjU3Y2RjNSI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiemMucmVsYXRpb24tMS4wLnRhci5neiIs
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICI3ZTQ3OTA5NTk1NGZjNmQ4ZjY0ODk1MTQzNDY5NTgzNyIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAic2Rpc3QiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAic291cmNlIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogbnVsbCw=
ICAgICAgICAic2l6ZSI6IDExNDc1NCw=
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAwOC0wNC0yNFQwMToxMjo1NiIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAwOC0wNC0yNFQwMToxMjo1NloiLA==
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy9iZi8zMS83NmIyYzFlNDA4MTM2YjNlNjFiNTUwOGQyNTRiNmNjYzI2Yzc5YjE0ZGM0NDBhYmUxN2FhZTA1ZTM2OTUvemMucmVsYXRpb24tMS4wLnRhci5neiIs
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfQ==
ICAgIF0s
ICAgICIxLjEiOiBb
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICJlYzdlOTU2MDAyYmY5ZjI4OGEzMmVjNzdjOTEzM2NjZGJiMzU2MDdlNDYwNWQ0ZDEzN2Q5NzA3MjY2OGJiZDY3Iiw=
ICAgICAgICAgICJtZDUiOiAiZjNiNTgxMTUzYWNkYThmZTQwNThlNjI2ZGViMWFlOTgiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiMWQyZGUwOWViNTY0MmZlZDRmZDhkZjg5MzkxYzJkY2IzNzg4OTFmZDY0YzBmMWQ3NDc3ZWViMDUzZDZlMTc1NyI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiemMucmVsYXRpb24tMS4xLnRhci5neiIs
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICJmM2I1ODExNTNhY2RhOGZlNDA1OGU2MjZkZWIxYWU5OCIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAic2Rpc3QiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAic291cmNlIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogbnVsbCw=
ICAgICAgICAic2l6ZSI6IDE1NDI4OSw=
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAxOC0wNi0xNVQwNjozODoxOSIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAxOC0wNi0xNVQwNjozODoxOS41Mjc0ODZaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy9lYy83ZS85NTYwMDJiZjlmMjg4YTMyZWM3N2M5MTMzY2NkYmIzNTYwN2U0NjA1ZDRkMTM3ZDk3MDcyNjY4YmJkNjcvemMucmVsYXRpb24tMS4xLnRhci5neiIs
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfQ==
ICAgIF0s
ICAgICIxLjEucG9zdDEiOiBb
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICJhNDZjZmU5MDY3YzVlNDNkNDA4ZjZkOTRlMmIxMmQ2Mjk5OTQxOWUzZjU1NTA5YTAzOTEyNDgxMTkxZjAyMWMxIiw=
ICAgICAgICAgICJtZDUiOiAiNTJmNGFmODg0OGY0NTY5M2FjZjVjNjZjYTlkNzNmODAiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiNzdmOWZiM2Q2MGM2NzI4NjA0MDQyYTEwYTI2NmFjZGY5N2U5YzFmYmU4MzFhNWUwZDhiYTQzODRiNjA1M2JmNyI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiemMucmVsYXRpb24tMS4xLnBvc3QxLnRhci5neiIs
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICI1MmY0YWY4ODQ4ZjQ1NjkzYWNmNWM2NmNhOWQ3M2Y4MCIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAic2Rpc3QiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAic291cmNlIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogbnVsbCw=
ICAgICAgICAic2l6ZSI6IDE1Mzg1Niw=
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAxOC0wNi0xOFQwNTo1NTowMyIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAxOC0wNi0xOFQwNTo1NTowMy40MDU4NDVaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy9hNC82Yy9mZTkwNjdjNWU0M2Q0MDhmNmQ5NGUyYjEyZDYyOTk5NDE5ZTNmNTU1MDlhMDM5MTI0ODExOTFmMDIxYzEvemMucmVsYXRpb24tMS4xLnBvc3QxLnRhci5neiIs
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfQ==
ICAgIF0s
ICAgICIxLjEucG9zdDIiOiBb
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICIxMGFkMTIwZjA5ZTM0ZTQzOWYzMzQwY2M3OTNkM2E2Zjk0N2ZmZGIwNmQ4OGMzOGQyZmFmMTdhN2IxNzdkMmY0Iiw=
ICAgICAgICAgICJtZDUiOiAiMTVkMzU1NGZiMDc3YjViYzBkMTVmZjllNzMyYmY3NzEiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiNTcyMThiNGQxOGUxODQyZWJhMzNiOTZiNTNhMTMwMDRmYTJlMTg3YmM4NDk4ODdjMzE1MGJlMjk5ZTZmYzI2MSI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiemMucmVsYXRpb24tMS4xLnBvc3QyLXB5Mi5weTMtbm9uZS1hbnkud2hsIiw=
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICIxNWQzNTU0ZmIwNzdiNWJjMGQxNWZmOWU3MzJiZjc3MSIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAiYmRpc3Rfd2hlZWwiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAicHkyLnB5MyIs
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogbnVsbCw=
ICAgICAgICAic2l6ZSI6IDE1NDcxNiw=
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAxOC0wNi0xOFQwNjowNTozMSIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAxOC0wNi0xOFQwNjowNTozMS4xOTE4ODBaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy8xMC9hZC8xMjBmMDllMzRlNDM5ZjMzNDBjYzc5M2QzYTZmOTQ3ZmZkYjA2ZDg4YzM4ZDJmYWYxN2E3YjE3N2QyZjQvemMucmVsYXRpb24tMS4xLnBvc3QyLXB5Mi5weTMtbm9uZS1hbnkud2hsIiw=
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfSw=
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICI5NmNkMGVhYjc3N2RkZmE0MzI2ZDA1YmQyNDg4M2FkNDY5NDg4MzQ1MDQxYjkwZmQ4NDllZmE4NThlMTQxODRhIiw=
ICAgICAgICAgICJtZDUiOiAiZGVhZmQ4NjdiYzIxOTE0NDExOGU5NmUzY2ZmYzY0YTQiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiYjFhZWI5ZTk3ZWFkMDIwNmEyMTBlN2YxZmUzMmFlNjBmNDM2MzAxMDllNDZlMmZmNDBlOTkyOTRmYjg5MmFkZCI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiemMucmVsYXRpb24tMS4xLnBvc3QyLnRhci5neiIs
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICJkZWFmZDg2N2JjMjE5MTQ0MTE4ZTk2ZTNjZmZjNjRhNCIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAic2Rpc3QiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAic291cmNlIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogbnVsbCw=
ICAgICAgICAic2l6ZSI6IDE1MzkyNiw=
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAxOC0wNi0xOFQwNjowNTozMiIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAxOC0wNi0xOFQwNjowNTozMi43OTE5NDJaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy85Ni9jZC8wZWFiNzc3ZGRmYTQzMjZkMDViZDI0ODgzYWQ0Njk0ODgzNDUwNDFiOTBmZDg0OWVmYTg1OGUxNDE4NGEvemMucmVsYXRpb24tMS4xLnBvc3QyLnRhci5neiIs
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfQ==
ICAgIF0s
ICAgICIxLjIiOiBb
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICIyN2E3NzlhZmQ5YzBkZTQ4NWEyMzhjYzk0NWFlZDg5OWRmMmJiNWQ5NTlmYTZhMDgzNmI4YWYyNjEzN2Y3MWEyIiw=
ICAgICAgICAgICJtZDUiOiAiNGI2NTkxMWE0YjNlZjI3MzcxYmNlMzIxYWZlNzU4NzUiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiMDE1NzkxYTdhMjkzNDkzNWY0OTc3YjRjNmY0NWViNjk4ZDZjNWMwZjliYmUwNTM3Y2I3NjhjOTJjMjZhNmQxZiI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiemMucmVsYXRpb24tMS4yLnRhci5neiIs
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICI0YjY1OTExYTRiM2VmMjczNzFiY2UzMjFhZmU3NTg3NSIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAic2Rpc3QiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAic291cmNlIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogIj49Mi43LCE9My4wLiosIT0zLjEuKiwhPTMuMi4qLCE9My4zLiosIT0zLjQuKiwhPTMuNS4qLCE9My42LioiLA==
ICAgICAgICAic2l6ZSI6IDE1MDYyOSw=
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAyMy0wMy0yOFQwODo1Mjo0NSIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAyMy0wMy0yOFQwODo1Mjo0NS4wOTg3NTFaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy8yNy9hNy83OWFmZDljMGRlNDg1YTIzOGNjOTQ1YWVkODk5ZGYyYmI1ZDk1OWZhNmEwODM2YjhhZjI2MTM3ZjcxYTIvemMucmVsYXRpb24tMS4yLnRhci5neiIs
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfQ==
ICAgIF0s
ICAgICIyLjAiOiBb
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICIwNGE2ZTEwZmM4YTcxZjRkNmZiY2IzMGEzODUyYTQ1ODQ4ZmYxMDliZDYwMTU5MDlkOGNmZTU0YzhiMzBhNTA3Iiw=
ICAgICAgICAgICJtZDUiOiAiMmJkZDc2Yjk4OTQyZTZmYTRjNzg1YmFkMTc4MThjMjYiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiNDE0NjEwMTU3NDc1MDhjYTY2YmVjZGRkMjIyODM4YmQ2MjQ2ZTI5MDljYzNjOWZkOTIyYjdlMDcwNWRhMDA5ZSI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiemMucmVsYXRpb24tMi4wLXB5My1ub25lLWFueS53aGwiLA==
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICIyYmRkNzZiOTg5NDJlNmZhNGM3ODViYWQxNzgxOGMyNiIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAiYmRpc3Rfd2hlZWwiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAicHkzIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogIj49My43Iiw=
ICAgICAgICAic2l6ZSI6IDExMTY4Nyw=
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAyMy0wNC0wNVQwNjowNzoxNSIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAyMy0wNC0wNVQwNjowNzoxNS43NDEyNzhaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy8wNC9hNi9lMTBmYzhhNzFmNGQ2ZmJjYjMwYTM4NTJhNDU4NDhmZjEwOWJkNjAxNTkwOWQ4Y2ZlNTRjOGIzMGE1MDcvemMucmVsYXRpb24tMi4wLXB5My1ub25lLWFueS53aGwiLA==
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfSw=
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICJiNmQ3NGZhNjE5MWNjMGMxNDY4OGExZjVkZGI1MjE3ZDg0NmZkMWEwNjBlODRhMzA1MWZlOTY1N2QxYmNmOGNkIiw=
ICAgICAgICAgICJtZDUiOiAiNzgyZTEzY2IzMzFiMDM0YTgzYzllZDYwNDNkMTcxMTIiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiNzM0OTNkY2NlMDFiNzYzNDUwNDgzMDg2ZjA0N2EyMjZlOWY1ZDBkZDhiMjMzZDdlYzYwMmIyZmY1ZGVlZDk2MyI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiemMucmVsYXRpb24tMi4wLnRhci5neiIs
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICI3ODJlMTNjYjMzMWIwMzRhODNjOWVkNjA0M2QxNzExMiIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAic2Rpc3QiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAic291cmNlIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogIj49My43Iiw=
ICAgICAgICAic2l6ZSI6IDE1MDUzOSw=
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAyMy0wNC0wNVQwNjowNzoxOCIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAyMy0wNC0wNVQwNjowNzoxOC44Mzg5ODhaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy9iNi9kNy80ZmE2MTkxY2MwYzE0Njg4YTFmNWRkYjUyMTdkODQ2ZmQxYTA2MGU4NGEzMDUxZmU5NjU3ZDFiY2Y4Y2QvemMucmVsYXRpb24tMi4wLnRhci5neiIs
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfQ==
ICAgIF0=
ICB9LA==
ICAidXJscyI6IFs=
ICAgIHs=
ICAgICAgImNvbW1lbnRfdGV4dCI6ICIiLA==
ICAgICAgImRpZ2VzdHMiOiB7
ICAgICAgICAiYmxha2UyYl8yNTYiOiAiMDRhNmUxMGZjOGE3MWY0ZDZmYmNiMzBhMzg1MmE0NTg0OGZmMTA5YmQ2MDE1OTA5ZDhjZmU1NGM4YjMwYTUwNyIs
ICAgICAgICAibWQ1IjogIjJiZGQ3NmI5ODk0MmU2ZmE0Yzc4NWJhZDE3ODE4YzI2Iiw=
ICAgICAgICAic2hhMjU2IjogIjQxNDYxMDE1NzQ3NTA4Y2E2NmJlY2RkZDIyMjgzOGJkNjI0NmUyOTA5Y2MzYzlmZDkyMmI3ZTA3MDVkYTAwOWUi
ICAgICAgfSw=
ICAgICAgImRvd25sb2FkcyI6IC0xLA==
ICAgICAgImZpbGVuYW1lIjogInpjLnJlbGF0aW9uLTIuMC1weTMtbm9uZS1hbnkud2hsIiw=
ICAgICAgImhhc19zaWciOiBmYWxzZSw=
ICAgICAgIm1kNV9kaWdlc3QiOiAiMmJkZDc2Yjk4OTQyZTZmYTRjNzg1YmFkMTc4MThjMjYiLA==
ICAgICAgInBhY2thZ2V0eXBlIjogImJkaXN0X3doZWVsIiw=
ICAgICAgInB5dGhvbl92ZXJzaW9uIjogInB5MyIs
ICAgICAgInJlcXVpcmVzX3B5dGhvbiI6ICI+PTMuNyIs
ICAgICAgInNpemUiOiAxMTE2ODcs
ICAgICAgInVwbG9hZF90aW1lIjogIjIwMjMtMDQtMDVUMDY6MDc6MTUiLA==
ICAgICAgInVwbG9hZF90aW1lX2lzb184NjAxIjogIjIwMjMtMDQtMDVUMDY6MDc6MTUuNzQxMjc4WiIs
ICAgICAgInVybCI6ICJodHRwczovL2ZpbGVzLnB5dGhvbmhvc3RlZC5vcmcvcGFja2FnZXMvMDQvYTYvZTEwZmM4YTcxZjRkNmZiY2IzMGEzODUyYTQ1ODQ4ZmYxMDliZDYwMTU5MDlkOGNmZTU0YzhiMzBhNTA3L3pjLnJlbGF0aW9uLTIuMC1weTMtbm9uZS1hbnkud2hsIiw=
ICAgICAgInlhbmtlZCI6IGZhbHNlLA==
ICAgICAgInlhbmtlZF9yZWFzb24iOiBudWxs
ICAgIH0s
ICAgIHs=
ICAgICAgImNvbW1lbnRfdGV4dCI6ICIiLA==
ICAgICAgImRpZ2VzdHMiOiB7
ICAgICAgICAiYmxha2UyYl8yNTYiOiAiYjZkNzRmYTYxOTFjYzBjMTQ2ODhhMWY1ZGRiNTIxN2Q4NDZmZDFhMDYwZTg0YTMwNTFmZTk2NTdkMWJjZjhjZCIs
ICAgICAgICAibWQ1IjogIjc4MmUxM2NiMzMxYjAzNGE4M2M5ZWQ2MDQzZDE3MTEyIiw=
ICAgICAgICAic2hhMjU2IjogIjczNDkzZGNjZTAxYjc2MzQ1MDQ4MzA4NmYwNDdhMjI2ZTlmNWQwZGQ4YjIzM2Q3ZWM2MDJiMmZmNWRlZWQ5NjMi
ICAgICAgfSw=
ICAgICAgImRvd25sb2FkcyI6IC0xLA==
ICAgICAgImZpbGVuYW1lIjogInpjLnJlbGF0aW9uLTIuMC50YXIuZ3oiLA==
ICAgICAgImhhc19zaWciOiBmYWxzZSw=
ICAgICAgIm1kNV9kaWdlc3QiOiAiNzgyZTEzY2IzMzFiMDM0YTgzYzllZDYwNDNkMTcxMTIiLA==
ICAgICAgInBhY2thZ2V0eXBlIjogInNkaXN0Iiw=
ICAgICAgInB5dGhvbl92ZXJzaW9uIjogInNvdXJjZSIs
ICAgICAgInJlcXVpcmVzX3B5dGhvbiI6ICI+PTMuNyIs
ICAgICAgInNpemUiOiAxNTA1Mzks
ICAgICAgInVwbG9hZF90aW1lIjogIjIwMjMtMDQtMDVUMDY6MDc6MTgiLA==
ICAgICAgInVwbG9hZF90aW1lX2lzb184NjAxIjogIjIwMjMtMDQtMDVUMDY6MDc6MTguODM4OTg4WiIs
ICAgICAgInVybCI6ICJodHRwczovL2ZpbGVzLnB5dGhvbmhvc3RlZC5vcmcvcGFja2FnZXMvYjYvZDcvNGZhNjE5MWNjMGMxNDY4OGExZjVkZGI1MjE3ZDg0NmZkMWEwNjBlODRhMzA1MWZlOTY1N2QxYmNmOGNkL3pjLnJlbGF0aW9uLTIuMC50YXIuZ3oiLA==
ICAgICAgInlhbmtlZCI6IGZhbHNlLA==
ICAgICAgInlhbmtlZF9yZWFzb24iOiBudWxs
ICAgIH0=
ICBdLA==
ICAidnVsbmVyYWJpbGl0aWVzIjogW10=
fQ==
