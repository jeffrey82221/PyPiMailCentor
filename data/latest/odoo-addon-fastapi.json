ew==
ICAiaW5mbyI6IHs=
ICAgICJhdXRob3IiOiAiQUNTT05FIFNBL05WLE9kb28gQ29tbXVuaXR5IEFzc29jaWF0aW9uIChPQ0EpIiw=
ICAgICJhdXRob3JfZW1haWwiOiAic3VwcG9ydEBvZG9vLWNvbW11bml0eS5vcmciLA==
ICAgICJidWd0cmFja191cmwiOiBudWxsLA==
ICAgICJjbGFzc2lmaWVycyI6IFs=
ICAgICAgIkRldmVsb3BtZW50IFN0YXR1cyA6OiA0IC0gQmV0YSIs
ICAgICAgIkZyYW1ld29yayA6OiBPZG9vIiw=
ICAgICAgIkZyYW1ld29yayA6OiBPZG9vIDo6IDE2LjAiLA==
ICAgICAgIkxpY2Vuc2UgOjogT1NJIEFwcHJvdmVkIDo6IEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2MyAoTEdQTHYzKSIs
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiI=
ICAgIF0s
ICAgICJkZXNjcmlwdGlvbiI6ICI9PT09PT09PT09PT1cbk9kb28gRmFzdEFQSVxuPT09PT09PT09PT09XG5cbi4uICEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISFcbiAgICEhIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgYnkgb2NhLWdlbi1hZGRvbi1yZWFkbWUgISFcbiAgICEhIGNoYW5nZXMgd2lsbCBiZSBvdmVyd3JpdHRlbi4gICAgICAgICAgICAgICAgICAgISFcbiAgICEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISFcblxuLi4gfGJhZGdlMXwgaW1hZ2U6OiBodHRwczovL2ltZy5zaGllbGRzLmlvL2JhZGdlL21hdHVyaXR5LUJldGEteWVsbG93LnBuZ1xuICAgIDp0YXJnZXQ6IGh0dHBzOi8vb2Rvby1jb21tdW5pdHkub3JnL3BhZ2UvZGV2ZWxvcG1lbnQtc3RhdHVzXG4gICAgOmFsdDogQmV0YVxuLi4gfGJhZGdlMnwgaW1hZ2U6OiBodHRwczovL2ltZy5zaGllbGRzLmlvL2JhZGdlL2xpY2VuY2UtTEdQTC0tMy1ibHVlLnBuZ1xuICAgIDp0YXJnZXQ6IGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9sZ3BsLTMuMC1zdGFuZGFsb25lLmh0bWxcbiAgICA6YWx0OiBMaWNlbnNlOiBMR1BMLTNcbi4uIHxiYWRnZTN8IGltYWdlOjogaHR0cHM6Ly9pbWcuc2hpZWxkcy5pby9iYWRnZS9naXRodWItT0NBJTJGcmVzdC0tZnJhbWV3b3JrLWxpZ2h0Z3JheS5wbmc/bG9nbz1naXRodWJcbiAgICA6dGFyZ2V0OiBodHRwczovL2dpdGh1Yi5jb20vT0NBL3Jlc3QtZnJhbWV3b3JrL3RyZWUvMTYuMC9mYXN0YXBpXG4gICAgOmFsdDogT0NBL3Jlc3QtZnJhbWV3b3JrXG4uLiB8YmFkZ2U0fCBpbWFnZTo6IGh0dHBzOi8vaW1nLnNoaWVsZHMuaW8vYmFkZ2Uvd2VibGF0ZS1UcmFuc2xhdGUlMjBtZS1GNDdENDIucG5nXG4gICAgOnRhcmdldDogaHR0cHM6Ly90cmFuc2xhdGlvbi5vZG9vLWNvbW11bml0eS5vcmcvcHJvamVjdHMvcmVzdC1mcmFtZXdvcmstMTYtMC9yZXN0LWZyYW1ld29yay0xNi0wLWZhc3RhcGlcbiAgICA6YWx0OiBUcmFuc2xhdGUgbWUgb24gV2VibGF0ZVxuLi4gfGJhZGdlNXwgaW1hZ2U6OiBodHRwczovL2ltZy5zaGllbGRzLmlvL2JhZGdlL3J1bmJvdC1UcnklMjBtZS04NzVBN0IucG5nXG4gICAgOnRhcmdldDogaHR0cHM6Ly9ydW5ib3Qub2Rvby1jb21tdW5pdHkub3JnL3J1bmJvdC8yNzEvMTYuMFxuICAgIDphbHQ6IFRyeSBtZSBvbiBSdW5ib3RcblxufGJhZGdlMXwgfGJhZGdlMnwgfGJhZGdlM3wgfGJhZGdlNHwgfGJhZGdlNXwgXG5cblRoaXMgYWRkb24gcHJvdmlkZXMgdGhlIGJhc2lzIHRvIHNtb290aGx5IGludGVncmF0ZSB0aGUgYEZhc3RBUElgX1xuZnJhbWV3b3JrIGludG8gT2Rvby5cblxuVGhpcyBpbnRlZ3JhdGlvbiBhbGxvd3MgeW91IHRvIHVzZSBhbGwgdGhlIGdvb2RpZXMgZnJvbSBgRmFzdEFQSWBfIHRvIGJ1aWxkIGN1c3RvbVxuQVBJcyBmb3IgeW91ciBPZG9vIHNlcnZlciBiYXNlZCBvbiBzdGFuZGFyZCBQeXRob24gdHlwZSBoaW50cy5cblxuV2hhdCBpcyBidWlsZGluZyBhbiBBUEk/XG4qKioqKioqKioqKioqKioqKioqKioqKipcblxuQW4gQVBJIGlzIGEgc2V0IG9mIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgb3V0c2lkZSB3b3JsZC4gVGhlXG5nb2FsIG9mIGFuIEFQSSBpcyB0byBwcm92aWRlIGEgd2F5IHRvIGludGVyYWN0IHdpdGggeW91ciBhcHBsaWNhdGlvbiBmcm9tIHRoZVxub3V0c2lkZSB3b3JsZCB3aXRob3V0IGhhdmluZyB0byBrbm93IGhvdyBpdCB3b3JrcyBpbnRlcm5hbGx5LiBBIGNvbW1vbiBtaXN0YWtlXG53aGVuIHlvdSBhcmUgYnVpbGRpbmcgYW4gQVBJIGlzIHRvIGV4cG9zZSBhbGwgdGhlIGludGVybmFsIGZ1bmN0aW9ucyBvZiB5b3VyXG5hcHBsaWNhdGlvbiBhbmQgdGhlcmVmb3JlIGNyZWF0ZSBhIHRpZ2h0IGNvdXBsaW5nIGJldHdlZW4gdGhlIG91dHNpZGUgd29ybGQgYW5kXG55b3VyIGludGVybmFsIGRhdGFtb2RlbCBhbmQgYnVzaW5lc3MgbG9naWMuIFRoaXMgaXMgbm90IGEgZ29vZCBpZGVhIGJlY2F1c2UgaXRcbm1ha2VzIGl0IHZlcnkgaGFyZCB0byBjaGFuZ2UgeW91ciBpbnRlcm5hbCBkYXRhbW9kZWwgYW5kIGJ1c2luZXNzIGxvZ2ljIHdpdGhvdXRcbmJyZWFraW5nIHRoZSBvdXRzaWRlIHdvcmxkLlxuXG5XaGVuIHlvdSBhcmUgYnVpbGRpbmcgYW4gQVBJLCB5b3UgZGVmaW5lIGEgY29udHJhY3QgYmV0d2VlbiB0aGUgb3V0c2lkZSB3b3JsZFxuYW5kIHlvdXIgYXBwbGljYXRpb24uIFRoaXMgY29udHJhY3QgaXMgZGVmaW5lZCBieSB0aGUgZnVuY3Rpb25zIHRoYXQgeW91IGV4cG9zZVxuYW5kIHRoZSBwYXJhbWV0ZXJzIHRoYXQgeW91IGFjY2VwdC4gVGhpcyBjb250cmFjdCBpcyB0aGUgQVBJLiBXaGVuIHlvdSBjaGFuZ2VcbnlvdXIgaW50ZXJuYWwgZGF0YW1vZGVsIGFuZCBidXNpbmVzcyBsb2dpYywgeW91IGNhbiBzdGlsbCBrZWVwIHRoZSBzYW1lIEFQSVxuY29udHJhY3QgYW5kIHRoZXJlZm9yZSB5b3UgZG9uJ3QgYnJlYWsgdGhlIG91dHNpZGUgd29ybGQuIEV2ZW4gaWYgeW91IGNoYW5nZVxueW91ciBpbXBsZW1lbnRhdGlvbiwgYXMgbG9uZyBhcyB5b3Uga2VlcCB0aGUgc2FtZSBBUEkgY29udHJhY3QsIHRoZSBvdXRzaWRlXG53b3JsZCB3aWxsIHN0aWxsIHdvcmsuIFRoaXMgaXMgdGhlIGJlYXV0eSBvZiBhbiBBUEkgYW5kIHRoaXMgaXMgd2h5IGl0IGlzIHNvXG5pbXBvcnRhbnQgdG8gZGVzaWduIGEgZ29vZCBBUEkuXG5cbkEgZ29vZCBBUEkgaXMgZGVzaWduZWQgdG8gYmUgc3RhYmxlIGFuZCB0byBiZSBlYXN5IHRvIHVzZS4gSXQncyBkZXNpZ25lZCB0b1xucHJvdmlkZSBoaWdoLWxldmVsIGZ1bmN0aW9ucyByZWxhdGVkIHRvIGEgc3BlY2lmaWMgdXNlIGNhc2UuIEl0J3MgZGVzaWduZWQgdG9cbmJlIGVhc3kgdG8gdXNlIGJ5IGhpZGluZyB0aGUgY29tcGxleGl0eSBvZiB0aGUgaW50ZXJuYWwgZGF0YW1vZGVsIGFuZCBidXNpbmVzc1xubG9naWMuIEEgY29tbW9uIG1pc3Rha2Ugd2hlbiB5b3UgYXJlIGJ1aWxkaW5nIGFuIEFQSSBpcyB0byBleHBvc2UgYWxsIHRoZSBpbnRlcm5hbFxuZnVuY3Rpb25zIG9mIHlvdXIgYXBwbGljYXRpb24gYW5kIGxldCB0aGUgb3VzdGlkZSB3b3JsZCBkZWFsIHdpdGggdGhlIGNvbXBsZXhpdHlcbm9mIHlvdXIgaW50ZXJuYWwgZGF0YW1vZGVsIGFuZCBidXNpbmVzcyBsb2dpYy4gRG9uJ3QgZm9yZ2V0IHRoYXQgb24gYSB0cmFuc2FjdGlvbmFsXG5wb2ludCBvZiB2aWV3LCBlYWNoIGNhbGwgdG8gYW4gQVBJIGZ1bmN0aW9uIGlzIGEgdHJhbnNhY3Rpb24uIFRoaXMgbWVhbnMgdGhhdFxuaWYgYSBzcGVjaWZpYyB1c2UgY2FzZSByZXF1aXJlcyBtdWx0aXBsZSBjYWxscyB0byB5b3VyIEFQSSwgeW91IHNob3VsZCBwcm92aWRlXG5hIHNpbmdsZSBmdW5jdGlvbiB0aGF0IGRvZXMgYWxsIHRoZSB3b3JrIGluIGEgc2luZ2xlIHRyYW5zYWN0aW9uLiBUaGlzIHdoeSBBUElzXG5tZXRob2RzIGFyZSBjYWxsZWQgaGlnaC1sZXZlbCBhbmQgYXRvbWljIGZ1bmN0aW9ucy5cblxuLi4gX0Zhc3RBUEk6ICBodHRwczovL2Zhc3RhcGkudGlhbmdvbG8uY29tL1xuXG4qKlRhYmxlIG9mIGNvbnRlbnRzKipcblxuLi4gY29udGVudHM6OlxuICAgOmxvY2FsOlxuXG5Vc2FnZVxuPT09PT1cblxuV2hhdCdzIGJ1aWxkaW5nIGFuIEFQSSB3aXRoIGZhc3RhcGk/XG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuRmFzdEFQSSBpcyBhIG1vZGVybiwgZmFzdCAoaGlnaC1wZXJmb3JtYW5jZSksIHdlYiBmcmFtZXdvcmsgZm9yIGJ1aWxkaW5nIEFQSXNcbndpdGggUHl0aG9uIDMuNysgYmFzZWQgb24gc3RhbmRhcmQgUHl0aG9uIHR5cGUgaGludHMuIFRoaXMgYWRkb25zIGxldCdzIHlvdVxua2VlcCBhZHZhbnRhZ2Ugb2YgdGhlIGZhc3RhcGkgZnJhbWV3b3JrIGFuZCB1c2UgaXQgd2l0aCBPZG9vLlxuXG5CZWZvcmUgeW91IHN0YXJ0LCB3ZSBtdXN0IGRlZmluZSBzb21lIHRlcm1zOlxuXG4qICoqQXBwKio6IEEgRmFzdEFQSSBhcHAgaXMgYSBjb2xsZWN0aW9uIG9mIHJvdXRlcywgZGVwZW5kZW5jaWVzLCBhbmQgb3RoZXJcbiAgY29tcG9uZW50cyB0aGF0IGNhbiBiZSB1c2VkIHRvIGJ1aWxkIGEgd2ViIGFwcGxpY2F0aW9uLlxuKiAqKlJvdXRlcioqOiBBIHJvdXRlciBpcyBhIGNvbGxlY3Rpb24gb2Ygcm91dGVzIHRoYXQgY2FuIGJlIG1vdW50ZWQgaW4gYW5cbiAgYXBwLlxuKiAqKlJvdXRlKio6IEEgcm91dGUgaXMgYSBtYXBwaW5nIGJldHdlZW4gYW4gSFRUUCBtZXRob2QgYW5kIGEgcGF0aCwgYW5kXG4gIGRlZmluZXMgd2hhdCBzaG91bGQgaGFwcGVuIHdoZW4gdGhlIHVzZXIgcmVxdWVzdHMgdGhhdCBwYXRoLlxuKiAqKkRlcGVuZGVuY3kqKjogQSBkZXBlbmRlbmN5IGlzIGEgY2FsbGFibGUgdGhhdCBjYW4gYmUgdXNlZCB0byBnZXQgc29tZVxuICBpbmZvcm1hdGlvbiBmcm9tIHRoZSB1c2VyIHJlcXVlc3QsIG9yIHRvIHBlcmZvcm0gc29tZSBhY3Rpb25zIGJlZm9yZSB0aGVcbiAgcmVxdWVzdCBoYW5kbGVyIGlzIGNhbGxlZC5cbiogKipSZXF1ZXN0Kio6IEEgcmVxdWVzdCBpcyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhbGwgdGhlIGluZm9ybWF0aW9uXG4gIHNlbnQgYnkgdGhlIHVzZXIncyBicm93c2VyIGFzIHBhcnQgb2YgYW4gSFRUUCByZXF1ZXN0LlxuKiAqKlJlc3BvbnNlKio6IEEgcmVzcG9uc2UgaXMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYWxsIHRoZSBpbmZvcm1hdGlvblxuICB0aGF0IHRoZSB1c2VyJ3MgYnJvd3NlciBuZWVkcyB0byBidWlsZCB0aGUgcmVzdWx0IHBhZ2UuXG4qICoqSGFuZGxlcioqOiBBIGhhbmRsZXIgaXMgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgcmVxdWVzdCBhbmQgcmV0dXJucyBhXG4gIHJlc3BvbnNlLlxuKiAqKk1pZGRsZXdhcmUqKjogQSBtaWRkbGV3YXJlIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHJlcXVlc3QgYW5kIGFcbiAgaGFuZGxlciwgYW5kIHJldHVybnMgYSByZXNwb25zZS5cblxuVGhlIEZhc3RBUEkgZnJhbWV3b3JrIGlzIGJhc2VkIG9uIHRoZSBmb2xsb3dpbmcgcHJpbmNpcGxlczpcblxuKiAqKkZhc3QqKjogVmVyeSBoaWdoIHBlcmZvcm1hbmNlLCBvbiBwYXIgd2l0aCBOb2RlSlMgYW5kIEdvICh0aGFua3MgdG8gU3RhcmxldHRlXG4gIGFuZCBQeWRhbnRpYykuIFtPbmUgb2YgdGhlIGZhc3Rlc3QgUHl0aG9uIGZyYW1ld29ya3MgYXZhaWxhYmxlXVxuKiAqKkZhc3QgdG8gY29kZSoqOiBJbmNyZWFzZSB0aGUgc3BlZWQgdG8gZGV2ZWxvcCBmZWF0dXJlcyBieSBhYm91dCAyMDAlIHRvIDMwMCUuXG4qICoqRmV3ZXIgYnVncyoqOiBSZWR1Y2UgYWJvdXQgNDAlIG9mIGh1bWFuIChkZXZlbG9wZXIpIGluZHVjZWQgZXJyb3JzLlxuKiAqKkludHVpdGl2ZSoqOiBHcmVhdCBlZGl0b3Igc3VwcG9ydC4gQ29tcGxldGlvbiBldmVyeXdoZXJlLiBMZXNzIHRpbWVcbiAgZGVidWdnaW5nLlxuKiAqKkVhc3kqKjogRGVzaWduZWQgdG8gYmUgZWFzeSB0byB1c2UgYW5kIGxlYXJuLiBMZXNzIHRpbWUgcmVhZGluZyBkb2NzLlxuKiAqKlNob3J0Kio6IE1pbmltaXplIGNvZGUgZHVwbGljYXRpb24uIE11bHRpcGxlIGZlYXR1cmVzIGZyb20gZWFjaCBwYXJhbWV0ZXJcbiAgZGVjbGFyYXRpb24uIEZld2VyIGJ1Z3MuXG4qICoqUm9idXN0Kio6IEdldCBwcm9kdWN0aW9uLXJlYWR5IGNvZGUuIFdpdGggYXV0b21hdGljIGludGVyYWN0aXZlIGRvY3VtZW50YXRpb24uXG4qICoqU3RhbmRhcmRzLWJhc2VkKio6IEJhc2VkIG9uIChhbmQgZnVsbHkgY29tcGF0aWJsZSB3aXRoKSB0aGUgb3BlbiBzdGFuZGFyZHNcbiAgZm9yIEFQSXM6IE9wZW5BUEkgKHByZXZpb3VzbHkga25vd24gYXMgU3dhZ2dlcikgYW5kIEpTT04gU2NoZW1hLlxuKiAqKk9wZW4gU291cmNlKio6IEZhc3RBUEkgaXMgZnVsbHkgb3Blbi1zb3VyY2UsIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuVGhlIGZpcnN0IHN0ZXAgaXMgdG8gaW5zdGFsbCB0aGUgZmFzdGFwaSBhZGRvbi4gWW91IGNhbiBkbyBpdCB3aXRoIHRoZVxuZm9sbG93aW5nIGNvbW1hbmQ6XG5cbiAgICAkIHBpcCBpbnN0YWxsIG9kb28tYWRkb24tZmFzdGFwaVxuXG5PbmNlIHRoZSBhZGRvbiBpcyBpbnN0YWxsZWQsIHlvdSBjYW4gc3RhcnQgYnVpbGRpbmcgeW91ciBBUEkuIFRoZSBmaXJzdCB0aGluZ1xueW91IG5lZWQgdG8gZG8gaXMgdG8gY3JlYXRlIGEgbmV3IGFkZG9uIHRoYXQgZGVwZW5kcyBvbiAnZmFzdGFwaScuIEZvciBleGFtcGxlLFxubGV0J3MgY3JlYXRlIGFuIGFkZG9uIGNhbGxlZCAqbXlfZGVtb19hcGkqLlxuXG5UaGVuLCB5b3UgbmVlZCB0byBkZWNsYXJlIHlvdXIgYXBwIGJ5IGRlZmluaW5nIGEgbW9kZWwgdGhhdCBpbmhlcml0cyBmcm9tXG4nZmFzdGFwaS5lbmRwb2ludCcgYW5kIGFkZCB5b3VyIGFwcCBuYW1lIGludG8gdGhlIGFwcCBmaWVsZC4gRm9yIGV4YW1wbGU6XG5cbi4uIGNvZGUtYmxvY2s6OiBweXRob25cblxuICAgIGZyb20gb2RvbyBpbXBvcnQgZmllbGRzLCBtb2RlbHNcblxuICAgIGNsYXNzIEZhc3RhcGlFbmRwb2ludChtb2RlbHMuTW9kZWwpOlxuXG4gICAgICAgIF9pbmhlcml0ID0gXCJmYXN0YXBpLmVuZHBvaW50XCJcblxuICAgICAgICBhcHA6IHN0ciA9IGZpZWxkcy5TZWxlY3Rpb24oXG4gICAgICAgICAgICBzZWxlY3Rpb25fYWRkPVsoXCJkZW1vXCIsIFwiRGVtbyBFbmRwb2ludFwiKV0sIG9uZGVsZXRlPXtcImRlbW9cIjogXCJjYXNjYWRlXCJ9XG4gICAgICAgIClcblxuVGhlICoqJ2Zhc3RhcGkuZW5kcG9pbnQnKiogbW9kZWwgaXMgdGhlIGJhc2UgbW9kZWwgZm9yIGFsbCB0aGUgZW5kcG9pbnRzLiBBbiBlbmRwb2ludFxuaW5zdGFuY2UgaXMgdGhlIG1vdW50IHBvaW50IGZvciBhIGZhc3RhcGkgYXBwIGludG8gT2Rvby4gV2hlbiB5b3UgY3JlYXRlIGEgbmV3XG5lbmRwb2ludCwgeW91IGNhbiBkZWZpbmUgdGhlIGFwcCB0aGF0IHlvdSB3YW50IHRvIG1vdW50IGluIHRoZSAqKidhcHAnKiogZmllbGRcbmFuZCB0aGUgcGF0aCB3aGVyZSB5b3Ugd2FudCB0byBtb3VudCBpdCBpbiB0aGUgKioncGF0aCcqKiBmaWVsZC5cblxuZmlndXJlOjogc3RhdGljL2Rlc2NyaXB0aW9uL2VuZHBvaW50LnBuZ1xuXG4gICAgRmFzdEFQSSBFbmRwb2ludFxuXG5UaGFua3MgdG8gdGhlICoqJ2Zhc3RhcGkuZW5kcG9pbnQnKiogbW9kZWwsIHlvdSBjYW4gY3JlYXRlIGFzIG1hbnkgZW5kcG9pbnRzIGFzXG55b3Ugd2FuZCBhbmQgbW91bnQgYXMgbWFueSBhcHBzIGFzIHlvdSB3YW50IGluIGVhY2ggZW5kcG9pbnQuIFRoZSBlbmRwb2ludCBpc1xuYWxzbyB0aGUgcGxhY2Ugd2hlcmUgeW91IGNhbiBkZWZpbmUgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIGZvciB5b3VyIGFwcC4gQVxudHlwaWNhbCBleGFtcGxlIGlzIHRoZSBhdXRoZW50aWNhdGlvbiBtZXRob2QgdGhhdCB5b3Ugd2FudCB0byB1c2UgZm9yIHlvdXIgYXBwXG53aGVuIGFjY2Vzc2VkIGF0IHRoZSBlbmRwb2ludCBwYXRoLlxuXG5Ob3csIHlvdSBjYW4gY3JlYXRlIHlvdXIgZmlyc3Qgcm91dGVyLiBGb3IgdGhhdCwgeW91IG5lZWQgdG8gZGVmaW5lIGEgZ2xvYmFsXG52YXJpYWJsZSBpbnRvIHlvdXIgZmFzdGFwaV9lbmRwb2ludCBtb2R1bGUgY2FsbGVkIGZvciBleGFtcGxlICdkZW1vX2FwaV9yb3V0ZXInXG5cbi4uIGNvZGUtYmxvY2s6OiBweXRob25cblxuICAgIGZyb20gZmFzdGFwaSBpbXBvcnQgQVBJUm91dGVyXG4gICAgZnJvbSBvZG9vIGltcG9ydCBmaWVsZHMsIG1vZGVsc1xuXG4gICAgY2xhc3MgRmFzdGFwaUVuZHBvaW50KG1vZGVscy5Nb2RlbCk6XG5cbiAgICAgICAgX2luaGVyaXQgPSBcImZhc3RhcGkuZW5kcG9pbnRcIlxuXG4gICAgICAgIGFwcDogc3RyID0gZmllbGRzLlNlbGVjdGlvbihcbiAgICAgICAgICAgIHNlbGVjdGlvbl9hZGQ9WyhcImRlbW9cIiwgXCJEZW1vIEVuZHBvaW50XCIpXSwgb25kZWxldGU9e1wiZGVtb1wiOiBcImNhc2NhZGVcIn1cbiAgICAgICAgKVxuXG4gICAgIyBjcmVhdGUgYSByb3V0ZXJcbiAgICBkZW1vX2FwaV9yb3V0ZXIgPSBBUElSb3V0ZXIoKVxuXG5cblRvIG1ha2UgeW91ciByb3V0ZXIgYXZhaWxhYmxlIHRvIHlvdXIgYXBwLCB5b3UgbmVlZCB0byBhZGQgaXQgdG8gdGhlIGxpc3Qgb2Ygcm91dGVyc1xucmV0dXJuZWQgYnkgdGhlICoqZ2V0X2Zhc3RhcGlfcm91dGVycyoqIG1ldGhvZCBvZiB5b3VyIGZhc3RhcGlfZW5kcG9pbnQgbW9kZWwuXG5cbi4uIGNvZGUtYmxvY2s6OiBweXRob25cblxuICAgIGZyb20gZmFzdGFwaSBpbXBvcnQgQVBJUm91dGVyXG4gICAgZnJvbSBvZG9vIGltcG9ydCBhcGksIGZpZWxkcywgbW9kZWxzXG5cbiAgICBjbGFzcyBGYXN0YXBpRW5kcG9pbnQobW9kZWxzLk1vZGVsKTpcblxuICAgICAgICBfaW5oZXJpdCA9IFwiZmFzdGFwaS5lbmRwb2ludFwiXG5cbiAgICAgICAgYXBwOiBzdHIgPSBmaWVsZHMuU2VsZWN0aW9uKFxuICAgICAgICAgICAgc2VsZWN0aW9uX2FkZD1bKFwiZGVtb1wiLCBcIkRlbW8gRW5kcG9pbnRcIildLCBvbmRlbGV0ZT17XCJkZW1vXCI6IFwiY2FzY2FkZVwifVxuICAgICAgICApXG5cbiAgICAgICAgQGFwaS5tb2RlbFxuICAgICAgICBkZWYgZ2V0X2Zhc3RhcGlfcm91dGVycyhzZWxmKTpcbiAgICAgICAgICAgIGlmIHNlbGYuYXBwID09IFwiZGVtb1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBbZGVtb19hcGlfcm91dGVyXVxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyKCkuZ2V0X2Zhc3RhcGlfcm91dGVycygpXG5cbiAgICAjIGNyZWF0ZSBhIHJvdXRlclxuICAgIGRlbW9fYXBpX3JvdXRlciA9IEFQSVJvdXRlcigpXG5cbk5vdywgeW91IGNhbiBzdGFydCBhZGRpbmcgcm91dGVzIHRvIHlvdXIgcm91dGVyLiBGb3IgZXhhbXBsZSwgbGV0J3MgYWRkIGEgcm91dGVcbnRoYXQgcmV0dXJucyBhIGxpc3Qgb2YgcGFydG5lcnMuXG5cbi4uIGNvZGUtYmxvY2s6OiBweXRob25cblxuICAgIGZyb20gZmFzdGFwaSBpbXBvcnQgQVBJUm91dGVyXG4gICAgZnJvbSBweWRhbnRpYyBpbXBvcnQgQmFzZU1vZGVsXG4gICAgZnJvbSBvZG9vIGltcG9ydCBhcGksIGZpZWxkcywgbW9kZWxzXG4gICAgZnJvbSBvZG9vLmFkZG9ucy5mYXN0YXBpLmRlcGVuZHMgaW1wb3J0IG9kb29fZW52XG5cbiAgICBjbGFzcyBGYXN0YXBpRW5kcG9pbnQobW9kZWxzLk1vZGVsKTpcblxuICAgICAgICBfaW5oZXJpdCA9IFwiZmFzdGFwaS5lbmRwb2ludFwiXG5cbiAgICAgICAgYXBwOiBzdHIgPSBmaWVsZHMuU2VsZWN0aW9uKFxuICAgICAgICAgICAgc2VsZWN0aW9uX2FkZD1bKFwiZGVtb1wiLCBcIkRlbW8gRW5kcG9pbnRcIildLCBvbmRlbGV0ZT17XCJkZW1vXCI6IFwiY2FzY2FkZVwifVxuICAgICAgICApXG5cbiAgICAgICAgQGFwaS5tb2RlbFxuICAgICAgICBkZWYgZ2V0X2Zhc3RhcGlfcm91dGVycyhzZWxmKTpcbiAgICAgICAgICAgIGlmIHNlbGYuYXBwID09IFwiZGVtb1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBbZGVtb19hcGlfcm91dGVyXVxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyKCkuZ2V0X2Zhc3RhcGlfcm91dGVycygpXG5cbiAgICAjIGNyZWF0ZSBhIHJvdXRlclxuICAgIGRlbW9fYXBpX3JvdXRlciA9IEFQSVJvdXRlcigpXG5cbiAgICBjbGFzcyBQYXJ0bmVySW5mbyhCYXNlTW9kZWwpOlxuICAgICAgICBuYW1lOiBzdHJcbiAgICAgICAgZW1haWw6IHN0clxuXG4gICAgQGRlbW9fYXBpX3JvdXRlci5nZXQoXCIvcGFydG5lcnNcIiwgcmVzcG9uc2VfbW9kZWw9bGlzdFtQYXJ0bmVySW5mb10pXG4gICAgZGVmIGdldF9wYXJ0bmVycyhlbnY9RGVwZW5kcyhvZG9vX2VudikpIC0+IGxpc3RbUGFydG5lckluZm9dOlxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgUGFydG5lckluZm8obmFtZT1wYXJ0bmVyLm5hbWUsIGVtYWlsPXBhcnRuZXIuZW1haWwpXG4gICAgICAgICAgICBmb3IgcGFydG5lciBpbiBlbnZbXCJyZXMucGFydG5lclwiXS5zZWFyY2goW10pXG4gICAgICAgIF1cblxuTm93LCB5b3UgY2FuIHN0YXJ0IHlvdXIgT2RvbyBzZXJ2ZXIsIGluc3RhbGwgeW91ciBhZGRvbiBhbmQgY3JlYXRlIGEgbmV3IGVuZHBvaW50XG5pbnN0YW5jZSBmb3IgeW91ciBhcHAuIE9uY2UgaXQncyBkb25lIGNsaWNrIG9uIHRoZSBkb2NzIHVybCB0byBhY2Nlc3MgdGhlXG5pbnRlcmFjdGl2ZSBkb2N1bWVudGF0aW9uIG9mIHlvdXIgYXBwLlxuXG5CZWZvcmUgdHJ5aW5nIHRvIHRlc3QgeW91ciBhcHAsIHlvdSBuZWVkIHRvIGRlZmluZSBvbiB0aGUgZW5kcG9pbnQgaW5zdGFuY2UgdGhlXG51c2VyIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJ1biB0aGUgYXBwLiBZb3UgY2FuIGRvIGl0IGJ5IHNldHRpbmcgdGhlICoqJ3VzZXJfaWQnKipcbmZpZWxkLiBUaGlzIGluZm9ybWF0aW9uIGlzIHRoZSBtb3N0IGltcG9ydGFudCBvbmUgYmVjYXVzZSBpdCdzIHRoZSBiYXNpcyBmb3JcbnRoZSBzZWN1cml0eSBvZiB5b3VyIGFwcC4gVGhlIHVzZXIgdGhhdCB5b3UgZGVmaW5lIGluIHRoZSBlbmRwb2ludCBpbnN0YW5jZVxud2lsbCBiZSB1c2VkIHRvIHJ1biB0aGUgYXBwIGFuZCB0byBhY2Nlc3MgdGhlIGRhdGFiYXNlLiBUaGlzIG1lYW5zIHRoYXQgdGhlXG51c2VyIHdpbGwgYmUgYWJsZSB0byBhY2Nlc3MgYWxsIHRoZSBkYXRhIHRoYXQgaGUgaGFzIGFjY2VzcyB0byBpbiBPZG9vLiBUbyBlbnN1cmVcbnRoZSBzZWN1cml0eSBvZiB5b3VyIGFwcCwgeW91IHNob3VsZCBjcmVhdGUgYSBuZXcgdXNlciB0aGF0IHdpbGwgYmUgdXNlZCBvbmx5XG50byBydW4geW91ciBhcHAgYW5kIHRoYXQgd2lsbCBoYXZlIG5vIGFjY2VzcyB0byB0aGUgZGF0YWJhc2UuXG5cbi4uIGNvZGUtYmxvY2s6OiB4bWxcblxuICA8cmVjb3JkXG4gICAgICAgIGlkPVwibXlfZGVtb19hcHBfdXNlclwiXG4gICAgICAgIG1vZGVsPVwicmVzLnVzZXJzXCJcbiAgICAgICAgY29udGV4dD1cInsnbm9fcmVzZXRfcGFzc3dvcmQnOiBUcnVlLCAnbm9fcmVzZXRfcGFzc3dvcmQnOiBUcnVlfVwiXG4gICAgPlxuICAgIDxmaWVsZCBuYW1lPVwibmFtZVwiPk15IERlbW8gRW5kcG9pbnQgVXNlcjwvZmllbGQ+XG4gICAgPGZpZWxkIG5hbWU9XCJsb2dpblwiPm15X2RlbW9fYXBwX3VzZXI8L2ZpZWxkPlxuICAgIDxmaWVsZCBuYW1lPVwiZ3JvdXBzX2lkXCIgZXZhbD1cIlsoNiwgMCwgW10pXVwiIC8+XG4gIDwvcmVjb3JkPlxuXG5BdCB0aGUgc2FtZSB0aW1lIHlvdSBzaG91bGQgY3JlYXRlIGEgbmV3IGdyb3VwIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGRlZmluZSB0aGVcbmFjY2VzcyByaWdodHMgb2YgdGhlIHVzZXIgdGhhdCB3aWxsIHJ1biB5b3VyIGFwcC4gVGhpcyBncm91cCBzaG91bGQgaW1wbHlcbnRoZSBwcmVkZWZpbmVkIGdyb3VwICoqJ0Zhc3RBUEkgRW5kcG9pbnQgUnVubmVyJyoqLiBUaGlzIGdyb3VwIGRlZmluZXMgdGhlXG5taW5pbXVtIGFjY2VzcyByaWdodHMgdGhhdCB0aGUgdXNlciBuZWVkcyB0bzpcblxuKiBhY2Nlc3MgdGhlIGVuZHBvaW50IGluc3RhbmNlIGl0IGJlbG9uZ3MgdG9cbiogYWNjZXNzIHRvIGl0cyBvd24gdXNlciByZWNvcmRcbiogYWNjZXNzIHRvIHRoZSBwYXJ0bmVyIHJlY29yZCB0aGF0IGlzIGxpbmtlZCB0byBpdHMgdXNlciByZWNvcmRcblxuLi4gY29kZS1ibG9jazo6IHhtbFxuXG4gIDxyZWNvcmQgaWQ9XCJteV9kZW1vX2FwcF9ncm91cFwiIG1vZGVsPVwicmVzLmdyb3Vwc1wiPlxuICAgIDxmaWVsZCBuYW1lPVwibmFtZVwiPk15IERlbW8gRW5kcG9pbnQgR3JvdXA8L2ZpZWxkPlxuICAgIDxmaWVsZCBuYW1lPVwidXNlcnNcIiBldmFsPVwiWyg0LCByZWYoJ215X2RlbW9fYXBwX3VzZXInKSldXCIgLz5cbiAgICA8ZmllbGQgbmFtZT1cImltcGxpZWRfaWRzXCIgZXZhbD1cIlsoNCwgcmVmKCdmYXN0YXBpLmdyb3VwX2Zhc3RhcGlfZW5kcG9pbnRfcnVubmVyJykpXVwiIC8+XG4gIDwvcmVjb3JkPlxuXG5cbk5vdywgeW91IGNhbiB0ZXN0IHlvdXIgYXBwLiBZb3UgY2FuIGRvIGl0IGJ5IGNsaWNraW5nIG9uIHRoZSAnVHJ5IGl0IG91dCcgYnV0dG9uXG5vZiB0aGUgcm91dGUgdGhhdCB5b3UgaGF2ZSBkZWZpbmVkLiBUaGUgcmVzdWx0IG9mIHRoZSByZXF1ZXN0IHdpbGwgYmUgZGlzcGxheWVkXG5pbiB0aGUgJ1Jlc3BvbnNlJyBzZWN0aW9uIGFuZCBjb250YWlucyB0aGUgbGlzdCBvZiBwYXJ0bmVycy5cblxuLi4gbm90ZTo6XG4gIFRoZSAqKidGYXN0QVBJIEVuZHBvaW50IFJ1bm5lcicqKiBncm91cCBlbnN1cmVzIHRoYXQgdGhlIHVzZXIgY2FuIGFjY2VzcyBhbnlcbiAgaW5mb3JtYXRpb24gb3RoZXJzIHRoYW4gdGhlIDMgb25lcyBtZW50aW9uZWQgYWJvdmUuIFRoaXMgbWVhbnMgdGhhdCBmb3IgZXZlcnlcbiAgaW5mb3JtYXRpb24gdGhhdCB5b3Ugd2FudCB0byBhY2Nlc3MgZnJvbSB5b3VyIGFwcCwgeW91IG5lZWQgdG8gY3JlYXRlIHRoZVxuICBwcm9wZXIgQUNMcyBhbmQgcmVjb3JkIHJ1bGVzLiAoc2VlIGBNYW5hZ2luZyBzZWN1cml0eSBpbnRvIHRoZSByb3V0ZSBoYW5kbGVyc2BfKVxuICBJdCdzIGEgZ29vZCBwcmFjdGljZSB0byB1c2UgYSBkZWRpY2F0ZWQgdXNlciBpbnRvIGEgc3BlY2lmaWMgZ3JvdXAgZnJvbSB0aGVcbiAgYmVnaW5uaW5nIG9mIHlvdXIgcHJvamVjdCBhbmQgaW4geW91ciB0ZXN0cy4gVGhpcyB3aWxsIGZvcmNlIHlvdSB0byBkZWZpbmVcbiAgdGhlIHByb3BlciBzZWN1cml0eSBydWxlcyBmb3IgeW91ciBlbmRvaW50cy5cblxuRGVhbGluZyB3aXRoIHRoZSBvZG9vIGVudmlyb25tZW50XG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuVGhlICoqJ29kb28uYWRkb25zLmZhc3RhcGkuZGVwZW5kcycqKiBtb2R1bGUgcHJvdmlkZXMgYSBzZXQgb2YgZnVuY3Rpb25zIHRoYXQgeW91IGNhbiB1c2VcbnRvIGluamVjdCByZXVzYWJsZSBkZXBlbmRlbmNpZXMgaW50byB5b3VyIHJvdXRlcy4gRm9yIGV4YW1wbGUsIHRoZSAqKidvZG9vX2VudicqKlxuZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VycmVudCBvZG9vIGVudmlyb25tZW50LiBZb3UgY2FuIHVzZSBpdCB0byBhY2Nlc3MgdGhlXG5vZG9vIG1vZGVscyBhbmQgdGhlIGRhdGFiYXNlIGZyb20geW91ciByb3V0ZSBoYW5kbGVycy5cblxuLi4gY29kZS1ibG9jazo6IHB5dGhvblxuXG4gICAgZnJvbSBvZG9vLmFkZG9ucy5mYXN0YXBpLmRlcGVuZHMgaW1wb3J0IG9kb29fZW52XG5cbiAgICBAZGVtb19hcGlfcm91dGVyLmdldChcIi9wYXJ0bmVyc1wiLCByZXNwb25zZV9tb2RlbD1saXN0W1BhcnRuZXJJbmZvXSlcbiAgICBkZWYgZ2V0X3BhcnRuZXJzKGVudj1EZXBlbmRzKG9kb29fZW52KSkgLT4gbGlzdFtQYXJ0bmVySW5mb106XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBQYXJ0bmVySW5mbyhuYW1lPXBhcnRuZXIubmFtZSwgZW1haWw9cGFydG5lci5lbWFpbClcbiAgICAgICAgICAgIGZvciBwYXJ0bmVyIGluIGVudltcInJlcy5wYXJ0bmVyXCJdLnNlYXJjaChbXSlcbiAgICAgICAgXVxuXG5BcyB5b3UgY2FuIHNlZSwgeW91IGNhbiB1c2UgdGhlICoqJ0RlcGVuZHMnKiogZnVuY3Rpb24gdG8gaW5qZWN0IHRoZSBkZXBlbmRlbmN5XG5pbnRvIHlvdXIgcm91dGUgaGFuZGxlci4gVGhlICoqJ0RlcGVuZHMnKiogZnVuY3Rpb24gaXMgcHJvdmlkZWQgYnkgdGhlXG4qKidmYXN0YXBpJyoqIGZyYW1ld29yay4gWW91IGNhbiB1c2UgaXQgdG8gaW5qZWN0IGFueSBkZXBlbmRlbmN5IGludG8geW91ciByb3V0ZVxuaGFuZGxlci4gQXMgeW91ciBoYW5kbGVyIGlzIGEgcHl0aG9uIGZ1bmN0aW9uLCB0aGUgb25seSB3YXkgdG8gZ2V0IGFjY2VzcyB0b1xudGhlIG9kb28gZW52aXJvbm1lbnQgaXMgdG8gaW5qZWN0IGl0IGFzIGEgZGVwZW5kZW5jeS4gVGhlIGZhc3RhcGkgYWRkb24gcHJvdmlkZXNcbmEgc2V0IG9mIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgYXMgZGVwZW5kZW5jaWVzOlxuXG4qICoqJ29kb29fZW52JyoqOiBSZXR1cm5zIHRoZSBjdXJyZW50IG9kb28gZW52aXJvbm1lbnQuXG4qICoqJ2Zhc3RhcGlfZW5kcG9pbnQnKio6IFJldHVybnMgdGhlIGN1cnJlbnQgZmFzdGFwaSBlbmRwb2ludCBtb2RlbCBpbnN0YW5jZS5cbiogKionYXV0aGVudGljYXRlZF9wYXJ0bmVyJyoqOiBSZXR1cm5zIHRoZSBhdXRoZW50aWNhdGVkIHBhcnRuZXIuXG4qICoqJ2F1dGhlbnRpY2F0ZWRfcGFydG5lcl9lbnYnKio6IFJldHVybnMgdGhlIGN1cnJlbnQgb2RvbyBlbnZpcm9ubWVudCB3aXRoIHRoZVxuICBhdXRoZW50aWNhdGVkX3BhcnRuZXJfaWQgaW50byB0aGUgY29udGV4dC5cblxuQnkgZGVmYXVsdCwgdGhlICoqJ29kb29fZW52JyoqIGFuZCAqKidmYXN0YXBpX2VuZHBvaW50JyoqIGRlcGVuZGVuY2llcyBhcmVcbmF2YWlsYWJsZSB3aXRob3V0IGV4dHJhIHdvcmsuXG5cbi4uIG5vdGU6OlxuICBFdmVuIGlmICdvZG9vX2VudicgYW5kICdhdXRoZW50aWNhdGVkX3BhcnRuZXJfZW52JyByZXR1cm5zIHRoZSBjdXJyZW50IG9kb29cbiAgZW52aXJvbm1lbnQsIHRoZXkgYXJlIG5vdCB0aGUgc2FtZS4gVGhlICdvZG9vX2VudicgZGVwZW5kZW5jeSByZXR1cm5zIHRoZVxuICBlbnZpcm9ubWVudCB3aXRob3V0IGFueSBtb2RpZmljYXRpb24gd2hpbGUgdGhlICdhdXRoZW50aWNhdGVkX3BhcnRuZXJfZW52J1xuICBhZGRzIHRoZSBhdXRoZW50aWNhdGVkIHBhcnRuZXIgaWQgaW50byB0aGUgY29udGV4dCBvZiB0aGUgZW52aXJvbm1lbnQuIEFzIGl0IHdpbGxcbiAgYmUgZXhwbGFpbmVkIGluIHRoZSBzZWN0aW9uIGBNYW5hZ2luZyBzZWN1cml0eSBpbnRvIHRoZSByb3V0ZSBoYW5kbGVyc2BfIGRlZGljYXRlZFxuICB0byB0aGUgc2VjdXJpdHksIHRoZSBwcmVzZW5jZSBvZiB0aGUgYXV0aGVudGljYXRlZCBwYXJ0bmVyIGlkIGludG8gdGhlIGNvbnRleHRcbiAgaXMgdGhlIGtleSBpbmZvcm1hdGlvbiB0aGF0IHdpbGwgYWxsb3cgeW91IHRvIGVuZm9yY2UgdGhlIHNlY3VyaXR5IG9mIHlvdXIgZW5kcG9pbnRcbiAgbWV0aG9kcy4gQXMgY29uc2VxdWVuY2UsIHlvdSBzaG91bGQgYWx3YXlzIHVzZSB0aGUgJ2F1dGhlbnRpY2F0ZWRfcGFydG5lcl9lbnYnXG4gIGRlcGVuZGVuY3kgaW5zdGVhZCBvZiB0aGUgJ29kb29fZW52JyBkZXBlbmRlbmN5IGZvciBhbGwgdGhlIG1ldGhvZHMgdGhhdCBhcmVcbiAgbm90IHB1YmxpYy5cblxuVGhlIGRlcGVuZGVuY3kgaW5qZWN0aW9uIG1lY2hhbmlzbVxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5UaGUgKionb2Rvb19lbnYnKiogZGVwZW5kZW5jeSByZWxpZXMgb24gYSBzaW1wbGUgaW1wbGVtZW50YXRpb24gdGhhdCByZXRyaWV2ZXNcbnRoZSBjdXJyZW50IG9kb28gZW52aXJvbm1lbnQgZnJvbSBDb250ZXh0VmFyIHZhcmlhYmxlIGluaXRpYWxpemVkIGF0IHRoZSBzdGFydFxub2YgdGhlIHJlcXVlc3QgcHJvY2Vzc2luZyBieSB0aGUgc3BlY2lmaWMgcmVxdWVzdCBkaXNwYXRjaGVyIHByb2Nlc3NpbmcgdGhlXG5mYXN0YXBpIHJlcXVlc3RzLlxuXG5UaGUgKionZmFzdGFwaV9lbmRwb2ludCcqKiBkZXBlbmRlbmN5IHJlbGllcyBvbiB0aGUgJ2RlcGVuZGVuY3lfb3ZlcnJpZGVzJyBtZWNoYW5pc21cbnByb3ZpZGVkIGJ5IHRoZSAqKidmYXN0YXBpJyoqIG1vZHVsZS4gKHNlZSB0aGUgZmFzdGFwaSBkb2N1bWVudGF0aW9uIGZvciBtb3JlXG5kZXRhaWxzIGFib3V0IHRoZSBkZXBlbmRlbmN5X292ZXJyaWRlcyBtZWNoYW5pc20pLiBJZiB5b3UgdGFrZSBhIGxvb2sgYXQgdGhlXG5jdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIHRoZSAqKidmYXN0YXBpX2VuZHBvaW50JyoqIGRlcGVuZGVuY3ksIHlvdSB3aWxsIHNlZVxudGhhdCB0aGUgbWV0aG9kIGRlcGVuZHMgb2YgdHdvIHBhcmFtZXRlcnM6ICoqJ2VuZHBvaW50X2lkJyoqIGFuZCAqKidlbnYnKiouIEVhY2hcbm9mIHRoZXNlIHBhcmFtZXRlcnMgYXJlIGRlcGVuZGVuY2llcyB0aGVtc2VsdmVzLlxuXG4uLiBjb2RlLWJsb2NrOjogcHl0aG9uXG5cbiAgICBkZWYgZmFzdGFwaV9lbmRwb2ludF9pZCgpIC0+IGludDpcbiAgICAgICAgXCJcIlwiVGhpcyBtZXRob2QgaXMgb3ZlcnJpZGVuIGJ5IGRlZmF1bHQgdG8gbWFrZSB0aGUgZmFzdGFwaS5lbmRwb2ludCByZWNvcmRcbiAgICAgICAgYXZhaWxhYmxlIGZvciB5b3VyIGVuZHBvaW50IG1ldGhvZC4gVG8gZ2V0IHRoZSBmYXN0YXBpLmVuZHBvaW50IHJlY29yZFxuICAgICAgICBpbiB5b3VyIG1ldGhvZCwgeW91IGp1c3QgbmVlZCB0byBhZGQgYSBkZXBlbmRlbmN5IG9uIHRoZSBmYXN0YXBpX2VuZHBvaW50IG1ldGhvZFxuICAgICAgICBkZWZpbmVkIGJlbG93XG4gICAgICAgIFwiXCJcIlxuXG5cbiAgICBkZWYgZmFzdGFwaV9lbmRwb2ludChcbiAgICAgICAgX2lkOiBpbnQgPSBEZXBlbmRzKGZhc3RhcGlfZW5kcG9pbnRfaWQpLCAgIyBub3FhOiBCMDA4XG4gICAgICAgIGVudjogRW52aXJvbm1lbnQgPSBEZXBlbmRzKG9kb29fZW52KSwgICMgbm9xYTogQjAwOFxuICAgICkgLT4gXCJGYXN0YXBpRW5kcG9pbnRcIjpcbiAgICAgICAgXCJcIlwiUmV0dXJuIHRoZSBmYXN0YXBpLmVuZHBvaW50IHJlY29yZFwiXCJcIlxuICAgICAgICByZXR1cm4gZW52W1wiZmFzdGFwaS5lbmRwb2ludFwiXS5icm93c2UoX2lkKVxuXG5cbkFzIHlvdSBjYW4gc2VlLCBvbmUgb2YgdGhlc2UgZGVwZW5kZW5jaWVzIGlzIHRoZSAqKidmYXN0YXBpX2VuZHBvaW50X2lkJyoqXG5kZXBlbmRlbmN5IGFuZCBoYXMgbm8gY29uY3JldGUgaW1wbGVtZW50YXRpb24uIFRoaXMgbWV0aG9kIGlzIHVzZWQgYXMgYSBjb250cmFjdFxudGhhdCBtdXN0IGJlIGltcGxlbWVudGVkL3Byb3ZpZGVkIGF0IHRoZSB0aW1lIHRoZSBmYXN0YXBpIGFwcCBpcyBjcmVhdGVkLlxuSGVyZSBjb21lcyB0aGUgcG93ZXIgb2YgdGhlIGRlcGVuZGVuY3lfb3ZlcnJpZGVzIG1lY2hhbmlzbS5cblxuSWYgeW91IHRha2UgYSBsb29rIGF0IHRoZSAqKidfZ2V0X2FwcCcqKiBtZXRob2Qgb2YgdGhlICoqJ0Zhc3RhcGlFbmRwb2ludCcqKiBtb2RlbCxcbnlvdSB3aWxsIHNlZSB0aGF0IHRoZSAqKidmYXN0YXBpX2VuZHBvaW50X2lkJyoqIGRlcGVuZGVuY3kgaXMgb3ZlcnJpZGVuIGJ5XG5yZWdpc3RlcmluZyBhIHNwZWNpZmljIG1ldGhvZCB0aGF0IHJldHVybnMgdGhlIGlkIG9mIHRoZSBjdXJyZW50IGZhc3RhcGkgZW5kcG9pbnRcbm1vZGVsIGluc3RhbmNlIGZvciB0aGUgb3JpZ2luYWwgbWV0aG9kLlxuXG4uLiBjb2RlLWJsb2NrOjogcHl0aG9uXG5cbiAgICBkZWYgX2dldF9hcHAoc2VsZikgLT4gRmFzdEFQSTpcbiAgICAgICAgYXBwID0gRmFzdEFQSSgqKnNlbGYuX3ByZXBhcmVfZmFzdGFwaV9lbmRwb2ludF9wYXJhbXMoKSlcbiAgICAgICAgZm9yIHJvdXRlciBpbiBzZWxmLl9nZXRfZmFzdGFwaV9yb3V0ZXJzKCk6XG4gICAgICAgICAgICBhcHAuaW5jbHVkZV9yb3V0ZXIocHJlZml4PXNlbGYucm9vdF9wYXRoLCByb3V0ZXI9cm91dGVyKVxuICAgICAgICBhcHAuZGVwZW5kZW5jeV9vdmVycmlkZXNbZGVwZW5kcy5mYXN0YXBpX2VuZHBvaW50X2lkXSA9IHBhcnRpYWwoXG4gICAgICAgICAgICBsYW1iZGEgYTogYSwgc2VsZi5pZFxuICAgICAgICApXG5cblRoaXMga2luZCBvZiBtZWNoYW5pc20gaXMgdmVyeSBwb3dlcmZ1bCBhbmQgYWxsb3dzIHlvdSB0byBpbmplY3QgYW55IGRlcGVuZGVuY3lcbmludG8geW91ciByb3V0ZSBoYW5kbGVycyBhbmQgbW9yZW92ZXIsIGRlZmluZSBhbiBhYnN0cmFjdCBkZXBlbmRlbmN5IHRoYXQgY2FuIGJlXG51c2VkIGJ5IGFueSBvdGhlciBhZGRvbiBhbmQgZm9yIHdoaWNoIHRoZSBpbXBsZW1lbnRhdGlvbiBjb3VsZCBkZXBlbmQgb24gdGhlXG5lbmRwb2ludCBjb25maWd1cmF0aW9uLlxuXG5UaGUgYXV0aGVudGljYXRpb24gbWVjaGFuaXNtXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cblRvIG1ha2Ugb3VyIGFwcCBub3QgdGlnaHRseSBjb3VwbGVkIHdpdGggYSBzcGVjaWZpYyBhdXRoZW50aWNhdGlvbiBtZWNoYW5pc20sXG53ZSB3aWxsIHVzZSB0aGUgKionYXV0aGVudGljYXRlZF9wYXJ0bmVyJyoqIGRlcGVuZGVuY3kuIEFzIGZvciB0aGVcbioqJ2Zhc3RhcGlfZW5kcG9pbnQnKiogdGhpcyBkZXBlbmRlbmN5IGRlcGVuZHMgb24gYW4gYWJzdHJhY3QgZGVwZW5kZW5jeS5cblxuV2hlbiB5b3UgZGVmaW5lIGEgcm91dGUgaGFuZGxlciwgeW91IGNhbiBpbmplY3QgdGhlICoqJ2F1dGhlbnRpY2F0ZWRfcGFydG5lcicqKlxuZGVwZW5kZW5jeSBhcyBhIHBhcmFtZXRlciBvZiB5b3VyIHJvdXRlIGhhbmRsZXIuXG5cbi4uIGNvZGUtYmxvY2s6OiBweXRob25cblxuICAgIEBkZW1vX2FwaV9yb3V0ZXIuZ2V0KFwiL3BhcnRuZXJzXCIsIHJlc3BvbnNlX21vZGVsPWxpc3RbUGFydG5lckluZm9dKVxuICAgIGRlZiBnZXRfcGFydG5lcnMoXG4gICAgICAgIGVudj1EZXBlbmRzKG9kb29fZW52KSwgcGFydG5lcj1EZXBlbmRzKGF1dGhlbnRpY2F0ZWRfcGFydG5lcilcbiAgICApIC0+IGxpc3RbUGFydG5lckluZm9dOlxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgUGFydG5lckluZm8obmFtZT1wYXJ0bmVyLm5hbWUsIGVtYWlsPXBhcnRuZXIuZW1haWwpXG4gICAgICAgICAgICBmb3IgcGFydG5lciBpbiBlbnZbXCJyZXMucGFydG5lclwiXS5zZWFyY2goW10pXG4gICAgICAgIF1cblxuXG5BdCB0aGlzIHN0YWdlLCB5b3VyIGhhbmRsZXIgaXMgbm90IHRpZWQgdG8gYSBzcGVjaWZpYyBhdXRoZW50aWNhdGlvbiBtZWNoYW5pc21cbmJ1dCBvbmx5IGV4cGVjdHMgdG8gZ2V0IGEgcGFydG5lciBhcyBhIGRlcGVuZGVuY3kuIERlcGVuZGluZyBvbiB5b3VyIG5lZWRzLCB5b3VcbmNhbiBpbXBsZW1lbnQgZGlmZmVyZW50IGF1dGhlbnRpY2F0aW9uIG1lY2hhbmlzbSBhdmFpbGFibGUgZm9yIHlvdXIgYXBwLlxuVGhlIGZhc3RhcGkgYWRkb24gcHJvdmlkZXMgYSBkZWZhdWx0IGF1dGhlbnRpY2F0aW9uIG1lY2hhbmlzbSB1c2luZyB0aGVcbidCYXNpY0F1dGgnIG1ldGhvZC4gVGhpcyBhdXRoZW50aWNhdGlvbiBtZWNoYW5pc20gaXMgaW1wbGVtZW50ZWQgaW4gdGhlXG4qKidvZG9vLmFkZG9ucy5mYXN0YXBpLmRlcGVuZHMnKiogbW9kdWxlIGFuZCByZWxpZXMgb24gZnVuY3Rpb25hbGl0aWVzIHByb3ZpZGVkXG5ieSB0aGUgKionZmFzdGFwaS5zZWN1cml0eScqKiBtb2R1bGUuXG5cbi4uIGNvZGUtYmxvY2s6OiBweXRob25cblxuICAgICAgZGVmIGF1dGhlbnRpY2F0ZWRfcGFydG5lcihcbiAgICAgICAgICBlbnY6IEVudmlyb25tZW50ID0gRGVwZW5kcyhvZG9vX2VudiksXG4gICAgICAgICAgc2VjdXJpdHk6IEhUVFBCYXNpY0NyZWRlbnRpYWxzID0gRGVwZW5kcyhIVFRQQmFzaWMoKSksXG4gICAgICApIC0+IFwicmVzLnBhcnRuZXJcIjpcbiAgICAgICAgICBcIlwiXCJSZXR1cm4gdGhlIGF1dGhlbnRpY2F0ZWQgcGFydG5lclwiXCJcIlxuICAgICAgICAgIHBhcnRuZXIgPSBlbnZbXCJyZXMucGFydG5lclwiXS5zZWFyY2goXG4gICAgICAgICAgICAgIFsoXCJlbWFpbFwiLCBcIj1cIiwgc2VjdXJpdHkudXNlcm5hbWUpXSwgbGltaXQ9MVxuICAgICAgICAgIClcbiAgICAgICAgICBpZiBub3QgcGFydG5lcjpcbiAgICAgICAgICAgICAgcmFpc2UgSFRUUEV4Y2VwdGlvbihcbiAgICAgICAgICAgICAgICAgIHN0YXR1c19jb2RlPXN0YXR1cy5IVFRQXzQwMV9VTkFVVEhPUklaRUQsXG4gICAgICAgICAgICAgICAgICBkZXRhaWw9XCJJbnZhbGlkIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzXCIsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzPXtcIldXVy1BdXRoZW50aWNhdGVcIjogXCJCYXNpY1wifSxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgIGlmIG5vdCBwYXJ0bmVyLmNoZWNrX3Bhc3N3b3JkKHNlY3VyaXR5LnBhc3N3b3JkKTpcbiAgICAgICAgICAgICAgcmFpc2UgSFRUUEV4Y2VwdGlvbihcbiAgICAgICAgICAgICAgICAgIHN0YXR1c19jb2RlPXN0YXR1cy5IVFRQXzQwMV9VTkFVVEhPUklaRUQsXG4gICAgICAgICAgICAgICAgICBkZXRhaWw9XCJJbnZhbGlkIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzXCIsXG4gICAgICAgICAgICAgICAgICBoZWFkZXJzPXtcIldXVy1BdXRoZW50aWNhdGVcIjogXCJCYXNpY1wifSxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBwYXJ0bmVyXG5cbkFzIHlvdSBjYW4gc2VlLCB0aGUgKionYXV0aGVudGljYXRlZF9wYXJ0bmVyJyoqIGRlcGVuZGVuY3kgcmVsaWVzIG9uIHRoZVxuKionSFRUUEJhc2ljJyoqIGRlcGVuZGVuY3kgcHJvdmlkZWQgYnkgdGhlICoqJ2Zhc3RhcGkuc2VjdXJpdHknKiogbW9kdWxlLlxuSW4gdGhpcyBkdW1teSBpbXBsZW1lbnRhdGlvbiwgd2UganVzdCBjaGVjayB0aGF0IHRoZSBwcm92aWRlZCBjcmVkZW50aWFsc1xuY2FuIGJlIHVzZWQgdG8gYXV0aGVudGljYXRlIGEgdXNlciBpbiBvZG9vLiBJZiB0aGUgYXV0aGVudGljYXRpb24gaXMgc3VjY2Vzc2Z1bCxcbndlIHJldHVybiB0aGUgcGFydG5lciByZWNvcmQgbGlua2VkIHRvIHRoZSBhdXRoZW50aWNhdGVkIHVzZXIuXG5cbkluIHNvbWUgY2FzIHlvdSBjb3VsZCB3YW50IHRvIGltcGxlbWVudCBhIG1vcmUgY29tcGxleCBhdXRoZW50aWNhdGlvbiBtZWNoYW5pc21cbnRoYXQgY291bGQgcmVseSBvbiBhIHRva2VuIG9yIGEgc2Vzc2lvbi4gSW4gdGhpcyBjYXNlLCB5b3UgY2FuIG92ZXJyaWRlIHRoZVxuKionYXV0aGVudGljYXRlZF9wYXJ0bmVyJyoqIGRlcGVuZGVuY3kgYnkgcmVnaXN0ZXJpbmcgYSBzcGVjaWZpYyBtZXRob2QgdGhhdFxucmV0dXJucyB0aGUgYXV0aGVudGljYXRlZCBwYXJ0bmVyLiBNb3Jlb3ZlciwgeW91IGNhbiBtYWtlIGl0IGNvbmZpZ3VyYWJsZSBvblxudGhlIGZhc3RhcGkgZW5kcG9pbnQgbW9kZWwgaW5zdGFuY2UuXG5cblRvIGRvIGl0LCB5b3UganVzdCBuZWVkIHRvIGltcGxlbWVudCBhIHNwZWNpZmljIG1ldGhvZCBmb3IgZWFjaCBvZiB5b3VyXG5hdXRoZW50aWNhdGlvbiBtZWNoYW5pc20gYW5kIGFsbG93cyB0aGUgdXNlciB0byBzZWxlY3Qgb25lIG9mIHRoZXNlIG1ldGhvZHNcbndoZW4gaGUgY3JlYXRlcyBhIG5ldyBmYXN0YXBpIGVuZHBvaW50LiBMZXQncyBzYXkgdGhhdCB3ZSB3YW50IHRvIGFsbG93IHRoZVxuYXV0aGVudGljYXRpb24gYnkgdXNpbmcgYW4gYXBpIGtleSBvciB2aWEgYmFzaWMgYXV0aC4gU2luY2UgYmFzaWMgYXV0aCBpcyBhbHJlYWR5XG5pbXBsZW1lbnRlZCwgd2Ugd2lsbCBvbmx5IGltcGxlbWVudCB0aGUgYXBpIGtleSBhdXRoZW50aWNhdGlvbiBtZWNoYW5pc20uXG5cbi4uIGNvZGUtYmxvY2s6OiBweXRob25cblxuICBmcm9tIGZhc3RhcGkuc2VjdXJpdHkgaW1wb3J0IEFQSUtleUhlYWRlclxuXG4gIGRlZiBhcGlfa2V5X2Jhc2VkX2F1dGhlbnRpY2F0ZWRfcGFydG5lcl9pbXBsKFxuICAgICAgYXBpX2tleTogc3RyID0gRGVwZW5kcyggICMgbm9xYTogQjAwOFxuICAgICAgICAgIEFQSUtleUhlYWRlcihcbiAgICAgICAgICAgICAgbmFtZT1cImFwaS1rZXlcIixcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb249XCJJbiB0aGlzIGRlbW8sIHlvdSBjYW4gdXNlIGEgdXNlcidzIGxvZ2luIGFzIGFwaSBrZXkuXCIsXG4gICAgICAgICAgKVxuICAgICAgKSxcbiAgICAgIGVudjogRW52aXJvbm1lbnQgPSBEZXBlbmRzKG9kb29fZW52KSwgICMgbm9xYTogQjAwOFxuICApIC0+IFBhcnRuZXI6XG4gICAgICBcIlwiXCJBIGR1bW15IGltcGxlbWVudGF0aW9uIHRoYXQgbG9vayBmb3IgYSB1c2VyIHdpdGggdGhlIHNhbWUgbG9naW5cbiAgICAgIGFzIHRoZSBwcm92aWRlZCBhcGkga2V5XG4gICAgICBcIlwiXCJcbiAgICAgIHBhcnRuZXIgPSBlbnZbXCJyZXMudXNlcnNcIl0uc2VhcmNoKFsoXCJsb2dpblwiLCBcIj1cIiwgYXBpX2tleSldLCBsaW1pdD0xKS5wYXJ0bmVyX2lkXG4gICAgICBpZiBub3QgcGFydG5lcjpcbiAgICAgICAgICByYWlzZSBIVFRQRXhjZXB0aW9uKFxuICAgICAgICAgICAgICBzdGF0dXNfY29kZT1zdGF0dXMuSFRUUF80MDFfVU5BVVRIT1JJWkVELCBkZXRhaWw9XCJJbmNvcnJlY3QgQVBJIEtleVwiXG4gICAgICAgICAgKVxuICAgICAgcmV0dXJuIHBhcnRuZXJcblxuQXMgZm9yIHRoZSAnQmFzaWNBdXRoJyBhdXRoZW50aWNhdGlvbiBtZWNoYW5pc20sIHdlIGFsc28gcmVseSBvbmUgb2YgdGhlIG5hdGl2ZVxuc2VjdXJpdHkgZGVwZW5kZW5jeSBwcm92aWRlZCBieSB0aGUgKionZmFzdGFwaS5zZWN1cml0eScqKiBtb2R1bGUuXG5cbk5vdyB0aGF0IHdlIGhhdmUgYW4gaW1wbGVtZW50YXRpb24gZm9yIG91ciB0d28gYXV0aGVudGljYXRpb24gbWVjaGFuaXNtLCB3ZVxuY2FuIGFsbG93cyB0aGUgdXNlciB0byBzZWxlY3Qgb25lIG9mIHRoZXNlIGF1dGhlbnRpY2F0aW9uIG1lY2hhbmlzbSBieSBhZGRpbmdcbmEgc2VsZWN0aW9uIGZpZWxkIG9uIHRoZSBmYXN0YXBpIGVuZHBvaW50IG1vZGVsLlxuXG4uLiBjb2RlLWJsb2NrOjogcHl0aG9uXG5cbiAgZnJvbSBvZG9vIGltcG9ydCBmaWVsZHMsIG1vZGVsc1xuXG4gIGNsYXNzIEZhc3RhcGlFbmRwb2ludChtb2RlbHMuTW9kZWwpOlxuXG4gICAgICBfaW5oZXJpdCA9IFwiZmFzdGFwaS5lbmRwb2ludFwiXG5cbiAgICAgIGFwcDogc3RyID0gZmllbGRzLlNlbGVjdGlvbihcbiAgICAgICAgc2VsZWN0aW9uX2FkZD1bKFwiZGVtb1wiLCBcIkRlbW8gRW5kcG9pbnRcIildLCBvbmRlbGV0ZT17XCJkZW1vXCI6IFwiY2FzY2FkZVwifVxuICAgICAgKVxuICAgICAgZGVtb19hdXRoX21ldGhvZCA9IGZpZWxkcy5TZWxlY3Rpb24oXG4gICAgICAgICAgc2VsZWN0aW9uPVsoXCJhcGlfa2V5XCIsIFwiQXBpIEtleVwiKSwgKFwiaHR0cF9iYXNpY1wiLCBcIkhUVFAgQmFjaWNcIildLFxuICAgICAgICAgIHN0cmluZz1cIkF1dGhlbmNpYXRpb24gbWV0aG9kXCIsXG4gICAgICApXG5cbi4uIG5vdGU6OlxuICBBIGdvb2QgcHJhY3RpY2UgaXMgdG8gcHJlZml4IHNwZWNpZmljIGNvbmZpZ3VyYXRpb24gZmllbGRzIG9mIHlvdXIgYXBwIHdpdGhcbiAgdGhlIG5hbWUgb2YgeW91ciBhcHAuIFRoaXMgd2lsbCBhdm9pZCBjb25mbGljdHMgd2l0aCBvdGhlciBhcHAgd2hlbiB0aGVcbiAgJ2Zhc3RhcGkuZW5kcG9pbnQnIG1vZGVsIGlzIGV4dGVuZGVkIGZvciBvdGhlciAnYXBwJy5cblxuTm93IHRoYXQgd2UgaGF2ZSBhIHNlbGVjdGlvbiBmaWVsZCB0aGF0IGFsbG93cyB0aGUgdXNlciB0byBzZWxlY3QgdGhlXG5hdXRoZW50aWNhdGlvbiBtZXRob2QsIHdlIGNhbiB1c2UgdGhlIGRlcGVuZGVuY3kgb3ZlcnJpZGUgbWVjaGFuaXNtIHRvXG5wcm92aWRlIHRoZSByaWdodCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgKionYXV0aGVudGljYXRlZF9wYXJ0bmVyJyoqIGRlcGVuZGVuY3lcbndoZW4gdGhlIGFwcCBpcyBpbnN0YW50aWF0ZWQuXG5cbi4uIGNvZGUtYmxvY2s6OiBweXRob25cblxuICBmcm9tIG9kb28uYWRkb25zLmZhc3RhcGkgaW1wb3J0IGRlcGVuZHNcbiAgZnJvbSBvZG9vLmFkZG9ucy5mYXN0YXBpLmRlcGVuZHMgaW1wb3J0IGF1dGhlbnRpY2F0ZWRfcGFydG5lclxuICBjbGFzcyBGYXN0YXBpRW5kcG9pbnQobW9kZWxzLk1vZGVsKTpcblxuICAgICAgX2luaGVyaXQgPSBcImZhc3RhcGkuZW5kcG9pbnRcIlxuXG4gICAgICBhcHA6IHN0ciA9IGZpZWxkcy5TZWxlY3Rpb24oXG4gICAgICAgIHNlbGVjdGlvbl9hZGQ9WyhcImRlbW9cIiwgXCJEZW1vIEVuZHBvaW50XCIpXSwgb25kZWxldGU9e1wiZGVtb1wiOiBcImNhc2NhZGVcIn1cbiAgICAgIClcbiAgICAgIGRlbW9fYXV0aF9tZXRob2QgPSBmaWVsZHMuU2VsZWN0aW9uKFxuICAgICAgICAgIHNlbGVjdGlvbj1bKFwiYXBpX2tleVwiLCBcIkFwaSBLZXlcIiksIChcImh0dHBfYmFzaWNcIiwgXCJIVFRQIEJhY2ljXCIpXSxcbiAgICAgICAgICBzdHJpbmc9XCJBdXRoZW5jaWF0aW9uIG1ldGhvZFwiLFxuICAgICAgKVxuXG4gICAgZGVmIF9nZXRfYXBwKHNlbGYpIC0+IEZhc3RBUEk6XG4gICAgICAgIGFwcCA9IHN1cGVyKCkuX2dldF9hcHAoKVxuICAgICAgICBpZiBzZWxmLmFwcCA9PSBcImRlbW9cIjpcbiAgICAgICAgICAgICMgSGVyZSB3ZSBhZGQgdGhlIG92ZXJyaWRlcyB0byB0aGUgYXV0aGVudGljYXRlZF9wYXJ0bmVyX2ltcGwgbWV0aG9kXG4gICAgICAgICAgICAjIGFjY29yZGluZyB0byB0aGUgYXV0aGVudGljYXRpb24gbWV0aG9kIGNvbmZpZ3VyZWQgb24gdGhlIGRlbW8gYXBwXG4gICAgICAgICAgICBpZiBzZWxmLmRlbW9fYXV0aF9tZXRob2QgPT0gXCJodHRwX2Jhc2ljXCI6XG4gICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZF9wYXJ0bmVyX2ltcGxfb3ZlcnJpZGUgPSAoXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWRfcGFydG5lcl9mcm9tX2Jhc2ljX2F1dGhfdXNlclxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIGVsc2U6XG4gICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZF9wYXJ0bmVyX2ltcGxfb3ZlcnJpZGUgPSAoXG4gICAgICAgICAgICAgICAgICAgIGFwaV9rZXlfYmFzZWRfYXV0aGVudGljYXRlZF9wYXJ0bmVyX2ltcGxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgIGFwcC5kZXBlbmRlbmN5X292ZXJyaWRlc1tcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWRfcGFydG5lcl9pbXBsXG4gICAgICAgIF0gPSBhdXRoZW50aWNhdGVkX3BhcnRuZXJfaW1wbF9vdmVycmlkZVxuICAgICAgICByZXR1cm4gYXBwXG5cblxuVG8gc2VlIGhvdyB0aGUgZGVwZW5kZW5jeSBvdmVycmlkZSBtZWNoYW5pc20gd29ya3MsIHlvdSBjYW4gdGFrZSBhIGxvb2sgYXQgdGhlXG5kZW1vIGFwcCBwcm92aWRlZCBieSB0aGUgZmFzdGFwaSBhZGRvbi4gSWYgeW91IGNob29zZSB0aGUgYXBwICdkZW1vJyBpbiB0aGVcbmZhc3RhcGkgZW5kcG9pbnQgZm9ybSB2aWV3LCB5b3Ugd2lsbCBzZWUgdGhhdCB0aGUgYXV0aGVudGljYXRpb24gbWV0aG9kXG5pcyBjb25maWd1cmFibGUuIFlvdSBjYW4gYWxzbyBzZWUgdGhhdCBkZXBlbmRpbmcgb24gdGhlIGF1dGhlbnRpY2F0aW9uIG1ldGhvZFxuY29uZmlndXJlZCBvbiB5b3VyIGZhc3RhcGkgZW5kcG9pbnQsIHRoZSBkb2N1bWVudGF0aW9uIHdpbGwgY2hhbmdlLlxuXG4uLiBub3RlOjpcbiAgQSB0aW1lIG9mIHdyaXRpbmcsIHRoZSBkZXBlbmRlbmN5IG92ZXJyaWRlIG1lY2hhbmlzbSBpcyBub3Qgc3VwcG9ydGVkIGJ5XG4gIHRoZSBmYXN0YXBpIGRvY3VtZW50YXRpb24gZ2VuZXJhdG9yLiBBIGZpeCBoYXMgYmVlbiBwcm9wb3NlZCBhbmQgaXMgd2FpdGluZ1xuICB0byBiZSBtZXJnZWQuIFlvdSBjYW4gZm9sbG93IHRoZSBwcm9ncmVzcyBvZiB0aGUgZml4IG9uIGBnaXRodWJcbiAgPGh0dHBzOi8vZ2l0aHViLmNvbS90aWFuZ29sby9mYXN0YXBpL3B1bGwvNTQ1Mj5gX1xuXG5NYW5hZ2luZyBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgZm9yIHlvdXIgYXBwXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG5BcyB3ZSBoYXZlIHNlZW4gaW4gdGhlIHByZXZpb3VzIHNlY3Rpb24sIHlvdSBjYW4gYWRkIGNvbmZpZ3VyYXRpb24gZmllbGRzXG5vbiB0aGUgZmFzdGFwaSBlbmRwb2ludCBtb2RlbCB0byBhbGxvdyB0aGUgdXNlciB0byBjb25maWd1cmUgeW91ciBhcHAgKGFzIGZvclxuYW55IG9kb28gbW9kZWwgeW91IGV4dGVuZCkuIFdoZW4geW91IG5lZWQgdG8gYWNjZXNzIHRoZXNlIGNvbmZpZ3VyYXRpb24gZmllbGRzXG5pbiB5b3VyIHJvdXRlIGhhbmRsZXJzLCB5b3UgY2FuIHVzZSB0aGUgKionb2Rvby5hZGRvbnMuZmFzdGFwaS5kZXBlbmRzLmZhc3RhcGlfZW5kcG9pbnQnKipcbmRlcGVuZGVuY3kgbWV0aG9kIHRvIHJldHJpZXZlIHRoZSAnZmFzdGFwaS5lbmRwb2ludCcgcmVjb3JkIGFzc29jaWF0ZWQgdG8gdGhlXG5jdXJyZW50IHJlcXVlc3QuXG5cbi4uIGNvZGUtYmxvY2s6OiBweXRob25cblxuICBmcm9tIHB5ZGFudGljIGltcG9ydCBCYXNlTW9kZWwsIEZpZWxkXG4gIGZyb20gb2Rvby5hZGRvbnMuZmFzdGFwaS5kZXBlbmRzIGltcG9ydCBmYXN0YXBpX2VuZHBvaW50XG5cbiAgY2xhc3MgRW5kcG9pbnRBcHBJbmZvKEJhc2VNb2RlbCk6XG4gICAgaWQ6IHN0clxuICAgIG5hbWU6IHN0clxuICAgIGFwcDogc3RyXG4gICAgYXV0aF9tZXRob2Q6IHN0ciA9IEZpZWxkKGFsaWFzPVwiZGVtb19hdXRoX21ldGhvZFwiKVxuICAgIHJvb3RfcGF0aDogc3RyXG5cbiAgICBjbGFzcyBDb25maWc6XG4gICAgICAgIG9ybV9tb2RlID0gVHJ1ZVxuXG4gICAgQGRlbW9fYXBpX3JvdXRlci5nZXQoXG4gICAgICAgIFwiL2VuZHBvaW50X2FwcF9pbmZvXCIsXG4gICAgICAgIHJlc3BvbnNlX21vZGVsPUVuZHBvaW50QXBwSW5mbyxcbiAgICAgICAgZGVwZW5kZW5jaWVzPVtEZXBlbmRzKGF1dGhlbnRpY2F0ZWRfcGFydG5lcildLFxuICAgIClcbiAgICBhc3luYyBkZWYgZW5kcG9pbnRfYXBwX2luZm8oXG4gICAgICAgIGVuZHBvaW50OiBGYXN0YXBpRW5kcG9pbnQgPSBEZXBlbmRzKGZhc3RhcGlfZW5kcG9pbnQpLCAgIyBub3FhOiBCMDA4XG4gICAgKSAtPiBFbmRwb2ludEFwcEluZm86XG4gICAgICAgIFwiXCJcIlJldHVybnMgdGhlIGN1cnJlbnQgZW5kcG9pbnQgY29uZmlndXJhdGlvblwiXCJcIlxuICAgICAgICAjIFRoaXMgbWV0aG9kIHNob3cgeW91IGhvdyB0byBnZXQgYWNjZXNzIHRvIGN1cnJlbnQgZW5kcG9pbnQgY29uZmlndXJhdGlvblxuICAgICAgICAjIEl0IGFsc28gc2hvdyB5b3UgaG93IHlvdSBjYW4gc3BlY2lmeSBhIGRlcGVuZGVuY3kgdG8gZm9yY2UgdGhlIHNlY3VyaXR5XG4gICAgICAgICMgZXZlbiBpZiB0aGUgbWV0aG9kIGRvZXNuJ3QgcmVxdWlyZSB0aGUgYXV0aGVudGljYXRlZCBwYXJ0bmVyIGFzIHBhcmFtZXRlclxuICAgICAgICByZXR1cm4gRW5kcG9pbnRBcHBJbmZvLmZyb21fb3JtKGVuZHBvaW50KVxuXG5Tb21lIG9mIHRoZSBjb25maWd1cmF0aW9uIGZpZWxkcyBvZiB0aGUgZmFzdGFwaSBlbmRwb2ludCBjb3VsZCBpbXBhY3QgdGhlIHdheVxudGhlIGFwcCBpcyBpbnN0YW50aWF0ZWQuIEZvciBleGFtcGxlLCBpbiB0aGUgcHJldmlvdXMgc2VjdGlvbiwgd2UgaGF2ZSBzZWVuXG50aGF0IHRoZSBhdXRoZW50aWNhdGlvbiBtZXRob2QgY29uZmlndXJlZCBvbiB0aGUgJ2Zhc3RhcGkuZW5kcG9pbnQnIHJlY29yZCBpc1xudXNlZCBpbiBvcmRlciB0byBwcm92aWRlIHRoZSByaWdodCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgKionYXV0aGVudGljYXRlZF9wYXJ0bmVyJyoqXG53aGVuIHRoZSBhcHAgaXMgaW5zdGFudGlhdGVkLiBUbyBlbnN1cmUgdGhhdCB0aGUgYXBwIGlzIHJlLWluc3RhbnRpYXRlZCB3aGVuXG5hbiBlbGVtZW50IG9mIHRoZSBjb25maWd1cmF0aW9uIHVzZWQgaW4gdGhlIGluc3RhbnRpYXRpb24gb2YgdGhlIGFwcCBpc1xubW9kaWZpZWQsIHlvdSBtdXN0IG92ZXJyaWRlIHRoZSAqKidfZmFzdGFwaV9hcHBfZmllbGRzJyoqIG1ldGhvZCB0byBhZGQgdGhlXG5uYW1lIG9mIHRoZSBmaWVsZHMgdGhhdCBpbXBhY3QgdGhlIGluc3RhbnRpYXRpb24gb2YgdGhlIGFwcCBpbnRvIHRoZSByZXR1cm5lZFxubGlzdC5cblxuLi4gY29kZS1ibG9jazo6IHB5dGhvblxuXG4gIGNsYXNzIEZhc3RhcGlFbmRwb2ludChtb2RlbHMuTW9kZWwpOlxuXG4gICAgICBfaW5oZXJpdCA9IFwiZmFzdGFwaS5lbmRwb2ludFwiXG5cbiAgICAgIGFwcDogc3RyID0gZmllbGRzLlNlbGVjdGlvbihcbiAgICAgICAgc2VsZWN0aW9uX2FkZD1bKFwiZGVtb1wiLCBcIkRlbW8gRW5kcG9pbnRcIildLCBvbmRlbGV0ZT17XCJkZW1vXCI6IFwiY2FzY2FkZVwifVxuICAgICAgKVxuICAgICAgZGVtb19hdXRoX21ldGhvZCA9IGZpZWxkcy5TZWxlY3Rpb24oXG4gICAgICAgICAgc2VsZWN0aW9uPVsoXCJhcGlfa2V5XCIsIFwiQXBpIEtleVwiKSwgKFwiaHR0cF9iYXNpY1wiLCBcIkhUVFAgQmFjaWNcIildLFxuICAgICAgICAgIHN0cmluZz1cIkF1dGhlbmNpYXRpb24gbWV0aG9kXCIsXG4gICAgICApXG5cbiAgICAgIEBhcGkubW9kZWxcbiAgICAgIGRlZiBfZmFzdGFwaV9hcHBfZmllbGRzKHNlbGYpIC0+IExpc3Rbc3RyXTpcbiAgICAgICAgICBmaWVsZHMgPSBzdXBlcigpLl9mYXN0YXBpX2FwcF9maWVsZHMoKVxuICAgICAgICAgIGZpZWxkcy5hcHBlbmQoXCJkZW1vX2F1dGhfbWV0aG9kXCIpXG4gICAgICAgICAgcmV0dXJuIGZpZWxkc1xuXG5EZWFsaW5nIHdpdGggbGFuZ3VhZ2VzXG4qKioqKioqKioqKioqKioqKioqKioqXG5cblRoZSBmYXN0YXBpIGFkZG9uIHBhcnNlcyB0aGUgQWNjZXB0LUxhbmd1YWdlIGhlYWRlciBvZiB0aGUgcmVxdWVzdCB0byBkZXRlcm1pbmVcbnRoZSBsYW5ndWFnZSB0byB1c2UuIFRoaXMgcGFyc2luZyBpcyBkb25lIGJ5IHJlc3BlY3RpbmcgdGhlIGBSRkMgNzIzMSBzcGVjaWZpY2F0aW9uXG48aHR0cHM6Ly9kYXRhdHJhY2tlci5pZXRmLm9yZy9kb2MvaHRtbC9yZmM3MjMxI3NlY3Rpb24tNS4zLjU+YF8uIFRoYXQgbWVhbnMgdGhhdFxudGhlIGxhbmd1YWdlIGlzIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGxhbmd1YWdlIGZvdW5kIGluIHRoZSBoZWFkZXIgdGhhdCBpc1xuc3VwcG9ydGVkIGJ5IG9kb28gKHdpdGggY2FyZSBvZiB0aGUgcHJpb3JpdHkgb3JkZXIpLiBJZiBubyBsYW5ndWFnZSBpcyBmb3VuZCBpblxudGhlIGhlYWRlciwgdGhlIG9kb28gZGVmYXVsdCBsYW5ndWFnZSBpcyB1c2VkLiBUaGlzIGxhbmd1YWdlIGlzIHRoZW4gdXNlZCB0b1xuaW5pdGlhbGl6ZSB0aGUgT2RvbydzIGVudmlyb25tZW50IGNvbnRleHQgdXNlZCBieSB0aGUgcm91dGUgaGFuZGxlcnMuIEFsbCB0aGlzXG5tYWtlcyB0aGUgbWFuYWdlbWVudCBvZiBsYW5ndWFnZXMgdmVyeSBlYXN5LiBZb3UgZG9uJ3QgaGF2ZSB0byB3b3JyeSBhYm91dC4gVGhpc1xuZmVhdHVyZSBpcyBhbHNvIGRvY3VtZW50ZWQgYnkgZGVmYXVsdCBpbnRvIHRoZSBnZW5lcmF0ZWQgb3BlbmFwaSBkb2N1bWVudGF0aW9uXG5vZiB5b3VyIGFwcCB0byBpbnN0cnVjdCB0aGUgYXBpIGNvbnN1bWVycyBob3cgdG8gcmVxdWVzdCBhIHNwZWNpZmljIGxhbmd1YWdlLlxuXG5cbkhvdyB0byBleHRlbmQgYW4gZXhpc3RpbmcgYXBwXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuV2hlbiB5b3UgZGV2ZWxvcCBhIGZhc3RhcGkgYXBwLCBpbiBhIG5hdGl2ZSBweXRob24gYXBwIGl0J3Mgbm90IHBvc3NpYmxlXG50byBleHRlbmQgYW5kIGV4aXN0aW5nIG9uZS4gVGhpcyBsaW1pdGF0aW9uIGRvZXNuJ3QgYXBwbHkgdG8gdGhlIGZhc3RhcGkgYWRkb25cbmJlY2F1c2UgdGhlIGZhc3RhcGkgZW5kcG9pbnQgbW9kZWwgaXMgZGVzaWduZWQgdG8gYmUgZXh0ZW5kZWQuIEhvd2V2ZXIsIHRoZVxud2F5IHRvIGV4dGVuZCBhbiBleGlzdGluZyBhcHAgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSB3YXkgdG8gZXh0ZW5kIGFuIG9kb28gbW9kZWwuXG5cbkZpcnN0IG9mIGFsbCwgaXQncyBpbXBvcnRhbnQgdG8ga2VlcCBpbiBtaW5kIHRoYXQgd2hlbiB5b3UgZGVmaW5lIGEgcm91dGUsIHlvdVxuYXJlIGFjdHVhbGx5IGRlZmluaW5nIGEgY29udHJhY3QgYmV0d2VlbiB0aGUgY2xpZW50IGFuZCB0aGUgc2VydmVyLiBUaGlzXG5jb250cmFjdCBpcyBkZWZpbmVkIGJ5IHRoZSByb3V0ZSBwYXRoLCB0aGUgbWV0aG9kIChHRVQsIFBPU1QsIFBVVCwgREVMRVRFLFxuZXRjLiksIHRoZSBwYXJhbWV0ZXJzIGFuZCB0aGUgcmVzcG9uc2UuIElmIHlvdSB3YW50IHRvIGV4dGVuZCBhbiBleGlzdGluZyBhcHAsXG55b3UgbXVzdCBlbnN1cmUgdGhhdCB0aGUgY29udHJhY3QgaXMgbm90IGJyb2tlbi4gQW55IGNoYW5nZSB0byB0aGUgY29udHJhY3RcbndpbGwgcmVzcGVjdCB0aGUgYExpc2tvdiBzdWJzdGl0dXRpb24gcHJpbmNpcGxlXG48aHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlza292X3N1YnN0aXR1dGlvbl9wcmluY2lwbGU+YF8uIFRoaXMgbWVhbnNcbnRoYXQgdGhlIGNsaWVudCBzaG91bGQgbm90IGJlIGltcGFjdGVkIGJ5IHRoZSBjaGFuZ2UuXG5cbldoYXQgZG9lcyBpdCBtZWFuIGluIHByYWN0aWNlPyBJdCBtZWFucyB0aGF0IHlvdSBjYW4ndCBjaGFuZ2UgdGhlIHJvdXRlIHBhdGhcbm9yIHRoZSBtZXRob2Qgb2YgYW4gZXhpc3Rpbmcgcm91dGUuIFlvdSBjYW4ndCBjaGFuZ2UgdGhlIG5hbWUgb2YgYSBwYXJhbWV0ZXJcbm9yIHRoZSB0eXBlIG9mIGEgcmVzcG9uc2UuIFlvdSBjYW4ndCBhZGQgYSBuZXcgcGFyYW1ldGVyIG9yIGEgbmV3IHJlc3BvbnNlLlxuWW91IGNhbid0IHJlbW92ZSBhIHBhcmFtZXRlciBvciBhIHJlc3BvbnNlLiBJZiB5b3Ugd2FudCB0byBjaGFuZ2UgdGhlIGNvbnRyYWN0LFxueW91IG11c3QgY3JlYXRlIGEgbmV3IHJvdXRlLlxuXG5XaGF0IGNhbiB5b3UgY2hhbmdlP1xuXG4qIFlvdSBjYW4gY2hhbmdlIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgcm91dGUgaGFuZGxlci5cbiogWW91IGNhbiBvdmVycmlkZSB0aGUgZGVwZW5kZW5jaWVzIG9mIHRoZSByb3V0ZSBoYW5kbGVyLlxuKiBZb3UgY2FuIGFkZCBhIG5ldyByb3V0ZSBoYW5kbGVyLlxuKiBZb3UgY2FuIGV4dGVuZCB0aGUgbW9kZWwgdXNlZCBhcyBwYXJhbWV0ZXIgb3IgYXMgcmVzcG9uc2Ugb2YgdGhlIHJvdXRlIGhhbmRsZXIuXG5cbkxldCdzIHNlZSBob3cgdG8gZG8gdGhhdC5cblxuQ2hhbmdpbmcgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSByb3V0ZSBoYW5kbGVyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuTGV0J3Mgc2F5IHRoYXQgeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgcm91dGUgaGFuZGxlclxuKionL2RlbW8vZWNobycqKi4gU2luY2UgYSByb3V0ZSBoYW5kbGVyIGlzIGp1c3QgYSBweXRob24gbWV0aG9kLCBpdCBjb3VsZCBzZWVtc1xuYSB0ZWRpb3VzIHRhc2sgc2luY2Ugd2UgYXJlIG5vdCBpbnRvIGEgbW9kZWwgbWV0aG9kIGFuZCB0aGVyZWZvcmUgd2UgY2FuJ3RcbnRha2UgYWR2YW50YWdlIG9mIHRoZSBPZG9vIGluaGVyaXRhbmNlIG1lY2hhbmlzbS5cblxuSG93ZXZlciwgdGhlIGZhc3RhcGkgYWRkb24gcHJvdmlkZXMgYSB3YXkgdG8gZG8gdGhhdC4gVGhhbmtzIHRvIHRoZSAqKidvZG9vX2VudicqKlxuZGVwZW5kZW5jeSBtZXRob2QsIHlvdSBjYW4gYWNjZXNzIHRoZSBjdXJyZW50IG9kb28gZW52aXJvbm1lbnQuIFdpdGggdGhpc1xuZW52aXJvbm1lbnQsIHlvdSBjYW4gYWNjZXNzIHRoZSByZWdpc3RyeSBhbmQgdGhlcmVmb3JlIHRoZSBtb2RlbCB5b3Ugd2FudCB0b1xuZGVsZWdhdGUgdGhlIGltcGxlbWVudGF0aW9uIHRvLiBJZiB5b3Ugd2FudCB0byBjaGFuZ2UgdGhlIGltcGxlbWVudGF0aW9uIG9mXG50aGUgcm91dGUgaGFuZGxlciAqKicvZGVtby9lY2hvJyoqLCB0aGUgb25seSB0aGluZyB5b3UgaGF2ZSB0byBkbyBpcyB0b1xuaW5oZXJpdCBmcm9tIHRoZSBtb2RlbCB3aGVyZSB0aGUgaW1wbGVtZW50YXRpb24gaXMgZGVmaW5lZCBhbmQgb3ZlcnJpZGUgdGhlXG5tZXRob2QgKionZWNobycqKi5cblxuLi4gY29kZS1ibG9jazo6IHB5dGhvblxuXG4gIGZyb20gcHlkYW50aWMgaW1wb3J0IEJhc2VNb2RlbFxuICBmcm9tIGZhc3RhcGkgaW1wb3J0IERlcGVuZHMsIEFQSVJvdXRlclxuICBmcm9tIG9kb28gaW1wb3J0IG1vZGVsc1xuICBmcm9tIG9kb28uYWRkb25zLmZhc3RhcGkuZGVwZW5kcyBpbXBvcnQgb2Rvb19lbnZcblxuICBjbGFzcyBGYXN0YXBpRW5kcG9pbnQobW9kZWxzLk1vZGVsKTpcblxuICAgICAgX2luaGVyaXQgPSBcImZhc3RhcGkuZW5kcG9pbnRcIlxuXG4gICAgICBkZWYgX2dldF9mYXN0YXBpX3JvdXRlcnMoc2VsZikgLT4gTGlzdFtBUElSb3V0ZXJdOlxuICAgICAgICAgIHJvdXRlcnMgPSBzdXBlcigpLl9nZXRfZmFzdGFwaV9yb3V0ZXJzKClcbiAgICAgICAgICByb3V0ZXJzLmFwcGVuZChkZW1vX2FwaV9yb3V0ZXIpXG4gICAgICAgICAgcmV0dXJuIHJvdXRlcnNcblxuICBkZW1vX2FwaV9yb3V0ZXIgPSBBUElSb3V0ZXIoKVxuXG4gIEBkZW1vX2FwaV9yb3V0ZXIuZ2V0KFxuICAgICAgXCIvZWNob1wiLFxuICAgICAgcmVzcG9uc2VfbW9kZWw9RWNob1Jlc3BvbnNlLFxuICAgICAgZGVwZW5kZW5jaWVzPVtEZXBlbmRzKG9kb29fZW52KV0sXG4gIClcbiAgYXN5bmMgZGVmIGVjaG8oXG4gICAgICBtZXNzYWdlOiBzdHIsXG4gICAgICBvZG9vX2VudjogT2Rvb0VudiA9IERlcGVuZHMob2Rvb19lbnYpLFxuICApIC0+IEVjaG9SZXNwb25zZTpcbiAgICAgIFwiXCJcIkVjaG8gdGhlIG1lc3NhZ2VcIlwiXCJcbiAgICAgIHJldHVybiBFY2hvUmVzcG9uc2UobWVzc2FnZT1vZG9vX2VudltcImRlbW8uZmFzdGFwaS5lbmRwb2ludFwiXS5lY2hvKG1lc3NhZ2UpKVxuXG4gIGNsYXNzIEVjaG9SZXNwb25zZShCYXNlTW9kZWwpOlxuICAgICAgbWVzc2FnZTogc3RyXG5cbiAgY2xhc3MgRGVtb0VuZHBvaW50KG1vZGVscy5BYnN0cmFjdE1vZGVsKTpcblxuICAgICAgX25hbWUgPSBcImRlbW8uZmFzdGFwaS5lbmRwb2ludFwiXG4gICAgICBfZGVzY3JpcHRpb24gPSBcIkRlbW8gRW5kcG9pbnRcIlxuXG4gICAgICBkZWYgZWNobyhzZWxmLCBtZXNzYWdlOiBzdHIpIC0+IHN0cjpcbiAgICAgICAgICByZXR1cm4gbWVzc2FnZVxuXG4gIGNsYXNzIERlbW9FbmRwb2ludEluaGVyaXQobW9kZWxzLkFic3RyYWN0TW9kZWwpOlxuXG4gICAgICBfaW5oZXJpdCA9IFwiZGVtby5mYXN0YXBpLmVuZHBvaW50XCJcblxuICAgICAgZGVmIGVjaG8oc2VsZiwgbWVzc2FnZTogc3RyKSAtPiBzdHI6XG4gICAgICAgICAgcmV0dXJuIGZcIkhlbGxvIHttZXNzYWdlfVwiXG5cblxuLi4gbm90ZTo6XG5cbiAgSXQncyBhIGdvb2QgcHJvZ3JhbW1pbmcgcHJhY3RpY2UgdG8gaW1wbGVtZW50IHRoZSBidXNpbmVzcyBsb2dpYyBvdXRzaWRlXG4gIHRoZSByb3V0ZSBoYW5kbGVyLiBUaGlzIHdheSwgeW91IGNhbiBlYXNpbHkgdGVzdCB5b3VyIGJ1c2luZXNzIGxvZ2ljIHdpdGhvdXRcbiAgaGF2aW5nIHRvIHRlc3QgdGhlIHJvdXRlIGhhbmRsZXIuIEluIHRoZSBleGFtcGxlIGFib3ZlLCB0aGUgYnVzaW5lc3MgbG9naWNcbiAgaXMgaW1wbGVtZW50ZWQgaW4gdGhlIG1ldGhvZCAqKidlY2hvJyoqIG9mIHRoZSBtb2RlbCAqKidkZW1vLmZhc3RhcGkuZW5kcG9pbnQnKiouXG4gIFRoZSByb3V0ZSBoYW5kbGVyIGp1c3QgZGVsZWdhdGUgdGhlIGltcGxlbWVudGF0aW9uIHRvIHRoaXMgbWV0aG9kLlxuXG5cbk92ZXJyaWRpbmcgdGhlIGRlcGVuZGVuY2llcyBvZiB0aGUgcm91dGUgaGFuZGxlclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbkFzIHlvdSd2ZSBwcmV2aW91c2x5IHNlZW4sIHRoZSBkZXBlbmRlbmN5IGluamVjdGlvbiBtZWNoYW5pc20gb2YgZmFzdGFwaSBpc1xudmVyeSBwb3dlcmZ1bC4gQnkgZGVzaWduaW5nIHlvdXIgcm91dGUgaGFuZGxlciB0byByZWx5IG9uIGRlcGVuZGVuY2llcyB3aXRoXG5hIHNwZWNpZmljIGZ1bmN0aW9uYWwgc2NvcGUsIHlvdSBjYW4gZWFzaWx5IGNoYW5nZSB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhlXG5kZXBlbmRlbmN5IHdpdGhvdXQgaGF2aW5nIHRvIGNoYW5nZSB0aGUgcm91dGUgaGFuZGxlci4gV2l0aCBzdWNoIGEgZGVzaWduLCB5b3VcbmNhbiBldmVuIGRlZmluZSBhYnN0cmFjdCBkZXBlbmRlbmNpZXMgdGhhdCBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IHRoZSBjb25jcmV0ZVxuYXBwbGljYXRpb24uIFRoaXMgaXMgdGhlIGNhc2Ugb2YgdGhlICoqJ2F1dGhlbnRpY2F0ZWRfcGFydG5lcicqKiBkZXBlbmRlbmN5IGluIG91clxucHJldmlvdXMgZXhhbXBsZS4gKHlvdSBjYW4gZmluZCB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBkZXBlbmRlbmN5IGluIHRoZVxuZmlsZSAqKidvZG9vL2FkZG9ucy9mYXN0YXBpL2RlcGVuZHMucHknKiogYW5kIGl0J3MgdXNhZ2UgaW4gdGhlIGZpbGVcbioqJ29kb28vYWRkb25zL2Zhc3RhcGkvbW9kZWxzL2Zhc3RhcGlfZW5kcG9pbnRfZGVtby5weScqKilcblxuQWRkaW5nIGEgbmV3IHJvdXRlIGhhbmRsZXJcbj09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbkxldCdzIHNheSB0aGF0IHlvdSB3YW50IHRvIGFkZCBhIG5ldyByb3V0ZSBoYW5kbGVyICoqJy9kZW1vL2VjaG8yJyoqLlxuWW91IGNvdWxkIGJlIHRlbXB0ZWQgdG8gYWRkIHRoaXMgbmV3IHJvdXRlIGhhbmRsZXIgaW4geW91ciBuZXcgYWRkb25zIGJ5XG5pbXBvcnRpbmcgdGhlIHJvdXRlciBvZiB0aGUgZXhpc3RpbmcgYXBwIGFuZCBhZGRpbmcgdGhlIG5ldyByb3V0ZSBoYW5kbGVyIHRvXG5pdC5cblxuLi4gY29kZS1ibG9jazo6IHB5dGhvblxuXG4gIGZyb20gb2Rvby5hZGRvbnMuZmFzdGFwaS5tb2RlbHMuZmFzdGFwaV9lbmRwb2ludF9kZW1vIGltcG9ydCBkZW1vX2FwaV9yb3V0ZXJcblxuICBAZGVtb19hcGlfcm91dGVyLmdldChcbiAgICAgIFwiL2VjaG8yXCIsXG4gICAgICByZXNwb25zZV9tb2RlbD1FY2hvUmVzcG9uc2UsXG4gICAgICBkZXBlbmRlbmNpZXM9W0RlcGVuZHMob2Rvb19lbnYpXSxcbiAgKVxuICBhc3luYyBkZWYgZWNobzIoXG4gICAgICBtZXNzYWdlOiBzdHIsXG4gICAgICBvZG9vX2VudjogT2Rvb0VudiA9IERlcGVuZHMob2Rvb19lbnYpLFxuICApIC0+IEVjaG9SZXNwb25zZTpcbiAgICAgIFwiXCJcIkVjaG8gdGhlIG1lc3NhZ2VcIlwiXCJcbiAgICAgIGVjaG8gPSBvZG9vX2VudltcImRlbW8uZmFzdGFwaS5lbmRwb2ludFwiXS5lY2hvMihtZXNzYWdlKVxuICAgICAgcmV0dXJuIEVjaG9SZXNwb25zZShtZXNzYWdlPWZcIkVjaG8yOiB7ZWNob31cIilcblxuVGhlIHByb2JsZW0gd2l0aCB0aGlzIGFwcHJvYWNoIGlzIHRoYXQgeW91IHVuY29uZGl0aW9uYWxseSBhZGQgdGhlIG5ldyByb3V0ZVxuaGFuZGxlciB0byB0aGUgZXhpc3RpbmcgYXBwIGV2ZW4gaWYgdGhlIGFwcCBpcyBjYWxsZWQgZm9yIGEgZGlmZmVyZW50IGRhdGFiYXNlXG53aGVyZSB5b3VyIG5ldyBhZGRvbiBpcyBub3QgaW5zdGFsbGVkLlxuXG5UaGUgc29sdXRpb24gaXMgdG8gZGVmaW5lIGEgbmV3IHJvdXRlciBhbmQgdG8gYWRkIGl0IHRvIHRoZSBsaXN0IG9mIHJvdXRlcnNcbnJldHVybmVkIGJ5IHRoZSBtZXRob2QgKionX2dldF9mYXN0YXBpX3JvdXRlcnMnKiogb2YgdGhlIG1vZGVsXG4qKidmYXN0YXBpLmVuZHBvaW50JyoqIHlvdSBhcmUgaW5oZXJpdGluZyBmcm9tIGludG8geW91ciBuZXcgYWRkb24uXG5cbi4uIGNvZGUtYmxvY2s6OiBweXRob25cblxuICBjbGFzcyBGYXN0YXBpRW5kcG9pbnQobW9kZWxzLk1vZGVsKTpcblxuICAgICAgX2luaGVyaXQgPSBcImZhc3RhcGkuZW5kcG9pbnRcIlxuXG4gICAgICBkZWYgX2dldF9mYXN0YXBpX3JvdXRlcnMoc2VsZikgLT4gTGlzdFtBUElSb3V0ZXJdOlxuICAgICAgICAgIHJvdXRlcnMgPSBzdXBlcigpLl9nZXRfZmFzdGFwaV9yb3V0ZXJzKClcbiAgICAgICAgICBpZiBzZWxmLmFwcCA9PSBcImRlbW9cIjpcbiAgICAgICAgICAgICAgcm91dGVycy5hcHBlbmQoYWRkaXRpb25hbF9kZW1vX2FwaV9yb3V0ZXIpXG4gICAgICAgICAgcmV0dXJuIHJvdXRlcnNcblxuICBhZGRpdGlvbmFsX2RlbW9fYXBpX3JvdXRlciA9IEFQSVJvdXRlcigpXG5cbiAgQGFkZGl0aW9uYWxfZGVtb19hcGlfcm91dGVyLmdldChcbiAgICAgIFwiL2VjaG8yXCIsXG4gICAgICByZXNwb25zZV9tb2RlbD1FY2hvUmVzcG9uc2UsXG4gICAgICBkZXBlbmRlbmNpZXM9W0RlcGVuZHMob2Rvb19lbnYpXSxcbiAgKVxuICBhc3luYyBkZWYgZWNobzIoXG4gICAgICBtZXNzYWdlOiBzdHIsXG4gICAgICBvZG9vX2VudjogT2Rvb0VudiA9IERlcGVuZHMob2Rvb19lbnYpLFxuICApIC0+IEVjaG9SZXNwb25zZTpcbiAgICAgIFwiXCJcIkVjaG8gdGhlIG1lc3NhZ2VcIlwiXCJcbiAgICAgIGVjaG8gPSBvZG9vX2VudltcImRlbW8uZmFzdGFwaS5lbmRwb2ludFwiXS5lY2hvMihtZXNzYWdlKVxuICAgICAgcmV0dXJuIEVjaG9SZXNwb25zZShtZXNzYWdlPWZcIkVjaG8yOiB7ZWNob31cIilcblxuXG5JbiB0aGlzIHdheSwgdGhlIG5ldyByb3V0ZXIgaXMgYWRkZWQgdG8gdGhlIGxpc3Qgb2Ygcm91dGVycyBvZiB5b3VyIGFwcCBvbmx5IGlmXG50aGUgYXBwIGlzIGNhbGxlZCBmb3IgYSBkYXRhYmFzZSB3aGVyZSB5b3VyIG5ldyBhZGRvbiBpcyBpbnN0YWxsZWQuXG5cbkV4dGVuZGluZyB0aGUgbW9kZWwgdXNlZCBhcyBwYXJhbWV0ZXIgb3IgYXMgcmVzcG9uc2Ugb2YgdGhlIHJvdXRlIGhhbmRsZXJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuVGhlIGZhc3RhcGkgcHl0aG9uIGxpYnJhcnkgdXNlcyB0aGUgcHlkYW50aWMgbGlicmFyeSB0byBkZWZpbmUgdGhlIG1vZGVscy4gQnlcbmRlZmF1bHQsIG9uY2UgYSBtb2RlbCBpcyBkZWZpbmVkLCBpdCdzIG5vdCBwb3NzaWJsZSB0byBleHRlbmQgaXQuIEhvd2V2ZXIsIGFcbmNvbXBhbmlvbiBweXRob24gbGlicmFyeSBjYWxsZWRcbmBleHRlbmRhYmxlX3B5ZGFudGljIDxodHRwczovL3B5cGkub3JnL3Byb2plY3QvZXh0ZW5kYWJsZV9weWRhbnRpYy8+YF8gcHJvdmlkZXNcbmEgd2F5IHRvIHVzZSBpbmhlcml0YW5jZSB3aXRoIHB5ZGFudGljIG1vZGVscyB0byBleHRlbmQgYW4gZXhpc3RpbmcgbW9kZWwuIElmXG51c2VkIGFsb25lLCBpdCdzIHlvdXIgcmVzcG9uc2liaWxpdHkgdG8gaW5zdHJ1Y3QgdGhpcyBsaWJyYXJ5IHRoZSBsaXN0IG9mXG5leHRlbnNpb25zIHRvIGFwcGx5IHRvIGEgbW9kZWwgYW5kIHRoZSBvcmRlciB0byBhcHBseSB0aGVtLiBUaGlzIGlzIG5vdCB2ZXJ5XG5jb252ZW5pZW50LiBGb3J0dW5hdGVseSwgYW4gZGVkaWNhdGVkIG9kb28gYWRkb24gZXhpc3RzIHRvIG1ha2UgdGhpcyBwcm9jZXNzXG5jb21wbGV0ZSB0cmFuc3BhcmVudC4gVGhpcyBhZGRvbiBpcyBjYWxsZWRcbmBvZG9vLWFkZG9uLWV4dGVuZGFibGUtZmFzdGFwaSA8aHR0cHM6Ly9weXBpLm9yZy9wcm9qZWN0L29kb28tYWRkb24tZXh0ZW5kYWJsZS1mYXN0YXBpLz5gXy5cblxuV2hlbiB5b3Ugd2FudCB0byBhbGxvdyBvdGhlciBhZGRvbnMgdG8gZXh0ZW5kIGEgcHlkYW50aWMgbW9kZWwsIHlvdSBtdXN0XG5maXJzdCBkZWZpbmUgdGhlIG1vZGVsIGFzIGFuIGV4dGVuZGFibGUgbW9kZWwgYnkgdXNpbmcgYSBkZWRpY2F0ZWQgbWV0YWNsYXNzXG5cbi4uIGNvZGUtYmxvY2s6OiBweXRob25cblxuICBmcm9tIHB5ZGFudGljIGltcG9ydCBCYXNlTW9kZWxcbiAgZnJvbSBleHRlbmRhYmxlX3B5ZGFudGljIGltcG9ydCBFeHRlbmRhYmxlTW9kZWxNZXRhXG5cbiAgY2xhc3MgUGFydG5lcihCYXNlTW9kZWwsIG1ldGFjbGFzcz1FeHRlbmRhYmxlTW9kZWxNZXRhKTpcbiAgICBuYW1lID0gMC4xXG5cbkFzIGFueSBvdGhlciBweWRhbnRpYyBtb2RlbCwgeW91IGNhbiBub3cgdXNlIHRoaXMgbW9kZWwgYXMgcGFyYW1ldGVyIG9yIGFzIHJlc3BvbnNlXG5vZiBhIHJvdXRlIGhhbmRsZXIuIFlvdSBjYW4gYWxzbyB1c2UgYWxsIHRoZSBmZWF0dXJlcyBvZiBtb2RlbHMgZGVmaW5lZCB3aXRoXG5weWRhbnRpYy5cblxuLi4gY29kZS1ibG9jazo6IHB5dGhvblxuXG4gIEBkZW1vX2FwaV9yb3V0ZXIuZ2V0KFxuICAgICAgXCIvcGFydG5lclwiLFxuICAgICAgcmVzcG9uc2VfbW9kZWw9TG9jYXRpb24sXG4gICAgICBkZXBlbmRlbmNpZXM9W0RlcGVuZHMoYXV0aGVudGljYXRlZF9wYXJ0bmVyKV0sXG4gIClcbiAgYXN5bmMgZGVmIHBhcnRuZXIoXG4gICAgICBwYXJ0bmVyOiBSZXNQYXJ0bmVyID0gRGVwZW5kcyhhdXRoZW50aWNhdGVkX3BhcnRuZXIpLFxuICApIC0+IFBhcnRuZXI6XG4gICAgICBcIlwiXCJSZXR1cm4gdGhlIGxvY2F0aW9uXCJcIlwiXG4gICAgICByZXR1cm4gUGFydG5lci5mcm9tX29ybShwYXJ0bmVyKVxuXG5cbklmIHlvdSBuZWVkIHRvIGFkZCBhIG5ldyBmaWVsZCBpbnRvIHRoZSBtb2RlbCAqKidQYXJ0bmVyJyoqLCB5b3UgY2FuIGV4dGVuZCBpdFxuaW4geW91ciBuZXcgYWRkb24gYnkgZGVmaW5pbmcgYSBuZXcgbW9kZWwgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBtb2RlbCAqKidQYXJ0bmVyJyoqLlxuXG4uLiBjb2RlLWJsb2NrOjogcHl0aG9uXG5cbiAgZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsXG4gIGZyb20gb2Rvby5hZGRvbnMuZmFzdGFwaS5tb2RlbHMuZmFzdGFwaV9lbmRwb2ludF9kZW1vIGltcG9ydCBQYXJ0bmVyXG5cbiAgY2xhc3MgUGFydG5lckV4dGVuZGVkKFBhcnRuZXIsIGV4dGVuZHM9UGFydG5lcik6XG4gICAgICBlbWFpbDogT3B0aW9uYWxbc3RyXVxuXG5JZiB5b3VyIG5ldyBhZGRvbiBpcyBpbnN0YWxsZWQgaW4gYSBkYXRhYmFzZSwgYSBjYWxsIHRvIHRoZSByb3V0ZSBoYW5kbGVyXG4qKicvZGVtby9wYXJ0bmVyJyoqIHdpbGwgcmV0dXJuIGEgcmVzcG9uc2Ugd2l0aCB0aGUgbmV3IGZpZWxkICoqJ2VtYWlsJyoqIGlmIGFcbnZhbHVlIGlzIHByb3ZpZGVkIGJ5IHRoZSBvZG9vIHJlY29yZC5cblxuLi4gY29kZS1ibG9jazo6IHB5dGhvblxuXG4gIHtcbiAgICBcIm5hbWVcIjogXCJKb2huIERvZVwiLFxuICAgIFwiZW1haWxcIjogXCJqaG9uLmRvZUBhY3NvbmUuZXVcIlxuICB9XG5cbklmIHlvdXIgbmV3IGFkZG9uIGlzIG5vdCBpbnN0YWxsZWQgaW4gYSBkYXRhYmFzZSwgYSBjYWxsIHRvIHRoZSByb3V0ZSBoYW5kbGVyXG4qKicvZGVtby9wYXJ0bmVyJyoqIHdpbGwgb25seSByZXR1cm4gdGhlIG5hbWUgb2YgdGhlIHBhcnRuZXIuXG5cbi4uIGNvZGUtYmxvY2s6OiBweXRob25cblxuICB7XG4gICAgXCJuYW1lXCI6IFwiSm9obiBEb2VcIlxuICB9XG5cbi4uIG5vdGU6OlxuXG4gIFRoZSBsaXNrb3Ygc3Vic3RpdHV0aW9uIHByaW5jaXBsZSBoYXMgYWxzbyB0byBiZSByZXNwZWN0ZWQuIFRoYXQgbWVhbnMgdGhhdFxuICBpZiB5b3UgZXh0ZW5kIGEgbW9kZWwsIHlvdSBtdXN0IGFkZCBuZXcgcmVxdWlyZWQgZmllbGRzIG9yIHlvdSBtdXN0IHByb3ZpZGVcbiAgZGVmYXVsdCB2YWx1ZXMgZm9yIHRoZSBuZXcgb3B0aW9uYWwgZmllbGRzLlxuXG5NYW5hZ2luZyBzZWN1cml0eSBpbnRvIHRoZSByb3V0ZSBoYW5kbGVyc1xuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuQnkgZGVmYXVsdCB0aGUgcm91dGUgaGFuZGxlcnMgYXJlIHByb2Nlc3NlZCB1c2luZyB0aGUgdXNlciBjb25maWd1cmVkIG9uIHRoZVxuKionZmFzdGFwaS5lbmRwb2ludCcqKiBtb2RlbCBpbnN0YW5jZS4gKGRlZmF1bHQgaXMgdGhlIFB1YmxpYyB1c2VyKS5cbllvdSBoYXZlIHNlZW4gcHJldmlvdXNseSBob3cgdG8gZGVmaW5lIGEgZGVwZW5kZW5jeSB0aGF0IHdpbGwgYmUgdXNlZCB0byBlbmZvcmNlXG50aGUgYXV0aGVudGljYXRpb24gb2YgYSBwYXJ0bmVyLiBXaGVuIGEgbWV0aG9kIGRlcGVuZHMgb24gdGhpcyBkZXBlbmRlbmN5LCB0aGVcbidhdXRoZW50aWNhdGVkX3BhcnRuZXJfaWQnIGtleSBpcyBhZGRlZCB0byB0aGUgY29udGV4dCBvZiB0aGUgcGFydG5lciBlbnZpcm9ubWVudC5cbihJZiB5b3UgZG9uJ3QgbmVlZCB0aGUgcGFydG5lciBhcyBkZXBlbmRlbmN5IGJ1dCBuZWVkIHRvIGdldCBhbiBlbnZpcm9ubWVudFxud2l0aCB0aGUgYXV0aGVudGljYXRlZCB1c2VyLCB5b3UgY2FuIHVzZSB0aGUgZGVwZW5kZW5jeSAnYXV0aGVudGljYXRlZF9wYXJ0bmVyX2VudicgaW5zdGVhZCBvZlxuJ2F1dGhlbnRpY2F0ZWRfcGFydG5lcicuKVxuXG5UaGUgZmFzdGFwaSBhZGRvbiBleHRlbmRzIHRoZSAnaXIucnVsZScgbW9kZWwgdG8gYWRkIGludG8gdGhlIGV2YWx1YXRpb24gY29udGV4dFxub2YgdGhlIHNlY3VyaXR5IHJ1bGVzIHRoZSBrZXkgJ2F1dGhlbnRpY2F0ZWRfcGFydG5lcl9pZCcgdGhhdCBjb250YWlucyB0aGUgaWRcbm9mIHRoZSBhdXRoZW50aWNhdGVkIHBhcnRuZXIuXG5cbkFzIGJyaWVmbHkgaW50cm9kdWNlZCBpbiBhIHByZXZpb3VzIHNlY3Rpb24sIGEgZ29vZCBwcmFjdGljZSB3aGVuIHlvdSBkZXZlbG9wIGFcbmZhc3RhcGkgYXBwIGFuZCB5b3Ugd2FudCB0byBwcm90ZWN0IHlvdXIgZGF0YSBpbiBhbiBlZmZpY2llbnQgYW5kIHRyYWNlYWJsZSB3YXkgaXMgdG86XG5cbiogY3JlYXRlIGEgbmV3IHVzZXIgc3BlY2lmaWMgdG8gdGhlIGFwcCBidXQgd2l0aCBhbnkgYWNjZXNzIHJpZ2h0cy5cbiogY3JlYXRlIGEgc2VjdXJpdHkgZ3JvdXAgc3BlY2lmaWMgdG8gdGhlIGFwcCBhbmQgYWRkIHRoZSB1c2VyIHRvIHRoaXMgZ3JvdXAuIChUaGlzXG4gIGdyb3VwIG11c3QgaW1wbGllcyB0aGUgZ3JvdXAgJ0FGYXN0QVBJIEVuZHBvaW50IFJ1bm5lcicgdGhhdCBnaXZlIHRoZVxuICBtaW5pbWFsIGFjY2VzcyByaWdodHMpXG4qIGZvciBlYWNoIG1vZGVsIHlvdSB3YW50IHRvIHByb3RlY3Q6XG5cbiAgKiBhZGQgYSAnaXIubW9kZWwuYWNjZXNzJyByZWNvcmQgZm9yIHRoZSBtb2RlbCB0byBhbGxvdyByZWFkIGFjY2VzcyB0byB5b3VyIG1vZGVsXG4gICAgYW5kIGFkZCB0aGUgZ3JvdXAgdG8gdGhlIHJlY29yZC5cbiAgKiBjcmVhdGUgYSBuZXcgJ2lyLnJ1bGUnIHJlY29yZCBmb3IgdGhlIG1vZGVsIHRoYXQgcmVzdHJpY3RzIHRoZSBhY2Nlc3MgdG8gdGhlXG4gICAgcmVjb3JkcyBvZiB0aGUgbW9kZWwgdG8gdGhlIGF1dGhlbnRpY2F0ZWQgcGFydG5lciBieSB1c2luZyB0aGUga2V5XG4gICAgJ2F1dGhlbnRpY2F0ZWRfcGFydG5lcl9pZCcgaW4gZG9tYWluIG9mIHRoZSBydWxlLiAob3IgdG8gdGhlIHVzZXIgZGVmaW5lZCBvblxuICAgIHRoZSAnZmFzdGFwaS5lbmRwb2ludCcgbW9kZWwgaW5zdGFuY2UgaWYgdGhlIG1ldGhvZCBpcyBwdWJsaWMpXG5cbiogYWRkIGEgZGVwZW5kZW5jeSBvbiB0aGUgJ2F1dGhlbnRpY2F0ZWRfcGFydG5lcicgdG8geW91ciBoYW5kbGVycyB3aGVuIHlvdSBuZWVkXG4gIHRvIGFjY2VzcyB0aGUgYXV0aGVudGljYXRlZCBwYXJ0bmVyIG9yIGVuc3VyZSB0aGF0IHRoZSBzZXJ2aWNlIGlzIGNhbGxlZCBieSBhblxuICBhdXRoZW50aWNhdGVkIHBhcnRuZXIuXG5cbi4uIGNvZGUtYmxvY2s6OiB4bWxcblxuICA8cmVjb3JkXG4gICAgICAgIGlkPVwibXlfZGVtb19hcHBfdXNlclwiXG4gICAgICAgIG1vZGVsPVwicmVzLnVzZXJzXCJcbiAgICAgICAgY29udGV4dD1cInsnbm9fcmVzZXRfcGFzc3dvcmQnOiBUcnVlLCAnbm9fcmVzZXRfcGFzc3dvcmQnOiBUcnVlfVwiXG4gICAgPlxuICAgIDxmaWVsZCBuYW1lPVwibmFtZVwiPk15IERlbW8gRW5kcG9pbnQgVXNlcjwvZmllbGQ+XG4gICAgPGZpZWxkIG5hbWU9XCJsb2dpblwiPm15X2RlbW9fYXBwX3VzZXI8L2ZpZWxkPlxuICAgIDxmaWVsZCBuYW1lPVwiZ3JvdXBzX2lkXCIgZXZhbD1cIlsoNiwgMCwgW10pXVwiIC8+XG4gIDwvcmVjb3JkPlxuXG4gIDxyZWNvcmQgaWQ9XCJteV9kZW1vX2FwcF9ncm91cFwiIG1vZGVsPVwicmVzLmdyb3Vwc1wiPlxuICAgIDxmaWVsZCBuYW1lPVwibmFtZVwiPk15IERlbW8gRW5kcG9pbnQgR3JvdXA8L2ZpZWxkPlxuICAgIDxmaWVsZCBuYW1lPVwidXNlcnNcIiBldmFsPVwiWyg0LCByZWYoJ215X2RlbW9fYXBwX3VzZXInKSldXCIgLz5cbiAgICA8ZmllbGQgbmFtZT1cImltcGxpZWRfaWRzXCIgZXZhbD1cIlsoNCwgcmVmKCdncm91cF9mYXN0YXBpX2VuZHBvaW50X3J1bm5lcicpKV1cIiAvPlxuICA8L3JlY29yZD5cblxuICA8IS0tIGFjbCBmb3IgdGhlIG1vZGVsICdzYWxlLm9yZGVyJyAtLT5cbiAgPHJlY29yZCBpZD1cInNhbGVfb3JkZXJfZGVtb19hcHBfYWNjZXNzXCIgbW9kZWw9XCJpci5tb2RlbC5hY2Nlc3NcIj5cbiAgICA8ZmllbGQgbmFtZT1cIm5hbWVcIj5NeSBEZW1vIEFwcDogYWNjZXNzIHRvIHNhbGUub3JkZXI8L2ZpZWxkPlxuICAgIDxmaWVsZCBuYW1lPVwibW9kZWxfaWRcIiByZWY9XCJtb2RlbF9zYWxlX29yZGVyXCIvPlxuICAgIDxmaWVsZCBuYW1lPVwiZ3JvdXBfaWRcIiByZWY9XCJteV9kZW1vX2FwcF9ncm91cFwiLz5cbiAgICA8ZmllbGQgbmFtZT1cInBlcm1fcmVhZFwiIGV2YWw9XCJUcnVlXCIvPlxuICAgIDxmaWVsZCBuYW1lPVwicGVybV93cml0ZVwiIGV2YWw9XCJGYWxzZVwiLz5cbiAgICA8ZmllbGQgbmFtZT1cInBlcm1fY3JlYXRlXCIgZXZhbD1cIkZhbHNlXCIvPlxuICAgIDxmaWVsZCBuYW1lPVwicGVybV91bmxpbmtcIiBldmFsPVwiRmFsc2VcIi8+XG4gIDwvcmVjb3JkPlxuXG4gIDwhLS0gYSByZWNvcmQgcnVsZSB0byBhbGxvd3MgdGhlIGF1dGhlbnRpY2F0ZWQgcGFydG5lciB0byBhY2Nlc3Mgb25seSBpdHMgc2FsZSBvcmRlcnMgLS0+XG4gIDxyZWNvcmQgaWQ9XCJkZW1vX2FwcF9zYWxlX29yZGVyX3J1bGVcIiBtb2RlbD1cImlyLnJ1bGVcIj5cbiAgICA8ZmllbGQgbmFtZT1cIm5hbWVcIj5TYWxlIE9yZGVyIFJ1bGU8L2ZpZWxkPlxuICAgIDxmaWVsZCBuYW1lPVwibW9kZWxfaWRcIiByZWY9XCJtb2RlbF9zYWxlX29yZGVyXCIvPlxuICAgIDxmaWVsZCBuYW1lPVwiZG9tYWluX2ZvcmNlXCI+WygncGFydG5lcl9pZCcsICc9JywgYXV0aGVudGljYXRlZF9wYXJ0bmVyX2lkKV08L2ZpZWxkPlxuICAgIDxmaWVsZCBuYW1lPVwiZ3JvdXBzXCIgZXZhbD1cIlsoNCwgcmVmKCdteV9kZW1vX2FwcF9ncm91cCcpKV1cIi8+XG4gIDwvcmVjb3JkPlxuXG5Ib3cgdG8gdGVzdCB5b3VyIGZhc3RhcGkgYXBwXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cblRoYW5rcyB0byB0aGUgc3RhcmxldHRlIHRlc3QgY2xpZW50LCBpdCdzIHBvc3NpYmxlIHRvIHRlc3QgeW91ciBmYXN0YXBpIGFwcFxuaW4gYSB2ZXJ5IHNpbXBsZSB3YXkuIFdpdGggdGhlIHRlc3QgY2xpZW50LCB5b3UgY2FuIGNhbGwgeW91ciByb3V0ZSBoYW5kbGVyc1xuYXMgaWYgdGhleSB3ZXJlIHJlYWwgaHR0cCBlbmRwb2ludHMuIFRoZSB0ZXN0IGNsaWVudCBpcyBhdmFpbGFibGUgaW4gdGhlXG4qKidmYXN0YXBpLnRlc3RjbGllbnQnKiogbW9kdWxlLlxuXG5PbmNlIGFnYWluIHRoZSBkZXBlbmRlbmN5IGluamVjdGlvbiBtZWNoYW5pc20gY29tZXMgdG8gdGhlIHJlc2N1ZSBieSBhbGxvd2luZ1xueW91IHRvIGluamVjdCBpbnRvIHRoZSB0ZXN0IGNsaWVudCBzcGVjaWZpYyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIGRlcGVuZGVuY2llc1xubm9ybWFsbHkgcHJvdmlkZWQgYnkgdGhlIG5vcm1hbCBwcm9jZXNzaW5nIG9mIHRoZSByZXF1ZXN0IGJ5IHRoZSBmYXN0YXBpIGFwcC5cbihmb3IgZXhhbXBsZSwgeW91IGNhbiBpbmplY3QgYSBtb2NrIG9mIHRoZSBkZXBlbmRlbmN5ICdhdXRoZW50aWNhdGVkX3BhcnRuZXInXG50byB0ZXN0IHRoZSBiZWhhdmlvciBvZiB5b3VyIHJvdXRlIGhhbmRsZXJzIHdoZW4gdGhlIHBhcnRuZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQsXG55b3UgY2FuIGFsc28gaW5qZWN0IGEgbW9jayBmb3IgdGhlIG9kb29fZW52IGV0Yy4uLilcblxuV2l0aCBhbGwgdGhlc2UgZmVhdHVyZXMsIHdyaXRpbmcgYSB0ZXN0IGZvciB0aGUgJ0hlbGxvIHdvcmxkJyByb3V0ZSBoYW5kbGVyXG5kZWZpbmVkIGludG8gdGhlIGRlbW8gYXBwIGlzIGFzIHNpbXBsZSBhc1xuXG4uLiBjb2RlLWJsb2NrOjogcHl0aG9uXG5cbiAgZnJvbSBmdW5jdG9vbHMgaW1wb3J0IHBhcnRpYWxcblxuICBmcm9tIHJlcXVlc3RzIGltcG9ydCBSZXNwb25zZVxuXG4gIGZyb20gb2Rvby50ZXN0cy5jb21tb24gaW1wb3J0IFRyYW5zYWN0aW9uQ2FzZVxuXG4gIGZyb20gZmFzdGFwaS50ZXN0Y2xpZW50IGltcG9ydCBUZXN0Q2xpZW50XG5cbiAgZnJvbSAuLiBpbXBvcnQgZGVwZW5kc1xuICBmcm9tIC4uY29udGV4dCBpbXBvcnQgb2Rvb19lbnZfY3R4XG5cblxuICBjbGFzcyBGYXN0QVBJRGVtb0Nhc2UoVHJhbnNhY3Rpb25DYXNlKTpcblxuICAgICAgQGNsYXNzbWV0aG9kXG4gICAgICBkZWYgc2V0VXBDbGFzcyhjbHMpIC0+IE5vbmU6XG4gICAgICAgICAgc3VwZXIoKS5zZXRVcENsYXNzKClcbiAgICAgICAgICBjbHMudGVzdF9wYXJ0bmVyID0gY2xzLmVudltcInJlcy5wYXJ0bmVyXCJdLmNyZWF0ZSh7XCJuYW1lXCI6IFwiRmFzdEFQSSBEZW1vXCJ9KVxuICAgICAgICAgIGNscy5mYXN0YXBpX2RlbW9fYXBwID0gY2xzLmVudi5yZWYoXCJmYXN0YXBpLmZhc3RhcGlfZW5kcG9pbnRfZGVtb1wiKVxuICAgICAgICAgIGNscy5hcHAgPSBjbHMuZmFzdGFwaV9kZW1vX2FwcC5fZ2V0X2FwcCgpXG4gICAgICAgICAgY2xzLmFwcC5kZXBlbmRlbmN5X292ZXJyaWRlc1tkZXBlbmRzLmF1dGhlbnRpY2F0ZWRfcGFydG5lcl9pbXBsXSA9IHBhcnRpYWwoXG4gICAgICAgICAgICAgIGxhbWJkYSBhOiBhLCBjbHMudGVzdF9wYXJ0bmVyXG4gICAgICAgICAgKVxuICAgICAgICAgIGNscy5jbGllbnQgPSBUZXN0Q2xpZW50KGNscy5hcHApXG4gICAgICAgICAgY2xzLl9jdHhfdG9rZW4gPSBvZG9vX2Vudl9jdHguc2V0KGNscy5lbnYpXG5cbiAgICAgIEBjbGFzc21ldGhvZFxuICAgICAgZGVmIHRlYXJEb3duQ2xhc3MoY2xzKSAtPiBOb25lOlxuICAgICAgICAgIG9kb29fZW52X2N0eC5yZXNldChjbHMuX2N0eF90b2tlbilcbiAgICAgICAgICBjbHMuZmFzdGFwaV9kZW1vX2FwcC5fcmVzZXRfYXBwKClcblxuICAgICAgICAgIHN1cGVyKCkudGVhckRvd25DbGFzcygpXG5cbiAgICAgIGRlZiBfZ2V0X3BhdGgoc2VsZiwgcGF0aCkgLT4gc3RyOlxuICAgICAgICAgIHJldHVybiBzZWxmLmZhc3RhcGlfZGVtb19hcHAucm9vdF9wYXRoICsgcGF0aFxuXG4gICAgICBkZWYgdGVzdF9oZWxsb193b3JsZChzZWxmKSAtPiBOb25lOlxuICAgICAgICAgIHJlc3BvbnNlOiBSZXNwb25zZSA9IHNlbGYuY2xpZW50LmdldChzZWxmLl9nZXRfcGF0aChcIi9cIikpXG4gICAgICAgICAgc2VsZi5hc3NlcnRFcXVhbChyZXNwb25zZS5zdGF0dXNfY29kZSwgc3RhdHVzLkhUVFBfMjAwX09LKVxuICAgICAgICAgIHNlbGYuYXNzZXJ0RGljdEVxdWFsKHJlc3BvbnNlLmpzb24oKSwge1wiSGVsbG9cIjogXCJXb3JsZFwifSlcblxuXG5PdmVyYWxsIGNvbnNpZGVyYXRpb25zIHdoZW4geW91IGRldmVsb3AgYW4gZmFzdGFwaSBhcHBcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuRGV2ZWxvcGluZyBhIGZhc3RhcGkgYXBwIHJlcXVpcmVzIHRvIGZvbGxvdyBzb21lIGdvb2QgcHJhY3RpY2VzIHRvIGVuc3VyZSB0aGF0XG50aGUgYXBwIGlzIHJvYnVzdCBhbmQgZWFzeSB0byBtYWludGFpbi4gSGVyZSBhcmUgc29tZSBvZiB0aGVtOlxuXG4qIEEgcm91dGUgaGFuZGxlciBtdXN0IGJlIGFzIHNpbXBsZSBhcyBwb3NzaWJsZS4gSXQgbXVzdCBub3QgY29udGFpbiBhbnlcbiAgYnVzaW5lc3MgbG9naWMuIFRoZSBidXNpbmVzcyBsb2dpYyBtdXN0IGJlIGltcGxlbWVudGVkIGludG8gdGhlIHNlcnZpY2VcbiAgbGF5ZXIuIFRoZSByb3V0ZSBoYW5kbGVyIG11c3Qgb25seSBjYWxsIHRoZSBzZXJ2aWNlIGxheWVyIGFuZCByZXR1cm4gdGhlXG4gIHJlc3VsdCBvZiB0aGUgc2VydmljZSBsYXllci4gVG8gZWFzZSBleHRlbnNpb24gb24geW91ciBidXNpbmVzcyBsb2dpYywgeW91clxuICBzZXJ2aWNlIGxheWVyIGNhbiBiZSBpbXBsZW1lbnRlZCBhcyBhbiBvZG9vIGFic3RyYWN0IG1vZGVsIHRoYXQgY2FuIGJlXG4gIGluaGVyaXRlZCBieSBvdGhlciBhZGRvbnMuXG5cbiogQSByb3V0ZSBoYW5kbGVyIHNob3VsZCBub3QgZXhwb3NlIHRoZSBpbnRlcm5hbCBkYXRhIHN0cnVjdHVyZSBhbmQgYXBpIG9mIE9kb28uXG4gIEl0IHNob3VsZCBwcm92aWRlIHRoZSBhcGkgdGhhdCBpcyBuZWVkZWQgYnkgdGhlIGNsaWVudC4gTW9yZSB3aWRlbHksIGFuIGFwcFxuICBwcm92aWRlcyBhIHNldCBvZiBzZXJ2aWNlcyB0aGF0IGFkZHJlc3MgYSBzZXQgb2YgdXNlIGNhc2VzIHNwZWNpZmljIHRvXG4gIGEgd2VsbCBkZWZpbmVkIGZ1bmN0aW9uYWwgZG9tYWluLiBZb3UgbXVzdCBhbHdheXMga2VlcCBpbiBtaW5kIHRoYXQgeW91ciBhcGlcbiAgd2lsbCByZW1haW4gdGhlIHNhbWUgZm9yIGEgbG9uZyB0aW1lIGV2ZW4gaWYgeW91IHVwZ3JhZGUgeW91ciBvZG9vIHZlcnNpb25cbiAgb2YgbW9kaWZ5IHlvdXIgYnVzaW5lc3MgbG9naWMuXG5cbiogQSByb3V0ZSBoYW5kbGVyIGlzIGEgdHJhbnNhY3Rpb25hbCB1bml0IG9mIHdvcmsuIFdoZW4geW91IGRlc2lnbiB5b3VyIGFwaVxuICB5b3UgbXVzdCBlbnN1cmUgdGhhdCB0aGUgY29tcGxldGVuZXNzIG9mIGEgdXNlIGNhc2UgaXMgZ3VhcmFudGVlZCBieSBhIHNpbmdsZVxuICB0cmFuc2FjdGlvbi4gSWYgeW91IG5lZWQgdG8gcGVyZm9ybSBzZXZlcmFsIHRyYW5zYWN0aW9ucyB0byBjb21wbGV0ZSBhIHVzZVxuICBjYXNlLCB5b3UgaW50cm9kdWNlIGEgcmlzayBvZiBpbmNvbnNpc3RlbmN5IGluIHlvdXIgZGF0YSBvciBleHRyYSBjb21wbGV4aXR5XG4gIGluIHlvdXIgY2xpZW50IGNvZGUuXG5cbiogUHJvcGVybHkgaGFuZGxlIHRoZSBlcnJvcnMuIFRoZSByb3V0ZSBoYW5kbGVyIG11c3QgcmV0dXJuIGEgcHJvcGVyIGVycm9yXG4gIHJlc3BvbnNlIHdoZW4gYW4gZXJyb3Igb2NjdXJzLiBUaGUgZXJyb3IgcmVzcG9uc2UgbXVzdCBiZSBjb25zaXN0ZW50IHdpdGhcbiAgdGhlIHJlc3Qgb2YgdGhlIGFwaS4gVGhlIGVycm9yIHJlc3BvbnNlIG11c3QgYmUgZG9jdW1lbnRlZCBpbiB0aGUgYXBpXG4gIGRvY3VtZW50YXRpb24uIEJ5IGRlZmF1bHQsIHRoZSAqKidvZG9vLWFkZG9uLWZhc3RhcGknKiogbW9kdWxlIGhhbmRsZXNcbiAgdGhlIGNvbW1vbiBleGNlcHRpb24gdHlwZXMgZGVmaW5lZCBpbiB0aGUgKionb2Rvby5leGNlcHRpb25zJyoqIG1vZHVsZVxuICBhbmQgcmV0dXJucyBhIHByb3BlciBlcnJvciByZXNwb25zZSB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIGh0dHAgc3RhdHVzIGNvZGUuXG4gIEFuIGVycm9yIGluIHRoZSByb3V0ZSBoYW5kbGVyIG11c3QgYWx3YXlzIHJldHVybiBhbiBlcnJvciByZXNwb25zZSB3aXRoIGFcbiAgaHR0cCBzdGF0dXMgY29kZSBkaWZmZXJlbnQgZnJvbSAyMDAuIFRoZSBlcnJvciByZXNwb25zZSBtdXN0IGNvbnRhaW4gYVxuICBodW1hbiByZWFkYWJsZSBtZXNzYWdlIHRoYXQgY2FuIGJlIGRpc3BsYXllZCB0byB0aGUgdXNlci4gVGhlIGVycm9yIHJlc3BvbnNlXG4gIGNhbiBhbHNvIGNvbnRhaW4gYSBtYWNoaW5lIHJlYWRhYmxlIGNvZGUgdGhhdCBjYW4gYmUgdXNlZCBieSB0aGUgY2xpZW50IHRvXG4gIGhhbmRsZSB0aGUgZXJyb3IgaW4gYSBzcGVjaWZpYyB3YXkuXG5cbiogV2hlbiB5b3UgZGVzaWduIHlvdXIganNvbiBkb2N1bWVudCB0aHJvdWdoIHRoZSBweWRhbnRpYyBtb2RlbHMsIHlvdSBtdXN0XG4gIHVzZSB0aGUgYXBwcm9wcmlhdGUgZGF0YSB0eXBlcy4gRm9yIGV4YW1wbGUsIHlvdSBtdXN0IHVzZSB0aGUgZGF0YSB0eXBlXG4gICoqJ2RhdGV0aW1lLmRhdGUnKiogdG8gcmVwcmVzZW50IGEgZGF0ZSBhbmQgbm90IGEgc3RyaW5nLiBZb3UgbXVzdCBhbHNvXG4gIHByb3Blcmx5IGRlZmluZSB0aGUgY29uc3RyYWludHMgb24gdGhlIGZpZWxkcy4gRm9yIGV4YW1wbGUsIGlmIGEgZmllbGRcbiAgaXMgb3B0aW9uYWwsIHlvdSBtdXN0IHVzZSB0aGUgZGF0YSB0eXBlICoqJ3R5cGluZy5PcHRpb25hbCcqKi5cbiAgYHB5ZGFudGljYF8gcHJvdmlkZXMgZXZlcnl0aGluZyB5b3UgbmVlZCB0b1xuICBwcm9wZXJseSBkZWZpbmUgeW91ciBqc29uIGRvY3VtZW50LlxuXG4qIEFsd2F5cyB1c2UgYW4gYXBwcm9wcmlhdGUgcHlkYW50aWMgbW9kZWwgYXMgcmVxdWVzdCBhbmQvb3IgcmVzcG9uc2UgZm9yXG4gIHlvdXIgcm91dGUgaGFuZGxlci4gQ29uc3RyYWludHMgb24gdGhlIGZpZWxkcyBvZiB0aGUgcHlkYW50aWMgbW9kZWwgbXVzdFxuICBhcHBseSB0byB0aGUgc3BlY2lmaWMgdXNlIGNhc2UuIEZvciBleGFtcGxlLCBpZiB5b3VyIHJvdXRlIGhhbmRsZXIgaXMgdXNlZFxuICB0byBjcmVhdGUgYSBzYWxlIG9yZGVyLCB0aGUgcHlkYW50aWMgbW9kZWwgbXVzdCBub3QgY29udGFpbiB0aGUgZmllbGRcbiAgJ2lkJyBiZWNhdXNlIHRoZSBpZCBvZiB0aGUgc2FsZSBvcmRlciB3aWxsIGJlIGdlbmVyYXRlZCBieSB0aGUgcm91dGUgaGFuZGxlci5cbiAgQnV0IGlmIHRoZSBpZCBpcyByZXF1aXJlZCBhZnRlcndvcmRzLCB0aGUgcHlkYW50aWMgbW9kZWwgZm9yIHRoZSByZXNwb25zZVxuICBtdXN0IGNvbnRhaW4gdGhlIGZpZWxkICdpZCcgYXMgcmVxdWlyZWQuXG5cbiogVXNlcyBkZXNjcmlwdGl2ZSBwcm9wZXJ0eSBuYW1lcyBpbiB5b3VyIGpzb24gZG9jdW1lbnRzLiBGb3IgZXhhbXBsZSwgYXZvaWQgdGhlXG4gIHVzZSBvZiBkb2N1bWVudHMgcHJvdmlkaW5nIGEgZmxhdCBsaXN0IG9mIGtleSB2YWx1ZSBwYWlycy5cblxuKiBCZSBjb25zaXN0ZW50IGluIHRoZSBuYW1pbmcgb2YgeW91ciBmaWVsZHMgaW50byB5b3VyIGpzb24gZG9jdW1lbnRzLiBGb3IgZXhhbXBsZSxcbiAgaWYgeW91IHVzZSAnaWQnIHRvIHJlcHJlc2VudCB0aGUgaWQgb2YgYSBzYWxlIG9yZGVyLCB5b3UgbXVzdCB1c2UgJ2lkJyB0byByZXByZXNlbnRcbiAgdGhlIGlkIG9mIGFsbCB0aGUgb3RoZXIgb2JqZWN0cy5cblxuKiBCZSBjb25zaXN0ZW50IGluIHRoZSBuYW1pbmcgc3R5bGUgb2YgeW91ciBmaWVsZHMuIEFsd2F5cyBwcmVmZXIgdW5kZXJzY29yZVxuICB0byBjYW1lbCBjYXNlLlxuXG4qIEFsd2F5cyB1c2UgcGx1cmFsIGZvciB0aGUgbmFtZSBvZiB0aGUgZmllbGRzIHRoYXQgY29udGFpbiBhIGxpc3Qgb2YgaXRlbXMuXG4gIEZvciBleGFtcGxlLCBpZiB5b3UgaGF2ZSBhIGZpZWxkICdsaW5lcycgdGhhdCBjb250YWlucyBhIGxpc3Qgb2Ygc2FsZSBvcmRlclxuICBsaW5lcywgeW91IG11c3QgdXNlICdsaW5lcycgYW5kIG5vdCAnbGluZScuXG5cbiogWW91IGNhbid0IGV4cGVjdCB0aGF0IGEgY2xpZW50IHdpbGwgcHJvdmlkZSB5b3UgdGhlIGlkZW50aWZpZXIgb2YgYSBzcGVjaWZpY1xuICByZWNvcmQgaW4gb2RvbyAoZm9yIGV4YW1wbGUgdGhlIGlkIG9mIGEgY2FycmllcikgaWYgeW91IGRvbid0IHByb3ZpZGUgYVxuICBzcGVjaWZpYyByb3V0ZSBoYW5kbGVyIHRvIHJldHJpZXZlIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSByZWNvcmRzLiBTb21ldGltZXMsXG4gIHRoZSBjbGllbnQgbXVzdCBzaGFyZSB3aXRoIG9kb28gdGhlIGlkZW50aXR5IG9mIGEgc3BlY2lmaWMgcmVjb3JkIHRvIGJlXG4gIGFibGUgdG8gcGVyZm9ybSBhbiBhcHByb3ByaWF0ZSBhY3Rpb24gc3BlY2lmaWMgdG8gdGhpcyByZWNvcmQgKGZvciBleGFtcGxlLFxuICB0aGUgcHJvY2Vzc2luZyBvZiBhIHBheW1lbnQgaXMgZGlmZmVyZW50IGZvciBlYWNoIHBheW1lbnQgYWNxdWlyZXIpLiBJbiB0aGlzXG4gIGNhc2UsIHlvdSBtdXN0IHByb3ZpZGUgYSBzcGVjaWZpYyBhdHRyaWJ1dGUgdGhhdCBhbGxvd3MgYm90aCB0aGUgY2xpZW50IGFuZFxuICBvZG9vIHRvIGlkZW50aWZ5IHRoZSByZWNvcmQuIFRoZSBmaWVsZCAncHJvdmlkZXInIG9uIGEgcGF5bWVudCBhY3F1aXJlciBhbGxvd3NcbiAgeW91IHRvIGlkZW50aWZ5IGEgc3BlY2lmaWMgcmVjb3JkIGluIG9kb28uIFRoaXMga2luZCBvZiBhcHByb2FjaFxuICBhbGxvd3MgYm90aCB0aGUgY2xpZW50IGFuZCBvZG9vIHRvIGlkZW50aWZ5IHRoZSByZWNvcmQgd2l0aG91dCBoYXZpbmcgdG8gcmVseVxuICBvbiB0aGUgaWQgb2YgdGhlIHJlY29yZC4gKFRoaXMgd2lsbCBlbnN1cmUgdGhhdCB0aGUgY2xpZW50IHdpbGwgbm90IGJyZWFrXG4gIGlmIHRoZSBpZCBvZiB0aGUgcmVjb3JkIGlzIGNoYW5nZWQgaW4gb2RvbyBmb3IgZXhhbXBsZSB3aGVuIHRlc3RzIGFyZSBydW5cbiAgb24gYW4gb3RoZXIgZGF0YWJhc2UpLlxuXG4qIEFsd2F5cyB1c2UgdGhlIHNhbWUgbmFtZSBmb3IgdGhlIHNhbWUga2luZCBvZiBvYmplY3QuIEZvciBleGFtcGxlLCBpZiB5b3VcbiAgaGF2ZSBhIGZpZWxkICdsaW5lcycgdGhhdCBjb250YWlucyBhIGxpc3Qgb2Ygc2FsZSBvcmRlciBsaW5lcywgeW91IG11c3RcbiAgdXNlIHRoZSBzYW1lIG5hbWUgZm9yIHRoZSBzYW1lIGtpbmQgb2Ygb2JqZWN0IGluIGFsbCB0aGUgb3RoZXIganNvbiBkb2N1bWVudHMuXG5cbiogTWFuYWdlIHJlbGF0aW9ucyBiZXR3ZWVuIG9iamVjdHMgaW4geW91ciBqc29uIGRvY3VtZW50cyB0aGUgc2FtZSB3YXkuXG4gIEJ5IGRlZmF1bHQsIHlvdSBzaG91bGQgcmV0dXJuIHRoZSBpZCBvZiB0aGUgcmVsYXRlZCBvYmplY3QgaW4gdGhlIGpzb24gZG9jdW1lbnQuXG4gIEJ1dCB0aGlzIGlzIG5vdCBhbHdheXMgcG9zc2libGUgb3IgY29udmVuaWVudCwgc28geW91IGNhbiBhbHNvIHJldHVybiB0aGVcbiAgcmVsYXRlZCBvYmplY3QgaW4gdGhlIGpzb24gZG9jdW1lbnQuIFRoZSBtYWluIGFkdmFudGFnZSBvZiByZXR1cm5pbmcgdGhlIGlkXG4gIG9mIHRoZSByZWxhdGVkIG9iamVjdCBpcyB0aGF0IGl0IGFsbG93cyB5b3UgdG8gYXZvaWQgdGhlIGBuKzEgcHJvYmxlbVxuICA8aHR0cHM6Ly9yZXN0ZnVsYXBpLm5ldC9yZXN0LWFwaS1uLTEtcHJvYmxlbS8+YF8gLiBUaGVcbiAgbWFpbiBhZHZhbnRhZ2Ugb2YgcmV0dXJuaW5nIHRoZSByZWxhdGVkIG9iamVjdCBpbiB0aGUganNvbiBkb2N1bWVudCBpcyB0aGF0XG4gIGl0IGFsbG93cyB5b3UgdG8gYXZvaWQgYW4gZXh0cmEgY2FsbCB0byByZXRyaWV2ZSB0aGUgcmVsYXRlZCBvYmplY3QuXG4gIEJ5IGtlZXBpbmcgaW4gbWluZCB0aGUgcHJvcyBhbmQgY29ucyBvZiBlYWNoIGFwcHJvYWNoLCB5b3UgY2FuIGNob29zZSB0aGVcbiAgYmVzdCBvbmUgZm9yIHlvdXIgdXNlIGNhc2UuIE9uY2UgaXQncyBkb25lLCB5b3UgbXVzdCBiZSBjb25zaXN0ZW50IGluIHRoZVxuICB3YXkgeW91IG1hbmFnZSB0aGUgcmVsYXRpb25zIG9mIHRoZSBzYW1lIG9iamVjdC5cblxuKiBJdCdzIG5vdCBhbHdheXMgYSBnb29kIGlkZWEgdG8gbmFtZSB5b3VyIGZpZWxkcyBpbnRvIHlvdXIganNvbiBkb2N1bWVudHNcbiAgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIHRoZSBmaWVsZHMgb2YgdGhlIGNvcnJlc3BvbmRpbmcgb2RvbyBtb2RlbC4gRm9yIGV4YW1wbGUsXG4gIGluIHlvdXIgZG9jdW1lbnQgcmVwcmVzZW50aW5nIGEgc2FsZSBvcmRlciwgeW91IG11c3Qgbm90IHVzZSB0aGUgbmFtZSAnb3JkZXJfbGluZSdcbiAgZm9yIHRoZSBmaWVsZCB0aGF0IGNvbnRhaW5zIHRoZSBsaXN0IG9mIHNhbGUgb3JkZXIgbGluZXMuIFRoZSBuYW1lICdvcmRlcl9saW5lJ1xuICBpbiBhZGRpdGlvbiB0byBiZWluZyBjb25mdXNpbmcgYW5kIG5vdCBjb25zaXN0ZW50IHdpdGggdGhlIGJlc3QgcHJhY3RpY2VzLCBpc1xuICBub3QgYXV0by1kZXNjcmlwdGl2ZS4gVGhlIG5hbWUgJ2xpbmVzJyBpcyBtdWNoIGJldHRlci5cblxuKiBLZWVwIGEgZGVmZW5zaXZlIHByb2dyYW1taW5nIGFwcHJvYWNoLiBJZiB5b3UgcHJvdmlkZSBhIHJvdXRlIGhhbmRsZXIgdGhhdFxuICByZXR1cm5zIGEgbGlzdCBvZiByZWNvcmRzLCB5b3UgbXVzdCBlbnN1cmUgdGhhdCB0aGUgY29tcHV0YXRpb24gb2YgdGhlIGxpc3RcbiAgaXMgbm90IHRvbyBsb25nIG9yIHdpbGwgbm90IGRyYWluIHlvdXIgc2VydmVyIHJlc291cmNlcy4gRm9yIGV4YW1wbGUsXG4gIGZvciBzZWFyY2ggcm91dGUgaGFuZGxlcnMsIHlvdSBtdXN0IGVuc3VyZSB0aGF0IHRoZSBzZWFyY2ggaXMgbGltaXRlZCB0b1xuICBhIHJlYXNvbmFibGUgbnVtYmVyIG9mIHJlY29yZHMgYnkgZGVmYXVsdC5cblxuKiBBcyBhIGNvcm9sbGFyeSBvZiB0aGUgcHJldmlvdXMgcG9pbnQsIGEgc2VhcmNoIGhhbmRsZXIgbXVzdCBhbHdheXMgdXNlIHRoZVxuICBwYWdpbmF0aW9uIG1lY2hhbmlzbSB3aXRoIGEgcmVhc29uYWJsZSBkZWZhdWx0IHBhZ2Ugc2l6ZS4gVGhlIHJlc3VsdCBsaXN0XG4gIG11c3QgYmUgZW5jbG9zZWQgaW4gYSBqc29uIGRvY3VtZW50IHRoYXQgY29udGFpbnMgdGhlIHRvdGFsIG51bWJlciBvZiByZWNvcmRzXG4gIGFuZCB0aGUgbGlzdCBvZiByZWNvcmRzLlxuXG4qIFVzZSBwbHVyYWwgZm9yIHRoZSBuYW1lIG9mIGEgc2VydmljZS4gRm9yIGV4YW1wbGUsIGlmIHlvdSBwcm92aWRlIGEgc2VydmljZVxuICB0aGF0IGFsbG93cyB5b3UgdG8gbWFuYWdlIHRoZSBzYWxlIG9yZGVycywgeW91IG11c3QgdXNlIHRoZSBuYW1lICdzYWxlX29yZGVycydcbiAgYW5kIG5vdCAnc2FsZV9vcmRlcicuXG5cblxuXG4qIC4uLiBhbmQgbWFueSBtb3JlLlxuXG5XZSBjb3VsZCB3cml0ZSBhIGJvb2sgYWJvdXQgdGhlIGJlc3QgcHJhY3RpY2VzIHRvIGZvbGxvdyB3aGVuIHlvdSBkZXNpZ24geW91ciBhcGlcbmJ1dCB3ZSB3aWxsIHN0b3AgaGVyZS4gVGhpcyBsaXN0IGlzIHRoZSByZXN1bHQgb2Ygb3VyIGV4cGVyaWVuY2UgYXQgYEFDU09ORSBTQS9OVlxuPGh0dHBzOi8vYWNzb25lLmV1PmBfIGFuZCBpdCBldm9sdmUgb3ZlciB0aW1lLiBJdCdzIGEga2luZCBvZiByZXNjdWUga2l0IHRoYXQgd2VcbndvdWxkIHByb3ZpZGUgdG8gYSBuZXcgZGV2ZWxvcGVyIHRoYXQgc3RhcnRzIHRvIGRlc2lnbiBhbiBhcGkuIFRoaXMga2l0IG11c3RcbmJlIGFjY29tcGFuaWVkIHdpdGggdGhlIHJlYWRpbmcgb2Ygc29tZSB1c2VmdWwgcmVzb3VyY2VzIGxpbmsgbGlrZSB0aGUgYFJFU1QgR3VpZGVsaW5lc1xuPGh0dHBzOi8vd3d3LmJlbGdpZi5iZS9zcGVjaWZpY2F0aW9uL3Jlc3QvYXBpLWd1aWRlLz5gXy4gT24gYSB0ZWNobmljYWwgbGV2ZWwsXG50aGUgYGZhc3RhcGkgIGRvY3VtZW50YXRpb24gPGh0dHBzOi8vZmFzdGFwaS50aWFuZ29sby5jb20vPmBfIHByb3ZpZGVzIGEgbG90IG9mXG51c2VmdWwgaW5mb3JtYXRpb24gYXMgd2VsbCwgd2l0aCBhIGxvdCBvZiBleGFtcGxlcy4gTGFzdCBidXQgbm90IGxlYXN0LCB0aGVcbmBweWRhbnRpY2BfIGRvY3VtZW50YXRpb24gaXMgYWxzbyB2ZXJ5IHVzZWZ1bC5cblxuTWlzY2VsbGFuZW91c1xuKioqKioqKioqKioqKlxuXG5EZXZlbG9wbWVudCBvZiBhIHNlYXJjaCByb3V0ZSBoYW5kbGVyXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblRoZSAqKidvZG9vLWFkZG9uLWZhc3RhcGknKiogbW9kdWxlIHByb3ZpZGVzIDIgdXNlZnVsIHBpZWNlIG9mIGNvZGUgdG8gaGVscFxueW91IGJlIGNvbnNpc3RlbnQgd2hlbiB3cml0aW5nIGEgcm91dGUgaGFuZGxlciBmb3IgYSBzZWFyY2ggcm91dGUuXG5cbjEuIEEgZGVwZW5kZW5jeSBtZXRob2QgdG8gdXNlIHRvIHNwZWNpZnkgdGhlIHBhZ2luYXRpb24gcGFyYW1ldGVycyBpbiB0aGUgc2FtZVxuICAgd2F5IGZvciBhbGwgdGhlIHNlYXJjaCByb3V0ZSBoYW5kbGVyczogKionb2Rvby5hZGRvbnMuZmFzdGFwaS5wYWdpbmcnKiouXG4yLiBBIFBhZ2VkQ29sbGVjdGlvbiBweWRhbnRpYyBtb2RlbCB0byB1c2UgdG8gcmV0dXJuIHRoZSByZXN1bHQgb2YgYSBzZWFyY2ggcm91dGVcbiAgIGhhbmRsZXIgZW5jbG9zZWQgaW4gYSBqc29uIGRvY3VtZW50IHRoYXQgY29udGFpbnMgdGhlIHRvdGFsIG51bWJlciBvZiByZWNvcmRzLlxuXG4uLiBjb2RlLWJsb2NrOjogcHl0aG9uXG5cbiAgICBmcm9tIHB5ZGFudGljIGltcG9ydCBCYXNlTW9kZWxcblxuICAgIGZyb20gb2Rvby5hcGkgaW1wb3J0IEVudmlyb25tZW50XG4gICAgZnJvbSBvZG9vLmFkZG9ucy5mYXN0YXBpLmRlcGVuZHMgaW1wb3J0IHBhZ2luZywgYXV0aGVudGljYXRlZF9wYXJ0bmVyX2VudlxuICAgIGZyb20gb2Rvby5hZGRvbnMuZmFzdGFwaS5zY2hlbWFzIGltcG9ydCBQYWdlZENvbGxlY3Rpb24sIFBhZ2luZ1xuXG4gICAgY2xhc3MgU2FsZU9yZGVyKEJhc2VNb2RlbCk6XG4gICAgICAgIGlkOiBpbnRcbiAgICAgICAgbmFtZTogc3RyXG5cblxuICAgIEByb3V0ZXIuZ2V0KFxuICAgICAgICBcIi9zYWxlX29yZGVyc1wiLFxuICAgICAgICByZXNwb25zZV9tb2RlbD1QYWdlZENvbGxlY3Rpb25bU2FsZU9yZGVyXSxcbiAgICAgICAgcmVzcG9uc2VfbW9kZWxfZXhjbHVkZV91bnNldD1UcnVlLFxuICAgIClcbiAgICBkZWYgZ2V0X3NhbGVfb3JkZXJzKFxuICAgICAgICBwYWdpbmc6IFBhZ2luZyA9IERlcGVuZHMocGFnaW5nKSxcbiAgICAgICAgZW52OiBFbnZpcm9ubWVudCA9IERlcGVuZHMoYXV0aGVudGljYXRlZF9wYXJ0bmVyX2VudiksXG4gICAgKSAtPiBQYWdlZENvbGxlY3Rpb25bU2FsZU9yZGVyXTpcbiAgICAgICAgXCJcIlwiR2V0IHRoZSBsaXN0IG9mIHNhbGUgb3JkZXJzLlwiXCJcIlxuICAgICAgICBjb3VudCA9IGVudltcInNhbGUub3JkZXJcIl0uc2VhcmNoX2NvdW50KFtdKVxuICAgICAgICBvcmRlcnMgPSBlbnZbXCJzYWxlLm9yZGVyXCJdLnNlYXJjaChbXSwgbGltaXQ9cGFnaW5nLmxpbWl0LCBvZmZzZXQ9cGFnaW5nLm9mZnNldClcbiAgICAgICAgcmV0dXJuIFBhZ2VkQ29sbGVjdGlvbltTYWxlT3JkZXJdKFxuICAgICAgICAgICAgdG90YWw9Y291bnQsXG4gICAgICAgICAgICBpdGVtcz1bU2FsZU9yZGVyLmZyb21fb3JtKG9yZGVyKSBmb3Igb3JkZXIgaW4gb3JkZXJzXSxcbiAgICAgICAgKVxuXG4uLiBub3RlOjpcblxuICAgIFRoZSAqKidvZG9vLmFkZG9ucy5mYXN0YXBpLnNjaGVtYXMuUGFnaW5nJyoqIGFuZCAqKidvZG9vLmFkZG9ucy5mYXN0YXBpLnNjaGVtYXMuUGFnZWRDb2xsZWN0aW9uJyoqXG4gICAgcHlkYW50aWMgbW9kZWxzIGFyZSBub3QgZGVzaWduZWQgdG8gYmUgZXh0ZW5kZWQgdG8gbm90IGludHJvZHVjZSBhXG4gICAgZGVwZW5kZW5jeSBiZXR3ZWVuIHRoZSAqKidvZG9vLWFkZG9uLWZhc3RhcGknKiogbW9kdWxlIGFuZCB0aGUgKionb2Rvby1hZGRvbi1leHRlbmRhYmxlJyoqXG4gICAgTW9yZW92ZXIsIGF0IHRoZSB0aW1lIG9mIHdyaXRpbmcsIHRoZSAqKidleHRlbmRhYmxlLXB5ZGFudGljJyoqIGxpYnJhcnkgZG9lcyBub3RcbiAgICBzdXBwb3J0IEdlbmVyaWMgbW9kZWxzLiBOZXZlcnRoZWxlc3MsIGEgcHVsbCByZXF1ZXN0IGhhcyBiZWVuIHN1Ym1pdHRlZCB0b1xuICAgIGFkZCB0aGlzIGZlYXR1cmUgdG8gdGhlIGxpYnJhcnkuIChzZWUgYFBSIDEgPGh0dHBzOi8vZ2l0aHViLmNvbS9sbWlnbm9uL2V4dGVuZGFibGUtcHlkYW50aWMvcHVsbC8xPmBfKVxuXG5cbkN1c3RvbWl6YXRpb24gb2YgdGhlIGVycm9yIGhhbmRsaW5nXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5UaGUgZXJyb3IgaGFuZGxpbmcgYSB2ZXJ5IGltcG9ydGFudCB0b3BpYyBpbiB0aGUgZGVzaWduIG9mIHRoZSBmYXN0YXBpIGludGVncmF0aW9uXG53aXRoIG9kb28uIEl0IG11c3QgZW5zdXJlIHRoYXQgdGhlIGVycm9yIG1lc3NhZ2VzIGFyZSBwcm9wZXJseSByZXR1cm4gdG8gdGhlIGNsaWVudFxuYW5kIHRoYXQgdGhlIHRyYW5zYWN0aW9uIGlzIHByb3Blcmx5IHJvbGwgYmFja2VkLiBUaGUgKionZmFzdGFwaScqKiBtb2R1bGUgcHJvdmlkZXNcbmEgd2F5IHRvIHJlZ2lzdGVyIGN1c3RvbSBlcnJvciBoYW5kbGVycy4gVGhlICoqJ29kb28uYWRkb25zLmZhc3RhcGkuZXJyb3JfaGFuZGxlcnMnKipcbm1vZHVsZSBwcm92aWRlcyB0aGUgZGVmYXVsdCBlcnJvciBoYW5kbGVycyB0aGF0IGFyZSByZWdpc3RlcmVkIGJ5IGRlZmF1bHQgd2hlblxuYSBuZXcgaW5zdGFuY2Ugb2YgdGhlICoqJ0Zhc3RBUEknKiogY2xhc3MgaXMgY3JlYXRlZC4gV2hlbiBhbiBhcHAgaXMgaW5pdGlhbGl6ZWQgaW5cbidmYXN0YXBpLmVuZHBvaW50JyBtb2RlbCwgdGhlIG1ldGhvZCBgX2dldF9hcHBfZXhjZXB0aW9uX2hhbmRsZXJzYCBpcyBjYWxsZWQgdG9cbmdldCBhIGRpY3Rpb25hcnkgb2YgZXJyb3IgaGFuZGxlcnMuIFRoaXMgbWV0aG9kIGlzIGRlc2lnbmVkIHRvIGJlIG92ZXJyaWRkZW5cbmluIGEgY3VzdG9tIG1vZHVsZSB0byBwcm92aWRlIGN1c3RvbSBlcnJvciBoYW5kbGVycy4gWW91IGNhbiBvdmVycmlkZSB0aGUgaGFuZGxlclxuZm9yIGEgc3BlY2lmaWMgZXhjZXB0aW9uIGNsYXNzIG9yIHlvdSBjYW4gYWRkIGEgbmV3IGhhbmRsZXIgZm9yIGEgbmV3IGV4Y2VwdGlvblxub3IgZXZlbiByZXBsYWNlIGFsbCB0aGUgaGFuZGxlcnMgYnkgeW91ciBvd24gaGFuZGxlcnMuIFdoYXRldmVyIHlvdSBkbywgeW91IG11c3RcbmVuc3VyZSB0aGF0IHRoZSB0cmFuc2FjdGlvbiBpcyBwcm9wZXJseSByb2xsIGJhY2tlZC5cblxuU29tZSBjb3VsZCBhcmd1ZSB0aGF0IHRoZSBlcnJvciBoYW5kbGluZyBjYW4ndCBiZSBleHRlbmRlZCBzaW5jZSB0aGUgZXJyb3IgaGFuZGxlcnNcbmFyZSBnbG9iYWwgbWV0aG9kIG5vdCBkZWZpbmVkIGluIGFuIG9kb28gbW9kZWwuIFNpbmNlIHRoZSBtZXRob2QgcHJvdmlkaW5nIHRoZVxudGhlIGVycm9yIGhhbmRsZXJzIGRlZmluaXRpb25zIGlzIGRlZmluZWQgb24gdGhlICdmYXN0YXBpLmVuZHBvaW50JyBtb2RlbCwgaXQnc1xubm90IGEgcHJvYmxlbSBhdCBhbGwsIHlvdSBqdXN0IG5lZWQgdG8gdGhpbmsgYW5vdGhlciB3YXkgdG8gZG8gaXQgdGhhdCBieSBpbmhlcml0YW5jZS5cblxuQSBzb2x1dGlvbiBjb3VsZCBiZSB0byBkZXZlbG9wIHlvdSBvd24gZXJyb3IgaGFuZGxlciB0byBiZSBhYmxlIHRvIHByb2Nlc3MgdGhlXG5lcnJvciBhbmQgY2hhaW4gdGhlIGNhbGwgdG8gdGhlIGRlZmF1bHQgZXJyb3IgaGFuZGxlci5cblxuLi4gY29kZS1ibG9jazo6IHB5dGhvblxuXG4gICAgY2xhc3MgTXlDdXN0b21FcnJvckhhbmRsZXIoKTpcbiAgICAgICAgZGVmIF9faW5pdF9fKHNlbGYsIG5leHRfaGFuZGxlcik6XG4gICAgICAgICAgICBzZWxmLm5leHRfaGFuZGxlciA9IG5leHRfaGFuZGxlclxuXG4gICAgICAgIGRlZiBfX2NhbGxfXyhzZWxmLCByZXF1ZXN0OiBSZXF1ZXN0LCBleGM6IEV4Y2VwdGlvbikgLT4gSlNPTlJlc3BvbnNlOlxuICAgICAgICAgICAgIyBkbyBzb21ldGhpbmcgd2l0aCB0aGUgZXJyb3JcbiAgICAgICAgICAgIHJlc3BvbnNlID0gc2VsZi5uZXh0X2hhbmRsZXIocmVxdWVzdCwgZXhjKVxuICAgICAgICAgICAgIyBkbyBzb21ldGhpbmcgd2l0aCB0aGUgcmVzcG9uc2VcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZVxuXG5cbldpdGggdGhpcyBzb2x1dGlvbiwgeW91IGNhbiBub3cgcmVnaXN0ZXIgeW91ciBjdXN0b20gZXJyb3IgaGFuZGxlciBieSBvdmVycmlkaW5nXG50aGUgbWV0aG9kIGBfZ2V0X2FwcF9leGNlcHRpb25faGFuZGxlcnNgIGluIHlvdXIgY3VzdG9tIG1vZHVsZS5cblxuLi4gY29kZS1ibG9jazo6IHB5dGhvblxuXG4gICAgY2xhc3MgRmFzdGFwaUVuZHBvaW50KG1vZGVscy5Nb2RlbCk6XG4gICAgICAgIF9pbmhlcml0ID0gXCJmYXN0YXBpLmVuZHBvaW50XCJcblxuICAgICAgICBkZWYgX2dldF9hcHBfZXhjZXB0aW9uX2hhbmRsZXJzKFxuICAgICAgICBzZWxmLFxuICAgICkgLT4gRGljdFtcbiAgICAgICAgaW50IHwgVHlwZVtFeGNlcHRpb25dLFxuICAgICAgICBDYWxsYWJsZVtbUmVxdWVzdCwgRXhjZXB0aW9uXSwgVW5pb25bUmVzcG9uc2UsIEF3YWl0YWJsZVtSZXNwb25zZV1dXSxcbiAgICBdOlxuICAgICAgICAgICAgaGFuZGxlcnMgPSBzdXBlcigpLl9nZXRfYXBwX2V4Y2VwdGlvbl9oYW5kbGVycygpXG4gICAgICAgICAgICBhY2Nlc3NfZXJyb3JfaGFuZGxlciA9IGhhbmRsZXJzLmdldChvZG9vLmV4Y2VwdGlvbnMuQWNjZXNzRXJyb3IpXG4gICAgICAgICAgICBoYW5kbGVyc1tvZG9vLmV4Y2VwdGlvbnMuQWNjZXNzRXJyb3JdID0gTXlDdXN0b21FcnJvckhhbmRsZXIoYWNjZXNzX2Vycm9yX2hhbmRsZXIpXG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlcnNcblxuSW4gdGhlIHByZXZpb3VzIGV4YW1wbGUsIHdlIGV4dGVuZCB0aGUgZXJyb3IgaGFuZGxlciBmb3IgdGhlICdBY2Nlc3NFcnJvcicgZXhjZXB0aW9uXG5mb3IgYWxsIHRoZSBlbmRwb2ludHMuIFlvdSBjYW4gZG8gdGhlIHNhbWUgZm9yIGEgc3BlY2lmaWMgYXBwIGJ5IGNoZWNraW5nIHRoZVxuJ2FwcCcgZmllbGQgb2YgdGhlICdmYXN0YXBpLmVuZHBvaW50JyByZWNvcmQgYmVmb3JlIHJlZ2lzdGVyaW5nIHlvdXIgY3VzdG9tIGVycm9yXG5oYW5kbGVyLlxuXG5XaGF0J3MgbmV4dD9cbioqKioqKioqKioqKlxuXG5UaGUgKionb2Rvby1hZGRvbi1mYXN0YXBpJyoqIG1vZHVsZSBpcyBzdGlsbCBpbiBpdHMgZWFybHkgc3RhZ2Ugb2YgZGV2ZWxvcG1lbnQuXG5JdCB3aWxsIGV2b2x2ZSBvdmVyIHRpbWUgdG8gaW50ZWdyYXRlIHlvdXIgZmVlZGJhY2sgYW5kIHRvIHByb3ZpZGUgdGhlIG1pc3NpbmdcbmZlYXR1cmVzLiBJdCdzIG5vdyB1cCB0byB5b3UgdG8gdHJ5IGl0IGFuZCB0byBwcm92aWRlIHlvdXIgZmVlZGJhY2suXG5cbi4uIF9weWRhbnRpYzogaHR0cHM6Ly9kb2NzLnB5ZGFudGljLmRldi9cblxuS25vd24gaXNzdWVzIC8gUm9hZG1hcFxuPT09PT09PT09PT09PT09PT09PT09PVxuXG5UaGUgYHJvYWRtYXAgPGh0dHBzOi8vZ2l0aHViLmNvbS9PQ0EvcmVzdC1mcmFtZXdvcmsvaXNzdWVzP3E9aXMlM0FvcGVuK2lzJTNBaXNzdWUrbGFiZWwlM0FlbmhhbmNlbWVudCtsYWJlbCUzQWZhc3RhcGk+YF9cbmFuZCBga25vd24gaXNzdWVzIDxodHRwczovL2dpdGh1Yi5jb20vT0NBL3Jlc3QtZnJhbWV3b3JrL2lzc3Vlcz9xPWlzJTNBb3BlbitpcyUzQWlzc3VlK2xhYmVsJTNBYnVnK2xhYmVsJTNBZmFzdGFwaT5gXyBjYW5cbmJlIGZvdW5kIG9uIEdpdEh1Yi5cblxuVGhlICoqRmFzdEFQSSoqIG1vZHVsZSBwcm92aWRlcyBhbiBlYXN5IHdheSB0byB1c2UgV2ViU29ja2V0cy4gVW5mb3J0dW5hdGVseSwgdGhpc1xuc3VwcG9ydCBpcyBub3QgJ3lldCcgYXZhaWxhYmxlIGluIHRoZSAqKk9kb28qKiBmcmFtZXdvcmsuIFRoZSBjaGFsbGVuZ2UgaXMgaGlnaFxuYmVjYXVzZSB0aGUgaW50ZWdyYXRpb24gb2YgdGhlIGZhc3RhcGkgaXMgYmFzZWQgb24gdGhlIHVzZSBvZiBhIHNwZWNpZmljIG1pZGRsZXdhcmVcbnRoYXQgY29udmVydCB0aGUgV1NHSSByZXF1ZXN0IGNvbnN1bWVkIGJ5IG9kb28gdG8gYSBBU0dJIHJlcXVlc3QuIFRoZSBxdWVzdGlvblxuaXMgdG8ga25vdyBpZiBpdCBpcyBhbHNvIHBvc3NpYmxlIHRvIGRldmVsb3AgdGhlIHNhbWUga2luZCBvZiBicmlkZ2UgZm9yIHRoZVxuV2ViU29ja2V0cyBhbmQgdG8gc3RyZWFtIGxhcmdlIHJlc3BvbnNlcy5cblxuQnVnIFRyYWNrZXJcbj09PT09PT09PT09XG5cbkJ1Z3MgYXJlIHRyYWNrZWQgb24gYEdpdEh1YiBJc3N1ZXMgPGh0dHBzOi8vZ2l0aHViLmNvbS9PQ0EvcmVzdC1mcmFtZXdvcmsvaXNzdWVzPmBfLlxuSW4gY2FzZSBvZiB0cm91YmxlLCBwbGVhc2UgY2hlY2sgdGhlcmUgaWYgeW91ciBpc3N1ZSBoYXMgYWxyZWFkeSBiZWVuIHJlcG9ydGVkLlxuSWYgeW91IHNwb3R0ZWQgaXQgZmlyc3QsIGhlbHAgdXMgc21hc2hpbmcgaXQgYnkgcHJvdmlkaW5nIGEgZGV0YWlsZWQgYW5kIHdlbGNvbWVkXG5gZmVlZGJhY2sgPGh0dHBzOi8vZ2l0aHViLmNvbS9PQ0EvcmVzdC1mcmFtZXdvcmsvaXNzdWVzL25ldz9ib2R5PW1vZHVsZTolMjBmYXN0YXBpJTBBdmVyc2lvbjolMjAxNi4wJTBBJTBBKipTdGVwcyUyMHRvJTIwcmVwcm9kdWNlKiolMEEtJTIwLi4uJTBBJTBBKipDdXJyZW50JTIwYmVoYXZpb3IqKiUwQSUwQSoqRXhwZWN0ZWQlMjBiZWhhdmlvcioqPmBfLlxuXG5EbyBub3QgY29udGFjdCBjb250cmlidXRvcnMgZGlyZWN0bHkgYWJvdXQgc3VwcG9ydCBvciBoZWxwIHdpdGggdGVjaG5pY2FsIGlzc3Vlcy5cblxuQ3JlZGl0c1xuPT09PT09PVxuXG5BdXRob3JzXG5+fn5+fn5+XG5cbiogQUNTT05FIFNBL05WXG5cbkNvbnRyaWJ1dG9yc1xufn5+fn5+fn5+fn5+XG5cbiogTGF1cmVudCBNaWdub24gPGxhdXJlbnQubWlnbm9uQGFjc29uZS5ldT5cblxuTWFpbnRhaW5lcnNcbn5+fn5+fn5+fn5+XG5cblRoaXMgbW9kdWxlIGlzIG1haW50YWluZWQgYnkgdGhlIE9DQS5cblxuLi4gaW1hZ2U6OiBodHRwczovL29kb28tY29tbXVuaXR5Lm9yZy9sb2dvLnBuZ1xuICAgOmFsdDogT2RvbyBDb21tdW5pdHkgQXNzb2NpYXRpb25cbiAgIDp0YXJnZXQ6IGh0dHBzOi8vb2Rvby1jb21tdW5pdHkub3JnXG5cbk9DQSwgb3IgdGhlIE9kb28gQ29tbXVuaXR5IEFzc29jaWF0aW9uLCBpcyBhIG5vbnByb2ZpdCBvcmdhbml6YXRpb24gd2hvc2Vcbm1pc3Npb24gaXMgdG8gc3VwcG9ydCB0aGUgY29sbGFib3JhdGl2ZSBkZXZlbG9wbWVudCBvZiBPZG9vIGZlYXR1cmVzIGFuZFxucHJvbW90ZSBpdHMgd2lkZXNwcmVhZCB1c2UuXG5cbi4uIHxtYWludGFpbmVyLWxtaWdub258IGltYWdlOjogaHR0cHM6Ly9naXRodWIuY29tL2xtaWdub24ucG5nP3NpemU9NDBweFxuICAgIDp0YXJnZXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9sbWlnbm9uXG4gICAgOmFsdDogbG1pZ25vblxuXG5DdXJyZW50IGBtYWludGFpbmVyIDxodHRwczovL29kb28tY29tbXVuaXR5Lm9yZy9wYWdlL21haW50YWluZXItcm9sZT5gX186XG5cbnxtYWludGFpbmVyLWxtaWdub258IFxuXG5UaGlzIG1vZHVsZSBpcyBwYXJ0IG9mIHRoZSBgT0NBL3Jlc3QtZnJhbWV3b3JrIDxodHRwczovL2dpdGh1Yi5jb20vT0NBL3Jlc3QtZnJhbWV3b3JrL3RyZWUvMTYuMC9mYXN0YXBpPmBfIHByb2plY3Qgb24gR2l0SHViLlxuXG5Zb3UgYXJlIHdlbGNvbWUgdG8gY29udHJpYnV0ZS4gVG8gbGVhcm4gaG93IHBsZWFzZSB2aXNpdCBodHRwczovL29kb28tY29tbXVuaXR5Lm9yZy9wYWdlL0NvbnRyaWJ1dGUuXG5cblxuIiw=
ICAgICJkZXNjcmlwdGlvbl9jb250ZW50X3R5cGUiOiAiIiw=
ICAgICJkb2NzX3VybCI6IG51bGws
ICAgICJkb3dubG9hZF91cmwiOiAiIiw=
ICAgICJkb3dubG9hZHMiOiB7
ICAgICAgImxhc3RfZGF5IjogLTEs
ICAgICAgImxhc3RfbW9udGgiOiAtMSw=
ICAgICAgImxhc3Rfd2VlayI6IC0x
ICAgIH0s
ICAgICJob21lX3BhZ2UiOiAiaHR0cHM6Ly9naXRodWIuY29tL09DQS9yZXN0LWZyYW1ld29yayIs
ICAgICJrZXl3b3JkcyI6ICIiLA==
ICAgICJsaWNlbnNlIjogIkxHUEwtMyIs
ICAgICJtYWludGFpbmVyIjogIiIs
ICAgICJtYWludGFpbmVyX2VtYWlsIjogIiIs
ICAgICJuYW1lIjogIm9kb28tYWRkb24tZmFzdGFwaSIs
ICAgICJwYWNrYWdlX3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3Qvb2Rvby1hZGRvbi1mYXN0YXBpLyIs
ICAgICJwbGF0Zm9ybSI6IG51bGws
ICAgICJwcm9qZWN0X3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3Qvb2Rvby1hZGRvbi1mYXN0YXBpLyIs
ICAgICJwcm9qZWN0X3VybHMiOiB7
ICAgICAgIkhvbWVwYWdlIjogImh0dHBzOi8vZ2l0aHViLmNvbS9PQ0EvcmVzdC1mcmFtZXdvcmsi
ICAgIH0s
ICAgICJyZWxlYXNlX3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3Qvb2Rvby1hZGRvbi1mYXN0YXBpLzE2LjAuMC4wLjEuMjYvIiw=
ICAgICJyZXF1aXJlc19kaXN0IjogWw==
ICAgICAgImEyd3NnaSIs
ICAgICAgImZhc3RhcGkiLA==
ICAgICAgIm9kb28tYWRkb24tZW5kcG9pbnQtcm91dGUtaGFuZGxlciAoPDE2LjFkZXYsPj0xNi4wZGV2KSIs
ICAgICAgIm9kb28gKDwxNi4xZGV2LD49MTYuMGEpIiw=
ICAgICAgInBhcnNlLWFjY2VwdC1sYW5ndWFnZSIs
ICAgICAgInB5dGhvbi1tdWx0aXBhcnQiLA==
ICAgICAgInVqc29uIg==
ICAgIF0s
ICAgICJyZXF1aXJlc19weXRob24iOiAiPj0zLjEwIiw=
ICAgICJzdW1tYXJ5IjogIk9kb28gRmFzdEFQSSBlbmRwb2ludCIs
ICAgICJ2ZXJzaW9uIjogIjE2LjAuMC4wLjEuMjYiLA==
ICAgICJ5YW5rZWQiOiBmYWxzZSw=
ICAgICJ5YW5rZWRfcmVhc29uIjogbnVsbA==
ICB9LA==
ICAibGFzdF9zZXJpYWwiOiAxODQxMDE1OCw=
ICAicmVsZWFzZXMiOiB7
ICAgICIxNi4wLjAuMC4xLjI2IjogWw==
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICI0YTUxMzAyMjIzMjczMzI1N2IyMDkyMjM2MTZiNjA2Yjg2YTM1YzY1OTdkMGJkNTg1Zjc0ZGI0MGY2MjlkNWEwIiw=
ICAgICAgICAgICJtZDUiOiAiNjY0ZTJjMWIzMjdjZGFkY2Q2MTYyZWZlZmIwOTc2OTUiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiNzI2NDhhNTc1YzBhOGU4YmVhZjdjZDY2NDZlZDdkZDMwOWU4ZWY2OGM1ODdmMGUyYTc2Nzg4NDMxMzM5NmUwZSI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAib2Rvb19hZGRvbl9mYXN0YXBpLTE2LjAuMC4wLjEuMjYtcHkzLW5vbmUtYW55LndobCIs
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICI2NjRlMmMxYjMyN2NkYWRjZDYxNjJlZmVmYjA5NzY5NSIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAiYmRpc3Rfd2hlZWwiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAicHkzIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogIj49My4xMCIs
ICAgICAgICAic2l6ZSI6IDE2MTMwMiw=
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAyMy0wNi0wN1QxNTozMjowMiIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAyMy0wNi0wN1QxNTozMjowMi4wMzE0MTRaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy80YS81MS8zMDIyMjMyNzMzMjU3YjIwOTIyMzYxNmI2MDZiODZhMzVjNjU5N2QwYmQ1ODVmNzRkYjQwZjYyOWQ1YTAvb2Rvb19hZGRvbl9mYXN0YXBpLTE2LjAuMC4wLjEuMjYtcHkzLW5vbmUtYW55LndobCIs
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfQ==
ICAgIF0=
ICB9LA==
ICAidXJscyI6IFs=
ICAgIHs=
ICAgICAgImNvbW1lbnRfdGV4dCI6ICIiLA==
ICAgICAgImRpZ2VzdHMiOiB7
ICAgICAgICAiYmxha2UyYl8yNTYiOiAiNGE1MTMwMjIyMzI3MzMyNTdiMjA5MjIzNjE2YjYwNmI4NmEzNWM2NTk3ZDBiZDU4NWY3NGRiNDBmNjI5ZDVhMCIs
ICAgICAgICAibWQ1IjogIjY2NGUyYzFiMzI3Y2RhZGNkNjE2MmVmZWZiMDk3Njk1Iiw=
ICAgICAgICAic2hhMjU2IjogIjcyNjQ4YTU3NWMwYThlOGJlYWY3Y2Q2NjQ2ZWQ3ZGQzMDllOGVmNjhjNTg3ZjBlMmE3Njc4ODQzMTMzOTZlMGUi
ICAgICAgfSw=
ICAgICAgImRvd25sb2FkcyI6IC0xLA==
ICAgICAgImZpbGVuYW1lIjogIm9kb29fYWRkb25fZmFzdGFwaS0xNi4wLjAuMC4xLjI2LXB5My1ub25lLWFueS53aGwiLA==
ICAgICAgImhhc19zaWciOiBmYWxzZSw=
ICAgICAgIm1kNV9kaWdlc3QiOiAiNjY0ZTJjMWIzMjdjZGFkY2Q2MTYyZWZlZmIwOTc2OTUiLA==
ICAgICAgInBhY2thZ2V0eXBlIjogImJkaXN0X3doZWVsIiw=
ICAgICAgInB5dGhvbl92ZXJzaW9uIjogInB5MyIs
ICAgICAgInJlcXVpcmVzX3B5dGhvbiI6ICI+PTMuMTAiLA==
ICAgICAgInNpemUiOiAxNjEzMDIs
ICAgICAgInVwbG9hZF90aW1lIjogIjIwMjMtMDYtMDdUMTU6MzI6MDIiLA==
ICAgICAgInVwbG9hZF90aW1lX2lzb184NjAxIjogIjIwMjMtMDYtMDdUMTU6MzI6MDIuMDMxNDE0WiIs
ICAgICAgInVybCI6ICJodHRwczovL2ZpbGVzLnB5dGhvbmhvc3RlZC5vcmcvcGFja2FnZXMvNGEvNTEvMzAyMjIzMjczMzI1N2IyMDkyMjM2MTZiNjA2Yjg2YTM1YzY1OTdkMGJkNTg1Zjc0ZGI0MGY2MjlkNWEwL29kb29fYWRkb25fZmFzdGFwaS0xNi4wLjAuMC4xLjI2LXB5My1ub25lLWFueS53aGwiLA==
ICAgICAgInlhbmtlZCI6IGZhbHNlLA==
ICAgICAgInlhbmtlZF9yZWFzb24iOiBudWxs
ICAgIH0=
ICBdLA==
ICAidnVsbmVyYWJpbGl0aWVzIjogW10=
fQ==
