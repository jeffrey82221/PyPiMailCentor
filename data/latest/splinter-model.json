ew==
ICAiaW5mbyI6IHs=
ICAgICJhdXRob3IiOiAiQnJ1bm8gUm9jaGEiLA==
ICAgICJhdXRob3JfZW1haWwiOiAicm9jaGFjYnJ1bm9AZ21haWwuY29tIiw=
ICAgICJidWd0cmFja191cmwiOiBudWxsLA==
ICAgICJjbGFzc2lmaWVycyI6IFs=
ICAgICAgIkRldmVsb3BtZW50IFN0YXR1cyA6OiAyIC0gUHJlLUFscGhhIiw=
ICAgICAgIkludGVuZGVkIEF1ZGllbmNlIDo6IERldmVsb3BlcnMiLA==
ICAgICAgIkxpY2Vuc2UgOjogT1NJIEFwcHJvdmVkIDo6IEJTRCBMaWNlbnNlIiw=
ICAgICAgIk5hdHVyYWwgTGFuZ3VhZ2UgOjogRW5nbGlzaCIs
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAyIiw=
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAyLjYiLA==
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAyLjciLA==
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAzIiw=
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAzLjMi
ICAgIF0s
ICAgICJkZXNjcmlwdGlvbiI6ICJDcmVhdGUgc2NyYXBlciB1c2luZyBTY3JhcHkgU2VsZWN0b3JzXG49PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5bIVtCdWlsZFxuU3RhdHVzXShodHRwczovL3RyYXZpcy1jaS5vcmcvcm9jaGFjYnJ1bm8vc3BsaW50ZXJfbW9kZWwucG5nKV0oaHR0cHM6Ly90cmF2aXMtY2kub3JnL3JvY2hhY2JydW5vL3NwbGludGVyX21vZGVsKVxuXG5bIVtQeVBpIHZlcnNpb25dKGh0dHBzOi8vcHlwaXAuaW4vdi9zcGxpbnRlcl9tb2RlbC9iYWRnZS5wbmcpXShodHRwczovL3B5cGkucHl0aG9uLm9yZy9weXBpL3NwbGludGVyX21vZGVsLylcblshW1B5UGkgZG93bmxvYWRzXShodHRwczovL3B5cGlwLmluL2Qvc3BsaW50ZXJfbW9kZWwvYmFkZ2UucG5nKV0oaHR0cHM6Ly9weXBpLnB5dGhvbi5vcmcvcHlwaS9zcGxpbnRlcl9tb2RlbC8pXG5cbiMjIFdoYXQgaXMgU3BsaW50ZXI/XG5cblNwbGludGVyIGlzIGFuIG9wZW4gc291cmNlIHRvb2wgZm9yIHRlc3Rpbmcgd2ViIGFwcGxpY2F0aW9ucyB1c2luZyBQeXRob24uIEl0IGxldHMgeW91IGF1dG9tYXRlIGJyb3dzZXIgYWN0aW9ucywgc3VjaCBhcyB2aXNpdGluZyBVUkxzIGFuZCBpbnRlcmFjdGluZyB3aXRoIHRoZWlyIGl0ZW1zLlxuXG5odHRwOi8vc3BsaW50ZXIuY29icmF0ZWFtLmluZm8vXG5cblxuIyMgV2hhdCBpcyBzcGxpbnRlcl9tb2RlbCA/XG5cbkl0IGlzIGEgY2xvbmUgb2YgW3NjcmFweV9tb2RlbF0oaHR0cDovL2dpdGh1Yi5jb20vcm9jaGFjYnJ1bm8vc2NyYXB5X21vZGVsKSBidXQgaW50ZWFkIG9mIFNjcmFweSBpdCB1c2VzIFNwbGludGVyIGFzIGVuZ2luZSwgc28gaXQgYWxsb3dzIHNjcmFwaW5nIG9mIEphdmFTY3JpcHQgd2Vic2l0ZXMuXG5cblxuIyMgVE9ETzpcblxuRXZlcnl0aGluZyBpcyBpbiB0by1kbywgc28ganVzdCBkb250IHVzZSBpdCB1bnRpbCBpdCBpcyByZWxlYXNlZCB0byBQeVBJLlxuXG4jIyMgUmVxdWlyZW1lbnRzXG5cblRoaXMgbW9kdWxlIHNob3VsZCBrZWVwIGltcGxlbWVudCB0aGUgc2FtZSBhcGkgYXMgc2NyYXB5X21vZGVsLCBhdCBsZWFzdCB0aGUgc3VwcG9ydCBmb3IgQ1NTRmllbGQsIFhQYXRoRmllbGQsIHByb2Nlc3NvcnMsIHZhbGlkYXRvcnMsIG11bHRpcGxlIHF1ZXJpZXMgYW5kIHBhcnNlX21ldGhvZHMuXG5cbkFsc28gaXQgc2hvdWxkIGltcGxlbWVudCBhIGxheWVyIHRvIGludGVyYWN0IHdpdGggSmF2YVNjcmlwdC5cblxuIyMjIEN1cnJlbnQgc3RhdHVzOiBwcmUtYWxwaGEtZGV2XG5cbkl0IGlzIGp1c3QgYSBoZWxwZXIgdG8gY3JlYXRlIHNjcmFwZXJzIHVzaW5nIHRoZSBTY3JhcHkgU2VsZWN0b3JzIGFsbG93aW5nIHlvdSB0byBzZWxlY3QgZWxlbWVudHMgYnkgQ1NTIG9yIGJ5IFhQQVRIIGFuZCBzdHJ1Y3R1cmluZyB5b3VyIHNjcmFwZXIgdmlhIE1vZGVscyAoanVzdCBsaWtlIGFuIE9STSBtb2RlbCkgYW5kIHBsdWdhYmxlIHRvIGFuIE9STSBtb2RlbCB2aWEgYGBwb3B1bGF0ZWBgIG1ldGhvZC5cblxuSW1wb3J0IHRoZSBCYXNlRmV0Y2hlck1vZGVsLCBDU1NGaWVsZCBvciBYUGF0aEZpZWxkICh5b3UgY2FuIHVzZSBib3RoKVxuXG5gYGBweXRob25cbmZyb20gc3BsaW50ZXJfbW9kZWwgaW1wb3J0IEJhc2VGZXRjaGVyTW9kZWwsIENTU0ZpZWxkXG5gYGBcblxuR28gdG8gYSB3ZWJwYWdlIHlvdSB3YW50IHRvIHNjcmFwIGFuZCB1c2UgY2hyb21lIGRldiB0b29scyBvciBmaXJlYnVnIHRvIGZpZ3VyZSBvdXQgdGhlIGNzcyBwYXRocyB0aGVuIGNvbnNpZGVyaW5nIHlvdSB3YW50IHRvIGdldCB0aGUgZm9sbG93aW5nIGZyYWdtZW50IGZyb20gc29tZSBwYWdlLlxuXG5gYGBodG1sXG4gICAgPHNwYW4gaWQ9XCJwZXJzb25cIj5CcnVubyBSb2NoYSA8YSBocmVmPVwiaHR0cDovL2JydW5vcm9jaGEub3JnXCI+d2Vic2l0ZTwvYT48L3NwYW4+XG5gYGBcblxuYGBgcHl0aG9uXG5jbGFzcyBNeUZldGNoZXIoQmFzZUZldGNoZXJNb2RlbCk6XG4gICAgbmFtZSA9IENTU0ZpZWxkKCdzcGFuI3BlcnNvbicpXG4gICAgd2Vic2l0ZSA9IENTU0ZpZWxkKCdzcGFuI3BlcnNvbiBhJylcbiAgICAjIFhQYXRoRmllbGQoJy8veHBhdGhfc2VsZWN0b3JfaGVyZScpXG5gYGBcblxuRmllbGRzIGNhbiByZWNlaXZlIGBgYXV0b19leHRyYWN0PVRydWVgYCBwYXJhbWV0ZXIgd2hpY2ggYXV0byBleHRyYWN0cyB2YWx1ZXMgZnJvbSBzZWxlY3RvciBiZWZvcmUgY2FsbGluZyB0aGUgcGFyc2Ugb3IgcHJvY2Vzc29ycy4gQWxzbyB5b3UgY2FuIHBhc3MgdGhlIGBgdGFrZXNfZmlyc3Q9VHJ1ZWBgIHdoaWNoIHdpbGwgZm9yIGF1dG9fZXh0cmFjdCBhbmQgYWxzbyB0cmllcyB0byBnZXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIHJlc3VsdCwgYmVjYXVzZSBzY3JhcHkgc2VsZWN0b3JzIHJldHVybnMgYSBsaXN0IG9mIG1hdGNoZWQgZWxlbWVudHMuXG5cblxuIyMjIE11bHRpcGxlIHF1ZXJpZXMgaW4gYSBzaW5nbGUgZmllbGRcblxuWW91IGNhbiB1c2UgbXVsdGlwbGUgcXVlcmllcyBmb3IgYSBzaW5nbGUgZmllbGRcblxuYGBgcHl0aG9uXG5uYW1lID0gWFBhdGhGaWVsZChcbiAgICBbJy8vKltAaWQ9XCI4XCJdL2RpdlsyXS9kaXYvZGl2WzJdL2RpdlsyXS91bCcsXG4gICAgICcvLypbQGlkPVwiOFwiXS9kaXZbMl0vZGl2L2RpdlszXS9kaXZbMl0vdWwnXVxuKVxuYGBgXG5cbkluIHRoYXQgY2FzZSwgdGhlIHBhcnNpbmcgd2lsbCB0cnkgdG8gZmV0Y2ggYnkgdGhlIGZpcnN0IHF1ZXJ5IGFuZCByZXR1cm5zIGlmIGZpbmRzIGEgbWF0Y2gsIGVsc2UgaXQgd2lsbCB0cnkgdGhlIHN1YnNlcXVlbnQgcXVlcmllcyB1bnRpbCBpdCBmaW5kcyBzb21ldGhpbmcsIG9yIGl0IHdpbGwgcmV0dXJuIGFuIGVtcHR5IHNlbGVjdG9yLlxuXG4jIyMjIEZpbmRpbmcgdGhlIGJlc3QgbWF0Y2ggYnkgYSBxdWVyeSB2YWxpZGF0b3JcblxuSWYgeW91IHdhbnQgdG8gcnVuIG11bHRpcGxlIHF1ZXJpZXMgYW5kIGFsc28gdmFsaWRhdGVzIHRoZSBiZXN0IG1hdGNoIHlvdSBjYW4gcGFzcyBhIHZhbGlkYXRvciBmdW5jdGlvbiB3aGljaCB3aWxsIHRha2UgdGhlIHNjcmFweSBzZWxlY3RvciBhbiBzaG91bGQgcmV0dXJuIGEgYm9vbGVhbi5cblxuRXhhbXBsZSwgaW1hZ2luZSB5b3UgZ2V0IHRoZSBcIm5hbWVcIiBmaWVsZCBkZWZpbmVkIGFib3ZlIGFuZCB5b3Ugd2FudCB0byB2YWxpZGF0ZXMgZWFjaCBxdWVyeSB0byBlbnN1cmUgaXQgaGFzIGEgJ2xpJyB3aXRoIGEgdGV4dCBcIlNjaGJsYXVtc1wiIGluIHRoZXJlLlxuXG5gYGBweXRob25cblxuZGVmIGhhc19zY2hibGF1bXMoc2VsZWN0b3IpOlxuICAgIGZvciBsaSBpbiBzZWxlY3Rvci5jc3MoJ2xpJyk6ICMgdGFrZXMgZWFjaCA8bGk+IGluc2lkZSB0aGUgdWwgc2VsZWN0b3JcbiAgICAgICAgbGlfdGV4dCA9IGxpLmNzcygnOjp0ZXh0JykuZXh0cmFjdCgpICMgRXh0cmFjdCBvbmx5IHRoZSB0ZXh0XG4gICAgICAgIGlmIFwiU2NoYmxhdW1zXCIgaW4gbGlfdGV4dDogICMgY2hlY2sgaWYgXCJTY2hibGF1bXNcIiBpcyB0aGVyZVxuICAgICAgICAgICAgcmV0dXJuIFRydWUgICMgdGhpcyBzZWxlY3RvciBpcyB2YWxpZCFcbiAgICByZXR1cm4gRmFsc2UgICMgaW52YWxpZCBxdWVyeSwgdGFrZSB0aGUgbmV4dCBvciBkZWZhdWx0IHZhbHVlXG5cbmNsYXNzIEZldGNoZXIoLi4uLik6XG4gICAgbmFtZSA9IFhQYXRoRmllbGQoXG4gICAgICAgIFsnLy8qW0BpZD1cIjhcIl0vZGl2WzJdL2Rpdi9kaXZbMl0vZGl2WzJdL3VsJyxcbiAgICAgICAgICcvLypbQGlkPVwiOFwiXS9kaXZbMl0vZGl2L2RpdlszXS9kaXZbMl0vdWwnXSxcbiAgICAgICAgcXVlcnlfdmFsaWRhdG9yPWhhc19zY2hibGF1bXMsXG4gICAgICAgIGRlZmF1bHQ9XCJ1bmRlZmluZWRfbmFtZVwiICAjIG9wdGlvbmFsXG4gICAgKVxuYGBgXG5cbkluIHRoZSBhYm92ZSBleGFtcGxlIGlmIGJvdGggcXVlcmllcyBhcmUgaW52YWxpZCwgdGhlIFwibmFtZVwiIGZpZWxkIHdpbGwgYmUgZmlsbGVkIHdpdGggYW4gZW1wdHlfc2VsZWN0b3IsIG9yIHRoZSB2YWx1ZSBkZWZpbmVkIGluIFwiZGVmYXVsdFwiIHBhcmFtZXRlci5cblxuPiAqKk5PVEU6KiogaWYgdGhlIGZpZWxkIGhhcyBhIFwiZGVmYXVsdFwiIGFuZCBmYWlscyBpbiBhbGwgdGhlIG1hdGNoZXIsIHRoZSBkZWZhdWx0IHZhbHVlIHdpbGwgYmUgcGFzc2VkIHRvIFwicHJvY2Vzc29yXCIgYW5kIGFsc28gdG8gXCJwYXJzZV9cIiBtZXRob2RzLlxuXG5FdmVyeSBtZXRob2QgbmFtZWQgYGBwYXJzZV88ZmllbGQ+YGAgd2lsbCBydW4gYWZ0ZXIgYWxsIHRoZSBmaWVsZHMgYXJlIGZldGNoZWQgZm9yIGVhY2ggZmllbGQuXG5cbmBgYHB5dGhvblxuICAgIGRlZiBwYXJzZV9uYW1lKHNlbGYsIHNlbGVjdG9yKTpcbiAgICAgICAgIyBoZXJlIHNlbGVjdG9yIGlzIHRoZSBzY3JhcHkgc2VsZWN0b3IgZm9yICdzcGFuI3BlcnNvbidcbiAgICAgICAgbmFtZSA9IHNlbGVjdG9yLmNzcygnOjp0ZXh0JykuZXh0cmFjdCgpXG4gICAgICAgIHJldHVybiBuYW1lXG5cbiAgICBkZWYgcGFyc2Vfd2Vic2l0ZShzZWxmLCBzZWxlY3Rvcik6XG4gICAgICAgICMgaGVyZSBzZWxlY3RvciBpcyB0aGUgc2NyYXB5IHNlbGVjdG9yIGZvciAnc3BhbiNwZXJzb24gYSdcbiAgICAgICAgd2Vic2l0ZV91cmwgPSBzZWxlY3Rvci5jc3MoJzo6YXR0cihocmVmKScpLmV4dHJhY3QoKVxuICAgICAgICByZXR1cm4gd2Vic2l0ZV91cmxcblxuYGBgXG5cblxuYWZ0ZXIgZGVmaW5lZCBuZWVkIHRvIHJ1biB0aGUgc2NyYXBlclxuXG5cbmBgYHB5dGhvblxuXG5mZXRjaGVyID0gTXlmZXRjaGVyKHVybD0naHR0cDovLy4uLi4uJykgICMgb3B0aW9uYWxseSB5b3UgY2FuIHVzZSBjYWNoZWRfZmV0Y2g9VHJ1ZSB0byBjYWNoZSByZXF1ZXN0cyBvbiByZWRpc1xuZmV0Y2hlci5wYXJzZSgpXG5gYGBcblxuTm93IHlvdSBjYW4gaXRlcmF0ZSBgYF9kYXRhYGAsIGBgX3Jhd19kYXRhYGAgYW5kIGF0cmlidXRlcyBpbiBmZXRjaGVyXG5cbmBgYHB5dGhvblxuPj4+IGZldGNoZXIubmFtZVxuPENTU0ZpZWxkIC0gbmFtZSAtIEJydW5vIFJvY2hhPlxuPj4+IGZldGNoZXIubmFtZS52YWx1ZVxuQnJ1bm8gUm9jaGFcbj4+PiBmZXRjaGVyLl9kYXRhXG57XCJuYW1lXCI6IFwiQnJ1bm8gUm9jaGFcIiwgXCJ3ZWJzaXRlXCI6IFwiaHR0cDovL2JydW5vcm9jaGEub3JnXCJ9XG5gYGBcblxuWW91IGNhbiBwb3B1bGF0ZSBzb21lIG9iamVjdFxuXG5gYGBweXRob25cbj4+PiBvYmogPSBNeU9iamVjdCgpXG4+Pj4gZmV0Y2hlci5wb3B1bGF0ZShvYmopICAjIGZpZWxkcyBvcHRpb25hbFxuXG4+Pj4gb2JqLm5hbWVcbkJydW5vIFJvY2hhXG5gYGBcblxuSWYgeW91IGRvIG5vdCB3YW50IHRvIGRlZmluZSBlYWNoIGZpZWxkIGV4cGxpY2l0bHkgaW4gdGhlIGNsYXNzLCB5b3UgY2FuIHVzZSBhIGpzb24gZmlsZSB0byBhdXRvbWF0ZSB0aGUgcHJvY2Vzc1xuXG5gYGBweXRob25cbmNsYXNzIE15RmV0Y2hlcihCYXNlRmV0Y2hlck1vZGVsKTpcbiAgIFwiXCJcIiB3aWxsIGxvYWQgZnJvbSBqc29uIFwiXCJcIlxuXG5mZXRjaGVyID0gTXlGZXRjaGVyKHVybD0naHR0cDovLy4uLi4uJylcbmZldGNoZXIubG9hZF9tYXBwaW5nc19mcm9tX2ZpbGUoJ3BhdGgvdG8vZmlsZS5qc29uJylcbmZldGNoZXIucGFyc2UoKVxuYGBgXG5cbkluIHRoYXQgY2FzZSBmaWxlLmpzb24gc2hvdWxkIGJlXG5cbmBgYGpzb25cbntcbiAgIFwibmFtZVwiOiB7XCJjc3NcIiwgXCJzcGFuI3BlcnNvblwifSxcbiAgIFwid2Vic2l0ZVwiOiB7XCJjc3NcIjogXCJzcGFuI3BlcnNvbiBhXCJ9XG59XG5gYGBcblxuWW91IGNhbiB1c2UgYGB7XCJ4cGF0aFwiOiBcIi4uLlwifWBgIGluIGNhc2UgeW91IHByZWZlciBzZWxlY3QgYnkgeHBhdGhcblxuXG4jIyMgcGFyc2UgYW5kIHByb2Nlc3NvclxuXG5UaGVyZSBhcmUgMiB3YXlzIG9mIHRyYW5zZm9ybWluZyBvciBub3JtYWxpemluZyB0aGUgZGF0YSBmb3IgZWFjaCBmaWVsZFxuXG4jIyMjIFByb2Nlc3NvcnNcblxuQSBwcm9jZXNzb3IgaXMgYSBmdW5jdGlvbiwgb3IgYSBsaXN0IG9mIGZ1bmN0aW9ucyB3aGljaCB3aWxsIGJlIGNhbGxlZCBpbiB0aGUgZ2l2ZW4gc2VxdWVuY2UgYWdhaW5zdCB0aGUgZmllbGQgdmFsdWUsIGl0IHJlY2VpdmVzIHRoZSByYXdfc2VsZWN0b3Igb3IgdGhlIHZhbHVlIGRlcGVuZGluZyBvbiBhdXRvX2V4dHJhY3QgYW5kIHRha2VzX2ZpcnN0IGFyZ3VtZW50cy5cblxuSXQgY2FuIGJlIHVzZWQgZm9yIE5vcm1hbGl6YXRpb24sIENsZWFuLCBUcmFuc2Zvcm1hdGlvbiBldGMuLlxuXG5FeGFtcGxlOlxuXG5gYGBweXRob25cblxuZGVmIG5vcm1hbGl6ZV9zdGF0ZShzdGF0ZV9uYW1lKTpcbiAgICAjIHF1ZXJ5IG15IGRhdGFiYXNlIGFuZCByZXR1cm4gdGhlIGZpcnN0IGluc3RhbmNlIG9mIHN0YXRlIG9iamVjdFxuICAgIHJldHVybiBNeURhdGFiYXNlLlN0YXRlLlNlYXJjaChuYW1lPXN0YXRlX25hbWUpLmZpcnN0KClcblxuZGVmIHRleHRfY2xlYW51cChzdGF0ZV9uYW1lKTpcbiAgICByZXR1cm4gc3RhdGVfbmFtZS5zdHJpcCgpLnJlcGxhY2UoJy0nLCAnJykubG93ZXIoKVxuXG5jbGFzcyBNeUZldGNoZXIoQmFzZUZldGNoZXJNb2RlbCk6XG4gICAgc3RhdGUgPSBDU1NGaWVsZChcbiAgICAgICAgXCIjc3RhdGU6OnRleHRcIixcbiAgICAgICAgdGFrZXNfZmlyc3Q9VHJ1ZSxcbiAgICAgICAgcHJvY2Vzc29yPVt0ZXh0X2NsZWFudXAsIG5vcm1hbGl6ZV9zdGF0ZV1cbiAgICApXG5cbmZldGNoZXIgPSBNeUZldGNoZXIodXJsPVwiaHR0cDovLy4uLi5cIilcbmZldGNoZXIucGFyc2UoKVxuXG5mZXRjaGVyLl9yYXdfZGF0YS5zdGF0ZVxuJ1Nhby1QYXVsbydcbmZldGNoZXIuX2RhdGEuc3RhdGVcbjxPUk0gSW5zdGFuY2UgLSBTdGF0ZSAtIFPDo28gUGF1bG8+XG5gYGBcblxuIyMjIyBQYXJzZSBtZXRob2RzXG5cbmFueSBtZXRob2QgY2FsbGVkIGBgcGFyc2VfPGZpZWxkX25hbWU+YGAgd2lsbCBydW4gYWZ0ZXIgYWxsIHRoZSBwcm9jZXNzIG9mIHNlbGVjdGluZyBhbmQgcGFyc2luZywgaXQgcmVjZWl2ZXMgdGhlIHNlbGVjdG9yIG9yIHRoZSB2YWx1ZSBkZXBlbmRpbmcgb24gYXV0b19leHRyYWN0IGFuZCB0YWtlc19maXJzdCBhcmd1bWVudCBpbiB0aGF0IGZpZWxkLlxuXG5leGFtcGxlOlxuXG5gYGBweXRob25cbmRlZiBwYXJzZV9uYW1lKHNlbGYsIHNlbGVjdG9yKTpcbiAgIHJldHVybiBzZWxlY3Rvci5jc3MoJzo6dGV4dCcpLmV4dHJhY3QoKVswXS51cHBlcigpXG5gYGBcblxuSW4gdGhlIGFib3ZlIGNhc2UsIHRoZSBuYW1lIGZpZWxkIHJldHVybnMgdGhlIHJhd19zZWxlY3RvciBhbmQgaW4gdGhlIHBhcnNlIG1ldGhvZCB3ZSBjYW4gYnVpbGQgZXh0cmEgcXVlcmllcyB1c2luZyBgYGNzc2BgIG9yIGBgeHBhdGhgYCBhbmQgYWxzbyB3ZSBuZWVkIHRvIGV4dHJhY3QoKSB0aGUgdmFsdWVzIGZyb20gdGhlIHNlbGVjdG9yIGFuZCBvcHRpb25hbGx5IHNlbGVjdCB0aGUgZmlyc3QgZWxlbWVudCBhbmQgYXBwbHkgYW55IHRyYW5zZm9ybWF0aW9uIHdlIG5lZWQuXG5cbiMjIyBDYWNoaW5nIHRoZSBodG1sIGZldGNoXG5cbkluIG9yZGVyIHRvIGNhY2hlIHRoZSBodG1sIHJldHVybmVkIGJ5IHRoZSB1cmwgZmV0Y2hpbmcgZm9yIGZ1dHVyZSBwYXJzaW5nIGFuZCB0ZXN0cyB5b3Ugc3BlY2lmeSBhIGNhY2hlIG1vZGVsLCBieSBkZWZhdWx0IHRoZXJlIGlzIG5vIGNhY2hlIGJ1dCB5b3UgY2FuIHVzZSB0aGUgYnVpbHQgaW4gUmVkaXNDYWNoZSBwYXNzaW5nXG5cbmBgYHB5dGhvblxuICAgIGZyb20gc3BsaW50ZXJfbW9kZWwgaW1wb3J0IFJlZGlzQ2FjaGVcbiAgICBmZXRjaGVyID0gVGVzdEZldGNoZXIoY2FjaGVfZmV0Y2g9VHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU9UmVkaXNDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVfZXhwaXJlPTE4MDApXG5gYGBcblxub3Igc3BlY2lmeWluZyBhcmd1bWVudHMgdG8gdGhlIFJlZGlzIGNsaWVudC5cblxuPiBpdCBpcyBhIGdlbmVyYWwgUmVkaXMgY29ubmVjdGlvbiBmcm9tIHB5dGhvbiBgYHJlZGlzYGAgbW9kdWxlXG5cbmBgYHB5dGhvblxuICAgIGZldGNoZXIgPSBUZXN0RmV0Y2hlcihjYWNoZV9mZXRjaD1UcnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZT1SZWRpc0NhY2hlKFwiMTkyLjE2OC4wLjEyOjkyMDBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlX2V4cGlyZT0xODAwKVxuYGBgXG5cbllvdSBjYW4gY3JlYXRlIHlvdXIgb3duIGNhY2hpbmcgc3RydWN0dXJlLCBlLmc6IHRvIGNhY2hlIGh0bWxzIGluIG1lbWNhY2hlZCBvciBzM1xuXG50aGUgY2FjaGUgY2xhc3MganVzdCBuZWVkIHRvIGltcGxlbWVudCBgYGdldGBgIGFuZCBgYHNldGBgIG1ldGhvZHMuXG5cbmBgYHB5dGhvblxuZnJvbSBib3RvIGltcG9ydCBjb25uZWN0X3MzXG5cbmNsYXNzIFMzQ2FjaGUob2JqZWN0KTpcbiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKTpcbiAgICAgICAgY29ubmVjdGlvbiA9IGNvbm5lY3RfczMoQUNDRVNTX0tFWSwgU0VDUkVUX0tFWSlcbiAgICAgICAgc2VsZi5idWNrZXQgPSBjb25uZWN0aW9uLmdldF9idWNrZXQoQlVDS0VUX0lEKVxuXG4gICAgZGVmIGdldChzZWxmLCBrZXkpOlxuICAgICAgICB2YWx1ZSA9IHNlbGYuYnVja2V0LmdldF9rZXkoa2V5KVxuICAgICAgICByZXR1cm4gdmFsdWUuZ2V0X2NvbnRlbnRzX2FzX3N0cmluZygpIGlmIGtleSBlbHNlIE5vbmVcblxuICAgIGRlZiBzZXQoc2VsZiwga2V5LCB2YWx1ZSwgZXhwaXJlPU5vbmUpOlxuICAgICAgICBzZWxmLmJ1Y2tldC5zZXRfY29udGVudHMoa2V5LCB2YWx1ZSwgZXhwaXJlPWV4cGlyZSlcblxuXG5mZXRjaGVyID0gTXlGZXRjaGVyKHVybD1cImh0dHA6Ly8uLi5cIixcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVfZmV0Y2g9VHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2FjaGU9UzNjYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVfZXhwaXJlPTE4MDApXG5cbmBgYFxuXG4jIyMgSW5zdGFsYXRpb25cblxuZWFzeSB0byBpbnN0YWxsXG5cbklmIHJ1bm5pbmcgdWJ1bnR1IG1heWJlIHlvdSBuZWVkIHRvIHJ1bjpcblxuYGBgYmFzaFxuc3VkbyBhcHQtZ2V0IGluc3RhbGwgcHl0aG9uLXNjcmFweVxuc3VkbyBhcHQtZ2V0IGluc3RhbGwgbGliZmZpLWRldlxuc3VkbyBhcHQtZ2V0IGluc3RhbGwgcHl0aG9uLWRldlxuYGBgXG5cbnRoZW5cblxuYGBgYmFzaFxucGlwIGluc3RhbGwgc3BsaW50ZXJfbW9kZWxcbmBgYFxuXG5vclxuXG5cbmBgYGJhc2hcbmdpdCBjbG9uZSBodHRwczovL2dpdGh1Yi5jb20vcm9jaGFjYnJ1bm8vc3BsaW50ZXJfbW9kZWxcbmNkIHNwbGludGVyX21vZGVsXG5waXAgaW5zdGFsbCAtciByZXF1aXJlbWVudHMudHh0XG5weXRob24gc2V0dXAucHkgaW5zdGFsbFxucHl0aG9uIGV4YW1wbGUucHlcbmBgYFxuXG5FeGFtcGxlIGNvZGUgdG8gZmV0Y2ggdGhlIHVybCBodHRwOi8vZW4ubS53aWtpcGVkaWEub3JnL3dpa2kvR3VpZG9fdmFuX1Jvc3N1bVxuXG5gYGBweXRob25cbiNjb2Rpbmc6IHV0Zi04XG5cbmZyb20gc3BsaW50ZXJfbW9kZWwgaW1wb3J0IEJhc2VGZXRjaGVyTW9kZWwsIENTU0ZpZWxkLCBYUGF0aEZpZWxkXG5cblxuY2xhc3MgVGVzdEZldGNoZXIoQmFzZUZldGNoZXJNb2RlbCk6XG4gICAgcGhvdG9fdXJsID0gWFBhdGhGaWVsZCgnLy8qW0BpZD1cImNvbnRlbnRcIl0vZGl2WzFdL3RhYmxlL3RyWzJdL3RkL2EnKVxuXG4gICAgbmF0aW9uYWxpdHkgPSBDU1NGaWVsZChcbiAgICAgICAgJyNjb250ZW50ID4gZGl2Om50aC1jaGlsZCgxKSA+IHRhYmxlID4gdHI6bnRoLWNoaWxkKDQpID4gdGQgPiBhJyxcbiAgICApXG5cbiAgICBsaW5rcyA9IENTU0ZpZWxkKFxuICAgICAgICAnI2NvbnRlbnQgPiBkaXY6bnRoLWNoaWxkKDExKSA+IHVsID4gbGkgPiBhLmV4dGVybmFsOjphdHRyKGhyZWYpJyxcbiAgICAgICAgYXV0b19leHRyYWN0PVRydWVcbiAgICApXG5cbiAgICBkZWYgcGFyc2VfcGhvdG9fdXJsKHNlbGYsIHNlbGVjdG9yKTpcbiAgICAgICAgcmV0dXJuIFwiaHR0cDovL2VuLm0ud2lraXBlZGlhLm9yZy97fVwiLmZvcm1hdChcbiAgICAgICAgICAgIHNlbGVjdG9yLnhwYXRoKFwiQGhyZWZcIikuZXh0cmFjdCgpWzBdXG4gICAgICAgIClcblxuICAgIGRlZiBwYXJzZV9uYXRpb25hbGl0eShzZWxmLCBzZWxlY3Rvcik6XG4gICAgICAgIHJldHVybiBzZWxlY3Rvci5jc3MoXCI6OnRleHRcIikuZXh0cmFjdCgpWzBdXG5cbiAgICBkZWYgcGFyc2VfbmFtZShzZWxmLCBzZWxlY3Rvcik6XG4gICAgICAgIHJldHVybiBzZWxlY3Rvci5leHRyYWN0KClbMF1cblxuICAgIGRlZiBwcmVfcGFyc2Uoc2VsZiwgc2VsZWN0b3I9Tm9uZSk6XG4gICAgICAgICMgdGhpcyBtZXRob2QgaXMgZXhlY3V0ZWQgYmVmb3JlIHRoZSBwYXJzaW5nXG4gICAgICAgICMgeW91IGNhbiBvdmVycmlkZSBpdCwgdGFrZSBhIGxvb2sgYXQgdGhlIGRvYyBzdHJpbmdcblxuICAgIGRlZiBwb3N0X3BhcnNlKHNlbGYpOlxuICAgICAgICAjIGV4ZWN1dGVkIGFmdGVyIGFsbCBwYXJzZXJzXG4gICAgICAgICMgeW91IGNhbiBsb2FkIGFueSBkYXRhIG9uIHRvIHNlbGYuX2RhdGFcbiAgICAgICAgIyBhY2Nlc3Mgc2VsZi5fZGF0YSBhbmQgc2VsZi5fZmllbGRzIGZvciBjdXJyZW50IGRhdGFcbiAgICAgICAgIyBzZWxmLnNlbGVjdG9yIGNvbnRhaW5zIG9yaWdpbmFsIHBhZ2VcbiAgICAgICAgIyBzZWxmLmZldGNoKCkgcmV0dXJucyBvcmlnaW5hbCBodG1sXG4gICAgICAgIHNlbGYuX2RhdGEudXJsID0gc2VsZi51cmxcblxuXG5jbGFzcyBEdW1teU1vZGVsKG9iamVjdCk6XG4gICAgXCJcIlwiXG4gICAgRm9yIHRlc3RzIG9ubHksIGl0IGNhbiBiZSBhIG1vZGVsIGluIHlvdXIgZGF0YWJhc2UgT1JNXG4gICAgXCJcIlwiXG5cblxuaWYgX19uYW1lX18gPT0gXCJfX21haW5fX1wiOlxuICAgIGZyb20gcHByaW50IGltcG9ydCBwcHJpbnRcblxuICAgIGZldGNoZXIgPSBUZXN0RmV0Y2hlcihjYWNoZV9mZXRjaD1UcnVlKVxuICAgIGZldGNoZXIudXJsID0gXCJodHRwOi8vZW4ubS53aWtpcGVkaWEub3JnL3dpa2kvR3VpZG9fdmFuX1Jvc3N1bVwiXG5cbiAgICAjIE1hcHBpbmdzIGNhbiBiZSBsb2FkZWQgZnJvbSBhIGpzb24gZmlsZVxuICAgICMgZmV0Y2hlci5sb2FkX21hcHBpbmdzX2Zyb21fZmlsZSgncGF0aC90by9maWxlJylcbiAgICBmZXRjaGVyLm1hcHBpbmdzWyduYW1lJ10gPSB7XG4gICAgICAgIFwiY3NzXCI6IChcIiNzZWN0aW9uXzA6OnRleHRcIilcbiAgICB9XG5cbiAgICBmZXRjaGVyLnBhcnNlKClcblxuICAgIHByaW50IFwiRmV0Y2hlciBob2xkcyB0aGUgZGF0YVwiXG4gICAgcHJpbnQgZmV0Y2hlci5fZGF0YS5uYW1lXG4gICAgcHJpbnQgZmV0Y2hlci5fZGF0YVxuXG4gICAgIyBIb3cgdG8gcG9wdWxhdGUgYW4gb2JqZWN0XG4gICAgcHJpbnQgXCJQb3B1bGF0aW5nIGFuIG9iamVjdFwiXG4gICAgZHVtbXkgPSBEdW1teU1vZGVsKClcblxuICAgIGZldGNoZXIucG9wdWxhdGUoZHVtbXksIGZpZWxkcz1bXCJuYW1lXCIsIFwibmF0aW9uYWxpdHlcIl0pXG4gICAgIyBmaWVsZHMgYXR0ciBpcyBvcHRpb25hbFxuICAgIHByaW50IGR1bW15Lm5hdGlvbmFsaXR5XG4gICAgcHByaW50KGR1bW15Ll9fZGljdF9fKVxuXG5gYGBcblxuIyBvdXRwdXRzXG5cblxuYGBgXG5GZXRjaGVyIGhvbGRzIHRoZSBkYXRhXG5HdWlkbyB2YW4gUm9zc3VtXG57J2xpbmtzJzogW3UnaHR0cDovL3d3dy5weXRob24ub3JnL35ndWlkby8nLFxuICAgICAgICAgICB1J2h0dHA6Ly9uZW9weXRob25pYy5ibG9nc3BvdC5jb20vJyxcbiAgICAgICAgICAgdSdodHRwOi8vd3d3LmFydGltYS5jb20vd2VibG9ncy9pbmRleC5qc3A/YmxvZ2dlcj1ndWlkbycsXG4gICAgICAgICAgIHUnaHR0cDovL3B5dGhvbi1oaXN0b3J5LmJsb2dzcG90LmNvbS8nLFxuICAgICAgICAgICB1J2h0dHA6Ly93d3cucHl0aG9uLm9yZy9kb2MvZXNzYXlzL2NwNGUuaHRtbCcsXG4gICAgICAgICAgIHUnaHR0cDovL3d3dy50d2l0LnR2L2Zsb3NzMTEnLFxuICAgICAgICAgICB1J2h0dHA6Ly93d3cuY29tcHV0ZXJ3b3JsZC5jb20uYXUvaW5kZXgucGhwL2lkOzY2NjY1NzcxJyxcbiAgICAgICAgICAgdSdodHRwOi8vd3d3LnN0YW5mb3JkLmVkdS9jbGFzcy9lZTM4MC9BYnN0cmFjdHMvMDgxMTA1Lmh0bWwnLFxuICAgICAgICAgICB1J2h0dHA6Ly9zdGFuZm9yZC1vbmxpbmUuc3RhbmZvcmQuZWR1L2NvdXJzZXMvZWUzODAvMDgxMTA1LWVlMzgwLTMwMC5hc3gnXSxcbiAnbmFtZSc6IHUnR3VpZG8gdmFuIFJvc3N1bScsXG4gJ25hdGlvbmFsaXR5JzogdSdEdXRjaCcsXG4gJ3Bob3RvX3VybCc6ICdodHRwOi8vZW4ubS53aWtpcGVkaWEub3JnLy93aWtpL0ZpbGU6R3VpZG9fdmFuX1Jvc3N1bV9PU0NPTl8yMDA2LmpwZycsXG4gJ3VybCc6ICdodHRwOi8vZW4ubS53aWtpcGVkaWEub3JnL3dpa2kvR3VpZG9fdmFuX1Jvc3N1bSd9XG5Qb3B1bGF0aW5nIGFuIG9iamVjdFxuRHV0Y2hcbnsnbmFtZSc6IHUnR3VpZG8gdmFuIFJvc3N1bScsICduYXRpb25hbGl0eSc6IHUnRHV0Y2gnfVxuYGBgIiw=
ICAgICJkZXNjcmlwdGlvbl9jb250ZW50X3R5cGUiOiBudWxsLA==
ICAgICJkb2NzX3VybCI6IG51bGws
ICAgICJkb3dubG9hZF91cmwiOiAiVU5LTk9XTiIs
ICAgICJkb3dubG9hZHMiOiB7
ICAgICAgImxhc3RfZGF5IjogLTEs
ICAgICAgImxhc3RfbW9udGgiOiAtMSw=
ICAgICAgImxhc3Rfd2VlayI6IC0x
ICAgIH0s
ICAgICJob21lX3BhZ2UiOiAiaHR0cHM6Ly9naXRodWIuY29tL3JvY2hhY2JydW5vL3NwbGludGVyX21vZGVsIiw=
ICAgICJrZXl3b3JkcyI6ICJzcGxpbnRlcl9tb2RlbCIs
ICAgICJsaWNlbnNlIjogIkJTRCIs
ICAgICJtYWludGFpbmVyIjogbnVsbCw=
ICAgICJtYWludGFpbmVyX2VtYWlsIjogbnVsbCw=
ICAgICJuYW1lIjogInNwbGludGVyX21vZGVsIiw=
ICAgICJwYWNrYWdlX3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3Qvc3BsaW50ZXJfbW9kZWwvIiw=
ICAgICJwbGF0Zm9ybSI6ICJVTktOT1dOIiw=
ICAgICJwcm9qZWN0X3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3Qvc3BsaW50ZXJfbW9kZWwvIiw=
ICAgICJwcm9qZWN0X3VybHMiOiB7
ICAgICAgIkRvd25sb2FkIjogIlVOS05PV04iLA==
ICAgICAgIkhvbWVwYWdlIjogImh0dHBzOi8vZ2l0aHViLmNvbS9yb2NoYWNicnVuby9zcGxpbnRlcl9tb2RlbCI=
ICAgIH0s
ICAgICJyZWxlYXNlX3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3Qvc3BsaW50ZXJfbW9kZWwvMC4xLjYvIiw=
ICAgICJyZXF1aXJlc19kaXN0IjogbnVsbCw=
ICAgICJyZXF1aXJlc19weXRob24iOiBudWxsLA==
ICAgICJzdW1tYXJ5IjogIlNwbGludGVyIGhlbHBlciB0byBjcmVhdGUgc2NyYXBlcnMgZnJvbSBtb2RlbHMiLA==
ICAgICJ2ZXJzaW9uIjogIjAuMS42Iiw=
ICAgICJ5YW5rZWQiOiBmYWxzZSw=
ICAgICJ5YW5rZWRfcmVhc29uIjogbnVsbA==
ICB9LA==
ICAibGFzdF9zZXJpYWwiOiAxMTEzMzAyLA==
ICAicmVsZWFzZXMiOiB7
ICAgICIwLjEuNiI6IFtd
ICB9LA==
ICAidXJscyI6IFtdLA==
ICAidnVsbmVyYWJpbGl0aWVzIjogW10=
fQ==
