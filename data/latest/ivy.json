ew==
ICAiaW5mbyI6IHs=
ICAgICJhdXRob3IiOiAiVW5pZnkiLA==
ICAgICJhdXRob3JfZW1haWwiOiAiaGVsbG9AdW5pZnkuYWkiLA==
ICAgICJidWd0cmFja191cmwiOiBudWxsLA==
ICAgICJjbGFzc2lmaWVycyI6IFs=
ICAgICAgIkxpY2Vuc2UgOjogT1NJIEFwcHJvdmVkIDo6IEFwYWNoZSBTb2Z0d2FyZSBMaWNlbnNlIg==
ICAgIF0s
ICAgICJkZXNjcmlwdGlvbiI6ICIgICDwn5qAIFdlIGFyZSBncmFudGluZyBwaWxvdCBhY2Nlc3MgdG8gKipJdnkncyBDb21waWxlciBhbmQgVHJhbnNwaWxlcioqXG4gICB0byBzb21lIHVzZXJzLCBgam9pbiB0aGUgd2FpdGxpc3QgPGh0dHBzOi8vY29uc29sZS51bmlmeS5haS8+YF9fIGlmXG5cblxuLS0tLS0tLS0tLS0tLS1cblxuU3RhdHVzXG49PT09PT1cblxuXG5cbi4uIGltYWdlOjogaHR0cHM6Ly9naXRodWIuY29tL3VuaWZ5YWkvdW5pZnlhaS5naXRodWIuaW8vYmxvYi9tYXN0ZXIvaW1nL2V4dGVybmFsbHlfbGlua2VkL2xvZ29zL3N1cHBvcnRlZC9mcmFtZXdvcmtzLnBuZz9yYXc9dHJ1ZVxuICAgOndpZHRoOiAxMDAlXG4gICA6Y2xhc3M6IGRhcmstbGlnaHRcblxuLS0tLS0tLS0tLS0tLS1cblxuVW5pZmllZCBBSVxuPT09PT09PT09PVxuXG5cblxuXG5cblxuXG5cbi0tLS0tLS0tLS0tLS0tXG5cbkl2eSBpcyBib3RoIGFuIE1MIHRyYW5zcGlsZXIgYW5kIGEgZnJhbWV3b3JrLCBjdXJyZW50bHkgc3VwcG9ydGluZyBKQVgsXG5UZW5zb3JGbG93LCBQeVRvcmNoIGFuZCBOdW1weS5cblxuSXZ5IHVuaWZpZXMgYWxsIE1MIGZyYW1ld29ya3Mg8J+SpSBlbmFibGluZyB5b3Ugbm90IG9ubHkgdG8gKip3cml0ZSBjb2RlXG50aGF0IGNhbiBiZSB1c2VkIHdpdGggYW55IG9mIHRoZXNlIGZyYW1ld29ya3MgYXMgdGhlIGJhY2tlbmQqKiwgYnV0IGFsc29cbnRvICoqY29udmVydCDwn5SEIGFueSBmdW5jdGlvbiwgbW9kZWwgb3IgbGlicmFyeSB3cml0dGVuIGluIGFueSBvZiB0aGVtIHRvXG55b3VyIHByZWZlcnJlZCBmcmFtZXdvcmshKipcblxuWW91IGNhbiBjaGVjayBvdXQgYEl2eSBhcyBhIHRyYW5zcGlsZXIgPCNpdnktYXMtYS10cmFuc3BpbGVyPmBfXyBhbmRcbmBJdnkgYXMgYSBmcmFtZXdvcmsgPCNpdnktYXMtYS1mcmFtZXdvcms+YF9fIHRvIGxlYXJuIG1vcmUgYWJvdXQgdGhpcyxcbnRyeSBvdXQgSXZ5IHN0cmFpZ2h0IGF3YXkgZ29pbmcgdGhyb3VnaCB0aGUgYFNldHRpbmcgdXBcbkl2eSA8I3NldHRpbmctdXAtaXZ5PmBfXyBzZWN0aW9uLCBvciBkaXZlIGRlZXAgaW50byBJdnknc1xuYERvY3VtZW50YXRpb24gPCNkb2N1bWVudGF0aW9uPmBfXyBhbmQgYEV4YW1wbGVzIDwjZXhhbXBsZXM+YF9fIVxuXG5JZiB5b3Ugd291bGQgbGlrZSB0byBjb250cmlidXRlLCB5b3UgY2FuIGpvaW4gb3VyIGdyb3dpbmdcbmBDb21tdW5pdHkgPCNjb21tdW5pdHk+YF9fIPCfjI0sIGNoZWNrIG91dCBvdXJcbmBDb250cmlidXRpbmcgPCNjb250cmlidXRpbmc+YF9fIGd1aWRlLCBhbmQgdGFrZSBhIGxvb2sgYXQgdGhlIGBvcGVuXG50YXNrcyA8aHR0cHM6Ly91bmlmeS5haS9kb2NzL2l2eS9vdmVydmlldy9jb250cmlidXRpbmcvb3Blbl90YXNrcy5odG1sPmBfX1xuaWYgeW91J2QgbGlrZSB0byBkaXZlIHN0cmFpZ2h0IGluIPCfp5HigI3wn5K7XG5cbioqTGV0J3MqKiBgdW5pZnkuYWkgPGh0dHBzOi8vdW5pZnkuYWk+YF9fICoqdG9nZXRoZXIg8J+mvioqXG5cbi0tLS0tLS0tLS0tLS0tXG5cbkl2eSBhcyBhIHRyYW5zcGlsZXJcbi0tLS0tLS0tLS0tLS0tLS0tLS1cblxuSXZ5J3MgdHJhbnNwaWxlciBhbGxvd3MgeW91IHRvIHVzZSBjb2RlIGZyb20gYW55IG90aGVyIGZyYW1ld29yayAob3JcbmZyb20gYW55IG90aGVyIHZlcnNpb24gb2YgdGhlIHNhbWUgZnJhbWV3b3JrISkgaW4geW91ciBvd24gY29kZSwgYnkganVzdFxuYWRkaW5nIG9uZSBsaW5lIG9mIGNvZGUuIFVuZGVyIHRoZSBob29kLCBJdnkgdHJhY2VzIGEgY29tcHV0YXRpb25hbFxuZ3JhcGggYW5kIGxldmVyYWdlcyB0aGUgZnJvbnRlbmRzIGFuZCBiYWNrZW5kcyB0byBsaW5rIG9uZSBmcmFtZXdvcmsgdG9cbmFub3RoZXIuXG5cblRoaXMgd2F5LCBJdnkgbWFrZXMgYWxsIE1MLXJlbGF0ZWQgcHJvamVjdHMgYXZhaWxhYmxlIGZvciB5b3UsXG5pbmRlcGVuZGVudGx5IG9mIHRoZSBmcmFtZXdvcmsgeW91IHdhbnQgdG8gdXNlIHRvIHJlc2VhcmNoLCBkZXZlbG9wLCBvclxuZGVwbG95IHN5c3RlbXMuIEZlZWwgZnJlZSB0byBoZWFkIG92ZXIgdG8gdGhlIGRvY3MgZm9yIHRoZSBmdWxsIEFQSVxucmVmZXJlbmNlLCBidXQgdGhlIGZ1bmN0aW9ucyB5b3UnZCBtb3N0IGxpa2VseSB3YW50IHRvIHVzZSBhcmU6XG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgIyBDb21waWxlcyBhIGZ1bmN0aW9uIGludG8gYW4gZWZmaWNpZW50IGZ1bGx5LWZ1bmN0aW9uYWwgZ3JhcGgsIHJlbW92aW5nIGFsbCB3cmFwcGluZyBhbmQgcmVkdW5kYW50IGNvZGVcbiAgIGl2eS5jb21waWxlKClcblxuICAgIyBDb252ZXJ0cyBmcmFtZXdvcmstc3BlY2lmaWMgY29kZSB0byBhIGRpZmZlcmVudCBmcmFtZXdvcmtcbiAgIGl2eS50cmFuc3BpbGUoKVxuXG4gICAjIENvbnZlcnRzIGZyYW1ld29yay1zcGVjaWZpYyBjb2RlIHRvIEl2eVxuICAgaXZ5LnVuaWZ5KClcblxuVGhlc2UgZnVuY3Rpb25zIGNhbiBiZSB1c2VkIGVhZ2VybHkgb3IgbGF6aWx5LiBJZiB5b3UgcGFzcyB0aGUgbmVjZXNzYXJ5XG5hcmd1bWVudHMgZm9yIGZ1bmN0aW9uIHRyYWNpbmcsIHRoZSBjb21waWxhdGlvbi90cmFuc3BpbGF0aW9uIHN0ZXAgd2lsbFxuaGFwcGVuIGluc3RhbnRseSAoZWFnZXJseSkuIE90aGVyd2lzZSwgdGhlIGNvbXBpbGF0aW9uL3RyYW5zcGlsYXRpb25cbndpbGwgaGFwcGVuIG9ubHkgd2hlbiB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gaXMgZmlyc3QgaW52b2tlZC5cblxuLi4gY29kZTo6IHB5dGhvblxuXG4gICBpbXBvcnQgaXZ5XG4gICBpbXBvcnQgamF4XG4gICBpdnkuc2V0X2JhY2tlbmQoXCJqYXhcIilcblxuICAgIyBTaW1wbGUgSkFYIGZ1bmN0aW9uIHRvIHRyYW5zcGlsZVxuICAgZGVmIHRlc3RfZm4oeCk6XG4gICAgICAgcmV0dXJuIGpheC5udW1weS5zdW0oeClcblxuICAgeDEgPSBpdnkuYXJyYXkoWzEuLCAyLl0pXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgIyBBcmd1bWVudHMgYXJlIGF2YWlsYWJsZSAtPiB0cmFuc3BpbGF0aW9uIGhhcHBlbnMgZWFnZXJseVxuICAgZWFnZXJfZ3JhcGggPSBpdnkudHJhbnNwaWxlKHRlc3RfZm4sIHNvdXJjZT1cImpheFwiLCB0bz1cInRvcmNoXCIsIGFyZ3M9KHgxLCkpXG5cbiAgICMgZWFnZXJfZ3JhcGggaXMgbm93IHRvcmNoIGNvZGUgYW5kIHJ1bnMgZWZmaWNpZW50bHlcbiAgIHJldCA9IGVhZ2VyX2dyYXBoKHgxKVxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgICMgQXJndW1lbnRzIGFyZSBub3QgYXZhaWxhYmxlIC0+IHRyYW5zcGlsYXRpb24gaGFwcGVucyBsYXppbHlcbiAgIGxhenlfZ3JhcGggPSBpdnkudHJhbnNwaWxlKHRlc3RfZm4sIHNvdXJjZT1cImpheFwiLCB0bz1cInRvcmNoXCIpXG5cbiAgICMgVGhlIHRyYW5zcGlsZWQgZ3JhcGggaXMgaW5pdGlhbGl6ZWQsIHRyYW5zcGlsYXRpb24gd2lsbCBoYXBwZW4gaGVyZVxuICAgcmV0ID0gbGF6eV9ncmFwaCh4MSlcblxuICAgIyBsYXp5X2dyYXBoIGlzIG5vdyB0b3JjaCBjb2RlIGFuZCBydW5zIGVmZmljaWVudGx5XG4gICByZXQgPSBsYXp5X2dyYXBoKHgxKVxuXG5JZiB5b3Ugd2FudCB0byBsZWFybiBtb3JlLCB5b3UgY2FuIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBpbiB0aGUgYEl2eSBhc1xuYSB0cmFuc3BpbGVyIHNlY3Rpb24gb2YgdGhlXG5kb2NzISA8aHR0cHM6Ly91bmlmeS5haS9kb2NzL2l2eS9vdmVydmlldy9kZXNpZ24vaXZ5X2FzX2FfdHJhbnNwaWxlci5odG1sPmBfX1xuXG5XaGVuIHNob3VsZCBJIHVzZSBJdnkgYXMgYSB0cmFuc3BpbGVyP1xufn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5cblxuSWYgeW91IHdhbnQgdG8gdXNlIGJ1aWxkaW5nIGJsb2NrcyBwdWJsaXNoZWQgaW4gb3RoZXIgZnJhbWV3b3JrcyAobmV1cmFsXG5uZXR3b3JrcywgbGF5ZXJzLCBhcnJheSBjb21wdXRpbmcgbGlicmFyaWVzLCB0cmFpbmluZyBwaXBlbGluZXMuLi4pLCB5b3VcbndhbnQgdG8gaW50ZWdyYXRlIGNvZGUgZGV2ZWxvcGVkIGluIHZhcmlvdXMgZnJhbWV3b3Jrcywgb3IgbWF5YmVcbnN0cmFpZ2h0IHVwIG1vdmUgY29kZSBmcm9tIG9uZSBmcmFtZXdvcmsgdG8gYW5vdGhlciwgdGhlIHRyYW5zcGlsZXIgaXNcbmRlZmluaXRlbHkgdGhlIHRvb2wg8J+UpyBmb3IgdGhlIGpvYiEgQXMgdGhlIG91dHB1dCBvZiB0cmFuc3BpbGF0aW9uIGlzXG5uYXRpdmUgY29kZSBpbiB0aGUgdGFyZ2V0IGZyYW1ld29yaywgeW91IGNhbiB1c2UgdGhlIGNvbnZlcnRlZCBjb2RlIGp1c3RcbmFzIGlmIGl0IHdhcyBjb2RlIG9yaWdpbmFsbHkgZGV2ZWxvcGVkIGluIHRoYXQgZnJhbWV3b3JrLCBhcHBseWluZ1xuZnJhbWV3b3JrLXNwZWNpZmljIG9wdGltaXphdGlvbnMgb3IgdG9vbHMsIGluc3RhbnRseSBleHBvc2luZyB5b3VyXG5wcm9qZWN0IHRvIGFsbCBvZiB0aGUgdW5pcXVlIHBlcmtzIG9mIGEgZGlmZmVyZW50IGZyYW1ld29yay5cblxuSXZ5IGFzIGEgZnJhbWV3b3JrXG4tLS0tLS0tLS0tLS0tLS0tLS1cblxuVGhlIEl2eSBmcmFtZXdvcmsgaXMgYnVpbHQgb24gdG9wIG9mIHZhcmlvdXMgZXNzZW50aWFsIGNvbXBvbmVudHMsXG5tYWlubHkgdGhlIGBCYWNrZW5kXG5IYW5kbGVyIDxodHRwczovL3VuaWZ5LmFpL2RvY3MvaXZ5L292ZXJ2aWV3L2Rlc2lnbi9idWlsZGluZ19ibG9ja3MuaHRtbCNiYWNrZW5kLWhhbmRsZXI+YF9fLFxud2hpY2ggbWFuYWdlcyB3aGF0IGZyYW1ld29yayBpcyBiZWluZyB1c2VkIGJlaGluZCB0aGUgc2NlbmVzIGFuZCB0aGVcbmBCYWNrZW5kIEZ1bmN0aW9uYWxcbkFQSXMgPGh0dHBzOi8vdW5pZnkuYWkvZG9jcy9pdnkvb3ZlcnZpZXcvZGVzaWduL2J1aWxkaW5nX2Jsb2Nrcy5odG1sI2JhY2tlbmQtZnVuY3Rpb25hbC1hcGlzPmBfXyxcbndoaWNoIHByb3ZpZGUgZnJhbWV3b3JrLXNwZWNpZmljIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgSXZ5IGZ1bmN0aW9ucy5cbkxpa2V3aXNlLCBjbGFzc2VzIHN1Y2ggYXMgYGBpdnkuQ29udGFpbmVyYGAgb3IgYGBpdnkuQXJyYXlgYCBhcmUgYWxzb1xuYXZhaWxhYmxlLCBmYWNpbGl0YXRpbmcgdGhlIHVzZSBvZiBzdHJ1Y3R1cmVkIGRhdGEgYW5kIGFycmF5LWxpa2Vcbm9iamVjdHMgKGxlYXJuIG1vcmUgYWJvdXQgdGhlbVxuYGhlcmUhIDxodHRwczovL3VuaWZ5LmFpL2RvY3MvaXZ5L292ZXJ2aWV3L2Rlc2lnbi9pdnlfYXNfYV9mcmFtZXdvcmsuaHRtbD5gX18pLlxuXG5BbGwgb2YgdGhlIGZ1bmN0aW9uYWxpdGllcyBpbiBJdnkgYXJlIGV4cG9zZWQgdGhyb3VnaCB0aGVcbmBgSXZ5IGZ1bmN0aW9uYWwgQVBJYGAgYW5kIHRoZSBgYEl2eSBzdGF0ZWZ1bCBBUElgYC4gQWxsIGZ1bmN0aW9ucyBpblxudGhlIGBGdW5jdGlvbmFsXG5BUEkgPGh0dHBzOi8vdW5pZnkuYWkvZG9jcy9pdnkvb3ZlcnZpZXcvZGVzaWduL2J1aWxkaW5nX2Jsb2Nrcy5odG1sI2l2eS1mdW5jdGlvbmFsLWFwaT5gX19cbmFyZSAqKkZyYW1ld29yayBBZ25vc3RpYyBGdW5jdGlvbnMqKiwgd2hpY2ggbWVhbiB0aGF0IHdlIGNhbiB1c2UgdGhlbVxubGlrZSB0aGlzOlxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIGltcG9ydCBpdnlcbiAgIGltcG9ydCBqYXgubnVtcHkgYXMgam5wXG4gICBpbXBvcnQgdGVuc29yZmxvdyBhcyB0ZlxuICAgaW1wb3J0IG51bXB5IGFzIG5wXG4gICBpbXBvcnQgdG9yY2hcblxuICAgZGVmIG1zZV9sb3NzKHksIHRhcmdldCk6XG4gICAgICAgcmV0dXJuIGl2eS5tZWFuKCh5IC0gdGFyZ2V0KSoqMilcblxuICAgamF4X21zZSAgID0gbXNlX2xvc3Moam5wLm9uZXMoKDUsKSksIGpucC5vbmVzKCg1LCkpKVxuICAgdGZfbXNlICAgID0gbXNlX2xvc3ModGYub25lcygoNSwpKSwgdGYub25lcygoNSwpKSlcbiAgIG5wX21zZSAgICA9IG1zZV9sb3NzKG5wLm9uZXMoKDUsKSksIG5wLm9uZXMoKDUsKSkpXG4gICB0b3JjaF9tc2UgPSBtc2VfbG9zcyh0b3JjaC5vbmVzKCg1LCkpLCB0b3JjaC5vbmVzKCg1LCkpKVxuXG5JbiB0aGUgZXhhbXBsZSBhYm92ZSB3ZSBzaG93IGhvdyBJdnkncyBmdW5jdGlvbnMgYXJlIGNvbXBhdGlibGUgd2l0aFxudGVuc29ycyBmcm9tIGRpZmZlcmVudCBmcmFtZXdvcmtzLiBUaGlzIGlzIHRoZSBzYW1lIGZvciBBTEwgSXZ5XG5mdW5jdGlvbnMuIFRoZXkgY2FuIGFjY2VwdCB0ZW5zb3JzIGZyb20gYW55IGZyYW1ld29yayBhbmQgcmV0dXJuIHRoZVxuY29ycmVjdCByZXN1bHQuXG5cblRoZSBgSXZ5IFN0YXRlZnVsXG5BUEkgPGh0dHBzOi8vdW5pZnkuYWkvZG9jcy9pdnkvb3ZlcnZpZXcvZGVzaWduL2l2eV9hc19hX2ZyYW1ld29yay9pdnlfc3RhdGVmdWxfYXBpLmh0bWw+YF9fLFxub24gdGhlIG90aGVyIGhhbmQsIGFsbG93cyB5b3UgdG8gZGVmaW5lIHRyYWluYWJsZSBtb2R1bGVzIGFuZCBsYXllcnMsXG53aGljaCB5b3UgY2FuIHVzZSBhbG9uZSBvciBhcyBhIHBhcnQgb2YgYW55IG90aGVyIGZyYW1ld29yayBjb2RlIVxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIGltcG9ydCBpdnlcblxuXG4gICBjbGFzcyBSZWdyZXNzb3IoaXZ5Lk1vZHVsZSk6XG4gICAgICAgZGVmIF9faW5pdF9fKHNlbGYsIGlucHV0X2RpbSwgb3V0cHV0X2RpbSk6XG4gICAgICAgICAgIHNlbGYuaW5wdXRfZGltID0gaW5wdXRfZGltXG4gICAgICAgICAgIHNlbGYub3V0cHV0X2RpbSA9IG91dHB1dF9kaW1cbiAgICAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpXG5cbiAgICAgICBkZWYgX2J1aWxkKHNlbGYsICphcmdzLCAqKmt3YXJncyk6XG4gICAgICAgICAgIHNlbGYubGluZWFyMCA9IGl2eS5MaW5lYXIoc2VsZi5pbnB1dF9kaW0sIDEyOClcbiAgICAgICAgICAgc2VsZi5saW5lYXIxID0gaXZ5LkxpbmVhcigxMjgsIHNlbGYub3V0cHV0X2RpbSlcblxuICAgICAgIGRlZiBfZm9yd2FyZChzZWxmLCB4KTpcbiAgICAgICAgICAgeCA9IHNlbGYubGluZWFyMCh4KVxuICAgICAgICAgICB4ID0gaXZ5LmZ1bmN0aW9uYWwucmVsdSh4KVxuICAgICAgICAgICB4ID0gc2VsZi5saW5lYXIxKHgpXG4gICAgICAgICAgIHJldHVybiB4XG5cbklmIHdlIHB1dCBpdCBhbGwgdG9nZXRoZXIsIHdlJ2xsIGhhdmUgc29tZXRoaW5nIGxpa2UgdGhpcy4gVGhpcyBleGFtcGxlXG51c2VzIFB5VG9yY2ggYXMgdGhlIGJhY2tlbmQsIGJ1dCB0aGlzIGNhbiBlYXNpbHkgYmUgY2hhbmdlZCB0byB5b3VyXG5mYXZvcml0ZSBmcmFtZXdvcmssIHN1Y2ggYXMgVGVuc29yRmxvdywgb3IgSkFYLlxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIGltcG9ydCBpdnlcblxuXG4gICBjbGFzcyBSZWdyZXNzb3IoaXZ5Lk1vZHVsZSk6XG4gICAgICAgZGVmIF9faW5pdF9fKHNlbGYsIGlucHV0X2RpbSwgb3V0cHV0X2RpbSk6XG4gICAgICAgICAgIHNlbGYuaW5wdXRfZGltID0gaW5wdXRfZGltXG4gICAgICAgICAgIHNlbGYub3V0cHV0X2RpbSA9IG91dHB1dF9kaW1cbiAgICAgICAgICAgc3VwZXIoKS5fX2luaXRfXygpXG5cbiAgICAgICBkZWYgX2J1aWxkKHNlbGYsICphcmdzLCAqKmt3YXJncyk6XG4gICAgICAgICAgIHNlbGYubGluZWFyMCA9IGl2eS5MaW5lYXIoaW5wdXRfZGltLCAxMjgpXG4gICAgICAgICAgIHNlbGYubGluZWFyMSA9IGl2eS5MaW5lYXIoMTI4LCBvdXRwdXRfZGltKVxuXG4gICAgICAgZGVmIF9mb3J3YXJkKHNlbGYsIHgpOlxuICAgICAgICAgICB4ID0gc2VsZi5saW5lYXIwKHgpXG4gICAgICAgICAgIHggPSBpdnkuZnVuY3Rpb25hbC5yZWx1KHgpXG4gICAgICAgICAgIHggPSBzZWxmLmxpbmVhcjEoeClcbiAgICAgICAgICAgcmV0dXJuIHhcblxuICAgaXZ5LnNldF9iYWNrZW5kKCd0b3JjaCcpICAjIHNldCBiYWNrZW5kIHRvIFB5VG9yY2ggKG9yIGFueSBvdGhlciBiYWNrZW5kISlcblxuICAgbW9kZWwgPSBSZWdyZXNzb3IoaW5wdXRfZGltPTEsIG91dHB1dF9kaW09MSlcbiAgIG9wdGltaXplciA9IGl2eS5BZGFtKDAuMylcblxuICAgbl90cmFpbmluZ19leGFtcGxlcyA9IDIwMDBcbiAgIG5vaXNlID0gaXZ5LnJhbmRvbS5yYW5kb21fbm9ybWFsKHNoYXBlPShuX3RyYWluaW5nX2V4YW1wbGVzLCAxKSwgbWVhbj0wLCBzdGQ9MC4xKVxuICAgeCA9IGl2eS5saW5zcGFjZSgtNiwgMywgbl90cmFpbmluZ19leGFtcGxlcykucmVzaGFwZSgobl90cmFpbmluZ19leGFtcGxlcywgMSkpXG4gICB5ID0gMC4yICogeCAqKiAyICsgMC41ICogeCArIDAuMSArIG5vaXNlXG5cblxuICAgZGVmIGxvc3NfZm4ocHJlZCwgdGFyZ2V0KTpcbiAgICAgICByZXR1cm4gaXZ5Lm1lYW4oKHByZWQgLSB0YXJnZXQpICoqIDIpXG5cbiAgIGZvciBlcG9jaCBpbiByYW5nZSg0MCk6XG4gICAgICAgIyBmb3J3YXJkIHBhc3NcbiAgICAgICBwcmVkID0gbW9kZWwoeClcblxuICAgICAgICMgY29tcHV0ZSBsb3NzIGFuZCBncmFkaWVudHNcbiAgICAgICBsb3NzLCBncmFkcyA9IGl2eS5leGVjdXRlX3dpdGhfZ3JhZGllbnRzKGxhbWJkYSB2OiBsb3NzX2ZuKHByZWQsIHkpLCBtb2RlbC52KVxuXG4gICAgICAgIyB1cGRhdGUgcGFyYW1ldGVyc1xuICAgICAgIG1vZGVsLnYgPSBvcHRpbWl6ZXIuc3RlcChtb2RlbC52LCBncmFkcylcblxuICAgICAgICMgcHJpbnQgY3VycmVudCBsb3NzXG4gICAgICAgcHJpbnQoZidFcG9jaDoge2Vwb2NoICsgMToyZH0gLS0tIExvc3M6IHtpdnkudG9fbnVtcHkobG9zcykuaXRlbSgpOi41Zn0nKVxuXG4gICBwcmludCgnRmluaXNoZWQgdHJhaW5pbmchJylcblxuVGhlIG1vZGVsJ3Mgb3V0cHV0IGNhbiBiZSB2aXN1YWxpemVkIGFzIGZvbGxvd3M6XG5cblxuXG5MYXN0IGJ1dCBub3QgbGVhc3QsIHdlIGFyZSBhbHNvIHdvcmtpbmcgb24gc3BlY2lmaWMgZXh0ZW5zaW9uIHRvdGFsbHlcbndyaXR0ZW4gaW4gSXZ5IGFuZCB0aGVyZWZvcmUgdXNhYmxlIHdpdGhpbiBhbnkgZnJhbWV3b3JrLCBjb3ZlcmluZ1xudG9waWNzIGxpa2UgYE1lY2hhbmljcyA8aHR0cHM6Ly9naXRodWIuY29tL3VuaWZ5YWkvbWVjaD5gX18sIGBDb21wdXRlclxuVmlzaW9uIDxodHRwczovL2dpdGh1Yi5jb20vdW5pZnlhaS92aXNpb24+YF9fLFxuYFJvYm90aWNzIDxodHRwczovL2dpdGh1Yi5jb20vdW5pZnlhaS9yb2JvdD5gX18sIGEgYFJlaW5mb3JjZW1lbnRcbkxlYXJuaW5nIEd5bSA8aHR0cHM6Ly9naXRodWIuY29tL3VuaWZ5YWkvZ3ltPmBfXyxcbmBNZW1vcnkgPGh0dHBzOi8vZ2l0aHViLmNvbS91bmlmeWFpL21lbW9yeT5gX18gYW5kIGltcGxlbWVudGF0aW9uIG9mXG52YXJpb3VzIGBNb2RlbHMgPGh0dHBzOi8vZ2l0aHViLmNvbS91bmlmeWFpL21vZGVscz5gX18gb3IgYEJ1aWxkZXJcbnRvb2xzIDxodHRwczovL2dpdGh1Yi5jb20vdW5pZnlhaS9idWlsZGVyPmBfXyB3aXRoIHRyYWluZXJzLCBkYXRhXG5sb2FkZXJzIGFuZCBtb3JlIVxuXG5cblxuQXMgYWx3YXlzLCB5b3UgY2FuIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBgSXZ5IGFzIGEgZnJhbWV3b3JrIGluXG50aGVcbmRvY3MhIDxodHRwczovL3VuaWZ5LmFpL2RvY3MvaXZ5L292ZXJ2aWV3L2Rlc2lnbi9pdnlfYXNfYV9mcmFtZXdvcmsuaHRtbD5gX19cblxuV2hlbiBzaG91bGQgSSB1c2UgSXZ5IGFzIGEgZnJhbWV3b3JrP1xufn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuXG5BcyBJdnkgc3VwcG9ydHMgbXVsdGlwbGUgYmFja2VuZHMsIHdyaXRpbmcgY29kZSBpbiBJdnkgYnJlYWtzIHlvdSBmcmVlXG5mcm9tIGZyYW1ld29yayBsaW1pdGF0aW9ucy4gSWYgeW91IHdhbnQgdG8gcHVibGlzaCBoaWdobHkgZmxleGlibGUgY29kZVxuZm9yIGV2ZXJ5b25lIHRvIHVzZSwgaW5kZXBlbmRlbnRseSBvZiB0aGUgZnJhbWV3b3JrIHRoZXkgYXJlIHVzaW5nLCBvclxueW91IHBsYW4gdG8gZGV2ZWxvcCBNTC1yZWxhdGVkIHRvb2xzIGFuZCB3YW50IHRoZW0gdG8gYmUgaW50ZXJvcGVyYWJsZVxud2l0aCBub3Qgb25seSB0aGUgYWxyZWFkeSBleGlzdGluZyBmcmFtZXdvcmtzLCBidXQgYWxzbyB3aXRoIGZ1dHVyZVxuZnJhbWV3b3JrcywgdGhlbiBJdnkgaXMgZm9yIHlvdSFcblxuU2V0dGluZyB1cCBJdnlcbi0tLS0tLS0tLS0tLS0tXG5cblRoZXJlIGFyZSB2YXJpb3VzIHdheXMgdG8gdXNlIEl2eSwgZGVwZW5kaW5nIG9uIHlvdXIgcHJlZmVycmVkXG5lbnZpcm9ubWVudDpcblxuSW5zdGFsbGluZyB1c2luZyBwaXBcbn5+fn5+fn5+fn5+fn5+fn5+fn5+XG5cblRoZSBlYXNpZXN0IHdheSB0byBzZXQgdXAgSXZ5IGlzIHRvIGluc3RhbGwgaXQgdXNpbmcgcGlwIHdpdGggdGhlXG5mb2xsb3dpbmcgY29tbWFuZDpcblxuLi4gY29kZTo6IGJhc2hcblxuICAgcGlwIGluc3RhbGwgaXZ5LWNvcmVcblxub3IgYWx0ZXJuYXRpdmVseTpcblxuLi4gY29kZTo6IGJhc2hcblxuICAgcHl0aG9uMyAtbSBwaXAgaW5zdGFsbCBpdnktY29yZVxuXG5Eb2NrZXJcbn5+fn5+flxuXG5JZiB5b3UgcHJlZmVyIHRvIHVzZSBjb250YWluZXJzLCB3ZSBhbHNvIGhhdmUgcHJlLWJ1aWx0IERvY2tlciBpbWFnZXNcbndpdGggYWxsIHRoZSBzdXBwb3J0ZWQgZnJhbWV3b3JrcyBhbmQgc29tZSByZWxldmFudCBwYWNrYWdlcyBhbHJlYWR5XG5pbnN0YWxsZWQsIHdoaWNoIHlvdSBjYW4gcHVsbCBmcm9tOlxuXG4uLiBjb2RlOjogYmFzaFxuXG4gICBkb2NrZXIgcHVsbCB1bmlmeWFpL2l2eTpsYXRlc3RcblxuSWYgeW91IGFyZSB3b3JraW5nIG9uIGEgR1BVIGRldmljZSwgeW91IGNhbiBwdWxsIGZyb206XG5cbi4uIGNvZGU6OiBiYXNoXG5cbiAgIGRvY2tlciBwdWxsIHVuaWZ5YWkvaXZ5OmxhdGVzdC1ncHVcblxuSW5zdGFsbGluZyBmcm9tIHNvdXJjZVxufn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuXG5Zb3UgY2FuIGFsc28gaW5zdGFsbCBJdnkgZnJvbSBzb3VyY2UgaWYgeW91IHdhbnQgdG8gdGFrZSBhZHZhbnRhZ2Ugb2ZcbnRoZSBsYXRlc3QgY2hhbmdlcywgYnV0IHdlIGNhbid0IGVuc3VyZSBldmVyeXRoaW5nIHdpbGwgd29yayBhc1xuZXhwZWN0ZWQuIDpzd2VhdF9zbWlsZTpcblxuLi4gY29kZTo6IGJhc2hcblxuICAgZ2l0IGNsb25lIGh0dHBzOi8vZ2l0aHViLmNvbS91bmlmeWFpL2l2eS5naXRcbiAgIGNkIGl2eSBcbiAgIHBpcCBpbnN0YWxsIC0tdXNlciAtZSAuXG5cbm9yIGFsdGVybmF0aXZlbHksIGZvciB0aGUgbGFzdCBzdGVwOlxuXG4uLiBjb2RlOjogYmFzaFxuXG4gICBweXRob24zIC1tIHBpcCBpbnN0YWxsIC0tdXNlciAtZSAuXG5cbklmIHlvdSB3YW50IHRvIHNldCB1cCB0ZXN0aW5nIGFuZCB2YXJpb3VzIGZyYW1ld29ya3MgaXQncyBwcm9iYWJseSBiZXN0XG50byBjaGVjayBvdXQgdGhlIGBDb250cmlidXRpbmcgLSBTZXR0aW5nXG5VcCA8aHR0cHM6Ly91bmlmeS5haS9kb2NzL2l2eS9vdmVydmlldy9jb250cmlidXRpbmcvc2V0dGluZ191cC5odG1sI3NldHRpbmctdXA+YF9fXG5wYWdlLCB3aGVyZSBPUy1zcGVjaWZpYyBhbmQgSURFLXNwZWNpZmljIGluc3RydWN0aW9ucyBhbmQgdmlkZW9cbnR1dG9yaWFscyB0byBkbyBzbyBhcmUgYXZhaWxhYmxlIVxuXG5Vc2luZyBJdnlcbn5+fn5+fn5+flxuXG5Zb3UgY2FuIGZpbmQgcXVpdGUgYSBsb3QgbW9yZSBleGFtcGxlcyBpbiB0aGUgY29ycmVzcG9uZGluZyBzZWN0aW9uXG5iZWxvdywgYnV0IHVzaW5nIEl2eSBpcyBhcyBzaW1wbGUgYXM6XG5cblxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIGltcG9ydCBpdnlcbiAgIGltcG9ydCB0b3JjaFxuICAgaW1wb3J0IGpheFxuXG4gICBpdnkuc2V0X2JhY2tlbmQoXCJqYXhcIilcblxuICAgeCA9IGpheC5udW1weS5hcnJheShbMSwgMiwgM10pXG4gICB5ID0gamF4Lm51bXB5LmFycmF5KFszLCAyLCAxXSlcbiAgIHogPSBpdnkuYWRkKHgsIHkpXG5cbiAgIGl2eS5zZXRfYmFja2VuZCgndG9yY2gnKVxuXG4gICB4ID0gdG9yY2gudGVuc29yKFsxLCAyLCAzXSlcbiAgIHkgPSB0b3JjaC50ZW5zb3IoWzMsIDIsIDFdKVxuICAgeiA9IGl2eS5hZGQoeCwgeSlcblxuXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuICAgaW1wb3J0IHRvcmNoXG4gICBpbXBvcnQgamF4XG5cbiAgIGRlZiBqYXhfZm4oeCk6XG4gICAgICAgYSA9IGpheC5udW1weS5kb3QoeCwgeClcbiAgICAgICBiID0gamF4Lm51bXB5Lm1lYW4oeClcbiAgICAgICByZXR1cm4geCAqIGEgKyBiXG5cbiAgIGpheF94ID0gamF4Lm51bXB5LmFycmF5KFsxLCAyLCAzXSlcbiAgIHRvcmNoX3ggPSB0b3JjaC50ZW5zb3IoWzEsIDIsIDNdKVxuICAgdG9yY2hfZm4gPSBpdnkudHJhbnNwaWxlKGpheF9mbiwgc291cmNlPVwiamF4XCIsIHRvPVwidG9yY2hcIiwgYXJncz0oamF4X3gsKSlcbiAgIHJldCA9IHRvcmNoX2ZuKHRvcmNoX3gpXG5cbkRvY3VtZW50YXRpb25cbi0tLS0tLS0tLS0tLS1cblxuVGhlIGBJdnkgRG9jcyBwYWdlIDxodHRwczovL3VuaWZ5LmFpL2RvY3MvaXZ5Lz5gX18gaG9sZHMgYWxsIHRoZVxucmVsZXZhbnQgaW5mb3JtYXRpb24gYWJvdXQgSXZ5J3MgYW5kIGl0J3MgZnJhbWV3b3JrIEFQSSByZWZlcmVuY2UuXG5cblRoZXJlLCB5b3Ugd2lsbCBmaW5kIHRoZVxuYERlc2lnbiA8aHR0cHM6Ly91bmlmeS5haS9kb2NzL2l2eS9vdmVydmlldy9kZXNpZ24uaHRtbD5gX18gcGFnZSwgd2hpY2hcbmlzIGEgdXNlci1mb2N1c2VkIGd1aWRlIGFib3V0IHRoZSBhcmNoaXRlY3R1cmUgYW5kIHRoZSBidWlsZGluZyBibG9ja3Ncbm9mIEl2eS4gTGlrZXdpc2UsIHlvdSBjYW4gdGFrZSBhIGxvb2sgYXQgdGhlIGBEZWVwXG5kaXZlIDxodHRwczovL3VuaWZ5LmFpL2RvY3MvaXZ5L292ZXJ2aWV3L2RlZXBfZGl2ZS5odG1sPmBfXywgd2hpY2ggaXNcbm9yaWVudGVkIHRvd2FyZHMgcG90ZW50aWFsIGNvbnRyaWJ1dG9ycyBvZiB0aGUgY29kZSBiYXNlIGFuZCBleHBsYWluc1xudGhlIG51YW5jZXMgb2YgSXZ5IGluIGZ1bGwgZGV0YWlsIPCflI5cblxuQW5vdGhlciBpbXBvcnRhbnQgc2VjdGlvbnMgb2YgdGhlIGRvY3MgaXNcbmBCYWNrZ3JvdW5kIDxodHRwczovL3VuaWZ5LmFpL2RvY3MvaXZ5L292ZXJ2aWV3L2JhY2tncm91bmQuaHRtbD5gX18sXG53aGljaCBjb250ZXh0dWFsaXNlcyB0aGUgcHJvYmxlbSBJdnkgaXMgdHJ5aW5nIHRvIHNvbHZlIGFuZCB0aGUgY3VycmVudFxuYE1MXG5FeHBsb3Npb24gPGh0dHBzOi8vdW5pZnkuYWkvZG9jcy9pdnkvb3ZlcnZpZXcvYmFja2dyb3VuZC9tbF9leHBsb3Npb24uaHRtbCNtbC1leHBsb3Npb24+YF9fLFxuZXhwbGFpbmluZyBib3RoICgxKSB3aHkgaXMgaW1wb3J0YW50IGB0byBzb2x2ZSB0aGlzXG5wcm9ibGVtIDxodHRwczovL3VuaWZ5LmFpL2RvY3MvaXZ5L292ZXJ2aWV3L2JhY2tncm91bmQvd2h5X3VuaWZ5Lmh0bWwjd2h5LXVuaWZ5PmBfX1xuYW5kICgyKSBob3cgd2UgYXJlIGFkaGVyaW5nIHRvIGV4aXN0aW5nXG5gc3RhbmRhcmRzIDxodHRwczovL3VuaWZ5LmFpL2RvY3MvaXZ5L292ZXJ2aWV3L2JhY2tncm91bmQvc3RhbmRhcmRpemF0aW9uLmh0bWwjc3RhbmRhcmRpemF0aW9uPmBfX1xudG8gbWFrZSB0aGlzIGhhcHBlbi5cblxuTGFzdGx5LCB5b3UgY2FuIGFsc28gZmluZCB0aGVyZSB0aGUgYFJlbGF0ZWRcbldvcmsgPGh0dHBzOi8vdW5pZnkuYWkvZG9jcy9pdnkvb3ZlcnZpZXcvcmVsYXRlZF93b3JrLmh0bWw+YF9fIHNlY3Rpb24sXG53aGljaCBwYWludHMgYSBjbGVhciBwaWN0dXJlIG9mIHRoZSByb2xlIEl2eSBwbGF5cyBpbiB0aGUgTUwgc3RhY2ssXG5jb21wYXJpbmcgaXQgdG8gb3RoZXIgZXhpc3Rpbmcgc29sdXRpb25zIGluIHRlcm1zIG9mIGZ1bmN0aW9uYWxpdGllcyBhbmRcbmxldmVsLlxuXG5FeGFtcGxlc1xuLS0tLS0tLS1cblxuVGhlIGBFeGFtcGxlcyBwYWdlIDxodHRwczovL3VuaWZ5LmFpL2RlbW9zLz5gX18gZmVhdHVyZXMgYSB3aWRlIHJhbmdlIG9mXG5kZW1vcyBhbmQgdHV0b3JpYWxzIHNob3djYXNpbmcgdGhlIGZ1bmN0aW9uYWxpdGllcyBvZiBJdnkgYWxvbmcgd2l0aFxubXVsdGlwbGUgdXNlIGNhc2VzLCBidXQgZmVlbCBmcmVlIHRvIGNoZWNrIG91dCBzb21lIHNob3J0ZXJcbmZyYW1ld29yay1zcGVjaWZpYyBleGFtcGxlcyBoZXJlIOKsh++4j1xuXG5cbiAgICAgIDxibG9ja3F1b3RlPllvdSBjYW4gdXNlIEl2eSB0byBnZXQgUHlUb3JjaCBjb2RlIGZyb206XG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuICAgaW1wb3J0IHRvcmNoXG4gICBpbXBvcnQgdGVuc29yZmxvdyBhcyB0ZlxuXG4gICAjIEdldCBhIHByZXRyYWluZWQga2VyYXMgbW9kZWxcbiAgIGVmZl9lbmNvZGVyID0gdGYua2VyYXMuYXBwbGljYXRpb25zLmVmZmljaWVudG5ldF92Mi5FZmZpY2llbnROZXRWMkIwKFxuICAgICAgIGluY2x1ZGVfdG9wPUZhbHNlLCB3ZWlnaHRzPVwiaW1hZ2VuZXRcIiwgaW5wdXRfc2hhcGU9KDIyNCwgMjI0LCAzKVxuICAgKVxuXG4gICAjIFRyYW5zcGlsZSBpdCBpbnRvIGEgdG9yY2gubm4uTW9kdWxlIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcGFyYW1ldGVyc1xuICAgbm9pc2UgPSB0Zi5yYW5kb20ubm9ybWFsKHNoYXBlPSgxLCAyMjQsIDIyNCwgMykpXG4gICB0b3JjaF9lZmZfZW5jb2RlciA9IGl2eS50cmFuc3BpbGUoZWZmX2VuY29kZXIsIHRvPVwidG9yY2hcIiwgYXJncz0obm9pc2UsKSlcblxuICAgIyBCdWlsZCBhIGNsYXNzaWZpZXIgdXNpbmcgdGhlIHRyYW5zcGlsZWQgZW5jb2RlclxuICAgY2xhc3MgQ2xhc3NpZmllcih0b3JjaC5ubi5Nb2R1bGUpOlxuICAgICAgIGRlZiBfX2luaXRfXyhzZWxmLCBudW1fY2xhc3Nlcz0yMCk6XG4gICAgICAgICAgIHN1cGVyKENsYXNzaWZpZXIsIHNlbGYpLl9faW5pdF9fKClcbiAgICAgICAgICAgc2VsZi5lbmNvZGVyID0gdG9yY2hfZWZmX2VuY29kZXJcbiAgICAgICAgICAgc2VsZi5mYyA9IHRvcmNoLm5uLkxpbmVhcigxMjgwLCBudW1fY2xhc3NlcylcblxuICAgICAgIGRlZiBmb3J3YXJkKHNlbGYsIHgpOlxuICAgICAgICAgICB4ID0gc2VsZi5lbmNvZGVyKHgpXG4gICAgICAgICAgIHJldHVybiBzZWxmLmZjKHgpXG5cbiAgICMgSW5pdGlhbGl6ZSBhIHRyYWluYWJsZSwgY3VzdG9taXphYmxlLCB0b3JjaC5ubi5Nb2R1bGVcbiAgIGNsYXNzaWZpZXIgPSBDbGFzc2lmaWVyKClcbiAgIHJldCA9IGNsYXNzaWZpZXIodG9yY2gucmFuZCgoMSwgMjQ0LCAyNDQsIDMpKSlcblxuXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuICAgaW1wb3J0IGpheFxuICAgaW1wb3J0IHRvcmNoXG5cbiAgICMgR2V0IGEgcHJldHJhaW5lZCBoYWlrdSBtb2RlbFxuICAgIyBodHRwczovL3VuaWZ5LmFpL2RlbW9zL3NjcmlwdHMvZGVlcG1pbmRfcGVyY2VpdmVyX2lvLnB5XG4gICBmcm9tIGRlZXBtaW5kX3BlcmNlaXZlcl9pbyBpbXBvcnQga2V5LCBwZXJjZWl2ZXJfYmFja2JvbmVcblxuICAgIyBUcmFuc3BpbGUgaXQgaW50byBhIHRvcmNoLm5uLk1vZHVsZSB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHBhcmFtZXRlcnNcbiAgIGR1bW15X2lucHV0ID0gamF4LnJhbmRvbS51bmlmb3JtKGtleSwgc2hhcGU9KDEsIDMsIDIyNCwgMjI0KSlcbiAgIHBhcmFtcyA9IHBlcmNlaXZlcl9iYWNrYm9uZS5pbml0KHJuZz1rZXksIGltYWdlcz1kdW1teV9pbnB1dClcbiAgIGJhY2tib25lID0gaXZ5LnRyYW5zcGlsZShcbiAgICAgICBwZXJjZWl2ZXJfYmFja2JvbmUsIHRvPVwidG9yY2hcIiwgcGFyYW1zX3Y9cGFyYW1zLCBrd2FyZ3M9e1wiaW1hZ2VzXCI6IGR1bW15X2lucHV0fVxuICAgKVxuXG4gICAjIEJ1aWxkIGEgY2xhc3NpZmllciB1c2luZyB0aGUgdHJhbnNwaWxlZCBiYWNrYm9uZVxuICAgY2xhc3MgUGVyY2VpdmVySU9DbGFzc2lmaWVyKHRvcmNoLm5uLk1vZHVsZSk6XG4gICAgICAgZGVmIF9faW5pdF9fKHNlbGYsIG51bV9jbGFzc2VzPTIwKTpcbiAgICAgICAgICAgc3VwZXIoUGVyY2VpdmVySU9DbGFzc2lmaWVyLCBzZWxmKS5fX2luaXRfXygpXG4gICAgICAgICAgIHNlbGYuYmFja2JvbmUgPSBiYWNrYm9uZVxuICAgICAgICAgICBzZWxmLm1heF9wb29sID0gdG9yY2gubm4uTWF4UG9vbDJkKCg1MTIsIDEpKVxuICAgICAgICAgICBzZWxmLmZsYXR0ZW4gPSB0b3JjaC5ubi5GbGF0dGVuKClcbiAgICAgICAgICAgc2VsZi5mYyA9IHRvcmNoLm5uLkxpbmVhcigxMDI0LCBudW1fY2xhc3NlcylcblxuICAgICAgIGRlZiBmb3J3YXJkKHNlbGYsIHgpOlxuICAgICAgICAgICB4ID0gc2VsZi5iYWNrYm9uZShpbWFnZXM9eClcbiAgICAgICAgICAgeCA9IHNlbGYuZmxhdHRlbihzZWxmLm1heF9wb29sKHgpKVxuICAgICAgICAgICByZXR1cm4gc2VsZi5mYyh4KVxuXG4gICAjIEluaXRpYWxpemUgYSB0cmFpbmFibGUsIGN1c3RvbWl6YWJsZSwgdG9yY2gubm4uTW9kdWxlXG4gICBjbGFzc2lmaWVyID0gUGVyY2VpdmVySU9DbGFzc2lmaWVyKClcbiAgIHJldCA9IGNsYXNzaWZpZXIodG9yY2gucmFuZCgoMSwgMywgMjI0LCAyMjQpKSlcblxuXG5cblxuLi4gY29kZTo6IHB5dGhvblxuXG4gICBpbXBvcnQgaXZ5XG4gICBpbXBvcnQgdG9yY2hcbiAgIGltcG9ydCBvc1xuICAgb3MuZW52aXJvbltcIlNNX0ZSQU1FV09SS1wiXSA9IFwidGYua2VyYXNcIlxuICAgaW1wb3J0IHNlZ21lbnRhdGlvbl9tb2RlbHMgYXMgc21cblxuICAgIyB0cmFuc3BpbGUgc20gZnJvbSB0ZW5zb3JmbG93IHRvIHRvcmNoXG4gICB0b3JjaF9zbSA9IGl2eS50cmFuc3BpbGUoc20sIHNvdXJjZT1cInRlbnNvcmZsb3dcIiwgdG89XCJ0b3JjaFwiKVxuXG4gICAjIGdldCBzb21lIGltYWdlLWxpa2UgYXJyYXlzXG4gICBvdXRwdXQgPSB0b3JjaC5yYW5kKCgxLCAzLCA1MTIsIDUxMikpXG4gICB0YXJnZXQgPSB0b3JjaC5yYW5kKCgxLCAzLCA1MTIsIDUxMikpXG5cbiAgICMgYW5kIHVzZSB0aGUgdHJhbnNwaWxlZCB2ZXJzaW9uIG9mIGFueSBmdW5jdGlvbiBmcm9tIHRoZSBsaWJyYXJ5IVxuICAgb3V0ID0gdG9yY2hfc20ubWV0cmljcy5pb3Vfc2NvcmUob3V0cHV0LCB0YXJnZXQpXG5cblxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIGltcG9ydCBpdnlcbiAgIGltcG9ydCByYXhcbiAgIGltcG9ydCB0b3JjaFxuXG4gICAjIHRyYW5zcGlsZSByYXggZnJvbSBqYXggdG8gdG9yY2hcbiAgIHRvcmNoX3JheCA9IGl2eS50cmFuc3BpbGUocmF4LCBzb3VyY2U9XCJqYXhcIiwgdG89XCJ0b3JjaFwiKVxuXG4gICAjIGdldCBzb21lIGFycmF5c1xuICAgc2NvcmVzID0gdG9yY2gudGVuc29yKFsyLjIsIDEuMywgNS40XSlcbiAgIGxhYmVscyA9IHRvcmNoLnRlbnNvcihbMS4wLCAwLjAsIDAuMF0pXG5cbiAgICMgYW5kIHVzZSB0aGUgdHJhbnNwaWxlZCB2ZXJzaW9uIG9mIGFueSBmdW5jdGlvbiBmcm9tIHRoZSBsaWJyYXJ5IVxuICAgb3V0ID0gdG9yY2hfcmF4LnBvbHkxX3NvZnRtYXhfbG9zcyhzY29yZXMsIGxhYmVscylcblxuXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuICAgaW1wb3J0IHRvcmNoXG4gICBpbXBvcnQgbWFkbW9tXG5cbiAgICMgdHJhbnNwaWxlIG1hZG1vbiBmcm9tIG51bXB5IHRvIHRvcmNoXG4gICB0b3JjaF9tYWRtb20gPSBpdnkudHJhbnNwaWxlKG1hZG1vbSwgc291cmNlPVwibnVtcHlcIiwgdG89XCJ0b3JjaFwiKVxuXG4gICAjIGdldCBzb21lIGFycmF5c1xuICAgZnJlcXMgPSB0b3JjaC5hcmFuZ2UoMjApICogMTBcblxuICAgIyBhbmQgdXNlIHRoZSB0cmFuc3BpbGVkIHZlcnNpb24gb2YgYW55IGZ1bmN0aW9uIGZyb20gdGhlIGxpYnJhcnkhXG4gICBvdXQgPSB0b3JjaF9tYWRtb20uYXVkaW8uZmlsdGVycy5oejJtaWRpKGZyZXFzKVxuXG5cblxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIGltcG9ydCBpdnlcbiAgIGltcG9ydCB0ZW5zb3JmbG93IGFzIHRmXG4gICBpbXBvcnQgdG9yY2hcblxuICAgZGVmIGxvc3MocHJlZGljdGlvbnMsIHRhcmdldHMpOlxuICAgICAgIHJldHVybiB0Zi5zcXJ0KHRmLnJlZHVjZV9tZWFuKHRmLnNxdWFyZShwcmVkaWN0aW9ucyAtIHRhcmdldHMpKSlcblxuICAgIyB0cmFuc3BpbGUgYW55IGZ1bmN0aW9uIGZyb20gdGYgdG8gdG9yY2hcbiAgIHRvcmNoX2xvc3MgPSBpdnkudHJhbnNwaWxlKGxvc3MsIHNvdXJjZT1cInRlbnNvcmZsb3dcIiwgdG89XCJ0b3JjaFwiKVxuXG4gICAjIGdldCBzb21lIGFycmF5c1xuICAgcCA9IHRvcmNoLnRlbnNvcihbMy4wLCAyLjAsIDEuMF0pXG4gICB0ID0gdG9yY2gudGVuc29yKFswLjAsIDAuMCwgMC4wXSlcblxuICAgIyBhbmQgdXNlIHRoZSB0cmFuc3BpbGVkIHZlcnNpb24hXG4gICBvdXQgPSB0b3JjaF9sb3NzKHAsIHQpXG5cblxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIGltcG9ydCBpdnlcbiAgIGltcG9ydCBqYXgubnVtcHkgYXMgam5wXG4gICBpbXBvcnQgdG9yY2hcblxuICAgZGVmIGxvc3MocHJlZGljdGlvbnMsIHRhcmdldHMpOlxuICAgICAgIHJldHVybiBqbnAuc3FydChqbnAubWVhbigocHJlZGljdGlvbnMgLSB0YXJnZXRzKSAqKiAyKSlcblxuICAgIyB0cmFuc3BpbGUgYW55IGZ1bmN0aW9uIGZyb20gamF4IHRvIHRvcmNoXG4gICB0b3JjaF9sb3NzID0gaXZ5LnRyYW5zcGlsZShsb3NzLCBzb3VyY2U9XCJqYXhcIiwgdG89XCJ0b3JjaFwiKVxuXG4gICAjIGdldCBzb21lIGFycmF5c1xuICAgcCA9IHRvcmNoLnRlbnNvcihbMy4wLCAyLjAsIDEuMF0pXG4gICB0ID0gdG9yY2gudGVuc29yKFswLjAsIDAuMCwgMC4wXSlcblxuICAgIyBhbmQgdXNlIHRoZSB0cmFuc3BpbGVkIHZlcnNpb24hXG4gICBvdXQgPSB0b3JjaF9sb3NzKHAsIHQpXG5cblxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIGltcG9ydCBpdnlcbiAgIGltcG9ydCBudW1weSBhcyBucFxuICAgaW1wb3J0IHRvcmNoXG5cbiAgIGRlZiBsb3NzKHByZWRpY3Rpb25zLCB0YXJnZXRzKTpcbiAgICAgICByZXR1cm4gbnAuc3FydChucC5tZWFuKChwcmVkaWN0aW9ucyAtIHRhcmdldHMpICoqIDIpKVxuXG4gICAjIHRyYW5zcGlsZSBhbnkgZnVuY3Rpb24gZnJvbSBudW1weSB0byB0b3JjaFxuICAgdG9yY2hfbG9zcyA9IGl2eS50cmFuc3BpbGUobG9zcywgc291cmNlPVwibnVtcHlcIiwgdG89XCJ0b3JjaFwiKVxuXG4gICAjIGdldCBzb21lIGFycmF5c1xuICAgcCA9IHRvcmNoLnRlbnNvcihbMy4wLCAyLjAsIDEuMF0pXG4gICB0ID0gdG9yY2gudGVuc29yKFswLjAsIDAuMCwgMC4wXSlcblxuICAgIyBhbmQgdXNlIHRoZSB0cmFuc3BpbGVkIHZlcnNpb24hXG4gICBvdXQgPSB0b3JjaF9sb3NzKHAsIHQpXG5cblxuXG5cbiAgIDxibG9ja3F1b3RlPllvdSBjYW4gdXNlIEl2eSB0byBnZXQgVGVuc29yRmxvdyBjb2RlIGZyb206XG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuICAgaW1wb3J0IHRvcmNoXG4gICBpbXBvcnQgdGltbVxuICAgaW1wb3J0IHRlbnNvcmZsb3cgYXMgdGZcblxuICAgIyBHZXQgYSBwcmV0cmFpbmVkIHB5dG9yY2ggbW9kZWxcbiAgIG1scF9lbmNvZGVyID0gdGltbS5jcmVhdGVfbW9kZWwoXCJtaXhlcl9iMTZfMjI0XCIsIHByZXRyYWluZWQ9VHJ1ZSwgbnVtX2NsYXNzZXM9MClcblxuICAgIyBUcmFuc3BpbGUgaXQgaW50byBhIGtlcmFzLk1vZGVsIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcGFyYW1ldGVyc1xuICAgbm9pc2UgPSB0b3JjaC5yYW5kbigxLCAzLCAyMjQsIDIyNClcbiAgIG1scF9lbmNvZGVyID0gaXZ5LnRyYW5zcGlsZShtbHBfZW5jb2RlciwgdG89XCJ0ZW5zb3JmbG93XCIsIGFyZ3M9KG5vaXNlLCkpXG5cbiAgICMgQnVpbGQgYSBjbGFzc2lmaWVyIHVzaW5nIHRoZSB0cmFuc3BpbGVkIGVuY29kZXJcbiAgIGNsYXNzIENsYXNzaWZpZXIodGYua2VyYXMuTW9kZWwpOlxuICAgICAgIGRlZiBfX2luaXRfXyhzZWxmKTpcbiAgICAgICAgICAgc3VwZXIoQ2xhc3NpZmllciwgc2VsZikuX19pbml0X18oKVxuICAgICAgICAgICBzZWxmLmVuY29kZXIgPSBtbHBfZW5jb2RlclxuICAgICAgICAgICBzZWxmLm91dHB1dF9kZW5zZSA9IHRmLmtlcmFzLmxheWVycy5EZW5zZSh1bml0cz0xMDAwLCBhY3RpdmF0aW9uPVwic29mdG1heFwiKVxuXG4gICAgICAgZGVmIGNhbGwoc2VsZiwgeCk6XG4gICAgICAgICAgIHggPSBzZWxmLmVuY29kZXIoeClcbiAgICAgICAgICAgcmV0dXJuIHNlbGYub3V0cHV0X2RlbnNlKHgpXG5cbiAgICMgVHJhbnNmb3JtIHRoZSBjbGFzc2lmaWVyIGFuZCB1c2UgaXQgYXMgYSBzdGFuZGFyZCBrZXJhcy5Nb2RlbFxuICAgeCA9IHRmLnJhbmRvbS5ub3JtYWwoc2hhcGU9KDEsIDMsIDIyNCwgMjI0KSlcbiAgIG1vZGVsID0gQ2xhc3NpZmllcigpXG4gICByZXQgPSBtb2RlbCh4KVxuXG5cblxuLi4gY29kZTo6IHB5dGhvblxuXG4gICBpbXBvcnQgaXZ5XG4gICBpbXBvcnQgamF4XG4gICBpbXBvcnQgdGVuc29yZmxvdyBhcyB0ZlxuXG4gICAjIEdldCBhIHByZXRyYWluZWQgaGFpa3UgbW9kZWxcbiAgICMgaHR0cHM6Ly91bmlmeS5haS9kZW1vcy9zY3JpcHRzL2RlZXBtaW5kX3BlcmNlaXZlcl9pby5weVxuICAgZnJvbSBkZWVwbWluZF9wZXJjZWl2ZXJfaW8gaW1wb3J0IGtleSwgcGVyY2VpdmVyX2JhY2tib25lXG5cbiAgICMgVHJhbnNwaWxlIGl0IGludG8gYSB0Zi5rZXJhcy5Nb2RlbCB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHBhcmFtZXRlcnNcbiAgIGR1bW15X2lucHV0ID0gamF4LnJhbmRvbS51bmlmb3JtKGtleSwgc2hhcGU9KDEsIDMsIDIyNCwgMjI0KSlcbiAgIHBhcmFtcyA9IHBlcmNlaXZlcl9iYWNrYm9uZS5pbml0KHJuZz1rZXksIGltYWdlcz1kdW1teV9pbnB1dClcbiAgIGJhY2tib25lID0gaXZ5LnRyYW5zcGlsZShcbiAgICAgICBwZXJjZWl2ZXJfYmFja2JvbmUsIHRvPVwidGVuc29yZmxvd1wiLCBwYXJhbXNfdj1wYXJhbXMsIGFyZ3M9KGR1bW15X2lucHV0LClcbiAgIClcblxuICAgIyBCdWlsZCBhIGNsYXNzaWZpZXIgdXNpbmcgdGhlIHRyYW5zcGlsZWQgYmFja2JvbmVcbiAgIGNsYXNzIFBlcmNlaXZlcklPQ2xhc3NpZmllcih0Zi5rZXJhcy5Nb2RlbCk6XG4gICAgICAgZGVmIF9faW5pdF9fKHNlbGYsIG51bV9jbGFzc2VzPTIwKTpcbiAgICAgICAgICAgc3VwZXIoUGVyY2VpdmVySU9DbGFzc2lmaWVyLCBzZWxmKS5fX2luaXRfXygpXG4gICAgICAgICAgIHNlbGYuYmFja2JvbmUgPSBiYWNrYm9uZVxuICAgICAgICAgICBzZWxmLm1heF9wb29sID0gdGYua2VyYXMubGF5ZXJzLk1heFBvb2xpbmcxRChwb29sX3NpemU9NTEyKVxuICAgICAgICAgICBzZWxmLmZsYXR0ZW4gPSB0Zi5rZXJhcy5sYXllcnMuRmxhdHRlbigpXG4gICAgICAgICAgIHNlbGYuZmMgPSB0Zi5rZXJhcy5sYXllcnMuRGVuc2UobnVtX2NsYXNzZXMpXG5cbiAgICAgICBkZWYgY2FsbChzZWxmLCB4KTpcbiAgICAgICAgICAgeCA9IHNlbGYuYmFja2JvbmUoeClcbiAgICAgICAgICAgeCA9IHNlbGYuZmxhdHRlbihzZWxmLm1heF9wb29sKHgpKVxuICAgICAgICAgICByZXR1cm4gc2VsZi5mYyh4KVxuXG4gICAjIEluaXRpYWxpemUgYSB0cmFpbmFibGUsIGN1c3RvbWl6YWJsZSwgdGYua2VyYXMuTW9kZWxcbiAgIHggPSB0Zi5yYW5kb20ubm9ybWFsKHNoYXBlPSgxLCAzLCAyMjQsIDIyNCkpXG4gICBjbGFzc2lmaWVyID0gUGVyY2VpdmVySU9DbGFzc2lmaWVyKClcbiAgIHJldCA9IGNsYXNzaWZpZXIoeClcblxuXG5cblxuLi4gY29kZTo6IHB5dGhvblxuXG4gICBpbXBvcnQgaXZ5XG4gICBpbXBvcnQga29ybmlhXG4gICBpbXBvcnQgcmVxdWVzdHNcbiAgIGltcG9ydCBudW1weSBhcyBucFxuICAgaW1wb3J0IHRlbnNvcmZsb3cgYXMgdGZcbiAgIGZyb20gUElMIGltcG9ydCBJbWFnZVxuXG4gICAjIHRyYW5zcGlsZSBrb3JuaWEgZnJvbSB0b3JjaCB0byB0ZW5zb3JmbG93XG4gICB0Zl9rb3JuaWEgPSBpdnkudHJhbnNwaWxlKGtvcm5pYSwgc291cmNlPVwidG9yY2hcIiwgdG89XCJ0ZW5zb3JmbG93XCIpXG5cbiAgICMgZ2V0IGFuIGltYWdlXG4gICB1cmwgPSBcImh0dHA6Ly9pbWFnZXMuY29jb2RhdGFzZXQub3JnL3RyYWluMjAxNy8wMDAwMDAwMDAwMzQuanBnXCJcbiAgIHJhd19pbWcgPSBJbWFnZS5vcGVuKHJlcXVlc3RzLmdldCh1cmwsIHN0cmVhbT1UcnVlKS5yYXcpXG5cbiAgICMgY29udmVydCBpdCB0byB0aGUgZm9ybWF0IGV4cGVjdGVkIGJ5IGtvcm5pYVxuICAgaW1nID0gbnAuYXJyYXkocmF3X2ltZylcbiAgIGltZyA9IHRmLnRyYW5zcG9zZSh0Zi5jb25zdGFudChpbWcpLCAoMiwgMCwgMSkpXG4gICBpbWcgPSB0Zi5leHBhbmRfZGltcyhpbWcsIDApIC8gMjU1XG5cbiAgICMgYW5kIHVzZSB0aGUgdHJhbnNwaWxlZCB2ZXJzaW9uIG9mIGFueSBmdW5jdGlvbiBmcm9tIHRoZSBsaWJyYXJ5IVxuICAgb3V0ID0gdGZfa29ybmlhLmVuaGFuY2Uuc2hhcnBuZXNzKGltZywgNSlcblxuXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuICAgaW1wb3J0IHJheFxuICAgaW1wb3J0IHRlbnNvcmZsb3cgYXMgdGZcblxuICAgIyB0cmFuc3BpbGUgcmF4IGZyb20gamF4IHRvIHRlbnNvcmZsb3dcbiAgIHRmX3JheCA9IGl2eS50cmFuc3BpbGUocmF4LCBzb3VyY2U9XCJqYXhcIiwgdG89XCJ0ZW5zb3JmbG93XCIpXG5cbiAgICMgZ2V0IHNvbWUgYXJyYXlzXG4gICBzY29yZXMgPSB0Zi5jb25zdGFudChbMi4yLCAxLjMsIDUuNF0pXG4gICBsYWJlbHMgPSB0Zi5jb25zdGFudChbMS4wLCAwLjAsIDAuMF0pXG5cbiAgICMgYW5kIHVzZSB0aGUgdHJhbnNwaWxlZCB2ZXJzaW9uIG9mIGFueSBmdW5jdGlvbiBmcm9tIHRoZSBsaWJyYXJ5IVxuICAgb3V0ID0gdGZfcmF4LnBvbHkxX3NvZnRtYXhfbG9zcyhzY29yZXMsIGxhYmVscylcblxuXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuICAgaW1wb3J0IG1hZG1vbVxuICAgaW1wb3J0IHRlbnNvcmZsb3cgYXMgdGZcblxuICAgIyB0cmFuc3BpbGUgbWFkbW9tIGZyb20gbnVtcHkgdG8gdGVuc29yZmxvd1xuICAgdGZfbWFkbW9tID0gaXZ5LnRyYW5zcGlsZShtYWRtb20sIHNvdXJjZT1cIm51bXB5XCIsIHRvPVwidGVuc29yZmxvd1wiKVxuXG4gICAjIGdldCBzb21lIGFycmF5c1xuICAgZnJlcXMgPSB0Zi5yYW5nZSgyMCkgKiAxMFxuXG4gICAjIGFuZCB1c2UgdGhlIHRyYW5zcGlsZWQgdmVyc2lvbiBvZiBhbnkgZnVuY3Rpb24gZnJvbSB0aGUgbGlicmFyeSFcbiAgIG91dCA9IHRmX21hZG1vbS5hdWRpby5maWx0ZXJzLmh6Mm1pZGkoZnJlcXMpXG5cblxuXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuICAgaW1wb3J0IHRvcmNoXG4gICBpbXBvcnQgdGVuc29yZmxvdyBhcyB0ZlxuXG4gICBkZWYgbG9zcyhwcmVkaWN0aW9ucywgdGFyZ2V0cyk6XG4gICAgICAgcmV0dXJuIHRvcmNoLnNxcnQodG9yY2gubWVhbigocHJlZGljdGlvbnMgLSB0YXJnZXRzKSAqKiAyKSlcblxuICAgIyB0cmFuc3BpbGUgYW55IGZ1bmN0aW9uIGZyb20gdG9yY2ggdG8gdGVuc29yZmxvd1xuICAgdGZfbG9zcyA9IGl2eS50cmFuc3BpbGUobG9zcywgc291cmNlPVwidG9yY2hcIiwgdG89XCJ0ZW5zb3JmbG93XCIpXG5cbiAgICMgZ2V0IHNvbWUgYXJyYXlzXG4gICBwID0gdGYuY29uc3RhbnQoWzMuMCwgMi4wLCAxLjBdKVxuICAgdCA9IHRmLmNvbnN0YW50KFswLjAsIDAuMCwgMC4wXSlcblxuICAgIyBhbmQgdXNlIHRoZSB0cmFuc3BpbGVkIHZlcnNpb24hXG4gICBvdXQgPSB0Zl9sb3NzKHAsIHQpXG5cblxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIGltcG9ydCBpdnlcbiAgIGltcG9ydCBqYXgubnVtcHkgYXMgam5wXG4gICBpbXBvcnQgdGVuc29yZmxvdyBhcyB0ZlxuXG4gICBkZWYgbG9zcyhwcmVkaWN0aW9ucywgdGFyZ2V0cyk6XG4gICAgICAgcmV0dXJuIGpucC5zcXJ0KGpucC5tZWFuKChwcmVkaWN0aW9ucyAtIHRhcmdldHMpICoqIDIpKVxuXG4gICAjIHRyYW5zcGlsZSBhbnkgZnVuY3Rpb24gZnJvbSBqYXggdG8gdGVuc29yZmxvd1xuICAgdGZfbG9zcyA9IGl2eS50cmFuc3BpbGUobG9zcywgc291cmNlPVwiamF4XCIsIHRvPVwidGVuc29yZmxvd1wiKVxuXG4gICAjIGdldCBzb21lIGFycmF5c1xuICAgcCA9IHRmLmNvbnN0YW50KFszLjAsIDIuMCwgMS4wXSlcbiAgIHQgPSB0Zi5jb25zdGFudChbMC4wLCAwLjAsIDAuMF0pXG5cbiAgICMgYW5kIHVzZSB0aGUgdHJhbnNwaWxlZCB2ZXJzaW9uIVxuICAgb3V0ID0gdGZfbG9zcyhwLCB0KVxuXG5cblxuLi4gY29kZTo6IHB5dGhvblxuXG4gICBpbXBvcnQgaXZ5XG4gICBpbXBvcnQgbnVtcHkgYXMgbnBcbiAgIGltcG9ydCB0ZW5zb3JmbG93IGFzIHRmXG5cbiAgIGRlZiBsb3NzKHByZWRpY3Rpb25zLCB0YXJnZXRzKTpcbiAgICAgICByZXR1cm4gbnAuc3FydChucC5tZWFuKChwcmVkaWN0aW9ucyAtIHRhcmdldHMpICoqIDIpKVxuXG4gICAjIHRyYW5zcGlsZSBhbnkgZnVuY3Rpb24gZnJvbSBudW1weSB0byB0ZW5zb3JmbG93XG4gICB0Zl9sb3NzID0gaXZ5LnRyYW5zcGlsZShsb3NzLCBzb3VyY2U9XCJudW1weVwiLCB0bz1cInRlbnNvcmZsb3dcIilcblxuICAgIyBnZXQgc29tZSBhcnJheXNcbiAgIHAgPSB0Zi5jb25zdGFudChbMy4wLCAyLjAsIDEuMF0pXG4gICB0ID0gdGYuY29uc3RhbnQoWzAuMCwgMC4wLCAwLjBdKVxuXG4gICAjIGFuZCB1c2UgdGhlIHRyYW5zcGlsZWQgdmVyc2lvbiFcbiAgIG91dCA9IHRmX2xvc3MocCwgdClcblxuXG5cblxuICAgPGJsb2NrcXVvdGU+WW91IGNhbiB1c2UgSXZ5IHRvIGdldCBKQVggY29kZSBmcm9tOlxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIGltcG9ydCBpdnlcbiAgIGltcG9ydCB0aW1tXG4gICBpbXBvcnQgdG9yY2hcbiAgIGltcG9ydCBqYXhcbiAgIGltcG9ydCBoYWlrdSBhcyBoa1xuXG4gICAjIEdldCBhIHByZXRyYWluZWQgcHl0b3JjaCBtb2RlbFxuICAgbWxwX2VuY29kZXIgPSB0aW1tLmNyZWF0ZV9tb2RlbChcIm1peGVyX2IxNl8yMjRcIiwgcHJldHJhaW5lZD1UcnVlLCBudW1fY2xhc3Nlcz0wKVxuXG4gICAjIFRyYW5zcGlsZSBpdCBpbnRvIGEgaGsuTW9kdWxlIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcGFyYW1ldGVyc1xuICAgbm9pc2UgPSB0b3JjaC5yYW5kbigxLCAzLCAyMjQsIDIyNClcbiAgIG1scF9lbmNvZGVyID0gaXZ5LnRyYW5zcGlsZShtbHBfZW5jb2RlciwgdG89XCJqYXhcIiwgYXJncz0obm9pc2UsKSlcblxuICAgIyBCdWlsZCBhIGNsYXNzaWZpZXIgdXNpbmcgdGhlIHRyYW5zcGlsZWQgZW5jb2RlclxuICAgY2xhc3MgQ2xhc3NpZmllcihoay5Nb2R1bGUpOlxuICAgICAgIGRlZiBfX2luaXRfXyhzZWxmLCBudW1fY2xhc3Nlcz0xMDAwKTpcbiAgICAgICAgICAgc3VwZXIoQ2xhc3NpZmllciwgc2VsZikuX19pbml0X18oKVxuICAgICAgICAgICBzZWxmLmVuY29kZXIgPSBtbHBfZW5jb2RlcigpXG4gICAgICAgICAgIHNlbGYuZmMgPSBoay5MaW5lYXIob3V0cHV0X3NpemU9bnVtX2NsYXNzZXMsIHdpdGhfYmlhcz1UcnVlKVxuXG4gICAgICAgZGVmIF9fY2FsbF9fKHNlbGYsIHgpOlxuICAgICAgICAgICB4ID0gc2VsZi5lbmNvZGVyKHgpXG4gICAgICAgICAgIHggPSBzZWxmLmZjKHgpXG4gICAgICAgICAgIHJldHVybiB4XG5cbiAgIGRlZiBfZm9yd2FyZF9jbGFzc2lmaWVyKHgpOlxuICAgICAgIG1vZHVsZSA9IENsYXNzaWZpZXIoKVxuICAgICAgIHJldHVybiBtb2R1bGUoeClcblxuICAgIyBUcmFuc2Zvcm0gdGhlIGNsYXNzaWZpZXIgYW5kIHVzZSBpdCBhcyBhIHN0YW5kYXJkIGhrLk1vZHVsZVxuICAgcm5nX2tleSA9IGpheC5yYW5kb20uUFJOR0tleSg0MilcbiAgIHggPSBqYXgucmFuZG9tLnVuaWZvcm0oa2V5PXJuZ19rZXksIHNoYXBlPSgxLCAzLCAyMjQsIDIyNCksIGR0eXBlPWpheC5udW1weS5mbG9hdDMyKVxuICAgZm9yd2FyZF9jbGFzc2lmaWVyID0gaGsudHJhbnNmb3JtKF9mb3J3YXJkX2NsYXNzaWZpZXIpXG4gICBwYXJhbXMgPSBmb3J3YXJkX2NsYXNzaWZpZXIuaW5pdChybmc9cm5nX2tleSwgeD14KVxuXG4gICByZXQgPSBmb3J3YXJkX2NsYXNzaWZpZXIuYXBwbHkocGFyYW1zLCBOb25lLCB4KVxuXG5cblxuLi4gY29kZTo6IHB5dGhvblxuXG4gICBpbXBvcnQgaXZ5XG4gICBpbXBvcnQgamF4XG4gICBpbXBvcnQgaGFpa3UgYXMgaGtcbiAgIGltcG9ydCB0ZW5zb3JmbG93IGFzIHRmXG5cbiAgICMgR2V0IGEgcHJldHJhaW5lZCBrZXJhcyBtb2RlbFxuICAgZWZmX2VuY29kZXIgPSB0Zi5rZXJhcy5hcHBsaWNhdGlvbnMuZWZmaWNpZW50bmV0X3YyLkVmZmljaWVudE5ldFYyQjAoXG4gICAgICAgaW5jbHVkZV90b3A9RmFsc2UsIHdlaWdodHM9XCJpbWFnZW5ldFwiLCBpbnB1dF9zaGFwZT0oMjI0LCAyMjQsIDMpXG4gICApXG5cbiAgICMgVHJhbnNwaWxlIGl0IGludG8gYSBoay5Nb2R1bGUgd2l0aCB0aGUgY29ycmVzcG9uZGluZyBwYXJhbWV0ZXJzXG4gICBub2lzZSA9IHRmLnJhbmRvbS5ub3JtYWwoc2hhcGU9KDEsIDIyNCwgMjI0LCAzKSlcbiAgIGhrX2VmZl9lbmNvZGVyID0gaXZ5LnRyYW5zcGlsZShlZmZfZW5jb2RlciwgdG89XCJqYXhcIiwgYXJncz0obm9pc2UsKSlcblxuICAgIyBCdWlsZCBhIGNsYXNzaWZpZXIgdXNpbmcgdGhlIHRyYW5zcGlsZWQgZW5jb2RlclxuICAgY2xhc3MgQ2xhc3NpZmllcihoay5Nb2R1bGUpOlxuICAgICAgIGRlZiBfX2luaXRfXyhzZWxmLCBudW1fY2xhc3Nlcz0xMDAwKTpcbiAgICAgICAgICAgc3VwZXIoQ2xhc3NpZmllciwgc2VsZikuX19pbml0X18oKVxuICAgICAgICAgICBzZWxmLmVuY29kZXIgPSBoa19lZmZfZW5jb2RlcigpXG4gICAgICAgICAgIHNlbGYuZmMgPSBoay5MaW5lYXIob3V0cHV0X3NpemU9bnVtX2NsYXNzZXMsIHdpdGhfYmlhcz1UcnVlKVxuXG4gICAgICAgZGVmIF9fY2FsbF9fKHNlbGYsIHgpOlxuICAgICAgICAgICB4ID0gc2VsZi5lbmNvZGVyKHgpXG4gICAgICAgICAgIHggPSBzZWxmLmZjKHgpXG4gICAgICAgICAgIHJldHVybiB4XG5cbiAgIGRlZiBfZm9yd2FyZF9jbGFzc2lmaWVyKHgpOlxuICAgICAgIG1vZHVsZSA9IENsYXNzaWZpZXIoKVxuICAgICAgIHJldHVybiBtb2R1bGUoeClcblxuICAgIyBUcmFuc2Zvcm0gdGhlIGNsYXNzaWZpZXIgYW5kIHVzZSBpdCBhcyBhIHN0YW5kYXJkIGhrLk1vZHVsZVxuICAgcm5nX2tleSA9IGpheC5yYW5kb20uUFJOR0tleSg0MilcbiAgIGR1bW15X3ggPSBqYXgucmFuZG9tLnVuaWZvcm0oa2V5PXJuZ19rZXksIHNoYXBlPSgxLCAyMjQsIDIyNCwgMykpXG4gICBmb3J3YXJkX2NsYXNzaWZpZXIgPSBoay50cmFuc2Zvcm0oX2ZvcndhcmRfY2xhc3NpZmllcilcbiAgIHBhcmFtcyA9IGZvcndhcmRfY2xhc3NpZmllci5pbml0KHJuZz1ybmdfa2V5LCB4PWR1bW15X3gpXG5cbiAgIHJldCA9IGZvcndhcmRfY2xhc3NpZmllci5hcHBseShwYXJhbXMsIE5vbmUsIGR1bW15X3gpXG5cblxuXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuICAgaW1wb3J0IGtvcm5pYVxuICAgaW1wb3J0IHJlcXVlc3RzXG4gICBpbXBvcnQgamF4Lm51bXB5IGFzIGpucFxuICAgZnJvbSBQSUwgaW1wb3J0IEltYWdlXG5cbiAgICMgdHJhbnNwaWxlIGtvcm5pYSBmcm9tIHRvcmNoIHRvIGpheFxuICAgamF4X2tvcm5pYSA9IGl2eS50cmFuc3BpbGUoa29ybmlhLCBzb3VyY2U9XCJ0b3JjaFwiLCB0bz1cImpheFwiKVxuXG4gICAjIGdldCBhbiBpbWFnZVxuICAgdXJsID0gXCJodHRwOi8vaW1hZ2VzLmNvY29kYXRhc2V0Lm9yZy90cmFpbjIwMTcvMDAwMDAwMDAwMDM0LmpwZ1wiXG4gICByYXdfaW1nID0gSW1hZ2Uub3BlbihyZXF1ZXN0cy5nZXQodXJsLCBzdHJlYW09VHJ1ZSkucmF3KVxuXG4gICAjIGNvbnZlcnQgaXQgdG8gdGhlIGZvcm1hdCBleHBlY3RlZCBieSBrb3JuaWFcbiAgIGltZyA9IGpucC50cmFuc3Bvc2Uoam5wLmFycmF5KHJhd19pbWcpLCAoMiwgMCwgMSkpXG4gICBpbWcgPSBqbnAuZXhwYW5kX2RpbXMoaW1nLCAwKSAvIDI1NVxuXG4gICAjIGFuZCB1c2UgdGhlIHRyYW5zcGlsZWQgdmVyc2lvbiBvZiBhbnkgZnVuY3Rpb24gZnJvbSB0aGUgbGlicmFyeSFcbiAgIG91dCA9IGpheF9rb3JuaWEuZW5oYW5jZS5zaGFycG5lc3MoaW1nLCA1KVxuXG5cblxuLi4gY29kZTo6IHB5dGhvblxuXG4gICBpbXBvcnQgaXZ5XG4gICBpbXBvcnQgamF4XG4gICBpbXBvcnQgb3NcbiAgIG9zLmVudmlyb25bXCJTTV9GUkFNRVdPUktcIl0gPSBcInRmLmtlcmFzXCJcbiAgIGltcG9ydCBzZWdtZW50YXRpb25fbW9kZWxzIGFzIHNtXG5cbiAgICMgdHJhbnNwaWxlIHNtIGZyb20gdGVuc29yZmxvdyB0byBqYXhcbiAgIGpheF9zbSA9IGl2eS50cmFuc3BpbGUoc20sIHNvdXJjZT1cInRlbnNvcmZsb3dcIiwgdG89XCJqYXhcIilcblxuICAgIyBnZXQgc29tZSBpbWFnZS1saWtlIGFycmF5c1xuICAga2V5ID0gamF4LnJhbmRvbS5QUk5HS2V5KDIzKVxuICAga2V5MSwga2V5MiA9IGpheC5yYW5kb20uc3BsaXQoa2V5KVxuICAgb3V0cHV0ID0gamF4LnJhbmRvbS51bmlmb3JtKGtleTEsICgxLCAzLCA1MTIsIDUxMikpXG4gICB0YXJnZXQgPSBqYXgucmFuZG9tLnVuaWZvcm0oa2V5MiwgKDEsIDMsIDUxMiwgNTEyKSlcblxuICAgIyBhbmQgdXNlIHRoZSB0cmFuc3BpbGVkIHZlcnNpb24gb2YgYW55IGZ1bmN0aW9uIGZyb20gdGhlIGxpYnJhcnkhXG4gICBvdXQgPSBqYXhfc20ubWV0cmljcy5pb3Vfc2NvcmUob3V0cHV0LCB0YXJnZXQpXG5cblxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIGltcG9ydCBpdnlcbiAgIGltcG9ydCBtYWRtb21cbiAgIGltcG9ydCBqYXgubnVtcHkgYXMgam5wXG5cbiAgICMgdHJhbnNwaWxlIG1hZG1vbiBmcm9tIG51bXB5IHRvIGpheFxuICAgamF4X21hZG1vbSA9IGl2eS50cmFuc3BpbGUobWFkbW9tLCBzb3VyY2U9XCJudW1weVwiLCB0bz1cImpheFwiKVxuXG4gICAjIGdldCBzb21lIGFycmF5c1xuICAgZnJlcXMgPSBqbnAuYXJhbmdlKDIwKSAqIDEwXG5cbiAgICMgYW5kIHVzZSB0aGUgdHJhbnNwaWxlZCB2ZXJzaW9uIG9mIGFueSBmdW5jdGlvbiBmcm9tIHRoZSBsaWJyYXJ5IVxuICAgb3V0ID0gamF4X21hZG1vbS5hdWRpby5maWx0ZXJzLmh6Mm1pZGkoZnJlcXMpXG5cblxuXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuICAgaW1wb3J0IHRvcmNoXG4gICBpbXBvcnQgamF4Lm51bXB5IGFzIGpucFxuXG4gICBkZWYgbG9zcyhwcmVkaWN0aW9ucywgdGFyZ2V0cyk6XG4gICAgICAgcmV0dXJuIHRvcmNoLnNxcnQodG9yY2gubWVhbigocHJlZGljdGlvbnMgLSB0YXJnZXRzKSAqKiAyKSlcblxuICAgIyB0cmFuc3BpbGUgYW55IGZ1bmN0aW9uIGZyb20gdG9yY2ggdG8gamF4XG4gICBqYXhfbG9zcyA9IGl2eS50cmFuc3BpbGUobG9zcywgc291cmNlPVwidG9yY2hcIiwgdG89XCJqYXhcIilcblxuICAgIyBnZXQgc29tZSBhcnJheXNcbiAgIHAgPSBqbnAuYXJyYXkoWzMuMCwgMi4wLCAxLjBdKVxuICAgdCA9IGpucC5hcnJheShbMC4wLCAwLjAsIDAuMF0pXG5cbiAgICMgYW5kIHVzZSB0aGUgdHJhbnNwaWxlZCB2ZXJzaW9uIVxuICAgb3V0ID0gamF4X2xvc3MocCwgdClcblxuXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuICAgaW1wb3J0IHRlbnNvcmZsb3cgYXMgdGZcbiAgIGltcG9ydCBqYXgubnVtcHkgYXMgam5wXG5cbiAgIGRlZiBsb3NzKHByZWRpY3Rpb25zLCB0YXJnZXRzKTpcbiAgICAgICByZXR1cm4gdGYuc3FydCh0Zi5yZWR1Y2VfbWVhbih0Zi5zcXVhcmUocHJlZGljdGlvbnMgLSB0YXJnZXRzKSkpXG5cbiAgICMgdHJhbnNwaWxlIGFueSBmdW5jdGlvbiBmcm9tIHRmIHRvIGpheFxuICAgamF4X2xvc3MgPSBpdnkudHJhbnNwaWxlKGxvc3MsIHNvdXJjZT1cInRlbnNvcmZsb3dcIiwgdG89XCJqYXhcIilcblxuICAgIyBnZXQgc29tZSBhcnJheXNcbiAgIHAgPSBqbnAuYXJyYXkoWzMuMCwgMi4wLCAxLjBdKVxuICAgdCA9IGpucC5hcnJheShbMC4wLCAwLjAsIDAuMF0pXG5cbiAgICMgYW5kIHVzZSB0aGUgdHJhbnNwaWxlZCB2ZXJzaW9uIVxuICAgb3V0ID0gamF4X2xvc3MocCwgdClcblxuXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuICAgaW1wb3J0IG51bXB5IGFzIG5wXG4gICBpbXBvcnQgamF4XG4gICBpbXBvcnQgamF4Lm51bXB5IGFzIGpucFxuICAgamF4LmNvbmZpZy51cGRhdGUoJ2pheF9lbmFibGVfeDY0JywgVHJ1ZSlcblxuICAgZGVmIGxvc3MocHJlZGljdGlvbnMsIHRhcmdldHMpOlxuICAgICAgIHJldHVybiBucC5zcXJ0KG5wLm1lYW4oKHByZWRpY3Rpb25zIC0gdGFyZ2V0cykgKiogMikpXG5cbiAgICMgdHJhbnNwaWxlIGFueSBmdW5jdGlvbiBmcm9tIG51bXB5IHRvIGpheFxuICAgamF4X2xvc3MgPSBpdnkudHJhbnNwaWxlKGxvc3MsIHNvdXJjZT1cIm51bXB5XCIsIHRvPVwiamF4XCIpXG5cbiAgICMgZ2V0IHNvbWUgYXJyYXlzXG4gICBwID0gam5wLmFycmF5KFszLjAsIDIuMCwgMS4wXSlcbiAgIHQgPSBqbnAuYXJyYXkoWzAuMCwgMC4wLCAwLjBdKVxuXG4gICAjIGFuZCB1c2UgdGhlIHRyYW5zcGlsZWQgdmVyc2lvbiFcbiAgIG91dCA9IGpheF9sb3NzKHAsIHQpXG5cblxuXG5cbiAgIDxibG9ja3F1b3RlPllvdSBjYW4gdXNlIEl2eSB0byBnZXQgTnVtUHkgY29kZSBmcm9tOlxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIGltcG9ydCBpdnlcbiAgIGltcG9ydCBrb3JuaWFcbiAgIGltcG9ydCByZXF1ZXN0c1xuICAgaW1wb3J0IG51bXB5IGFzIG5wXG4gICBmcm9tIFBJTCBpbXBvcnQgSW1hZ2VcblxuICAgIyB0cmFuc3BpbGUga29ybmlhIGZyb20gdG9yY2ggdG8gbnBcbiAgIG5wX2tvcm5pYSA9IGl2eS50cmFuc3BpbGUoa29ybmlhLCBzb3VyY2U9XCJ0b3JjaFwiLCB0bz1cIm51bXB5XCIpXG5cbiAgICMgZ2V0IGFuIGltYWdlXG4gICB1cmwgPSBcImh0dHA6Ly9pbWFnZXMuY29jb2RhdGFzZXQub3JnL3RyYWluMjAxNy8wMDAwMDAwMDAwMzQuanBnXCJcbiAgIHJhd19pbWcgPSBJbWFnZS5vcGVuKHJlcXVlc3RzLmdldCh1cmwsIHN0cmVhbT1UcnVlKS5yYXcpXG5cbiAgICMgY29udmVydCBpdCB0byB0aGUgZm9ybWF0IGV4cGVjdGVkIGJ5IGtvcm5pYVxuICAgaW1nID0gbnAudHJhbnNwb3NlKG5wLmFycmF5KHJhd19pbWcpLCAoMiwgMCwgMSkpXG4gICBpbWcgPSBucC5leHBhbmRfZGltcyhpbWcsIDApIC8gMjU1XG5cbiAgICMgYW5kIHVzZSB0aGUgdHJhbnNwaWxlZCB2ZXJzaW9uIG9mIGFueSBmdW5jdGlvbiBmcm9tIHRoZSBsaWJyYXJ5IVxuICAgb3V0ID0gbnBfa29ybmlhLmVuaGFuY2Uuc2hhcnBuZXNzKGltZywgNSlcblxuXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuICAgaW1wb3J0IG51bXB5IGFzIG5wXG4gICBpbXBvcnQgb3NcbiAgIG9zLmVudmlyb25bXCJTTV9GUkFNRVdPUktcIl0gPSBcInRmLmtlcmFzXCJcbiAgIGltcG9ydCBzZWdtZW50YXRpb25fbW9kZWxzIGFzIHNtXG5cbiAgICMgdHJhbnNwaWxlIHNtIGZyb20gdGVuc29yZmxvdyB0byBudW1weVxuICAgbnBfc20gPSBpdnkudHJhbnNwaWxlKHNtLCBzb3VyY2U9XCJ0ZW5zb3JmbG93XCIsIHRvPVwibnVtcHlcIilcblxuICAgIyBnZXQgc29tZSBpbWFnZS1saWtlIGFycmF5c1xuICAgb3V0cHV0ID0gbnAucmFuZG9tLnJhbmQoMSwgMywgNTEyLCA1MTIpLmFzdHlwZShkdHlwZT1ucC5mbG9hdDMyKVxuICAgdGFyZ2V0ID0gbnAucmFuZG9tLnJhbmQoMSwgMywgNTEyLCA1MTIpLmFzdHlwZShkdHlwZT1ucC5mbG9hdDMyKVxuXG4gICAjIGFuZCB1c2UgdGhlIHRyYW5zcGlsZWQgdmVyc2lvbiBvZiBhbnkgZnVuY3Rpb24gZnJvbSB0aGUgbGlicmFyeSFcbiAgIG91dCA9IG5wX3NtLm1ldHJpY3MuaW91X3Njb3JlKG91dHB1dCwgdGFyZ2V0KVxuXG5cblxuLi4gY29kZTo6IHB5dGhvblxuXG4gICBpbXBvcnQgaXZ5XG4gICBpbXBvcnQgcmF4XG4gICBpbXBvcnQgbnVtcHkgYXMgbnBcblxuICAgIyB0cmFuc3BpbGUgcmF4IGZyb20gamF4IHRvIG51bXB5XG4gICBucF9yYXggPSBpdnkudHJhbnNwaWxlKHJheCwgc291cmNlPVwiamF4XCIsIHRvPVwibnVtcHlcIilcblxuICAgIyBnZXQgc29tZSBhcnJheXNcbiAgIHNjb3JlcyA9IG5wLmFycmF5KFsyLjIsIDEuMywgNS40XSlcbiAgIGxhYmVscyA9IG5wLmFycmF5KFsxLjAsIDAuMCwgMC4wXSlcblxuICAgIyBhbmQgdXNlIHRoZSB0cmFuc3BpbGVkIHZlcnNpb24gb2YgYW55IGZ1bmN0aW9uIGZyb20gdGhlIGxpYnJhcnkhXG4gICBvdXQgPSBucF9yYXgucG9seTFfc29mdG1heF9sb3NzKHNjb3JlcywgbGFiZWxzKVxuXG5cblxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIGltcG9ydCBpdnlcbiAgIGltcG9ydCB0b3JjaFxuICAgaW1wb3J0IG51bXB5IGFzIG5wXG5cbiAgIGRlZiBsb3NzKHByZWRpY3Rpb25zLCB0YXJnZXRzKTpcbiAgICAgICByZXR1cm4gdG9yY2guc3FydCh0b3JjaC5tZWFuKChwcmVkaWN0aW9ucyAtIHRhcmdldHMpICoqIDIpKVxuXG4gICAjIHRyYW5zcGlsZSBhbnkgZnVuY3Rpb24gZnJvbSB0b3JjaCB0byBudW1weVxuICAgbnBfbG9zcyA9IGl2eS50cmFuc3BpbGUobG9zcywgc291cmNlPVwidG9yY2hcIiwgdG89XCJudW1weVwiKVxuXG4gICAjIGdldCBzb21lIGFycmF5c1xuICAgcCA9IG5wLmFycmF5KFszLjAsIDIuMCwgMS4wXSlcbiAgIHQgPSBucC5hcnJheShbMC4wLCAwLjAsIDAuMF0pXG5cbiAgICMgYW5kIHVzZSB0aGUgdHJhbnNwaWxlZCB2ZXJzaW9uIVxuICAgb3V0ID0gbnBfbG9zcyhwLCB0KVxuXG5cblxuLi4gY29kZTo6IHB5dGhvblxuXG4gICBpbXBvcnQgaXZ5XG4gICBpbXBvcnQgdGVuc29yZmxvdyBhcyB0ZlxuICAgaW1wb3J0IG51bXB5IGFzIG5wXG5cbiAgIGRlZiBsb3NzKHByZWRpY3Rpb25zLCB0YXJnZXRzKTpcbiAgICAgICByZXR1cm4gdGYuc3FydCh0Zi5yZWR1Y2VfbWVhbih0Zi5zcXVhcmUocHJlZGljdGlvbnMgLSB0YXJnZXRzKSkpXG5cbiAgICMgdHJhbnNwaWxlIGFueSBmdW5jdGlvbiBmcm9tIHRmIHRvIG51bXB5XG4gICBucF9sb3NzID0gaXZ5LnRyYW5zcGlsZShsb3NzLCBzb3VyY2U9XCJ0ZW5zb3JmbG93XCIsIHRvPVwibnVtcHlcIilcblxuICAgIyBnZXQgc29tZSBhcnJheXNcbiAgIHAgPSBucC5hcnJheShbMy4wLCAyLjAsIDEuMF0pXG4gICB0ID0gbnAuYXJyYXkoWzAuMCwgMC4wLCAwLjBdKVxuXG4gICAjIGFuZCB1c2UgdGhlIHRyYW5zcGlsZWQgdmVyc2lvbiFcbiAgIG91dCA9IG5wX2xvc3MocCwgdClcblxuXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuICAgaW1wb3J0IGpheC5udW1weSBhcyBqbnBcbiAgIGltcG9ydCBudW1weSBhcyBucFxuXG4gICBkZWYgbG9zcyhwcmVkaWN0aW9ucywgdGFyZ2V0cyk6XG4gICAgICAgcmV0dXJuIGpucC5zcXJ0KGpucC5tZWFuKChwcmVkaWN0aW9ucyAtIHRhcmdldHMpICoqIDIpKVxuXG4gICAjIHRyYW5zcGlsZSBhbnkgZnVuY3Rpb24gZnJvbSBqYXggdG8gbnVtcHlcbiAgIG5wX2xvc3MgPSBpdnkudHJhbnNwaWxlKGxvc3MsIHNvdXJjZT1cImpheFwiLCB0bz1cIm51bXB5XCIpXG5cbiAgICMgZ2V0IHNvbWUgYXJyYXlzXG4gICBwID0gbnAuYXJyYXkoWzMuMCwgMi4wLCAxLjBdKVxuICAgdCA9IG5wLmFycmF5KFswLjAsIDAuMCwgMC4wXSlcblxuICAgIyBhbmQgdXNlIHRoZSB0cmFuc3BpbGVkIHZlcnNpb24hXG4gICBvdXQgPSBucF9sb3NzKHAsIHQpXG5cblxuXG5cblxuT3IgeW91IGNhbiB1c2UgSXZ5IGFzIGEgZnJhbWV3b3JrLCBicmVha2luZyB5b3Vyc2VsZiAoYW5kIHlvdXIgY29kZSlcbmZyZWUgZnJvbSBkZWNpZGluZyB3aGljaCBjb21tdW5pdHkgdG8gc3VwcG9ydCwgYWxsb3dpbmcgYW55b25lIHRvIHJ1blxueW91ciBjb2RlIGluIHRoZWlyIGZyYW1ld29yayBvZiBjaG9pY2UhXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaW1wb3J0IGl2eVxuXG4gICAjIGEgc2ltcGxlIGltYWdlIGNsYXNzaWZpY2F0aW9uIG1vZGVsXG4gICBjbGFzcyBJdnlOZXQoaXZ5Lk1vZHVsZSk6XG4gICAgICAgZGVmIF9faW5pdF9fKFxuICAgICAgICAgICBzZWxmLFxuICAgICAgICAgICBoX3c9KDMyLCAzMiksXG4gICAgICAgICAgIGlucHV0X2NoYW5uZWxzPTMsXG4gICAgICAgICAgIG91dHB1dF9jaGFubmVscz01MTIsXG4gICAgICAgICAgIG51bV9jbGFzc2VzPTIsXG4gICAgICAgICAgIGRhdGFfZm9ybWF0PVwiTkNIV1wiLFxuICAgICAgICAgICBkZXZpY2U9XCJjcHVcIixcbiAgICAgICApOlxuICAgICAgICAgICBzZWxmLmhfdyA9IGhfd1xuICAgICAgICAgICBzZWxmLmlucHV0X2NoYW5uZWxzID0gaW5wdXRfY2hhbm5lbHNcbiAgICAgICAgICAgc2VsZi5vdXRwdXRfY2hhbm5lbHMgPSBvdXRwdXRfY2hhbm5lbHNcbiAgICAgICAgICAgc2VsZi5udW1fY2xhc3NlcyA9IG51bV9jbGFzc2VzXG4gICAgICAgICAgIHNlbGYuZGF0YV9mb3JtYXQgPSBkYXRhX2Zvcm1hdFxuICAgICAgICAgICBzZWxmLmRldmljZSA9IGRldmljZVxuICAgICAgICAgICBzdXBlcigpLl9faW5pdF9fKClcblxuICAgICAgIGRlZiBfYnVpbGQoc2VsZiwgKmFyZ3MsICoqa3dhcmdzKTpcbiAgICAgICAgICAgc2VsZi5leHRyYWN0b3IgPSBpdnkuU2VxdWVudGlhbChcbiAgICAgICAgICAgICAgIGl2eS5Db252MkQoc2VsZi5pbnB1dF9jaGFubmVscywgNiwgWzUsIDVdLCAxLCBcIlNBTUVcIiwgZGF0YV9mb3JtYXQ9c2VsZi5kYXRhX2Zvcm1hdCksXG4gICAgICAgICAgICAgICBpdnkuR0VMVSgpLFxuICAgICAgICAgICAgICAgaXZ5LkNvbnYyRCg2LCAxNiwgWzUsIDVdLCAxLCBcIlNBTUVcIiwgZGF0YV9mb3JtYXQ9c2VsZi5kYXRhX2Zvcm1hdCksXG4gICAgICAgICAgICAgICBpdnkuR0VMVSgpLFxuICAgICAgICAgICAgICAgaXZ5LkNvbnYyRCgxNiwgc2VsZi5vdXRwdXRfY2hhbm5lbHMsIFs1LCA1XSwgMSwgXCJTQU1FXCIsIGRhdGFfZm9ybWF0PXNlbGYuZGF0YV9mb3JtYXQpLFxuICAgICAgICAgICAgICAgaXZ5LkdFTFUoKSxcbiAgICAgICAgICAgKVxuXG4gICAgICAgICAgIHNlbGYuY2xhc3NpZmllciA9IGl2eS5TZXF1ZW50aWFsKFxuICAgICAgICAgICAgICAgIyBzaW5jZSBwYWRkaW5nIGlzIFwiU0FNRVwiLCB0aGlzIHdvdWxkIGJlIGltYWdlX2hlaWdodCB4IGltYWdlX3dpZHRoIHggb3V0cHV0X2NoYW5uZWxzXG4gICAgICAgICAgICAgICBpdnkuTGluZWFyKHNlbGYuaF93WzBdICogc2VsZi5oX3dbMV0gKiBzZWxmLm91dHB1dF9jaGFubmVscywgNTEyKSxcbiAgICAgICAgICAgICAgIGl2eS5HRUxVKCksXG4gICAgICAgICAgICAgICBpdnkuTGluZWFyKDUxMiwgc2VsZi5udW1fY2xhc3NlcyksXG4gICAgICAgICAgIClcblxuICAgICAgIGRlZiBfZm9yd2FyZChzZWxmLCB4KTpcbiAgICAgICAgICAgeCA9IHNlbGYuZXh0cmFjdG9yKHgpXG4gICAgICAgICAgICMgZmxhdHRlbiBhbGwgZGltcyBleGNlcHQgYmF0Y2ggZGltXG4gICAgICAgICAgIHggPSBpdnkuZmxhdHRlbih4LCBzdGFydF9kaW09MSwgZW5kX2RpbT0tMSlcbiAgICAgICAgICAgbG9naXRzID0gc2VsZi5jbGFzc2lmaWVyKHgpXG4gICAgICAgICAgIHByb2JzID0gaXZ5LnNvZnRtYXgobG9naXRzKVxuICAgICAgICAgICByZXR1cm4gbG9naXRzLCBwcm9ic1xuXG5BZnRlciBidWlsZGluZyB5b3VyIG1vZGVsIGluIEl2eSwgeW91IGNhbiBzZXQgeW91ciBmYXZvdXJpdGUgZnJhbWV3b3JrXG5hcyB0aGUgYmFja2VuZCB0byB1c2UgaXRzIG9wZXJhdGlvbnMgdW5kZXIgdGhlIGhvb2QhXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgaXZ5LnNldF9iYWNrZW5kKFwidG9yY2hcIilcbiAgIG1vZGVsID0gSXZ5TmV0KClcbiAgIHggPSB0b3JjaC5yYW5kbigxLCAzLCAzMiwgMzIpXG4gICBsb2dpdHMsIHByb2JzID0gbW9kZWwoeClcblxuLi4gY29kZTo6IHB5dGhvblxuXG4gICBpdnkuc2V0X2JhY2tlbmQoXCJ0ZW5zb3JmbG93XCIpXG4gICBtb2RlbCA9IEl2eU5ldCgpXG4gICB4ID0gdGYucmFuZG9tLnVuaWZvcm0oc2hhcGU9KDEsIDMsIDMyLCAzMikpXG4gICBsb2dpdHMsIHByb2JzID0gbW9kZWwoeClcblxuLi4gY29kZTo6IHB5dGhvblxuXG4gICBpdnkuc2V0X2JhY2tlbmQoXCJqYXhcIilcbiAgIG1vZGVsID0gSXZ5TmV0KClcbiAgIHggPSBqYXgucmFuZG9tLnVuaWZvcm0oa2V5LCBzaGFwZT0oMSwgMywgMzIsIDMyKSlcbiAgIGxvZ2l0cywgcHJvYnMgPSBtb2RlbCh4KVxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIGl2eS5zZXRfYmFja2VuZChcIm51bXB5XCIpXG4gICBtb2RlbCA9IEl2eU5ldCgpXG4gICB4ID0gbnAucmFuZG9tLnVuaWZvcm0oc2l6ZT0oMSwgMywgMzIsIDMyKSlcbiAgIGxvZ2l0cywgcHJvYnMgPSBtb2RlbCh4KVxuXG5MYXN0IGJ1dCBub3QgbGVhc3QsIHdlIGNhbiBhbHNvIGJ1aWxkIHRoZSB0cmFpbmluZyBwaXBlbGluZSBpbiBwdXJlIGl2eVxu4qyH77iPXG5cblxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgICMgaGVscGVyIGZ1bmN0aW9uIGZvciBsb2FkaW5nIHRoZSBkYXRhc2V0IGluIGJhdGNoZXNcbiAgIGRlZiBnZW5lcmF0ZV9iYXRjaGVzKGltYWdlcywgY2xhc3NlcywgZGF0YXNldF9zaXplLCBiYXRjaF9zaXplPTMyKTpcbiAgICAgICB0YXJnZXRzID0ge2s6IHYgZm9yIHYsIGsgaW4gZW51bWVyYXRlKG5wLnVuaXF1ZShjbGFzc2VzKSl9XG4gICAgICAgeV90cmFpbiA9IFt0YXJnZXRzW2NsYXNzZXNbaV1dIGZvciBpIGluIHJhbmdlKGxlbihjbGFzc2VzKSldXG4gICAgICAgaWYgYmF0Y2hfc2l6ZSA+IGRhdGFzZXRfc2l6ZTpcbiAgICAgICAgICAgcmFpc2UgaXZ5LnV0aWxzLmV4Y2VwdGlvbnMuSXZ5RXJyb3IoXCJVc2UgYSBzbWFsbGVyIGJhdGNoIHNpemVcIilcbiAgICAgICBmb3IgaWR4IGluIHJhbmdlKDAsIGRhdGFzZXRfc2l6ZSwgYmF0Y2hfc2l6ZSk6XG4gICAgICAgICAgIHlpZWxkIGl2eS5zdGFjayhpbWFnZXNbaWR4IDogbWluKGlkeCArIGJhdGNoX3NpemUsIGRhdGFzZXRfc2l6ZSldKSwgaXZ5LmFycmF5KFxuICAgICAgICAgICAgICAgeV90cmFpbltpZHggOiBtaW4oaWR4ICsgYmF0Y2hfc2l6ZSwgZGF0YXNldF9zaXplKV1cbiAgICAgICAgICAgKVxuXG5cbiAgICMgaGVscGVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgbnVtYmVyIG9mIGN1cnJlbnQgcHJlZGljdGlvbnNcbiAgIGRlZiBudW1fY29ycmVjdChwcmVkcywgbGFiZWxzKTpcbiAgICAgICByZXR1cm4gKHByZWRzLmFyZ21heCgpID09IGxhYmVscykuc3VtKCkudG9fbnVtcHkoKS5pdGVtKClcblxuXG4gICAjIGRlZmluZSBhIGxvc3MgZnVuY3Rpb25cbiAgIGRlZiBsb3NzX2ZuKHBhcmFtcyk6XG4gICAgICAgdiwgbW9kZWwsIHgsIHkgPSBwYXJhbXNcbiAgICAgICB5X3ByZWQsIHByb2JzID0gbW9kZWwoeClcbiAgICAgICByZXR1cm4gaXZ5LmNyb3NzX2VudHJvcHkoeSwgcHJvYnMpLCBwcm9ic1xuXG5cblxuXG5cbi4uIGNvZGU6OiBweXRob25cblxuICAgIyB0cmFpbiB0aGUgbW9kZWwgb24gZ3B1IGlmIGl0J3MgYXZhaWxhYmxlXG4gICBkZXZpY2UgPSBcImN1ZGE6MFwiIGlmIGl2eS5ncHVfaXNfYXZhaWxhYmxlKCkgZWxzZSBcImNwdVwiXG5cbiAgIG1vZGVsID0gSXZ5TmV0KFxuICAgICAgIGhfdz0oMjgsIDI4KSxcbiAgICAgICBpbnB1dF9jaGFubmVscz0xLFxuICAgICAgIG91dHB1dF9jaGFubmVscz0xMjAsXG4gICAgICAgbnVtX2NsYXNzZXM9bnVtX2NsYXNzZXMsXG4gICAgICAgZGV2aWNlPWRldmljZSxcbiAgIClcbiAgIG1vZGVsX25hbWUgPSB0eXBlKG1vZGVsKS5fX25hbWVfXy5sb3dlcigpXG5cblxuICAgIyB0cmFpbmluZyBoeXBlcnBhcmFtc1xuICAgb3B0aW1pemVyPSBpdnkuQWRhbSgxZS00KVxuICAgYmF0Y2hfc2l6ZSA9IDY0IFxuICAgbnVtX2Vwb2NocyA9IDIwXG4gICBudW1fY2xhc3NlcyA9IDEwXG5cblxuICAgIyB0cmFpbmluZyBsb29wXG4gICBkZWYgdHJhaW4oaW1hZ2VzLCBjbGFzc2VzLCBlcG9jaHMsIG1vZGVsLCBkZXZpY2UsIG51bV9jbGFzc2VzPTEwLCBiYXRjaF9zaXplPTMyKTpcbiAgICAgICAjIHRyYWluaW5nIG1ldHJpY3NcbiAgICAgICBlcG9jaF9sb3NzID0gMC4wXG4gICAgICAgcnVubmluZ19sb3NzID0gMC4wXG4gICAgICAgZmllbGRzID0gW1wiZXBvY2hcIiwgXCJlcG9jaF9sb3NzXCIsIFwidHJhaW5pbmdfYWNjdXJhY3lcIl1cbiAgICAgICBtZXRyaWNzID0gW11cbiAgICAgICBkYXRhc2V0X3NpemUgPSBsZW4oaW1hZ2VzKVxuXG4gICAgICAgZm9yIGVwb2NoIGluIHJhbmdlKGVwb2Nocyk6XG4gICAgICAgICAgIHRyYWluX2xvc3MsIHRyYWluX2NvcnJlY3QgPSAwLCAwXG4gICAgICAgICAgIHRyYWluX2xvb3AgPSB0cWRtKFxuICAgICAgICAgICAgICAgZ2VuZXJhdGVfYmF0Y2hlcyhpbWFnZXMsIGNsYXNzZXMsIGxlbihpbWFnZXMpLCBiYXRjaF9zaXplPWJhdGNoX3NpemUpLFxuICAgICAgICAgICAgICAgdG90YWw9ZGF0YXNldF9zaXplIC8vIGJhdGNoX3NpemUsXG4gICAgICAgICAgICAgICBwb3NpdGlvbj0wLFxuICAgICAgICAgICAgICAgbGVhdmU9VHJ1ZSxcbiAgICAgICAgICAgKVxuXG4gICAgICAgICAgIGZvciB4YmF0Y2gsIHliYXRjaCBpbiB0cmFpbl9sb29wOlxuICAgICAgICAgICAgICAgaWYgZGV2aWNlICE9IFwiY3B1XCI6XG4gICAgICAgICAgICAgICAgICAgeGJhdGNoLCB5YmF0Y2ggPSB4YmF0Y2gudG9fZGV2aWNlKFwiZ3B1OjBcIiksIHliYXRjaC50b19kZXZpY2UoXCJncHU6MFwiKVxuXG4gICAgICAgICAgICAgICAjIHNpbmNlIHRoZSBjcm9zcyBlbnRyb3B5IGZ1bmN0aW9uIGV4cGVjdHMgdGhlIHRhcmdldCBjbGFzc2VzIHRvIGJlIGluIG9uZS1ob3QgZW5jb2RlZCBmb3JtYXRcbiAgICAgICAgICAgICAgIHliYXRjaF9lbmNvZGVkID0gaXZ5Lm9uZV9ob3QoeWJhdGNoLCBudW1fY2xhc3NlcylcblxuICAgICAgICAgICAgICAgIyB1cGRhdGUgbW9kZWwgcGFyYW1zXG4gICAgICAgICAgICAgICBsb3NzX3Byb2JzLCBncmFkcyA9IGl2eS5leGVjdXRlX3dpdGhfZ3JhZGllbnRzKFxuICAgICAgICAgICAgICAgICAgIGxvc3NfZm4sXG4gICAgICAgICAgICAgICAgICAgKG1vZGVsLnYsIG1vZGVsLCB4YmF0Y2gsIHliYXRjaF9lbmNvZGVkKSxcbiAgICAgICAgICAgICAgICAgICByZXRfZ3JhZF9pZHhzPVtbMF1dLFxuICAgICAgICAgICAgICAgICAgIHhzX2dyYWRfaWR4cz1bWzBdXSxcbiAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgbW9kZWwudiA9IG9wdGltaXplci5zdGVwKG1vZGVsLnYsIGdyYWRzW1wiMFwiXSlcblxuICAgICAgICAgICAgICAgYmF0Y2hfbG9zcyA9IGl2eS50b19udW1weShsb3NzX3Byb2JzWzBdKS5tZWFuKCkuaXRlbSgpICAjIGJhdGNoIG1lYW4gbG9zc1xuICAgICAgICAgICAgICAgZXBvY2hfbG9zcyArPSBiYXRjaF9sb3NzICogeGJhdGNoLnNoYXBlWzBdXG4gICAgICAgICAgICAgICB0cmFpbl9jb3JyZWN0ICs9IG51bV9jb3JyZWN0KGxvc3NfcHJvYnNbMV0sIHliYXRjaClcblxuICAgICAgICAgICAgICAgdHJhaW5fbG9vcC5zZXRfZGVzY3JpcHRpb24oZlwiRXBvY2ggW3tlcG9jaCArIDE6MmR9L3tlcG9jaHN9XVwiKVxuICAgICAgICAgICAgICAgdHJhaW5fbG9vcC5zZXRfcG9zdGZpeChcbiAgICAgICAgICAgICAgICAgICBydW5uaW5nX2xvc3M9YmF0Y2hfbG9zcyxcbiAgICAgICAgICAgICAgICAgICBhY2N1cmFjeV9wZXJjZW50YWdlPSh0cmFpbl9jb3JyZWN0IC8gZGF0YXNldF9zaXplKSAqIDEwMCxcbiAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICBlcG9jaF9sb3NzID0gZXBvY2hfbG9zcyAvIGRhdGFzZXRfc2l6ZVxuICAgICAgICAgICB0cmFpbmluZ19hY2N1cmFjeSA9IHRyYWluX2NvcnJlY3QgLyBkYXRhc2V0X3NpemVcblxuICAgICAgICAgICBtZXRyaWNzLmFwcGVuZChbZXBvY2gsIGVwb2NoX2xvc3MsIHRyYWluaW5nX2FjY3VyYWN5XSlcblxuICAgICAgICAgICB0cmFpbl9sb29wLndyaXRlKFxuICAgICAgICAgICAgICAgZlwiXFxuQXZlcmFnZSB0cmFpbmluZyBsb3NzOiB7ZXBvY2hfbG9zczouNmZ9LCBUcmFpbiBDb3JyZWN0OiB7dHJhaW5fY29ycmVjdH1cIixcbiAgICAgICAgICAgICAgIGVuZD1cIlxcblwiLFxuICAgICAgICAgICApXG5cbiAgICAgICAjIHdyaXRlIG1ldHJpY3MgZm9yIHBsb3R0aW5nXG4gICAgICAgd2l0aCBvcGVuKGZcIi97bW9kZWxfbmFtZX1fdHJhaW5fc3VtbWFyeS5jc3ZcIiwgXCJ3XCIpIGFzIGY6XG4gICAgICAgICAgIGYgPSBjc3Yud3JpdGVyKGYpXG4gICAgICAgICAgIGYud3JpdGVyb3coZmllbGRzKVxuICAgICAgICAgICBmLndyaXRlcm93cyhtZXRyaWNzKVxuXG5cbiAgICMgYXNzdW1pbmcgdGhlIGRhdGFzZXQoaW1hZ2VzIGFuZCBjbGFzc2VzKSBhcmUgYWxyZWFkeSBwcmVwYXJlZCBpbiBhIGZvbGRlciAgICAgIFxuICAgdHJhaW4oaW1hZ2VzLCBjbGFzc2VzLCBudW1fZXBvY2hzLCBtb2RlbCwgZGV2aWNlLCBudW1fY2xhc3NlcyA9IG51bV9jbGFzc2VzLCBiYXRjaF9zaXplID0gYmF0Y2hfc2l6ZSlcblxuXG5cbnwgXG5cbkNvbnRyaWJ1dGluZ1xuLS0tLS0tLS0tLS0tXG5cbldlIGJlbGlldmUgdGhhdCBldmVyeW9uZSBjYW4gY29udHJpYnV0ZSBhbmQgbWFrZSBhIGRpZmZlcmVuY2UuIFdoZXRoZXJcbml0J3Mgd3JpdGluZyBjb2RlIPCfkrssIGZpeGluZyBidWdzIPCfkJssIG9yIHNpbXBseSBzaGFyaW5nIGZlZWRiYWNrIPCfkqwsXG55b3VyIGNvbnRyaWJ1dGlvbnMgYXJlIGRlZmluaXRlbHkgd2VsY29tZSBhbmQgYXBwcmVjaWF0ZWQg8J+ZjFxuXG5DaGVjayBvdXQgYWxsIG9mIG91ciBvcGVuIHRhc2tzLCBhbmQgZmluZCBvdXQgbW9yZSBpbmZvIGluIG91clxuYENvbnRyaWJ1dGluZ1xuZ3VpZGUgPGh0dHBzOi8vdW5pZnkuYWkvZG9jcy9pdnkvb3ZlcnZpZXcvY29udHJpYnV0aW5nLmh0bWw+YF9fIGluIHRoZVxuZG9jcyFcblxuSm9pbiBvdXIgYW1hemluZyBjb21tdW5pdHkgYXMgYSBjb2RlIGNvbnRyaWJ1dG9yLCBhbmQgaGVscCBhY2NlbGVyYXRlXG5vdXIgam91cm5leSB0byB1bmlmeSBhbGwgTUwgZnJhbWV3b3JrcyFcblxuXG5cbnwgXG5cbkNvbW11bml0eVxuLS0tLS0tLS0tXG5cbkluIG9yZGVyIHRvIGFjaGlldmUgdGhlIGFtYml0aW91cyBnb2FsIG9mIHVuaWZ5aW5nIEFJIHdlIGRlZmluaXRlbHkgbmVlZFxuYXMgbWFueSBoYW5kcyBhcyBwb3NzaWJsZSBvbiBpdCEgV2hldGhlciB5b3UgYXJlIGEgc2Vhc29uZWQgZGV2ZWxvcGVyIG9yXG5qdXN0IHN0YXJ0aW5nIG91dCwgeW91J2xsIGZpbmQgYSBwbGFjZSBoZXJlISBKb2luIHRoZSBJdnkgY29tbXVuaXR5IGluXG5vdXIgYERpc2NvcmQgPGh0dHBzOi8vZGlzY29yZC5nZy9zWHlGRjh0RHRtPmBfXyDwn5G+IHNlcnZlciwgd2hpY2ggaXMgdGhlXG5wZXJmZWN0IHBsYWNlIHRvIGFzayBxdWVzdGlvbnMsIHNoYXJlIGlkZWFzLCBhbmQgZ2V0IGhlbHAgZnJvbSBib3RoXG5mZWxsb3cgZGV2ZWxvcGVycyBhbmQgdGhlIEl2eSBUZWFtIGRpcmVjdGx5IVxuXG5BbHNvISBGZWVsIGZyZWUgdG8gZm9sbG93IHVzIGluXG5gVHdpdHRlciA8aHR0cHM6Ly90d2l0dGVyLmNvbS9sZXRzdW5pZnlhaT5gX18g8J+QpiBhcyB3ZWxsLCB3ZSB1c2UgaXQgdG9cbnNoYXJlIHVwZGF0ZXMsIHNuZWFrIHBlZWtzLCBhbmQgYWxsIHNvcnRzIG9mIHJlbGV2YW50IG5ld3MsIGNlcnRhaW5seSBhXG5ncmVhdCB3YXkgdG8gc3RheSBpbiB0aGUgbG9vcCDwn5iEXG5cbkNhbid0IHdhaXQgdG8gc2VlIHlvdSB0aGVyZSFcblxuQ2l0YXRpb25cbi0tLS0tLS0tXG5cbklmIHlvdSB1c2UgSXZ5IGZvciB5b3VyIHdvcmssIHBsZWFzZSBkb24ndCBmb3JnZXQgdG8gZ2l2ZSBwcm9wZXIgY3JlZGl0XG5ieSBpbmNsdWRpbmcgdGhlIGFjY29tcGFueWluZ1xuYHBhcGVyIDxodHRwczovL2FyeGl2Lm9yZy9hYnMvMjEwMi4wMjg4Nj5gX18g8J+ThCBpbiB5b3VyIHJlZmVyZW5jZXMuIEl0J3NcbmEgc21hbGwgd2F5IHRvIHNob3cgYXBwcmVjaWF0aW9uIGFuZCBoZWxwIHRvIGNvbnRpbnVlIHRvIHN1cHBvcnQgdGhpc1xuYW5kIG90aGVyIG9wZW4gc291cmNlIHByb2plY3RzIPCfmYxcblxuOjpcblxuICAgQGFydGljbGV7bGVudG9uMjAyMWl2eSxcbiAgICAgdGl0bGU9e0l2eTogVGVtcGxhdGVkIGRlZXAgbGVhcm5pbmcgZm9yIGludGVyLWZyYW1ld29yayBwb3J0YWJpbGl0eX0sXG4gICAgIGF1dGhvcj17TGVudG9uLCBEYW5pZWwgYW5kIFBhcmRvLCBGYWJpbyBhbmQgRmFsY2ssIEZhYmlhbiBhbmQgSmFtZXMsIFN0ZXBoZW4gYW5kIENsYXJrLCBSb25hbGR9LFxuICAgICBqb3VybmFsPXthclhpdiBwcmVwcmludCBhclhpdjoyMTAyLjAyODg2fSxcbiAgICAgeWVhcj17MjAyMX1cbiAgIH1cbiIs
ICAgICJkZXNjcmlwdGlvbl9jb250ZW50X3R5cGUiOiAidGV4dC9tYXJrZG93biIs
ICAgICJkb2NzX3VybCI6IG51bGws
ICAgICJkb3dubG9hZF91cmwiOiAiIiw=
ICAgICJkb3dubG9hZHMiOiB7
ICAgICAgImxhc3RfZGF5IjogLTEs
ICAgICAgImxhc3RfbW9udGgiOiAtMSw=
ICAgICAgImxhc3Rfd2VlayI6IC0x
ICAgIH0s
ICAgICJob21lX3BhZ2UiOiAiaHR0cHM6Ly91bmlmeS5haS9pdnkiLA==
ICAgICJrZXl3b3JkcyI6ICIiLA==
ICAgICJsaWNlbnNlIjogIkFwYWNoZSAyLjAiLA==
ICAgICJtYWludGFpbmVyIjogIiIs
ICAgICJtYWludGFpbmVyX2VtYWlsIjogIiIs
ICAgICJuYW1lIjogIml2eSIs
ICAgICJwYWNrYWdlX3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvaXZ5LyIs
ICAgICJwbGF0Zm9ybSI6IG51bGws
ICAgICJwcm9qZWN0X3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvaXZ5LyIs
ICAgICJwcm9qZWN0X3VybHMiOiB7
ICAgICAgIkRvY3MiOiAiaHR0cHM6Ly91bmlmeS5haS9kb2NzL2l2eS8iLA==
ICAgICAgIkhvbWVwYWdlIjogImh0dHBzOi8vdW5pZnkuYWkvaXZ5Iiw=
ICAgICAgIlNvdXJjZSI6ICJodHRwczovL2dpdGh1Yi5jb20vdW5pZnlhaS9pdnki
ICAgIH0s
ICAgICJyZWxlYXNlX3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvaXZ5LzAuMC4wLyIs
ICAgICJyZXF1aXJlc19kaXN0IjogWw==
ICAgICAgIm51bXB5Iiw=
ICAgICAgImVpbm9wcyIs
ICAgICAgInBzdXRpbCIs
ICAgICAgInRlcm1jb2xvciIs
ICAgICAgImNvbG9yYW1hIiw=
ICAgICAgInBhY2thZ2luZyIs
ICAgICAgIm52aWRpYS1tbC1weSIs
ICAgICAgImRpc2tjYWNoZSIs
ICAgICAgImdvb2dsZS1hdXRoIiw=
ICAgICAgInJlcXVlc3RzIg==
ICAgIF0s
ICAgICJyZXF1aXJlc19weXRob24iOiAiIiw=
ICAgICJzdW1tYXJ5IjogIlRoZSB1bmlmaWVkIG1hY2hpbmUgbGVhcm5pbmcgZnJhbWV3b3JrLCBlbmFibGluZyBmcmFtZXdvcmstYWdub3N0aWMgZnVuY3Rpb25zLCBsYXllcnMgYW5kIGxpYnJhcmllcy4iLA==
ICAgICJ2ZXJzaW9uIjogIjAuMC4wIiw=
ICAgICJ5YW5rZWQiOiBmYWxzZSw=
ICAgICJ5YW5rZWRfcmVhc29uIjogbnVsbA==
ICB9LA==
ICAibGFzdF9zZXJpYWwiOiAxODcwMDAzNCw=
ICAicmVsZWFzZXMiOiB7
ICAgICIwLjAuMCI6IFs=
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICJiYTM3OGYyMjBhYmEwOTA5MThmZWUyYWUxNjJjMGM0ODdiMDIwZDYzMDk1OTVmNzc2YjUxMzMwYjhiYmIyM2JkIiw=
ICAgICAgICAgICJtZDUiOiAiYTUyZjYyOWI1ZDhjMTU3MDZlZjJhN2JlZDg5M2YzNTUiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiNDJjNDEwNTEzZWJjNzRkMWMzNmVmMDkxMzQ5Y2Q3MWE0MzgwODI4MGIzNTRhZGE1OTg4ODVmMzgxNjEwOGJlYSI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiaXZ5LTAuMC4wLjAtcHkzLW5vbmUtYW55LndobCIs
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICJhNTJmNjI5YjVkOGMxNTcwNmVmMmE3YmVkODkzZjM1NSIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAiYmRpc3Rfd2hlZWwiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAicHkzIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogbnVsbCw=
ICAgICAgICAic2l6ZSI6IDExMDkxMDQ5LA==
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAyMy0wNi0yOVQyMDoyMjo1MSIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAyMy0wNi0yOVQyMDoyMjo1MS4wMjQxODhaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy9iYS8zNy84ZjIyMGFiYTA5MDkxOGZlZTJhZTE2MmMwYzQ4N2IwMjBkNjMwOTU5NWY3NzZiNTEzMzBiOGJiYjIzYmQvaXZ5LTAuMC4wLjAtcHkzLW5vbmUtYW55LndobCIs
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfSw=
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICI3MTZlYWEyMzlmNzBjNDg5OTUwZDUxZDUwN2EwNjM2MTMzZWQ0M2ZmN2MwODc2ZTc2N2YyZTRiNTJlZjNhMDc1Iiw=
ICAgICAgICAgICJtZDUiOiAiODM5ZWRhZmVlNzE1YzU3YWE3ZGRiNDljMDRmYTRjM2UiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiZTc1NzQwODAxNTc4NjUxZmQyNGZjZWZjYWE3NGRkZWI4NmExMjNkOGQ2MzI4N2Y2YzAxZmYxYTYyZWY5ODE4YiI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiaXZ5LTAuMC4wLXB5My1ub25lLWFueS53aGwiLA==
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICI4MzllZGFmZWU3MTVjNTdhYTdkZGI0OWMwNGZhNGMzZSIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAiYmRpc3Rfd2hlZWwiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAicHkzIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogbnVsbCw=
ICAgICAgICAic2l6ZSI6IDE1MzQzMjks
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAyMy0wNi0yOVQxOTozMToxOSIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAyMy0wNi0yOVQxOTozMToxOS4wMzg4NTFaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy83MS82ZS9hYTIzOWY3MGM0ODk5NTBkNTFkNTA3YTA2MzYxMzNlZDQzZmY3YzA4NzZlNzY3ZjJlNGI1MmVmM2EwNzUvaXZ5LTAuMC4wLXB5My1ub25lLWFueS53aGwiLA==
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfSw=
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICIzMzM4YjRiNDA5ODU0ZWE5NTIzYjI2NDE2NzM5YWE5NTBmZjhiZDdjMGQwNzhlMzJiM2ViNzlkMGEzOTgwNzBkIiw=
ICAgICAgICAgICJtZDUiOiAiNjNlZGE2MTVlOGI4NzhkZmE2YmY2ZGUyMTE1YzUxYzciLA==
ICAgICAgICAgICJzaGEyNTYiOiAiNjdlNWE5Y2RmM2U2ZmZhNTI3ODZhNTdlZTZkOTUwMDIzNTg0ZjhjMzA4ZWFjY2RmZWMzZmIwMWRiMzM3OGQzMCI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiaXZ5LTAuMC4wLnRhci5neiIs
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICI2M2VkYTYxNWU4Yjg3OGRmYTZiZjZkZTIxMTVjNTFjNyIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAic2Rpc3QiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAic291cmNlIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogbnVsbCw=
ICAgICAgICAic2l6ZSI6IDEwNjg0MDI5LA==
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAyMy0wNi0yOVQxOTozMToyNSIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAyMy0wNi0yOVQxOTozMToyNS42NDIxNTBaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy8zMy8zOC9iNGI0MDk4NTRlYTk1MjNiMjY0MTY3MzlhYTk1MGZmOGJkN2MwZDA3OGUzMmIzZWI3OWQwYTM5ODA3MGQvaXZ5LTAuMC4wLnRhci5neiIs
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfQ==
ICAgIF0=
ICB9LA==
ICAidXJscyI6IFs=
ICAgIHs=
ICAgICAgImNvbW1lbnRfdGV4dCI6ICIiLA==
ICAgICAgImRpZ2VzdHMiOiB7
ICAgICAgICAiYmxha2UyYl8yNTYiOiAiYmEzNzhmMjIwYWJhMDkwOTE4ZmVlMmFlMTYyYzBjNDg3YjAyMGQ2MzA5NTk1Zjc3NmI1MTMzMGI4YmJiMjNiZCIs
ICAgICAgICAibWQ1IjogImE1MmY2MjliNWQ4YzE1NzA2ZWYyYTdiZWQ4OTNmMzU1Iiw=
ICAgICAgICAic2hhMjU2IjogIjQyYzQxMDUxM2ViYzc0ZDFjMzZlZjA5MTM0OWNkNzFhNDM4MDgyODBiMzU0YWRhNTk4ODg1ZjM4MTYxMDhiZWEi
ICAgICAgfSw=
ICAgICAgImRvd25sb2FkcyI6IC0xLA==
ICAgICAgImZpbGVuYW1lIjogIml2eS0wLjAuMC4wLXB5My1ub25lLWFueS53aGwiLA==
ICAgICAgImhhc19zaWciOiBmYWxzZSw=
ICAgICAgIm1kNV9kaWdlc3QiOiAiYTUyZjYyOWI1ZDhjMTU3MDZlZjJhN2JlZDg5M2YzNTUiLA==
ICAgICAgInBhY2thZ2V0eXBlIjogImJkaXN0X3doZWVsIiw=
ICAgICAgInB5dGhvbl92ZXJzaW9uIjogInB5MyIs
ICAgICAgInJlcXVpcmVzX3B5dGhvbiI6IG51bGws
ICAgICAgInNpemUiOiAxMTA5MTA0OSw=
ICAgICAgInVwbG9hZF90aW1lIjogIjIwMjMtMDYtMjlUMjA6MjI6NTEiLA==
ICAgICAgInVwbG9hZF90aW1lX2lzb184NjAxIjogIjIwMjMtMDYtMjlUMjA6MjI6NTEuMDI0MTg4WiIs
ICAgICAgInVybCI6ICJodHRwczovL2ZpbGVzLnB5dGhvbmhvc3RlZC5vcmcvcGFja2FnZXMvYmEvMzcvOGYyMjBhYmEwOTA5MThmZWUyYWUxNjJjMGM0ODdiMDIwZDYzMDk1OTVmNzc2YjUxMzMwYjhiYmIyM2JkL2l2eS0wLjAuMC4wLXB5My1ub25lLWFueS53aGwiLA==
ICAgICAgInlhbmtlZCI6IGZhbHNlLA==
ICAgICAgInlhbmtlZF9yZWFzb24iOiBudWxs
ICAgIH0s
ICAgIHs=
ICAgICAgImNvbW1lbnRfdGV4dCI6ICIiLA==
ICAgICAgImRpZ2VzdHMiOiB7
ICAgICAgICAiYmxha2UyYl8yNTYiOiAiNzE2ZWFhMjM5ZjcwYzQ4OTk1MGQ1MWQ1MDdhMDYzNjEzM2VkNDNmZjdjMDg3NmU3NjdmMmU0YjUyZWYzYTA3NSIs
ICAgICAgICAibWQ1IjogIjgzOWVkYWZlZTcxNWM1N2FhN2RkYjQ5YzA0ZmE0YzNlIiw=
ICAgICAgICAic2hhMjU2IjogImU3NTc0MDgwMTU3ODY1MWZkMjRmY2VmY2FhNzRkZGViODZhMTIzZDhkNjMyODdmNmMwMWZmMWE2MmVmOTgxOGIi
ICAgICAgfSw=
ICAgICAgImRvd25sb2FkcyI6IC0xLA==
ICAgICAgImZpbGVuYW1lIjogIml2eS0wLjAuMC1weTMtbm9uZS1hbnkud2hsIiw=
ICAgICAgImhhc19zaWciOiBmYWxzZSw=
ICAgICAgIm1kNV9kaWdlc3QiOiAiODM5ZWRhZmVlNzE1YzU3YWE3ZGRiNDljMDRmYTRjM2UiLA==
ICAgICAgInBhY2thZ2V0eXBlIjogImJkaXN0X3doZWVsIiw=
ICAgICAgInB5dGhvbl92ZXJzaW9uIjogInB5MyIs
ICAgICAgInJlcXVpcmVzX3B5dGhvbiI6IG51bGws
ICAgICAgInNpemUiOiAxNTM0MzI5LA==
ICAgICAgInVwbG9hZF90aW1lIjogIjIwMjMtMDYtMjlUMTk6MzE6MTkiLA==
ICAgICAgInVwbG9hZF90aW1lX2lzb184NjAxIjogIjIwMjMtMDYtMjlUMTk6MzE6MTkuMDM4ODUxWiIs
ICAgICAgInVybCI6ICJodHRwczovL2ZpbGVzLnB5dGhvbmhvc3RlZC5vcmcvcGFja2FnZXMvNzEvNmUvYWEyMzlmNzBjNDg5OTUwZDUxZDUwN2EwNjM2MTMzZWQ0M2ZmN2MwODc2ZTc2N2YyZTRiNTJlZjNhMDc1L2l2eS0wLjAuMC1weTMtbm9uZS1hbnkud2hsIiw=
ICAgICAgInlhbmtlZCI6IGZhbHNlLA==
ICAgICAgInlhbmtlZF9yZWFzb24iOiBudWxs
ICAgIH0s
ICAgIHs=
ICAgICAgImNvbW1lbnRfdGV4dCI6ICIiLA==
ICAgICAgImRpZ2VzdHMiOiB7
ICAgICAgICAiYmxha2UyYl8yNTYiOiAiMzMzOGI0YjQwOTg1NGVhOTUyM2IyNjQxNjczOWFhOTUwZmY4YmQ3YzBkMDc4ZTMyYjNlYjc5ZDBhMzk4MDcwZCIs
ICAgICAgICAibWQ1IjogIjYzZWRhNjE1ZThiODc4ZGZhNmJmNmRlMjExNWM1MWM3Iiw=
ICAgICAgICAic2hhMjU2IjogIjY3ZTVhOWNkZjNlNmZmYTUyNzg2YTU3ZWU2ZDk1MDAyMzU4NGY4YzMwOGVhY2NkZmVjM2ZiMDFkYjMzNzhkMzAi
ICAgICAgfSw=
ICAgICAgImRvd25sb2FkcyI6IC0xLA==
ICAgICAgImZpbGVuYW1lIjogIml2eS0wLjAuMC50YXIuZ3oiLA==
ICAgICAgImhhc19zaWciOiBmYWxzZSw=
ICAgICAgIm1kNV9kaWdlc3QiOiAiNjNlZGE2MTVlOGI4NzhkZmE2YmY2ZGUyMTE1YzUxYzciLA==
ICAgICAgInBhY2thZ2V0eXBlIjogInNkaXN0Iiw=
ICAgICAgInB5dGhvbl92ZXJzaW9uIjogInNvdXJjZSIs
ICAgICAgInJlcXVpcmVzX3B5dGhvbiI6IG51bGws
ICAgICAgInNpemUiOiAxMDY4NDAyOSw=
ICAgICAgInVwbG9hZF90aW1lIjogIjIwMjMtMDYtMjlUMTk6MzE6MjUiLA==
ICAgICAgInVwbG9hZF90aW1lX2lzb184NjAxIjogIjIwMjMtMDYtMjlUMTk6MzE6MjUuNjQyMTUwWiIs
ICAgICAgInVybCI6ICJodHRwczovL2ZpbGVzLnB5dGhvbmhvc3RlZC5vcmcvcGFja2FnZXMvMzMvMzgvYjRiNDA5ODU0ZWE5NTIzYjI2NDE2NzM5YWE5NTBmZjhiZDdjMGQwNzhlMzJiM2ViNzlkMGEzOTgwNzBkL2l2eS0wLjAuMC50YXIuZ3oiLA==
ICAgICAgInlhbmtlZCI6IGZhbHNlLA==
ICAgICAgInlhbmtlZF9yZWFzb24iOiBudWxs
ICAgIH0=
ICBdLA==
ICAidnVsbmVyYWJpbGl0aWVzIjogW10=
fQ==
