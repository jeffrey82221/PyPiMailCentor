ew==
ICAiaW5mbyI6IHs=
ICAgICJhdXRob3IiOiAiQW5kcmV3IFlvdW5nIiw=
ICAgICJhdXRob3JfZW1haWwiOiAiVU5LTk9XTiIs
ICAgICJidWd0cmFja191cmwiOiBudWxsLA==
ICAgICJjbGFzc2lmaWVycyI6IFs=
ICAgICAgIkRldmVsb3BtZW50IFN0YXR1cyA6OiAzIC0gQWxwaGEiLA==
ICAgICAgIkVudmlyb25tZW50IDo6IFdlYiBFbnZpcm9ubWVudCIs
ICAgICAgIkZyYW1ld29yayA6OiBEamFuZ28iLA==
ICAgICAgIkludGVuZGVkIEF1ZGllbmNlIDo6IERldmVsb3BlcnMiLA==
ICAgICAgIkxpY2Vuc2UgOjogT1NJIEFwcHJvdmVkIDo6IEJTRCBMaWNlbnNlIiw=
ICAgICAgIk9wZXJhdGluZyBTeXN0ZW0gOjogT1MgSW5kZXBlbmRlbnQiLA==
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiIs
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAzLjQiLA==
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAzLjUi
ICAgIF0s
ICAgICJkZXNjcmlwdGlvbiI6ICI9PT09PT09PT09PT09PT09PT09XG5EamFuZ28gUmVkaXMgUHViU3ViXG49PT09PT09PT09PT09PT09PT09XG5cbi4uIGltYWdlOjogaHR0cHM6Ly90cmF2aXMtY2kub3JnL2FuZHJld3lvdW5nMTk5MS9kamFuZ28tcmVkaXMtcHVic3ViLnN2Zz9icmFuY2g9bWFzdGVyXG4gICAgOnRhcmdldDogaHR0cHM6Ly90cmF2aXMtY2kub3JnL2FuZHJld3lvdW5nMTk5MS9kamFuZ28tcmVkaXMtcHVic3ViXG5cbi4uIGltYWdlOjogaHR0cHM6Ly9jb3ZlcmFsbHMuaW8vcmVwb3MvZ2l0aHViL2FuZHJld3lvdW5nMTk5MS9kamFuZ28tcmVkaXMtcHVic3ViL2JhZGdlLnN2Zz9icmFuY2g9bWFzdGVyXG4gICAgOnRhcmdldDogaHR0cHM6Ly9jb3ZlcmFsbHMuaW8vZ2l0aHViL2FuZHJld3lvdW5nMTk5MS9kamFuZ28tcmVkaXMtcHVic3ViP2JyYW5jaD1tYXN0ZXJcblxuLi4gaW1hZ2U6OiBodHRwczovL2NvZGVjbGltYXRlLmNvbS9naXRodWIvYW5kcmV3eW91bmcxOTkxL2RqYW5nby1yZWRpcy1wdWJzdWIvYmFkZ2VzL2dwYS5zdmdcbiAgICA6dGFyZ2V0OiBodHRwczovL2NvZGVjbGltYXRlLmNvbS9naXRodWIvYW5kcmV3eW91bmcxOTkxL2RqYW5nby1yZWRpcy1wdWJzdWJcbiAgICA6YWx0OiBDb2RlIENsaW1hdGVcblxuXG5hc3luY3Jvbm91cyBzdWJzY3JpcHRpb24gZGlzdHJvYnV0aW9uIGZvciBkamFuZ28gKHdpdGggd2Vic29ja2V0IHN1cHBvcnQhISEhKS5cblxuXG5QdWJsaXNoYWJsZU1vZGVsXG49PT09PT09PT09PT09PT09XG5cbllvdSdsbCBmaXJzdCBuZWVkIHRvIGNyZWF0ZSBzb21lIHB1Ymxpc2hhYmxlIG1vZGVscy5cblxuLi4gY29kZTo6IHB5dGhvblxuXG4gICAgIyBtb2RlbHMucHlcblxuICAgIGNsYXNzIENvcnJlc3BvbmRlbmNlKFB1Ymxpc2hhYmxlTW9kZWwpOlxuICAgICAgICBQVUJMSVNIX09OX0NSRUFURSA9IEZhbHNlXG4gICAgICAgIFBVQkxJU0hfT05fVVBEQVRFID0gRmFsc2VcblxuICAgICAgICBwYXJ0aWNpcGFudHMgPSBtb2RlbHMuTWFueVRvTWFueUZpZWxkKHNldHRpbmdzLkFVVEhfVVNFUl9NT0RFTCwgcmVsYXRlZF9uYW1lPVwiY29ycmVzcG9uZGVuY2VzXCIpXG5cbiAgICAgICAgZGVmIHNhdmUoc2VsZiwgKmFyZ3MsICoqa3dhcmdzKTpcbiAgICAgICAgICAgIHN1cGVyKENvcnJlc3BvbmRlbmNlLCBzZWxmKS5zYXZlKCphcmdzLCAqKmt3YXJncylcbiAgICAgICAgICAgICMgYWRkIHN1YnNjcmliZSBhbGwgdGhlIHVzZXJzIHRvIHRoZSBjaGFubmVsXG4gICAgICAgICAgICBjaGFubmVsID0gc2VsZi5jaGFubmVsXG4gICAgICAgICAgICBmb3Igc3Vic2NyaWJlciBpbiBzZWxmLnBhcnRpY2lwYW50czpcbiAgICAgICAgICAgICAgICBjaGFubmVsLnN1YnNjcmliZShzdWJzY3JpYmVyKVxuXG5cbiAgICBjbGFzcyBNZXNzYWdlKFB1Ymxpc2hhYmxlTW9kZWwpOlxuICAgICAgICBQVUJMSVNIX09OX0NSRUFURSA9IFRydWVcbiAgICAgICAgUFVCTElTSF9PTl9VUERBVEUgPSBGYWxzZVxuXG4gICAgICAgIGNvcnJlc3BvbmRlbmNlID0gbW9kZWxzLkZvcmVpZ25LZXkoXCJDb3JyZXNwb25kZW5jZVwiLCByZWxhdGVkX25hbWU9XCJtZXNzYWdlc1wiKVxuICAgICAgICBhdXRob3IgPSBtb2RlbHMuRm9yZWlnbktleShzZXR0aW5ncy5BVVRIX1VTRVJfTU9ERUwsIHJlbGF0ZWRfbmFtZT1cInNlbnRfbWVzc2FnZXNcIilcbiAgICAgICAgYm9keSA9IG1vZGVscy5UZXh0RmllbGQoKVxuXG4gICAgICAgIGRlZiBzYXZlKHNlbGYsICphcmdzLCAqKmt3YXJncyk6XG4gICAgICAgICAgICBpZiBub3QgaGFzYXR0cihzZWxmLCBcImNoYW5uZWxcIik6XG4gICAgICAgICAgICAgICAgc2VsZi5jaGFubmVsID0gc2VsZi5jb3JyZXNwb25kZW5jZS5jaGFubmVsXG4gICAgICAgICAgICBzdXBlcihNZXNzYWdlLCBzZWxmKS5zYXZlKCphcmdzLCAqKmt3YXJncylcblxuICAgICMgdmlld3MucHlcblxuICAgIGRlZiBzZW5kX21lc3NhZ2UocmVxdWVzdCwgY29ycmVzcG9uZGVuY2UsICphcmdzLCAqKmt3YXJncyk6XG4gICAgICAgIG1lc3NhZ2UgPSBNZXNzYWdlLm9iamVjdHMuY3JlYXRlKFxuICAgICAgICAgICAgY29ycmVzcG9uZGVuY2VfaWQ9Y29ycmVzcG9uZGVuY2UsXG4gICAgICAgICAgICBhdXRob3I9cmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgYm9keT1yZXF1ZXN0LlBPU1RbXCJib2R5XCJdXG4gICAgICAgIHJldHVybiByZW5kZXJfdG9fcmVzcG9uc2UocmVxdWVzdCwgXCJtZXNzYWdlcy5odG1sXCIsIHtcIm1lc3NhZ2VcIjogbWVzc2FnZX0pXG5cbiAgICAjIHdlYnNvY2tldHMucHlcblxuICAgIEB3ZWJzb2NrZXRfcHVic3ViKGF1dGhlbnRpY2F0ZT1UcnVlKVxuICAgIGRlZiByZWFkX21lc3NhZ2VzKHdzLCBwYXJhbXMsIHVzZXIsIG1hbmFnZXIpOlxuICAgICAgICBzdWJzY3JpcHRpb24gPSB1c2VyLnN1YnNjcmlwdGlvbnMuZ2V0KGNoYW5uZWxfX25hbWU9XCJzb21ldGhpbmc6dW5pcXVlXCIuZm9ybWF0KHVzZXIudXNlcm5hbWUpKVxuICAgICAgICByZWFkZXIgPSBzdWJzY3JpcHRpb24uZ2V0X3JlYWRlcihtYW5hZ2VyPW1hbmFnZXIpXG5cbiAgICAgICAgQHJlYWRlci5jYWxsYmFja1xuICAgICAgICBkZWYgc2VuZF9tZXNzYWdlX2FsZXJ0KGNoYW5uZWxfbmFtZSwgbW9kZWwpOlxuICAgICAgICAgICAgYWxlcnQgPSBqc29uLmR1bXBzKHtcIm1lc3NhZ2VcIjogXCJuZXcgbWVzc2FnZSBmcm9tIHswfVwiLmZvcm1hdChtb2RlbC5hdXRob3IuZ2V0X2Z1bGxfbmFtZSgpKSlcbiAgICAgICAgICAgIHdzLnNlbmRfc3RyKGFsZXJ0KVxuICAgICAgICAgICAgcmV0dXJuIFRydWVcblxuICAgICAgICBsaXN0ZW5lciA9IHlpZWxkIGZyb20gcmVhZGVyLmxpc3RlbigpXG4gICAgICAgIHlpZWxkIGZyb20gbGlzdGVuZXJcblxuXG5JbiB0aGUgYWJvdmUgZXhhbXBsZSwgYSBjbGllbnQgd2hvIGhhcyBlc3RhYmxpc2hlZCBhIHdlYnNvY2tldCBjb25uZWN0aW9uIHRvIHRoZSBoYW5kbGVyIGluIGB3ZWJzb2NrZXRzLnB5YCB3aWxsIHJlY2VpdmUgYWxlcnRzIGFzIGxvbmcgYXMgdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uIHJlbWFpbnMgb3Blbi4gV2hlbiBhbm90aGVyIGNsaWVudCBzZW5kcyBhIFBPU1QgcmVxdWVzdCB0byB0aGUgc2VuZF9tZXNzYWdlIHZpZXcgaW4gYHZpZXdzLnB5YCB0aGUgbWVzc2FnZSB3aWxsIGJlIHB1Ymxpc2hlZCBhbmQgcmVjZWl2ZWQgYnkgdGhlIGByZWFkX21lc3NhZ2VzLnNlbmRfbWVzc2FnZV9hbGVydGAgY2FsbGJhY2sgd2hlcmUgZnVydGhlciBwcm9jZXNzaW5nL3NlcmlhbGl6YXRpb24gY2FuIG9jY3VyLlxuXG5cbldlYnNvY2tldHNcbj09PT09PT09PT1cblxuSWYgeW91IGNob29zZSB0byB1c2UgYHJlZGlzX3B1YnN1Yi5jb250cmliLndlYnNvY2tldHNgIHRoZXJlIGFyZSBhZGRpdGlvbmFsIHBhY2thZ2VzIHRoYXQgeW91IHdpbGwgbmVlZCB0byBpbnN0YWxsOjpcblxuICAkIHBpcCBpbnN0YWxsIGFpb2h0dHAgYWlvaHR0cF93c2dpXG5cbldlYnNvY2tldCBoYW5kbGVycyBiZWxvbmcgaW4gbW9kdWxlIGluIHlvdXIgYXBwbGljYXRpb24gYnkgdGhlIG5hbWUgb2YgYHdlYnNvY2tldHMucHlgLiBUaGlzIG1vZHVsZSBzaG91bGQgZXhwb3J0IGEgYGhhbmRsZXJjb25mYCwgd2hpY2ggaXMgYSBsaXN0IG9mIHRoZSBuYW1lcyBvZiB0aGUgaGFuZGxlcnMgaW4gdGhlIG1vZHVsZVxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgQHdlYnNvY2tldChcIi9cIikgICMgdGhpcyBoYW5kbGVyIHdpbGwgYmUgYXQgaHR0cDovL3lvdXJhcHAuY29tL1xuICBkZWYgbXloYW5kbGVyKHdzLCBwYXJhbXMsICoqa3dhcmdzKTpcbiAgICAgIC4uLlxuXG4gIGhhbmRsZXJjb25mID0gW1wibXloYW5kbGVyXCIsIF1cblxuV2Vic29ja2V0IHJlcXVlc3RzIGFyZSBoYW5kbGVkIHdpdGggdGhlIGV4Y2VsbGVudCBgYWlvaHR0cGAgcGFja2FnZSB3aGljaCB0YWtlcyBjYXJlIG9mIHRoZSBlbmNvZGluZy9kZWNvZGluZywgaGFuZHNoYWtlLCBhbmQgY2xlYW51cCBvZiBhIHdlYnNvY2tldCBzZXNzaW9uLiBIYW5kbGVycyBmb3Igd2Vic29ja2V0IHJlcXVlc3RzIGFyZSBjb3JvdXRpbmVzIGRlY29yYXRlZCB3aXRoIGVpdGhlciB0aGUgYHJlZGlzX3B1YnN1Yi5jb250cmliLndlYnNvY2tldHMud2Vic29ja2V0YCBvciBgcmVkaXNfcHVic3ViLmNvbnRyaWIud2Vic29ja2V0cy53ZWJzb2NrZXRfcHVic3ViYCB3cmFwcGVycy4gVGhlc2Ugd3JhcHBlcnMgaGFuZGxlIGNvbnZlcnRpbmcgeW91ciBoYW5kbGVyIHRvIGEgY29yb3V0aW5lIGFuZCBwYXNzaW5nIGFyZ3VtZW50cyB0byB5b3VyIGhhbmRsZXIuIEEgc2ltcGxlIGhhbmRsZXIgdGhhdCBlY2hvJ3MgYSBtZXNzYWdlIGJhY2sgdG8gdGhlIGNsaWVudCB3b3VsZCBsb29rIGxpa2UgdGhpc1xuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgQHdlYnNvY2tldChcIi9lY2hvXCIpXG4gIGRlZiBlY2hvKHdzLCBwYXJhbXMsICoqa3dhcmdzKTpcbiAgICAgIG1lc3NhZ2UgPSB5aWVsZCBmcm9tIHdzLnJlY2VpdmUoKVxuICAgICAgd3Muc2VuZF9zdHIobWVzc2FnZS5kYXRhKVxuXG5UaGUgZm9ybWVyIGV4YW1wbGUgc2hvd3MgYSB3ZWJzb2NrZXQgaGFuZGxlciB0aGF0IHdhaXRzIGZvciBhIG1lc3NhZ2UgZnJvbSBhIGNvbm5lY3RlZCBjbGllbnQsIGVjaG8ncyB0aGUgbWVzc2FnZSBiYWNrIHRvIHRoZSBjbGllbnQgYW5kIGNsb3NlcyB0aGUgY29ubmVjdGlvbi5cblxuXG5XZWJzb2NrZXQgQXV0aGVudGljYXRpb25cbj09PT09PT09PT09PT09PT09PT09PT09PVxuXG5JZiB5b3UgY2hvb3NlIHRvIHVzZSBhdXRoZW50aWNhdGVkIHdlYnNvY2tldHMgeW91IHdpbGwgbmVlZCB0byBlaXRoZXIgaW5zdGFsbCBgZGphbmdvcmVzdGZyYW1ld29ya2AgYW5kIHVzZSB0aGUgYHJlc3RfZnJhbWV3b3JrLmF1dGh0b2tlbi5tb2RlbHMuVG9rZW5gIG9iamVjdCBhcyB5b3VyIGF1dGhlbnRpY2F0aW9uIG1ldGhvZCBvciBzaW1wbHkgdXNlIGByZXN0X2ZyYW1ld29ya19qd3RgIHRvIGRpc3RyaWJ1dGUgYW5kIGNoYWxsZW5nZSBKVFcncyBwcm92aWRlZCBieSB5b3VyIGNsaWVudC4gdG8gY29uZmlndXJlIGF1dGhlbnRpY2F0aW9uIHdpdGggb25lIG9mIHRoZXNlIG1ldGhvZHMgKG9yIHlvdXIgb3duIHRva2VuIGF1dGhlbnRpY2F0aW9uIG1ldGhvZCkgYWRkIHRoZSBtb2R1bGUgcGF0aCB0byB0aGUgUkVESVNfUFVCU1VCIGNvbmZpZzo6XG5cbiAgUkVESVNfUFVCU1VCID0ge1xuICAgICAgXCJ0b2tlbmF1dGhfbWV0aG9kXCI6IFwicmVkaXNfcHVic3ViLmF1dGguYXV0aGp3dF9tZXRob2RcIiwgICMgZGVmYXVsdHMgdG8gXCJyZWRpc19wdWJzdWIuYXV0aC5hdXRodG9rZW5fbWV0aG9kXCJcbiAgfVxuXG5JZiB5b3UgZG8gZGVjaWRlIHRvIHJvbGwgeW91ciBvd24gYHRva2VuYXV0aF9tZXRob2RgLCB0aGlzIG1ldGhvZCBtdXN0IGFjY2VwdCBhIHNpbmdsZSBhcmd1bWVudCAodGhlIHRva2VuIHN0cmluZykgYW5kIHJldHVybiBlaXRoZXIgYE5vbmVgIGlmIHRoZSB0b2tlbiBpcyBub3QgdmFsaWQgb3IgYW4gaW5zdGFuY2Ugb2YgYEFVVEhfVVNFUl9NT0RFTGAgaWYgdGhlIHRva2VuIGlzIHZhbGlkLlxuXG5cbldlYnNvY2tldCBQdWJzdWJcbj09PT09PT09PT09PT09PT1cblxuWW91IGNhbiBhY2Nlc3MgdGhlIFB1YnN1YiBtZXRob2RzIHByb3ZpZGVkIGJ5IGByZWRpc19wdWJzdWJgIGluIHlvdXIgd2Vic29ja2V0IGhhbmRsZXJzIGJ5IGRlY29yYXRpbmcgeW91ciBoYW5kbGVyIHdpdGggdGhlIGByZWRpcy5wdWJzdWIuY29udHJpYi53ZWJzb2NrZXRzLndlYnNvY2tldF9wdWJzdWJgIHdyYXBwZXIuIFRoaXMgd3JhcHBlciBwcm92aWRlcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50IGBtYW5hZ2VyYCB0byB5b3VyIGhhbmRsZXIuIFRoZSBtYW5hZ2VyIGNhbiBiZSB1c2VkIHRvIGtlZXAgdHJhY2sgb2Ygc3Vic2NyaXB0aW9uIGNoYW5uZWxzIGFuZCBzdG9wIHRoZW0gaWYgbmVjZXNzYXJ5XG5cbi4uIGNvZGU6OiBweXRob25cblxuICAjIHdlYnNvY2tldHMucHlcblxuICBAd2Vic29ja2V0X3B1YnN1YihcIi9tZXNzYWdlc1wiLCBhdXRoZW50aWNhdGU9VHJ1ZSlcbiAgZGVmIG1lc3NhZ2VfcHVzaGVyKHdzLCBwYXJhbXMsIG1hbmFnZXIsIHVzZXIsICoqa3dhcmdzKTpcbiAgICAgIHN1YnNjcmlwdGlvbiA9IHVzZXIuc3Vic2NyaXB0aW9ucy5nZXQoY2hhbm5lbF9fbmFtZT1cIm1lc3NhZ2VzXCIpXG4gICAgICByZWFkZXIgPSBzdWJzY3JpcHRpb24uZ2V0X3JlYWRlcihtYW5hZ2VyPW1hbmFnZXIpXG5cbiAgICAgIEByZWFkZXIuY2FsbGJhY2tcbiAgICAgIGRlZiBjYWxsYmFjayhjaGFubmVsX25hbWUsIG1lc3NhZ2UpOlxuICAgICAgICAgIHRvX2NsaWVudCA9IHtcbiAgICAgICAgICAgICAgY2hhbm5lbF9uYW1lOiB7XG4gICAgICAgICAgICAgICAgICBcImF1dGhvclwiOiBtZXNzYWdlLmF1dGhvci51c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgIFwiYm9keVwiOiBtZXNzYWdlLmJvZHlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB3cy5zZW5kX3N0cihqc29uLmR1bXBzKCkpXG4gICAgICAgICAgcmV0dXJuIFRydWVcblxuICAgICAgbGlzdGVuZXIgPSB5aWVsZCBmcm9tIHJlYWRlci5saXN0ZW4oKVxuICAgICAgeWllbGQgZnJvbSBsaXN0ZW5lclxuXG5UaGlzIGV4YW1wbGUgc2hvd3MgdGhlIG1haW4gcHVycG9zZSBvZiB0aGUgYHJlZGlzX3B1YnN1YmAgcGFja2FnZSwgd2hpY2ggaXMgdG8gbGlzdGVuIGZvciB1cGRhdGVzIG9uIGEgcmVkaXMgY2hhbm5lbCBhbmQgcHVzaCB0aGUgcHVibGljYXRpb24gdG8gYSBjbGllbnQuIExldHMgYnJlYWsgaXQgZG93biBsaW5lIGJ5IGxpbmVcblxuMSkgcmV0cmVpdmUgdGhlIHVzZXJzIHN1YnNjcmlwdGlvblxuMikgY3JlYXRlIGEgbWFuYWdlZCBDaGFubmVsUmVhZGVyIG9iamVjdCBmb3IgdGhpcyBzdWJzY3JpcHRpb25cbjMpIHJlZ2lzdGVyIGEgY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbmV2ZXIgYSBuZXcgcHVibGljYXRpb24gaXMgcmVjZWl2ZWRcbjQpIGJlZ2luIGxpc3RlbmluZyBmb3IgY2hhbmdlc1xuNSkgbGlzdGVuIHVudGlsIHRoZSBjaGFubmVsIGlzIGNsb3NlZFxuXG5UaGUgbW9zdCBmcnVpdGZ1bCBtZXRob2Qgb2ZmZXJkIGJ5IGEgU3Vic2NyaXB0aW9uTWFuYWdlciBpcyBgbGlzdGVuX3RvX2FsbF9zdWJzY3JpcHRpb25zYCB3aGljaCB0YWtlcyB0d28gYXJndW1lbnRzLCBhIHN1YnNjcmliZXIgYW5kIGEgY2FsbGJhY2ssIGFuZCBwdWJsaXNoZXMgc3Vic2NyaXB0aW9ucyBhcyB0aGV5IGFycml2ZVxuXG4uLiBjb2RlOjogcHl0aG9uXG5cbiAgIyB3ZWJzb2NrZXRzLnB5XG5cbiAgQHdlYnNvY2tldF9wdWJzdWIoXCIvc3Vic2NyaXB0aW9uc1wiLCBhdXRoZW50aWNhdGU9VHJ1ZSlcbiAgZGVmIHN1YnNjcmlwdGlvbnMod3MsIHBhcmFtcywgbWFuYWdlciwgdXNlciwgKiprd2FyZ3MpOlxuXG4gICAgICBkZWYgY2FsbGJhY2soY2hhbm5lbF9uYW1lLCBtZXNzYWdlKTpcbiAgICAgICAgICB3cy5zZW5kX3N0cihtZXNzYWdlLnNlcmlhbGl6ZSgpKVxuICAgICAgICAgIHJldHVybiBUcnVlXG5cbiAgICAgIG1hbmFnZXIubGlzdGVuX3RvX2FsbF9zdWJzY3JpcHRpb25zKHVzZXIsIGNhbGxiYWNrKVxuXG4gICAgICB3aGlsZSBUcnVlOlxuICAgICAgICAgIG1lc3NhZ2UgPSB5aWVsZCBmcm9tIHdzLnJlY2VpdmUoKVxuICAgICAgICAgIGlmIG1lc3NhZ2UudHAgbm90IGluIChNc2dUeXBlLmVycm9yLCBNc2dUeXBlLmNsb3NlKTpcbiAgICAgICAgICAgICAgbWVzc2FnZSA9IGpzb24ubG9hZHMobWVzc2FnZSlcbiAgICAgICAgICAgICAgaWYgbWVzc2FnZVtcImFjdGlvblwiXSA9PSBcInVuc3Vic2NyaWJlXCI6XG4gICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSB1c2VyLnN1YnNjcmlwdGlvbnMuZ2V0KGNoYW5uZWxfX25hbWU9bWVzc2FnZVtcImNoYW5uZVwiXSlcbiAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5hY3RpdmUgPSBGYWxzZVxuICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnNhdmUoKVxuICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbWFuYWdlci5yZWFkZXJzW21lc3NhZ2VbXCJjaGFubmVsXCJdXVxuICAgICAgICAgICAgICAgICAgeWllbGQgZnJvbSBtYW5hZ2VyLnJlbW92ZShyZWFkZXIpXG4gICAgICAgICAgICAgIGVsaWYgbWVzc2FnZVtcImFjdGlvblwiXSA9PSBcInN1YnNjcmliZVwiOlxuICAgICAgICAgICAgICAgICAgY2hhbm5lbCA9IENoYW5uZWwub2JqZWN0cy5nZXQobmFtZT1tZXNzYWdlW1wiY2hhbm5lbFwiXSlcbiAgICAgICAgICAgICAgICAgIHJlYWRlciA9IGNoYW5uZWwuc3Vic2NyaWJlKHVzZXIpLmdldF9yZWFkZXIobWFuYWdlcj1tYW5hZ2VyKVxuICAgICAgICAgICAgICAgICAgcmVhZGVyLmNhbGxiYWNrKGNhbGxiYWNrKVxuICAgICAgICAgICAgICAgICAgeWllbGQgZnJvbSByZWFkZXIubGlzdGVuKClcbiAgICAgICAgICBlbHNlOlxuICAgICAgICAgICAgICBicmVha1xuXG5UaGUgY2FsbGJhY2sgaW4gdGhpcyBleGFtcGxlIHdpbGwga2VlcCBhbGwgc3Vic2NyaXB0aW9uIGNoYW5uZWxzIG9wZW4gYW5kIHB1c2ggbWVzc2FnZXMgdG8gYSBjbGllbnQgdW50aWwgdGhlIHdlYnNvY2tldCBoYXMgY2xvc2VkLiBUaGlzIGNvZGUgcHJvdmlkZXMgYSBzaW1wbGUgbWVhbnMgb2YgbWFuYWdpbmcgdXNlcnMgd2l0aCBhIG11bHRpdHVkZSBvZiBzdWJzY3JpcHRpb25zLiBUaGUgYHdoaWxlYCBsb29wIGhlcmUgYWxzbyBoYW5kbGVzIHVuc3Vic2NyaWJpbmcgYW5kIHN1YnNjcmliaW5nIHRvIG5ldyBjaGFubmVsc1xuXG4uLiBub3RlOjpcblxuICBBIGNhbGxiYWNrIGZ1bmN0aW9uIHNob3VsZCBuZXZlciByZWNlaXZlIGZyb20gYSB3ZWJzb2NrZXQgb3IgZWxzZSBhIFJ1bnRpbWVFcnJvciB3aWxsIGJlIHJhaXNlZC5cblxuXG5EZXBsb3lpbmdcbj09PT09PT09PVxuXG53aGVuIGRlcGxveWluZyBhbiBhcHBsaWNhdGlvbiB3aXRoIHdlYnNvY2tldHMvYWlvaHR0cCB5b3Ugd2lsbCBub3QgYmUgYWJsZSB0byB1c2UgdGhlIG5vcm1hbCBkamFuZ28gZGVwbG95bWVudCBwcm9jZWVkdXJlcy4gU2luY2UgeW91ciBkamFuZ28gYXBwbGljYXRpb24gd2lsbCBiZSBhIGNvbXBvbmVudCBvZiBhbiBBaW9IdHRwIGFwcGxpY2F0aW9uIG9iamVjdCwgeW91IHdpbGwgaGF2ZSB0byB1c2UgR3VuaWNvcm4gYXMgYW4gYXBwbGljYXRpb24gc2VydmVyLiBVc2luZyB1dGlsaXRpZXMgZnJvbSB0aGUgYHJlZGlzX3B1YnN1Yi5jb250cmliLndlYnNvY2tldHNgIG1vZHVsZSB5b3UgY2FuIGNyZWF0ZSBhIGRlcGxveW1lbnQgZmlsZSBzaW1wbHlcblxuLi4gY29kZTo6IHB5dGhvblxuXG4gICMgZGVwbG95bWVudC5weVxuXG4gIGltcG9ydCBhc3luY2lvXG5cbiAgZnJvbSBkamFuZ28uY29yZS53c2dpIGltcG9ydCBnZXRfd3NnaV9hcHBsaWNhdGlvblxuICBcbiAgZnJvbSBhaW9odHRwX3dzZ2kgaW1wb3J0IFdTR0lIYW5kbGVyXG4gIFxuICBmcm9tIHJlZGlzX3B1YnN1Yi5jb250cmliLndlYnNvY2tldHMgaW1wb3J0IHNldHVwXG5cblxuICB3c2dpX2FwcCA9IGdldF93c2dpX2FwcGxpY2F0aW9uKCkgICMgZGphbmdvLnNldHVwKCkgaXMgY2FsbGVkIGhlcmVcbiAgd3NnaV9oYW5kbGVyID0gV1NHSUhhbmRsZXIod3NnaV9hcHApXG4gIFxuICBsb29wID0gYXN5bmNpby5nZXRfZXZlbnRfbG9vcCgpXG4gIGFwcGxpY2F0aW9uID0gc2V0dXAobG9vcD1sb29wKVxuICAjIGFueSB1cmwgcGF0dGVybnMgbm90IG1hdGNoZWQgYnkgdGhlIFdlYnNvY2tldCBhcHAgZ28gdG8gdGhlIGRqYW5nbyBhcHAgZm9yIGhhbmRsaW5nXG4gIGFwcGxpY2F0aW9uLnJvdXRlci5hZGRfcm91dGUoXCIqXCIsIFwiL3twYXRoX2luZm86Lip9XCIsIHdzZ2lfaGFuZGxlci5oYW5kbGVfcmVxdWVzdClcblxueW91IGNhbiB0aGVuIHN0YXJ0IGd1bmljb3JuIGJ5IHJ1bm5pbmc6OlxuXG4gICQgZ3VuaWNvcm4gZGVwbG95bWVudDphcHBsaWNhdGlvbiAtLWJpbmQgbG9jYWxob3N0OjgwODAgLS13b3JrZXItY2xhc3MgYWlvaHR0cC53b3JrZXIuR3VuaWNvcm5XZWJXb3JrZXIiLA==
ICAgICJkZXNjcmlwdGlvbl9jb250ZW50X3R5cGUiOiBudWxsLA==
ICAgICJkb2NzX3VybCI6IG51bGws
ICAgICJkb3dubG9hZF91cmwiOiAiVU5LTk9XTiIs
ICAgICJkb3dubG9hZHMiOiB7
ICAgICAgImxhc3RfZGF5IjogLTEs
ICAgICAgImxhc3RfbW9udGgiOiAtMSw=
ICAgICAgImxhc3Rfd2VlayI6IC0x
ICAgIH0s
ICAgICJob21lX3BhZ2UiOiAiaHR0cHM6Ly9naXRodWIuY29tL2FuZHJld3lvdW5nMTk5MS9kamFuZ28tcmVkaXMtcHVic3ViIiw=
ICAgICJrZXl3b3JkcyI6IG51bGws
ICAgICJsaWNlbnNlIjogIkJTRCIs
ICAgICJtYWludGFpbmVyIjogbnVsbCw=
ICAgICJtYWludGFpbmVyX2VtYWlsIjogbnVsbCw=
ICAgICJuYW1lIjogImRqYW5nby1yZWRpcy1wdWJzdWIiLA==
ICAgICJwYWNrYWdlX3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvZGphbmdvLXJlZGlzLXB1YnN1Yi8iLA==
ICAgICJwbGF0Zm9ybSI6ICJVTktOT1dOIiw=
ICAgICJwcm9qZWN0X3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvZGphbmdvLXJlZGlzLXB1YnN1Yi8iLA==
ICAgICJwcm9qZWN0X3VybHMiOiB7
ICAgICAgIkRvd25sb2FkIjogIlVOS05PV04iLA==
ICAgICAgIkhvbWVwYWdlIjogImh0dHBzOi8vZ2l0aHViLmNvbS9hbmRyZXd5b3VuZzE5OTEvZGphbmdvLXJlZGlzLXB1YnN1YiI=
ICAgIH0s
ICAgICJyZWxlYXNlX3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvZGphbmdvLXJlZGlzLXB1YnN1Yi8xLjAvIiw=
ICAgICJyZXF1aXJlc19kaXN0IjogbnVsbCw=
ICAgICJyZXF1aXJlc19weXRob24iOiBudWxsLA==
ICAgICJzdW1tYXJ5IjogImFzeW5jcm9ub3VzIHB1YnN1YiBpbiBkamFuZ28gdXNpbmcgcmVkaXMiLA==
ICAgICJ2ZXJzaW9uIjogIjEuMCIs
ICAgICJ5YW5rZWQiOiBmYWxzZSw=
ICAgICJ5YW5rZWRfcmVhc29uIjogbnVsbA==
ICB9LA==
ICAibGFzdF9zZXJpYWwiOiAxOTUzODA4LA==
ICAicmVsZWFzZXMiOiB7
ICAgICIxLjAiOiBb
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICJkYjkxZjk5MWQ3NTVkYmUwZDNkN2JiMmExOTNmMGViZTBkZmRmMjA4YjgyMWE0NTVmZjkwNjJhY2E1ZTZlOTQxIiw=
ICAgICAgICAgICJtZDUiOiAiM2NiNzFjMTQxZmRjN2Q4M2RmNTdhYzUxOTA5MTExNjkiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiZTg1ODQxZDk0MmY5ZGFhNmQ2MzE4OGFiNzE5OTMyY2MxYWI0NTg4NjYwMmExYTNjZmUzNmM1ZTUxZGViOTI3ZSI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiZGphbmdvLXJlZGlzLXB1YnN1Yi0xLjAudGFyLmd6Iiw=
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICIzY2I3MWMxNDFmZGM3ZDgzZGY1N2FjNTE5MDkxMTE2OSIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAic2Rpc3QiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAic291cmNlIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogbnVsbCw=
ICAgICAgICAic2l6ZSI6IDEzMDEwLA==
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAxNi0wMi0xMlQyMDo1MDo1MiIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAxNi0wMi0xMlQyMDo1MDo1Mi4zMjc1NDRaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy9kYi85MS9mOTkxZDc1NWRiZTBkM2Q3YmIyYTE5M2YwZWJlMGRmZGYyMDhiODIxYTQ1NWZmOTA2MmFjYTVlNmU5NDEvZGphbmdvLXJlZGlzLXB1YnN1Yi0xLjAudGFyLmd6Iiw=
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfQ==
ICAgIF0=
ICB9LA==
ICAidXJscyI6IFs=
ICAgIHs=
ICAgICAgImNvbW1lbnRfdGV4dCI6ICIiLA==
ICAgICAgImRpZ2VzdHMiOiB7
ICAgICAgICAiYmxha2UyYl8yNTYiOiAiZGI5MWY5OTFkNzU1ZGJlMGQzZDdiYjJhMTkzZjBlYmUwZGZkZjIwOGI4MjFhNDU1ZmY5MDYyYWNhNWU2ZTk0MSIs
ICAgICAgICAibWQ1IjogIjNjYjcxYzE0MWZkYzdkODNkZjU3YWM1MTkwOTExMTY5Iiw=
ICAgICAgICAic2hhMjU2IjogImU4NTg0MWQ5NDJmOWRhYTZkNjMxODhhYjcxOTkzMmNjMWFiNDU4ODY2MDJhMWEzY2ZlMzZjNWU1MWRlYjkyN2Ui
ICAgICAgfSw=
ICAgICAgImRvd25sb2FkcyI6IC0xLA==
ICAgICAgImZpbGVuYW1lIjogImRqYW5nby1yZWRpcy1wdWJzdWItMS4wLnRhci5neiIs
ICAgICAgImhhc19zaWciOiBmYWxzZSw=
ICAgICAgIm1kNV9kaWdlc3QiOiAiM2NiNzFjMTQxZmRjN2Q4M2RmNTdhYzUxOTA5MTExNjkiLA==
ICAgICAgInBhY2thZ2V0eXBlIjogInNkaXN0Iiw=
ICAgICAgInB5dGhvbl92ZXJzaW9uIjogInNvdXJjZSIs
ICAgICAgInJlcXVpcmVzX3B5dGhvbiI6IG51bGws
ICAgICAgInNpemUiOiAxMzAxMCw=
ICAgICAgInVwbG9hZF90aW1lIjogIjIwMTYtMDItMTJUMjA6NTA6NTIiLA==
ICAgICAgInVwbG9hZF90aW1lX2lzb184NjAxIjogIjIwMTYtMDItMTJUMjA6NTA6NTIuMzI3NTQ0WiIs
ICAgICAgInVybCI6ICJodHRwczovL2ZpbGVzLnB5dGhvbmhvc3RlZC5vcmcvcGFja2FnZXMvZGIvOTEvZjk5MWQ3NTVkYmUwZDNkN2JiMmExOTNmMGViZTBkZmRmMjA4YjgyMWE0NTVmZjkwNjJhY2E1ZTZlOTQxL2RqYW5nby1yZWRpcy1wdWJzdWItMS4wLnRhci5neiIs
ICAgICAgInlhbmtlZCI6IGZhbHNlLA==
ICAgICAgInlhbmtlZF9yZWFzb24iOiBudWxs
ICAgIH0=
ICBdLA==
ICAidnVsbmVyYWJpbGl0aWVzIjogW10=
fQ==
