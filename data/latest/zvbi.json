ew==
ICAiaW5mbyI6IHs=
ICAgICJhdXRob3IiOiAiVC4gWm9lcm5lciIs
ICAgICJhdXRob3JfZW1haWwiOiAidG9tem9AdXNlcnMuc291cmNlZm9yZ2UubmV0Iiw=
ICAgICJidWd0cmFja191cmwiOiBudWxsLA==
ICAgICJjbGFzc2lmaWVycyI6IFs=
ICAgICAgIkRldmVsb3BtZW50IFN0YXR1cyA6OiA0IC0gQmV0YSIs
ICAgICAgIkludGVuZGVkIEF1ZGllbmNlIDo6IERldmVsb3BlcnMiLA==
ICAgICAgIkxpY2Vuc2UgOjogT1NJIEFwcHJvdmVkIDo6IEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYyIChHUEx2MikiLA==
ICAgICAgIk9wZXJhdGluZyBTeXN0ZW0gOjogUE9TSVggOjogQlNEIiw=
ICAgICAgIk9wZXJhdGluZyBTeXN0ZW0gOjogUE9TSVggOjogTGludXgiLA==
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IEMiLA==
ICAgICAgIlByb2dyYW1taW5nIExhbmd1YWdlIDo6IFB5dGhvbiA6OiAzIiw=
ICAgICAgIlRvcGljIDo6IE11bHRpbWVkaWEgOjogVmlkZW8gOjogQ2FwdHVyZSI=
ICAgIF0s
ICAgICJkZXNjcmlwdGlvbiI6ICI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuWlZCSSBsaWJyYXJ5IGludGVyZmFjZSBtb2R1bGVcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblRoZSBQeXRob24gXCJaVkJJXCIgbW9kdWxlIHByb3ZpZGVzIGFuIG9iamVjdC1vcmllbnRlZCBpbnRlcmZhY2UgdG8gdGhlXG5gWlZCSSBsaWJyYXJ5YF8uIFRoZSBaVkJJIGxpYnJhcnkgYWxsb3dzIGFjY2Vzc2luZyB0ZWxldmlzaW9uIGJyb2FkY2FzdFxuZGF0YSBzZXJ2aWNlcyBzdWNoIGFzIHRlbGV0ZXh0IG9yIGNsb3NlZCBjYXB0aW9ucyB2aWEgYW5hbG9nIG9yIERWQlxudmlkZW8gY2FwdHVyZSBkZXZpY2VzLlxuXG5PZmZpY2lhbCBaVkJJIGxpYnJhcnkgZGVzY3JpcHRpb246XG5cbiAgVGhlIFpWQkkgbGlicmFyeSBwcm92aWRlcyByb3V0aW5lcyB0byBhY2Nlc3MgcmF3IFZCSSBzYW1wbGluZyBkZXZpY2VzXG4gIChjdXJyZW50bHkgdGhlIExpbnV4IERWQiAmIFY0TDIgQVBJIGFuZCB0aGUgRnJlZUJTRCwgT3BlbkJTRCxcbiAgTmV0QlNEIGFuZCBCU0RpIGJrdHIgZHJpdmVyIEFQSSBhcmUgc3VwcG9ydGVkKSwgYSB2ZXJzYXRpbGUgcmF3IFZCSVxuICBiaXQgc2xpY2VyLCBkZWNvZGVycyBmb3IgdmFyaW91cyBkYXRhIHNlcnZpY2VzIGFuZCBiYXNpYyBzZWFyY2gsIHJlbmRlclxuICBhbmQgZXhwb3J0IGZ1bmN0aW9ucyBmb3IgdGV4dCBwYWdlcy4gVGhlIGxpYnJhcnkgd2FzIHdyaXR0ZW4gZm9yIHRoZVxuICBaYXBwaW5nIFRWIHZpZXdlciBhbmQgWmFwemlsbGEgVGVsZXRleHQgYnJvd3Nlci5cblxuVGhlIFB5dGhvbiBaVkJJIG1vZHVsZSBjb3ZlcnMgYWxsIGV4cG9ydGVkIGxpYnp2YmkgZnVuY3Rpb25zLlxuXG5UaGUgUHl0aG9uIGludGVyZmFjZSBtb2R1bGUgaXMgbGFyZ2VseSBiYXNlZCBvbiBvYmplY3RzIHdoaWNoIGVuY2Fwc3VsYXRlXG50aGUgbmF0aXZlIEMgc3RydWN0dXJlcyBvZiBsaWJ6dmJpLiBPbmx5IHdoZW4gYSBQeXRob24gc2NyaXB0IGFjdHVhbGx5XG53YW50cyB0byBtYW5pcHVsYXRlIGNhcHR1cmVkIG9yIGRlY29kZWQgZGF0YSBkaXJlY3RseSAoaS5lLiBub3QgdmlhXG5saWJyYXJ5IGZ1bmN0aW9ucyksIHRoZSBzdHJ1Y3R1cmVzJyBkYXRhIGlzIGNvbnZlcnRlZCBpbnRvIFB5dGhvbiBkYXRhXG50eXBlcy4gRXZlbiB0aGVuLCBQeXRob24gbWV0aG9kcyBzdWNoIGFzIHRoZSBcImJ1ZmZlciBwcm90b2NvbFwiIGFyZSB1c2VkIHRvXG5hdm9pZCB1bm5lY2Vzc2FyeSBjb3B5aW5nLiBUaGlzIGFwcHJvYWNoIGFsbG93cyBmb3IgYSBwcmV0dHkgc25hcHB5XG5wZXJmb3JtYW5jZSBkZXNwaXRlIHRoZSBhZGRpdGlvbmFsIGludGVyZmFjZSBsYXllci5cblxuQmVzdCBzdGFydGluZyBwb2ludCB0byBnZXQgZmFtaWxpYXIgd2l0aCB0aGUgbW9kdWxlIGlzIGhhdmluZyBhIGxvb2sgYXRcbnRoZSBgQ2xhc3MgSGllcmFyY2h5YF8sIGRlc2NyaXB0aW9uIG9mIHRoZSBtYWluIGNsYXNzZXMsIGFuZCB0aGUgZXhhbXBsZVxuc2NyaXB0cyBwcm92aWRlZCBpbiB0aGUgXCJleGFtcGxlcy9cIiBzdWItZGlyZWN0b3J5LCB3aGljaCBkZW1vbnN0cmF0ZSB1c2Vcbm9mIGFsbCB0aGUgbWFpbiBjbGFzc2VzLiAoVGhlIGV4YW1wbGVzIGFyZSBhIG1vcmUgb3IgbGVzcyBkaXJlY3QgQyB0b1xuUHl0aG9uIHBvcnRzIG9mIHRoZSByZXNwZWN0aXZlIHByb2dyYW1zIGluIHRoZSBgdGVzdC9gIHN1Yi1kaXJlY3Rvcnkgb2ZcbnRoZSBsaWJ6dmJpIHNvdXJjZSB0cmVlLCBwbHVzIGEgZmV3IGFkZGl0aW9ucywgc3VjaCBhcyBhIHRlbGV0ZXh0IGxldmVsXG4yLjUgYnJvd3NlciBpbXBsZW1lbnRlZCBpbiBhcHguICAzMDAgbGluZXMgb2YgYFRrSW50ZXJgXy4pIEEgZGVzY3JpcHRpb24gb2ZcbmFsbCBleGFtcGxlIHNjcmlwdHMgY2FuIGJlIGZvdW5kIGJlbG93IGluIHNlY3Rpb24gYEV4YW1wbGVzYF8uXG5BZGRpdGlvbmFsbHkgeW91IGNhbiBsb29rIGF0IHRoZSBgWlZCSSBsaWJyYXJ5IGhvbWVgXyBhbmQgdGhlIFpWQkkgbGlicmFyeVxuZG9jdW1lbnRhdGlvbiAodW5mb3J0dW5hdGVseSBub3QgYXZhaWxhYmxlIG9ubGluZTsgYnVpbHQgdmlhIGRveHlnZW4gd2hlblxuY29tcGlsaW5nIHRoZSBsaWJyYXJ5KS5cblxuRmluYWxseSBub3RlIHRoZXJlIGlzIGFuIGVxdWl2YWxlbnRcbmBWaWRlbzo6WlZCSSBtb2R1bGUgZm9yIFBlcmxgXyAoYWxzbyBhdCBgQ1BBTmBfKVxuXG4uLiBfQ1BBTjogaHR0cHM6Ly9tZXRhY3Bhbi5vcmcvcG9kL1ZpZGVvOjpaVkJJXG4uLiBfYFZpZGVvOjpaVkJJIG1vZHVsZSBmb3IgUGVybGA6IGh0dHBzOi8vbWV0YWNwYW4ub3JnL3BvZC9WaWRlbzo6WlZCSVxuLi4gX1pWQkkgbGlicmFyeSBob21lOiBodHRwOi8vemFwcGluZy5zb3VyY2Vmb3JnZS5uZXQvWlZCSS9pbmRleC5odG1sXG5cbkluc3RhbGxhdGlvblxuLS0tLS0tLS0tLS0tXG5cblRoZSBQeXRob24gbW9kdWxlIHdvcmtzIG9uIGFsbCBwbGF0Zm9ybXMgc3VwcG9ydGVkIGJ5IHRoZSBaVkJJIGxpYnJhcnksXG53aGljaCBhcmU6XG5cbiogTGludXhcbiogRnJlZUJTRFxuKiBOZXRCU0RcbiogT3BlbkJTRFxuXG5QcmUtcmVxdWlzaXRlIHRvIGluc3RhbGxhdGlvbiBpcyBhIEMgY29tcGlsZXIgYW5kIChvYnZpb3VzbHkpIHRoZVxuYFpWQkkgbGlicmFyeWBfIChvbGRlc3Qgc3VwcG9ydGVkIHZlcnNpb24gaXMgMC4yLjI2KSB3aGljaCBpbiB0dXJuXG5yZXF1aXJlcyB0aGUgcHRocmVhZHMgYW5kIFBORyBsaWJyYXJpZXMuICBOb3RlIHRoZXJlIGFyZSBub1xuZGVwZW5kZW5jaWVzIG9uIG90aGVyIFB5dGhvbiBtb2R1bGVzIGJ5IHRoZSBtb2R1bGUgaXRzZWxmLiBTb21lIG9mXG50aGUgcHJvdmlkZWQgZXhhbXBsZSBzY3JpcHRzIGhvd2V2ZXIgZGVwZW5kIG9uIGBUa2ludGVyYF8uXG5cbi4uIF9aVkJJIGxpYnJhcnk6IGh0dHA6Ly96YXBwaW5nLnNvdXJjZWZvcmdlLm5ldC9aVkJJL2luZGV4Lmh0bWxcbi4uIF9Ua2ludGVyOiBodHRwczovL2RvY3MucHl0aG9uLm9yZy8zL2xpYnJhcnkvdGsuaHRtbFxuXG5UaGUgZm9sbG93aW5nIGlzIGEgY29weSBvZiB0aGUgQVBJIGRvY3VtZW50YXRpb24gaW4gZmlsZSBkb2MvWlZCSS5yc3RcblxuXG5TWU5PUFNJU1xuPT09PT09PT1cblxuOjpcblxuICBpbXBvcnQgWnZiaVxuXG4gIGNhcCA9IFp2YmkuQ2FwdHVyZShcIi9kZXYvZHZiL2FkYXB0ZXIwL2RlbXV4MFwiLCBkdmJfcGlkPTEwNClcblxuICB2dGRlYyA9IFp2YmkuU2VydmljZURlYygpXG4gIHZ0ZGVjLmV2ZW50X2hhbmRsZXJfcmVnaXN0ZXIoWnZiaS5WQklfRVZFTlRfVFRYX1BBR0UsIHBnX2hhbmRsZXIpXG5cbiAgd2hpbGUgVHJ1ZTpcbiAgICAgIHNsaWNlZF9idWZmZXIgPSBjYXAucHVsbF9zbGljZWQoMjAwMClcbiAgICAgIHZ0ZGVjLmRlY29kZShzbGljZWRfYnVmZmVyKVxuXG4gIGRlZiBwZ19oYW5kbGVyKHBndHlwZSwgZXYsIHVzZXJfZGF0YT1Ob25lKTpcbiAgICAgIHdpdGggdnRkZWMuZmV0Y2hfdnRfcGFnZShldi5wZ25vKSBhcyBwZzpcbiAgICAgICAgICBwZy5nZXRfcGFnZV90ZXh0KClcbiAgICAgICAgICAjLi4uXG5cblxuREVTQ1JJUFRJT05cbj09PT09PT09PT09XG5cblRoaXMgbW9kdWxlIHByb3ZpZGVzIGEgUHl0aG9uIGludGVyZmFjZSB0byAqKmxpYnp2YmkqKi5cblRoZSBaVkJJIGxpYnJhcnkgYWxsb3dzIGFjY2Vzc2luZyB0ZWxldmlzaW9uIGJyb2FkY2FzdCBkYXRhIHNlcnZpY2VzIHN1Y2hcbmFzIHRlbGV0ZXh0IG9yIGNsb3NlZCBjYXB0aW9ucyB2aWEgYW5hbG9nIG9yIERWQiB2aWRlbyBjYXB0dXJlIGRldmljZXMuXG5cbk9mZmljaWFsIGxpYnJhcnkgZGVzY3JpcHRpb246XG5cIlRoZSBaVkJJIGxpYnJhcnkgcHJvdmlkZXMgcm91dGluZXMgdG8gYWNjZXNzIHJhdyBWQkkgc2FtcGxpbmcgZGV2aWNlc1xuKGN1cnJlbnRseSB0aGUgTGludXggRFZCICYgVjRMMiBBUElzIGFuZCB0aGUgRnJlZUJTRCwgT3BlbkJTRCxcbk5ldEJTRCBhbmQgQlNEaSBia3RyIGRyaXZlciBBUEkgYXJlIHN1cHBvcnRlZCksIGEgdmVyc2F0aWxlIHJhdyBWQklcbmJpdCBzbGljZXIsIGRlY29kZXJzIGZvciB2YXJpb3VzIGRhdGEgc2VydmljZXMgYW5kIGJhc2ljIHNlYXJjaCwgcmVuZGVyXG5hbmQgZXhwb3J0IGZ1bmN0aW9ucyBmb3IgdGV4dCBwYWdlcy4gVGhlIGxpYnJhcnkgd2FzIHdyaXR0ZW4gZm9yIHRoZVxuWmFwcGluZyBUViB2aWV3ZXIgYW5kIFphcHppbGxhIFRlbGV0ZXh0IGJyb3dzZXIuXCJcblxuVGhlICpadmJpKiBQeXRob24gbW9kdWxlIGNvdmVycyBhbGwgZXhwb3J0ZWQgbGlienZiaSBmdW5jdGlvbnMuIE1vc3Qgb2ZcbnRoZSBsaWJhcnkgZnVuY3Rpb25zIGFuZCBwYXJhbWV0ZXJzIGFyZSBleHBvc2VkIGVxdWl2YWxlbnRseSwgd2l0aFxuYWRhcHRpb25zIHRvIHJlbmRlciB0aGUgaW50ZXJmYWNlICpQeXRob25pYyouXG5cbk5vdGU6IFRoaXMgbWFudWFsIHBhZ2UgZG9lcyBub3QgcmVwcm9kdWNlIHRoZSBmdWxsIGRvY3VtZW50YXRpb24gcHJvdmlkZWRcbmJ5IGxpYnp2YmkgYnkgbWVhbnMgb2YgZG94eWdlbjogV2hpbGUgbWV0aG9kIGFuZCBwYXJhbWV0ZXIgZGVzY3JpcHRpb25zXG5hcmUgZnVsbHkgaW5jbHVkZWQsIHNvbWUgZGF0YSBzdHJ1Y3R1cmVzIG1heSBub3QgYmUgbm90IGZ1bGx5IGRvY3VtZW50ZWRcbmhlcmUuICBIZW5jZSB3aGVuIGFkZGl0aW9uYWwgZGV0YWlscyBhcmUgbmVlZGVkLCBpdCdzIHJlY29tbWVuZGVkIHRvIGxvb2tcbmF0IGxpYnp2YmkgZG9jdW1lbnRhdGlvbiwgb3IgZGlyZWN0bHkgYXQgaXRzIHNvdXJjZSBjb2RlLlxuXG5DbGFzcyBIaWVyYXJjaHlcbj09PT09PT09PT09PT09PVxuXG5UaGUgZm9sbG93aW5nIGlzIGFuIG92ZXJ2aWV3IGhvdyBmdW5jdGlvbmFsaXR5IHByb3ZpZGVkIGJ5ICpsaWJ6dmJpKiBpc1xuc3RydWN0dXJlZCBpbnRvIGNsYXNzZXMsIGFuZCBob3cgdGhlIGNsYXNzZXMgYXJlIGNvbm5lY3RlZDpcblxuYFp2YmkuQ2FwdHVyZWBfXG4gICAgVGhpcyBjbGFzcyBhbGxvd3MgcmVjZWl2aW5nIGRhdGEgdGhyb3VnaCBhIHZpZGVvIGRldmljZS4gRm9yXG4gICAgZGlnaXRhbCB0ZWxldmlzaW9uIHRyYW5zbWlzc2lvbnMgKERWQikgdGhpcyBtb3N0bHkgaW52b2x2ZXMgZGVtdWx0aXBsZXhpbmdcbiAgICBvZiB0aGUgZGF0YSBzZXJ2aWNlIHN1Yi1zdHJlYW0gZnJvbSB0aGUgb3ZlcmFsbCB0cmFuc21pc3Npb24gc3RyZWFtLlxuICAgIEZvciBhbmFsb2cgdGVsZXZpc2lvbiB0cmFuc21pc3Npb24gdGhpcyBpbnZvbHZlcyBjYXB0dXJpbmcgc2VsZWN0ZWRcbiAgICBsaW5lcyB3aXRoaW4gdGhlIFZlcnRpY2FsIEJsYW5raW5nIEludGVydmFsIChWQkkpIGFuZCBcImRlbW9kdWxhdGluZ1wiXG4gICAgdGhlIGRpZ2l0aXplZCB3YXZlIGZvcm0gdG8gcmF3IGRhdGEuXG5gWnZiaS5DYXB0dXJlUmF3QnVmYF8gYW5kIGBadmJpLkNhcHR1cmVTbGljZWRCdWZgX1xuICAgIFRoZXNlIGFyZSBjb250YWluZXIgY2xhc3NlcywgdXNlZCBmb3IgZWZmaWNpZW50bHkgdHJhbnNmZXJyaW5nIGRhdGFcbiAgICBnZW5lcmF0ZWQgYnkgdGhlICpyZWFkKiBhbmQgKnB1bGwqIG1ldGhvZHMgb2YgdGhlICpDYXB0dXJlKiBjbGFzcyxcbiAgICB1c3VhbGx5IHRvICpkZWNvZGUqIG1ldGhvZHMgb2YgY2xhc3NlcyAqUmF3RGVjKiBvciAqU2VydmljZURlYypcbiAgICByZXNwZWN0aXZlbHkuIEFsdGVybmF0aXZlbHkgb25lIGNhbiBleHRyYWN0IGRhdGEgZnJvbSB0aGUgYnVmZmVyc1xuICAgIGZvciBkaXJlY3QgcHJvY2Vzc2luZyB3aXRoaW4gYSBQeXRob24gc2NyaXB0LlxuYFp2YmkuUmF3RGVjYF9cbiAgICBUaGlzIGNsYXNzIGNhbiBvcHRpb25hbGx5IGJlIHVzZWQgZm9yIG1hbnVhbGx5IHByb2Nlc3NpbmcgcmF3IGRhdGFcbiAgICAoaS5lLiAgZGlyZWN0IG91dHB1dCBvZiB0aGUgYW5hbG9nLXRvLWRpZ2l0YWwgY29udmVyc2lvbiBvZiB0aGUgdmlkZW9cbiAgICBzaWduYWwpIG9wdGlvbmFsbHkgcmV0dXJuZWQgYnkgdGhlICpDYXB0dXJlKiBjbGFzcyB2aWEgKnB1bGxfcmF3KCkqXG4gICAgbWV0aG9kcyBldC5hbC4gRm9yIG1vc3QgdXNlLWNhc2VzIHRoZSBwcm9jZXNzaW5nIChzby1jYWxsZWQgXCJzbGljaW5nXCIpXG4gICAgZG9uZSB1bmRlciBjb250cm9sIG9mIHRoZSAqQ2FwdHVyZSogY2xhc3MgdXNpbmcgKnB1bGxfc2xpY2VkKCkqIHNob3VsZFxuICAgIGJlIHN1ZmZpY2llbnQsIHNvIHRoaXMgY2xhc3MgaXMgdXN1YWxseSBub3QgbmVlZGVkLiBUaGlzIGNsYXNzIGlzIG5vdFxuICAgIGFwcGxpY2FibGUgZm9yIERWQi5cbmBadmJpLlByb3h5YF9cbiAgICBUaGlzIGNsYXNzIGFsbG93cyBhY2Nlc3NpbmcgVkJJIGRldmljZXMgdmlhIGEgcHJveHkgZGFlbW9uLiBBblxuICAgIGluc3RhbmNlIG9mIHRoaXMgY2xhc3Mgd291bGQgYmUgcHJvdmlkZWQgdG8gdGhlICpDYXB0dXJlKiBjbGFzc1xuICAgIGNvbnN0cnVjdG9yLiAgVXNpbmcgdGhlIHByb3h5IGluc3RlYWQgb2YgY2FwdHVyaW5nIGRpcmVjdGx5IGZyb20gYSBWQklcbiAgICBkZXZpY2UgYWxsb3dzIG11bHRpcGxlIGFwcGxpY2F0aW9ucyB0byBjYXB0dXJlIGNvbmN1cnJlbnRseSAoZS5nLiBmb3JcbiAgICBkZWNvZGluZyBtdWx0aXBsZSBkYXRhIHNlcnZpY2VzKS4gTm90IGFwcGxpY2FibGUgdG8gRFZCLCBhcyB0aGUgcHJveHlcbiAgICBkb2VzIG5vdCBzdXBwb3J0IERWQi4gIChBbHNvIGF0IGxlYXN0IHRoZSBMaW51eCBEVkIgZHJpdmVyIGFsbG93c1xuICAgIG11bHRpcGxlIGFwcGxpY2F0aW9ucyByZWFkaW5nIHRoZSBzYW1lIHN0cmVhbSBjb25jdXJyZW50bHkuKVxuYFp2YmkuU2VydmljZURlY2BfXG4gICAgQ2xhc3MgcGVyZm9ybWluZyBoaWdoIGxldmVsIGRlY29kaW5nIG9mIGFsbCBzdXBwb3J0ZWQgc2VydmljZXMgYW5kXG4gICAgc3RvcmluZyB0aGUgZGF0YSBpbiBhbiBpbnRlcm5hbCBjYWNoZS4gVGhlIGNsYXNzIHRha2VzIGlucHV0IChcInNsaWNlZFxuICAgIGRhdGFcIikgZnJvbSB0aGUgKkNhcHR1cmUqIGNsYXNzLiBUaGUgY2xhc3Mgc3VwcG9ydHMgY2FsbGJhY2sgZnVuY3Rpb25zXG4gICAgZm9yIG5vdGlmaWNhdGlvbnMgYWJvdXQgcmVjZWl2ZWQgZGF0YTsgdmFyaW91cyBpbnRlcmZhY2VzIGFsbG93XG4gICAgZXh0cmFjdGluZyB0aGUgZGF0YSBpbiBmb3JtIG9mIGluc3RhbmNlcyBvZiB0aGUgKlBhZ2UqIGNsYXNzLCBvciBhcyBhblxuICAgIGltYWdlIGluIFBQTSBvciBYUE0gZm9ybWF0cy5cbmBadmJpLlNlYXJjaGBfXG4gICAgVGhpcyBjbGFzcyBhbGxvd3Mgc2VhcmNoaW5nIHRoZSBjYWNoZSBtYWludGFpbmVkIGJ5ICpTZXJ2aWNlRGVjKiBmb3JcbiAgICBwYWdlcyB3aXRoIHRleHQgbWF0Y2hpbmcgYSBwYXR0ZXJuLiBUaGUgc2VhcmNoIHJldHVybnMgaW5zdGFuY2VzIG9mXG4gICAgY2xhc3MgKlBhZ2UqLlxuYFp2YmkuUGFnZWBfXG4gICAgSW5zdGFuY2VzIG9mIHRoaXMgY2xhc3MgYXJlIHByb2R1Y2VkIGJ5IHRoZSAqU2VydmljZURlYyogcXVlcnlcbiAgICBmdW5jdGlvbnMgb3IgKlNlYXJjaCouIEVhY2ggaW5zdGFuY2UgcmVwcmVzZW50cyBhIHRlbGV0ZXh0IChzdWItKXBhZ2VcbiAgICBvciBDbG9zZWQgQ2FwdGlvbiBwYWdlLiBUaGUgY2xhc3MgaGFzIHZhcmlvdXMgaW50ZXJmYWNlcyBmb3JcbiAgICBleHRyYWN0aW5nIHRoZSB0ZXh0IGFuZCBwcm9wZXJ0aWVzIG9mIHRoZSBwYWdlIGNvbnRlbnQuXG5gWnZiaS5FeHBvcnRgX1xuICAgIFRoaXMgY2xhc3MgYWxsb3dzIHJlbmRlcmluZyBhbiBpbnN0YW5jZSBvZiAqUGFnZSogaW4gc3BlY2lmaWMgZm9ybWF0cyxcbiAgICBmb3IgZXhhbXBsZSBhcyBwbGFpbi10ZXh0IG9yIGltYWdlIGluIHZhcmlvdXMgZm9ybWF0cyBzdWNoIGFzIFBORyBvclxuICAgIFBQTS4gVGhlIHJlc3VsdCBjYW4gYmUgcmV0dXJuZWQgd2l0aGluIGEgUHl0aG9uIHN0cmluZyBvciBhICpieXRlcypcbiAgICBvYmplY3QgcmVzcGVjdGl2ZWx5LCBvciB3cml0dGVuIGRpcmVjdGx5IHRvIGEgZmlsZS5cblxuSW4gc3VtbWFyeTogRm9yIHJlY2VpdmluZyBsaXZlIGRhdGEsIHlvdSdsbCBuZWVkIGF0IGxlYXN0IGFuIGluc3RhbmNlIG9mXG50aGUgKkNhcHR1cmUqIGNsYXNzLiBZb3VyIGFwcGxpY2F0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciBjYWxsaW5nIHRoZVxuY2FwdHVyZSBpbnRlcmZhY2UgYXQgMjUgb3IgMzAgSHogaW50ZXJ2YWxzIChpZGVhbGx5IHVzaW5nIGEgc2VwYXJhdGVcbnRocmVhZCB0aGF0IGJsb2NrcyBvbiB0aGUgY2FwdHVyZSBmdW5jdGlvbiwgb3IgZWxzZSB1c2luZyBhc3luYyBJL08gdmlhXG5zZWxlY3QvcG9sbCBvciBwb2xsaW5nIHZpYSBhIHRpbWVyKS4gRm9yIHN0YW5kYXJkIHNlcnZpY2VzIHN1Y2ggYXNcblRlbGV0ZXh0LCBDbG9zZWQgQ2FwdGlvbiwgV1NTIG9yIG5ldHdvcmsgaWRlbnRpZmljYXRpb24geW91J2xsIG5lZWQgdG9cbmZlZWQgdGhlIGNhcHR1cmVkIGRhdGEgaW50byBhbiBpbnN0YW5jZSBvZiB0aGUgKlNlcnZpY2VEZWMqIGNsYXNzLCB3aGljaFxudGhlbiBkcml2ZXMgZnVydGhlciBwcm9jZXNzaW5nIHZpYSBjYWxsYmFjayBub3RpZmljYXRpb25zLiAgRm9yIG90aGVyXG5zZXJ2aWNlcyB5b3UgbWF5IHVzZSB0aGUgZGUtbXVsdGlwbGV4ZXJzIGxpc3RlZCBiZWxvdywgb3IgcHJvY2VzcyB0aGUgZGF0YVxud2l0aGluIHlvdXIgYXBwbGljYXRpb24gZGlyZWN0bHkuIEFmdGVyIHRoYXQgaXQgZGVwZW5kcyBvbiB5b3VyXG5hcHBsaWNhdGlvbiB3aGljaCBpbnRlcmZhY2VzL2NsYXNzZXMgeW91IHdhbnQgdG8gdXNlIGZvciBmdXJ0aGVyXG5wcm9jZXNzaW5nIG9mIGRlY29kZWQgZGF0YS5cblxuU3BlY2lhbC1wdXJwb3NlIGNsYXNzZXMgZm9yIERWQjpcblxuYFp2YmkuRHZiRGVtdXhgX1xuICAgIENsYXNzIHBlcmZvcm1pbmcgZGUtbXVsdGlwbGV4aW5nIG9mIGEgdHJhbnNwb3J0IHN0cmVhbSByZWNlaXZlZCBmcm9tIGFcbiAgICBEVkIgZHJpdmVyLCBpLmUuIHNlcGFyYXRpbmcgXCJWQklcIiBkYXRhIGZyb20gYSBEVkIgUEVTIHN0cmVhbSAoRU4gMzAxXG4gICAgNDcyLCBFTiAzMDEgNzc1KS4gTm90ZSB0aGlzIGNsYXNzIGlzIHVzZWQgaW50ZXJuYWxseSBieSB0aGVcbiAgICAqWnZiaS5DYXB0dXJlKiBjbGFzcyBmb3IgZGUtbXVsdGlwbGV4aW5nLiBZb3Ugc2hvdWxkIG9ubHkgdXNlIHRoaXNcbiAgICBjbGFzcyBkaXJlY3RseSB3aGVuIHRoZSBkYXRhIGRvZXMgbm90IG9yaWdpbmF0ZSBmcm9tIGEgbG9jYWwgZGV2aWNlLlxuYFp2YmkuRHZiTXV4YF9cbiAgICBUaGlzIGNsYXNzIGNvbnZlcnRzIHNsaWNlZCBhbmQgb3B0aW9uYWxseSByYXcgVkJJIGRhdGEgdG8gYSBEVkJcbiAgICBQYWNrZXRpemVkIEVsZW1lbnRhcnkgU3RyZWFtIG9yIFRyYW5zcG9ydCBTdHJlYW0gYXMgZGVmaW5lZCBpbiBFTiAzMDBcbiAgICA0NzIgXCJEaWdpdGFsIFZpZGVvIEJyb2FkY2FzdGluZyAoRFZCKTsgU3BlY2lmaWNhdGlvbiBmb3IgY29udmV5aW5nXG4gICAgSVRVLVIgU3lzdGVtIEIgVGVsZXRleHQgaW4gRFZCIGJpdC1zdHJlYW1zXCIgYW5kIEVOIDMwMSA3NzUgXCJEaWdpdGFsXG4gICAgVmlkZW8gQnJvYWRjYXN0aW5nIChEVkIpOyBTcGVjaWZpY2F0aW9uIGZvciB0aGUgY2FycmlhZ2Ugb2YgVmVydGljYWxcbiAgICBCbGFua2luZyBJbmZvcm1hdGlvbiAoVkJJKSBkYXRhIGluIERWQiBiaXQtc3RyZWFtc1wiLlxuXG5UaGUgZm9sbG93aW5nIGNsYXNzZXMgYXJlIGZvciBkZS1tdWx0aXBsZXhpbmcgZGF0YSBzZXJ2aWNlcyB0cmFuc21pdHRlZFxud2l0aGluIHRlbGV0ZXh0IHBhY2tldHMuIEZvciBQRkMgYW5kIElETCwgbGlienZiaSBvbmx5IHN1cHBvcnRzIHRoZVxucHJvdG9jb2wsIGJ1dCB0aGUgYXBwbGljYXRpb24gaGFzIHRvIGRlY29kZSBhbmQgc3RvcmUgcGF5bG9hZCBkYXRhLiBYRFMgaXNcbnN1cHBvcnRlZCBieSBgWnZiaS5TZXJ2aWNlRGVjYF8gKGRlY29kaW5nIGFuZCBldmVudCBub3RpZmljYXRpb25zKS4gTW9zdFxubGlrZWx5IG5vbmUgb2YgdGhlc2UgcHJvdG9jb2xzIGFyZSB1c2VkIGFueW1vcmUsIGFzIHRoZXkgd2VyZSBpbnRlbmRlZCBmb3JcbnVzZSB2aWEgYW5hbG9nIHRlbGV2aXNpb24gYnJvYWRjYXN0OlxuXG5gWnZiaS5JZGxEZW11eGBfXG4gICAgVGhpcyBjbGFzcyBhbGxvd3MgZGVjb2RpbmcgZGF0YSB0cmFuc21pc3Npb25zIHdpdGhpbiBhIFRlbGV0ZXh0XG4gICAgcGFja2V0IHN0cmVhbSB1c2luZyAqSW5kZXBlbmRlbnQgRGF0YSBMaW5lKiBwcm90b2NvbCAoRU4gMzAwIDcwOCBzZWN0aW9uIDYpLFxuICAgIGkuZS4gZGF0YSB0cmFuc21pc3Npb25zIGJhc2VkIG9uIHBhY2tldCA4LzMwLlxuYFp2YmkuUGZjRGVtdXhgX1xuICAgIENsYXNzIGZvciBzZXBhcmF0aW5nIGRhdGEgdHJhbnNtaXR0ZWQgaW4gKlBhZ2UgRnVuY3Rpb24gQ2xlYXIqIHRlbGV0ZXh0XG4gICAgcGFja2V0cyAoRVRTIDMwMCA3MDggc2VjdGlvbiA0KSwgaS5lLiB1c2luZyByZWd1bGFyIHBhY2tldHMgb24gYSBkZWRpY2F0ZWRcbiAgICB0ZWxldGV4dCBwYWdlLiBIaXN0b3JpY2FsbHkgdGhpcyBwcm90b2NvbCB3YXMgdXNlZCBmb3IgKk5leHR2aWV3IEVQRyosXG4gICAgKGkuZS4gYW4gRWxlY3Ryb25pYyBQcm9ncmFtbWluZyBHdWlkZSBmb3IgYW5hbG9nIHRlbGV2aXNpb24pLlxuYFp2YmkuWGRzRGVtdXhgX1xuICAgIENsYXNzIGZvciBzZXBhcmF0aW5nICpFeHRlbmRlZCBEYXRhIFNlcnZpY2UqIGZyb20gYSBDbG9zZWQgQ2FwdGlvbiBzdHJlYW1cbiAgICAoRUlBIDYwOCkuIFRoaXMgc2VydmljZSBhbGxvd3MgdG8gdHJhbnNtaXQgXCJub3cgJiBuZXh0XCIgRVBHIGRhdGEgaW5cbiAgICBhZGRpdGlvbiB0byBzdWItdGl0bGVzLlxuXG4uLiBfWnZiaS5DYXB0dXJlOlxuXG5DbGFzcyBadmJpLkNhcHR1cmVcbj09PT09PT09PT09PT09PT09PVxuXG5UaGlzIGNsYXNzIGlzIHVzZWQgZm9yIG9wZW5pbmcgYSBEVkIgb3IgYW5hbG9nIFwiVkJJXCIgZGV2aWNlIGFuZCBzdGFydFxucmVjZWl2aW5nIGRhdGEgZnJvbSBpdC4gIFRoZSBjbGFzcyBkb2VzIG5vdCBzdXBwb3J0IHR1bmluZyBvZiBhIGNoYW5uZWwuXG5cblNpbmNlIHBhcmFtZXRlcnMgZm9yIGNhcHR1cmluZyBmcm9tIERWQiBoYXZlIGxpdHRsZSBvdmVybGFwIHdpdGggdG9zZSBmb3JcbmFuYWxvZyBkZXZpY2VzLCB0aGVyZSBpc24ndCBhIHNpbmdsZSBjb25zdHJ1Y3Rvci4gSW5zdGVhZCB0aGVyZSBhcmUgdHdvXG5zdGF0aWMgbWV0aG9kcyB3aGljaCBjb25zdHJ1Y3QgYW4gaW5zdGFuY2UuIFRoZSBjbGFzcyBjYW5ub3QgYmVcbmluc3RhbnRpYXRlZCBkaXJlY3RseS4gTmV2ZXJ0aGVsZXNzLCB0aGUgY2FwdHVyZSBpbnN0YW5jZXMgY3JlYXRlZCBieSB0aGVcbmZhY3RvcnkgZnVuY3Rpb25zIGNhbiBiZSB1c2VkIGVxdWl2YWxlbnRseSBmb3IgYWxsIG90aGVyIGNsYXNzIG1ldGhvZHMuXG5cbkFmdGVyIGNyZWF0aW5nIGFuIGluc3RhbmNlLCBvbmUgb2YgdGhlICpyZWFkKiBvciAqcHVsbCogbWV0aG9kcyAoc2VlIGJlbG93XG5mb3IgaGludHMgd2hpY2ggb25lIHRvIHVzZSkgaGF2ZSB0byBiZSBjYWxsZWQgcGVyaW9kaWNhbGx5IGZvciByZXRyaWV2aW5nXG50aGUgZGF0YS4gIFVzdWFsbHkgdGhpcyBpcyBkb25lIHdpdGhpbiBhIHF1YXNpLWluZmluaXRlIFwid2hpbGVcIiBsb29wXG4ocG9zc2libHkgaW4gYSBzZXBhcmF0ZSB0aHJlYWQpLCBidXQgbW9zdCBkZXZpY2VzIHdpbGwgc3VwcG9ydCBcInNlbGVjdCgpXCJcbmFuZCB0aHVzIGFsbG93IGFzeW5jaHJvbm91cyBJL08gdmlhIGV2ZW50IGhhbmRsZXJzLiBJZiBldmVyeXRoaW5nIGVsc2VcbmZhaWxzLCB5b3UgY2FuIGFsc28gdXNlIHBvbGxpbmcgaW4gZml4ZWQgaW50ZXJ2YWxzIHNsaWdodGx5IGxvd2VyIHRoYW4gdGhlXG4oaW50ZXJsYWNlZCkgdmlkZW8gZnJhbWUgcmF0ZSAoZS5nLiAyKjMwIEh6IGZvciBOVFNDLCAyKjI1IEh6IGZvciBQQUwpXG5cblVwb24gZmFpbHVyZSwgdGhlIGNvbnN0cnVjdG9yIGFuZCBhbGwgbWVtYmVyIGZ1bmN0aW9ucyByYWlzZSBleGNlcHRpb25cbipadmJpLkNhcHR1cmVFcnJvciosIGNvbnRhaW5pbmcgYSBzdHJpbmcgZGVzY3JpYmluZyB0aGUgY2F1c2UuIChBZGRpdGlvbmFsXG5leGNlcHRpb24gdHlwZXMgbWF5IGJlIHVzZWQgZm9yIHNwZWNpZmljIGVycm9yIGNhc2VzLilcblxuVGhlIGNhcHR1cmUgZGV2aWNlIGlzIGF1dG9tYXRpY2FsbHkgY2xvc2VkIHdoZW4gdGhlICpadmJpLkNhcHR1cmUqIG9iamVjdFxuaXMgZGVzdHJveWVkLlxuXG5UaGVyZSBhcmUgdHdvIGRpZmZlcmVudCB0eXBlcyBvZiBjYXB0dXJlIGZ1bmN0aW9uczogVGhlIGZ1bmN0aW9ucyBuYW1lZFxuKnJlYWQqIGNvcHkgY2FwdHVyZWQgZGF0YSBpbnRvIGEgYnl0ZXMgb2JqZWN0ICh3aGVyZSB0aGUgY29weWluZyBpc1xudXN1YWxseSBkb25lIGF0IGRldmljZSBkcml2ZXIgbGV2ZWwpLiBJbiBjb250cmFzdCB0aGUgZnVuY3Rpb25zIG5hbWVkXG4qcHVsbCogbGVhdmUgdGhlIGRhdGEgaW4gaW50ZXJuYWwgYnVmZmVycyBpbnNpZGUgdGhlIGNhcHR1cmUgY29udGV4dFxuYW5kIGp1c3QgcmV0dXJuIGEgcmVmZXJlbmNlIHRvIHRoaXMgYnVmZmVyLiBVc3VhbGx5IHRoaXMgYWxsb3dzIHRoZSBkZXZpY2VcbmRyaXZlciB0byBhdm9pZCBhbnkgY29weWluZywgaG93ZXZlciBub3QgYWxsIGRldmljZXMgc3VwcG9ydCB0aGlzIChlLmcuXG50aGUgTGludXggRFZCIGRyaXZlciBkb2VzIG5vdCBzdXBwb3J0LCBpLmUuIHRoZXJlIGlzIG5vIGRpZmZlcmVuY2UgaW5cbnBlcmZvcm1hbmNlIGJldHdlZW4gKnJlYWQqIGFuZCAqcHVsbCopLiBUaGVyZWZvcmUgeW91IGdlbmVyYWxseSBzaG91bGRcbnByZWZlciB1c2Ugb2YgdGhlICpwdWxsKiBmdW5jdGlvbnM7IG9ubHkgd2hlbiBjYXB0dXJpbmcgcmF3IGRhdGEgZm9yXG5wcm9jZXNzaW5nIGJ5IFB5dGhvbiBkaXJlY3RseSwgcHJlZmVyICpyZWFkX3JhdygpKiBhcyB0aGUgZGF0YSBuZWVkc1xudG8gYmUgY29waWVkIGludG8gYSBwZXJtYW5lbnQgYnVmZmVyIGFueXdheS5cblxuSWYgeW91IGRvIG5vdCBuZWVkIFwicmF3XCIgZGF0YSAoaS5lLiBpZiB5b3UgZG8gbm90IHVzZSB0aGUgYFp2YmkuUmF3RGVjYF9cbmNsYXNzLCB5b3Ugc2hvdWxkIHVzZSAqcHVsbF9zbGljZWQoKSogb3IgKnJlYWRfc2xpY2VkKCkqIGluc3RlYWQgb2ZcbipwdWxsKCkqIG9yICpyZWFkKCkqIHRvIGF2b2lkIHRoZSBvdmVyaGVhZCBvZiByZXR1cm5pbmcgcmF3IGRhdGEgKHdoaWNoXG5oYXMgaGlnaCBiYW5kd2lkdGgpLiBEVkIgZGV2aWNlcyB3aWxsIG5vdCByZXR1cm4gcmF3IGRhdGEgcmVnYXJkbGVzcyBvZlxudGhlIGNob3NlbiBpbnRlcmZhY2UuXG5cbioqTXVsdGl0aHJlYWRpbmcqKjogVGhlIGBadmJpLkNhcHR1cmVgXywgYFp2YmkuUmF3RGVjYF8sXG5gWnZiaS5TZXJ2aWNlRGVjYF8gYW5kIGBadmJpLlNlYXJjaGBfIGNsYXNzZXMgYXJlIHRocmVhZC1zYWZlIGluc29mYXIgYXNcbnRoZXkgYWxsb3cgcnVubmluZyB0aGUgY2FwdHVyZSBsb29wIChpbmNsdWRpbmcgcmF3IGRlY29kZXIpIGFuZCBzZXJ2aWNlXG5kZWNvZGVyIGluIG9uZSB0aHJlYWQsIGFuZCBmdXJ0aGVyIGV2ZW50IHByb2Nlc3Npbmcgb3IgYSB1c2VyLWludGVyZmFjZSBpblxuYW5vdGhlciB0aHJlYWQuIFRoZSBsYXR0ZXIgbWF5IGludGVyYWN0IHdpdGggdGhlIGNhcHR1cmUvZGVjb2RlciB0aHJlYWRcbnZpYSBjb25maWd1cmF0aW9uIGFuZCBxdWVyeSBpbnRlcmZhY2VzLlxuU2VlIGBleGFtcGxlcy9zZWFyY2gtdHR4LnB5YCBmb3IgYW4gZXhhbXBsZSB1c2luZyBtdWx0aS10aHJlYWRpbmcuXG5cblxuWnZiaS5DYXB0dXJlLkR2YigpXG4tLS0tLS0tLS0tLS0tLS0tLS1cblxuVGhpcyAqc3RhdGljKiBtZXRob2QgY3JlYXRlcyBhbmQgcmV0dXJucyBhbiBpbnN0YW5jZSBvZiAqWnZiaS5DYXB0dXJlKiBmb3JcbkRWQiBkZXZpY2VzLiA6OlxuXG4gICBjYXAgPSBadmJpLkNhcHR1cmUuRHZiKGRldiwgZHZiX3BpZD0wLCB0cmFjZT1GYWxzZSlcblxuSW5wdXQgcGFyYW1ldGVyczpcblxuOmRldjpcbiAgICBQYXRoIG9mIHRoZSBkZXZpY2UgdG8gb3BlbiAoZm9yIExpbnV4IHVzdWFsbHlcbiAgICBgL2Rldi9kdmIvYWRhcHRlcjAvZGVtdXgwYClcbjpkdmJfcGlkOlxuICAgIFNwZWNpZmllcyB0aGUgbnVtYmVyIChQSUQpIG9mIGEgc3RyZWFtIHdoaWNoIGNvbnRhaW5zIFZCSSBkYXRhLCB3aGVuXG4gICAgdGhlIGRldmljZSBpcyBhIERWQiBjYXB0dXJlIGNhcmQuIEVsc2UgdGhlIHBhcmFtZXRlciBoYXMgbm8gZWZmZWN0LlxuICAgIElmIHlvdSBvbWl0IHRoaXMgdmFsdWUsIHlvdSBuZWVkIHRvIGNvbmZpZ3VyZSBpdCBhZnRlcndhcmRzIHVzaW5nXG4gICAgYFp2YmkuQ2FwdHVyZS5kdmJfZmlsdGVyKClgXywgb3RoZXJ3aXNlIHRoZXJlIHdpbGwgYmUgbm8gcmVjZXB0aW9uLlxuOnRyYWNlOlxuICAgIElmIHRoaXMgb3B0aW9uIGlzIHByZXNlbnQgYW5kICpUcnVlKiwgb3V0cHV0IG9mIHByb2dyZXNzIG1lc3NhZ2VzIG9uXG4gICAgYHN5cy5zdGRlcnJgIGlzIGVuYWJsZWQuXG5cbk5vdGUgdGhlIFZCSSBQSUQgdmFsdWUgY2FuIG9mdGVuIGJlIGRlcml2ZWQgZnJvbSB0aGUgUElEIGZvciB2aWRlbyBpblxuYGNoYW5uZWxzLmNvbmZgIGJ5IGFkZGluZyBvZmZzZXRzIGluIHJhbmdlIDMgdG8gMzAuIEFsdGVybmF0aXZlbHkgeW91IGNhblxubG9vayB1cCB0aGUgUElEIHZpYSBJbnRlcm5ldCBzZXJ2aWNlcyBzdWNoIGFzIDxodHRwczovL3d3dy5zYXRpbmRleC5kZS8+LlxuXG5admJpLkNhcHR1cmUuQW5hbG9nKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5UaGlzICpzdGF0aWMqIG1ldGhvZCBjcmVhdGVzIGFuZCByZXR1cm5zIGFuIGluc3RhbmNlIG9mICpadmJpLkNhcHR1cmUqIGZvclxuYW5hbG9nIFZCSSBkZXZpY2VzIChpLmUuIG5vbi1EVkIgZGV2aWNlcykuICBUaGUgbWV0aG9kIFwiYXV0by1kZXRlY3RzXCIgdGhlXG50eXBlIG9mIHRoZSBnaXZlbiBkZXZpY2UgYnkgc2VxdWVudGlhbGx5IHRyeWluZyB0byBhY2Nlc3MgdGhlIGRldmljZSBhc1xuXCJWNGwyXCIgKGkuZS4gYW5hbG9nIExpbnV4IHZpZGVvIGNhcHR1cmUgZGV2aWNlKSBhbmQgXCJia3RyXCIgKGkuZS4gIEZyZWVCU0RcbmFuYWxvZyBCU0QgdmlkZW8gY2FwdHVyZSBkZXZpY2UpLCBpbiB0aGlzIG9yZGVyLlxuXG46OlxuXG4gICBjYXAgPSBadmJpLkNhcHR1cmUuQW5hbG9nKGRldiwgc2VydmljZXMsIHByb3h5PU5vbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmljdD0wLCBidWZmZXJzPTUsIHNjYW5uaW5nPTAsIHRyYWNlPUZhbHNlKVxuXG5UaGUgZGV2aWNlIGFuZCBzZXJ2aWNlIHBhcmFtZXRlcnMgYXJlIG1hbmRhdG9yeSwgYWxsIG90aGVycyBhcmUgb3B0aW9uYWwgYW5kXG5rZXl3b3JkLW9ubHkuIFRoZSBwYXJhbWV0ZXJzIGhhdmUgdGhlIGZvbGxvd2luZyBtZWFuaW5nOlxuXG46ZGV2OlxuICAgIFBhdGggb2YgdGhlIGRldmljZSB0byBvcGVuIChmb3IgTGludXggdXN1YWxseSBgL2Rldi92YmkwYClcbjpzZXJ2aWNlczpcbiAgICBJcyBhIGJpdC13aXNlIE9SIG9mIGBWQklfU0xJQ0VEXypgIHN5bWJvbHMgZGVzY3JpYmluZyB0aGUgZGF0YVxuICAgIHNlcnZpY2VzIHRvIGJlIGRlY29kZWQuICBTZWUgYFp2YmkuUmF3RGVjLmFkZF9zZXJ2aWNlcygpYF8gZm9yXG4gICAgZGV0YWlscy4gIElmIHlvdSB3YW50IHRvIGNhcHR1cmUgcmF3IGRhdGEgb25seSwgc2V0IHRvXG4gICAgYFZCSV9TTElDRURfVkJJXzUyNWAsIGBWQklfU0xJQ0VEX1ZCSV82MjVgIG9yIGJvdGguICBJZiB0aGlzIHBhcmFtZXRlclxuICAgIGlzIG9taXR0ZWQsIG5vIHNlcnZpY2VzIHdpbGwgYmUgaW5zdGFsbGVkICh0aGlzIGlzIG5vdCBzdXBwb3J0ZWQgZm9yXG4gICAgQlNEIFwiYmt0clwiIGRyaXZlcnMpLiAgWW91IGNhbiBkbyBzbyBsYXRlciB3aXRoXG4gICAgKlp2YmkuQ2FwdHVyZS51cGRhdGVfc2VydmljZXMoKSogKE5vdGUgaW4gdGhpcyBjYXNlIHRoZSAqcmVzZXQqXG4gICAgcGFyYW1ldGVyIHRvIHRoYXQgZnVuY3Rpb24gd2lsbCBoYXZlIHRvIGJlIHNldCB0byBUcnVlLikuXG46cHJveHk6XG4gICAgV2hlbiBwcmVzZW50LCB0aGlzIGhhcyB0byBiZSBhIHJlZmVyZW5jZSB0byBhbiBpbnN0YW5jZSBvZiBjbGFzc1xuICAgIGBadmJpLlByb3h5YF8uIFRoZSBjb25zdHJ1Y3RvciB3aWxsIHJlcXVlc3Qgc3RhcnQgb2YgY2FwdHVyaW5nIHZpYSB0aGVcbiAgICBWQkkgcHJveHkgZGFlbW9uIGluc3RlYWQgb2YgYWNjZXNzaW5nIHRoZSBkZXZpY2UgZGlyZWN0bHkuIFRoZVxuICAgIGZvbGxvd2luZyBwYXJhbWV0ZXJzIGFyZSBzdGlsbCBhcHBsaWNhYmxlLCBidXQgYXJlIHBhc3NlZCB0byB0aGVcbiAgICBkYWVtb24uIFRoZSBwcm94eSBkb2VzIG5vdCBzdXBwb3J0IERWQiBkZXZpY2VzLiBJZiB0aGUgY29ubmVjdGlvblxuICAgIGZhaWxzLCB0aGUgY29uc3RydWN0b3Igd2lsbCBub3QgYXR0ZW1wdCBkaXJlY3QgZGV2aWNlIGFjY2VzczsgdGhpc1xuICAgIG1lYW5zIHRoZSBjYWxsIHNodWxkIGJlIHJlcGVhdGVkIHdpdGhvdXQgdGhlIHByb3h5IHBhcmFtZXRlci5cbjpidWZmZXJzOlxuICAgIE51bWJlciBvZiBkZXZpY2UgYnVmZmVycyBmb3IgcmF3IFZCSSBkYXRhIGlmIHRoZSBkcml2ZXIgc3VwcG9ydHNcbiAgICBzdHJlYW1pbmcuIFVzZSBoaWdoZXIgdmFsdWVzIGlmIHlvdSBjYW5ub3QgZ3VhcmFudGVlIHRoZXJlIGlzIG5vXG4gICAgbGF0ZW5jeSBvbiByZWFkaW5nIGNhcHR1cmUgZGF0YSAoZS5nLiBpZiB5b3VyIEdVSSBydW5zIGluIHRoZSBzYW1lXG4gICAgdGhyZWFkKS4gT3RoZXJ3aXNlIG9uZSBib3VuY2UgYnVmZmVyIGlzIGFsbG9jYXRlZCBmb3JcbiAgICAqWnZiaS5DYXB0dXJlLnB1bGwoKSouXG46c2Nhbm5pbmc6XG4gICAgSW5kaWNhdGVzIHRoZSBjdXJyZW50IG5vcm06IDYyNSBmb3IgUEFMIGFuZCA1MjUgZm9yIE5UU0M7IHNldCB0byAwIGlmXG4gICAgeW91IGRvbid0IGtub3cgKHlvdSBzaG91bGQgbm90IGF0dGVtcHQgdG8gcXVlcnkgdGhlIGRldmljZSBmb3IgdGhlXG4gICAgbm9ybSwgYXMgdGhpcyBwYXJhbWV0ZXIgaXMgb25seSB1c2VkIGZvciB0aGUgYW5jaWVudCBCU0QgXCJia3RyXCIgZHJpdmVyXG4gICAgd2hpY2ggZG9uJ3Qgc3VwcG9ydCB2aWRlbyBzdGFuZGFyZCBxdWVyeSBpb2N0bHMuKVxuOnN0cmljdDpcbiAgICBUaGUgdmFsdWUgY2FuIGJlIDAsIDEsIG9yIDIgZm9yIGRldGVybWluaW5nIHdoaWNoIHNlcnZpY2VzIHRvIGFsbG93XG4gICAgZm9yIHJhdyBkZWNvZGluZy4gRm9yIGRldGFpbHMgc2VlIGBadmJpLlJhd0RlYy5hZGRfc2VydmljZXMoKWBfLlxuOnRyYWNlOlxuICAgIElmIFRydWUsIGVuYWJsZXMgb3V0cHV0IG9mIHByb2dyZXNzIG1lc3NhZ2VzIG9uIGBzeXMuc3RkZXJyYC5cblxuV2hlbmV2ZXIgcG9zc2libGUsIHRoZSBwcm94eSBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIG9wZW5pbmcgYW5hbG9nXG5kZXZpY2VzIGRpcmVjdGx5LCBzaW5jZSBpdCBhbGxvd3MgdGhlIHVzZXIgdG8gc3RhcnQgbXVsdGlwbGUgVkJJIGNsaWVudHNcbmNvbmN1cnJlbnRseS4gV2hlbiB0aGlzIGZ1bmN0aW9uIGZhaWxzICh1c3VhbGx5IGJlY2F1c2UgdGhlIHVzZXIgaGFzbid0XG5zdGFydGVkIHRoZSBwcm94eSBkYWVtb24pIGFwcGxpY2F0aW9ucyBzaG91bGQgYXV0b21hdGljYWxseSBmYWxsIGJhY2sgdG9cbm9wZW5pbmcgdGhlIGRldmljZSBkaXJlY3RseS5cblxuRXhhbXBsZSBmb3IgdXNpbmcgYW4gYW5hbG9nIHNvdXJjZSB3aXRoIGF1dG8tZGV0ZWN0aW9uIG9mIGEgcHJveHk6IDo6XG5cbiAgICBvcHRfZGV2aWNlID0gXCIvZGV2L3ZiaTBcIlxuICAgIG9wdF9zZXJ2aWNlcyA9IFp2YmkuVkJJX1NMSUNFRF9URUxFVEVYVF9CXG4gICAgb3B0X3N0cmljdCA9IDBcbiAgICBvcHRfYnVmX2NvdW50ID0gNVxuICAgIG9wdF92ZXJib3NlID0gRmFsc2VcbiAgICB0cnk6XG4gICAgICAgIHByb3h5ID0gWnZiaS5Qcm94eShvcHRfZGV2aWNlLCBhcHBuYW1lPVwiLi4uXCIsIGFwcGZsYWdzPTAsIHRyYWNlPW9wdF92ZXJib3NlKVxuXG4gICAgICAgIGNhcCA9IFp2YmkuQ2FwdHVyZS5BbmFsb2cob3B0X2RldmljZSwgcHJveHk9cHJveHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZXM9b3B0X3NlcnZpY2VzLCBzdHJpY3Q9b3B0X3N0cmljdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJzPW9wdF9idWZfY291bnQsIHRyYWNlPW9wdF92ZXJib3NlKVxuICAgIGV4Y2VwdCBadmJpLlByb3h5RXJyb3IsIFp2YmkuQ2FwdHVyZUVycm9yOlxuICAgICAgICAjIHRyeSBhZ2FpbiB3aXRob3V0IHByb3h5XG4gICAgICAgIGNhcCA9IFp2YmkuQ2FwdHVyZS5BbmFsb2cob3B0X2RldmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlcz1vcHRfc2VydmljZXMsIHN0cmljdD1vcHRfc3RyaWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcnM9b3B0X2J1Zl9jb3VudCwgdHJhY2U9b3B0X3ZlcmJvc2UpXG5cblRoZSBmaXJzdCBjYWxsIG9mIFp2YmkuQ2FwdHVyZSgpIGluIHRoZSBleGFtcGxlIGVzdGFibGlzaGVzIGEgbmV3XG5jb25uZWN0aW9uIHRvIGEgVkJJIHByb3h5IHRvIG9wZW4gYSBWQkkgb3IgRFZCIGRldmljZSBmb3IgY2FwdHVyaW5nLiAgT25cbnNpZGUgb2YgdGhlIHByb3h5IGRhZW1vbiwgdGhlIGdpdmVuIGRldmljZSBpcyBvcGVuZWQgYW5kIGluaXRpYWxpemVkLFxuZXF1aXZhbGVudGx5IGFzIGl0IHdvdWxkIGJlIGRvbmUgbG9jYWxseS4gIElmIHRoZSBjcmVhdGlvbiBzdWNjZWVkcywgYW5kXG5hbnkgb2YgdGhlIHJlcXVlc3RlZCBzZXJ2aWNlcyBhcmUgYXZhaWxhYmxlLCBjYXB0dXJpbmcgaXMgc3RhcnRlZCBhbmQgYWxsXG5jYXB0dXJlZCBkYXRhIGlzIGZvcndhcmRlZCB0cmFuc3BhcmVudGx5IHRvIHRoZSBjbGllbnQuIFNlZVxuYFp2YmkuUHJveHlgXyBmb3IgZGV0YWlscy5cblxuVGhlIHNlY29uZCBjYWxsIG9mIFp2YmkuQ2FwdHVyZS5BbmFsb2coKSBpbiB0aGUgZXhhbXBsZSBjcmVhdGVzIGEgbG9jYWxcbmNhcHR1cmUgY29udGV4dC5cblxuWnZiaS5DYXB0dXJlLnJlYWRfcmF3KClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICByYXdfYnVmZmVyID0gY2FwLnJlYWRfcmF3KHRpbWVvdXRfbXMpXG5cblJlYWQgYSByYXcgVkJJIGZyYW1lIGZyb20gdGhlIGNhcHR1cmUgZGV2aWNlIGFuZCByZXR1cm4gaXQgd2l0aGluIGFuXG5vYmplY3Qgb2YgdHlwZSBgWnZiaS5DYXB0dXJlUmF3QnVmYF8uIFBsZWFzZSByZWZlciB0byB0aGUgZGVzY3JpcGlvbiBvZlxudGhhdCBjbGFzcyBmb3IgZGV0YWlscy5cblxuUGFyYW1ldGVyICp0aW1lb3V0X21zKiBnaXZlcyB0aGUgbGltaXQgZm9yIHdhaXRpbmcgZm9yIGRhdGEgaW5cbm1pbGxpc2Vjb25kczsgaWYgbm8gZGF0YSBhcnJpdmVzIHdpdGhpbiB0aGUgZ2l2ZW4gdGltZSwgdGhlIGZ1bmN0aW9uXG5yYWlzZXMgZXhjZXB0aW9uICpadmJpLkNhcHR1cmVUaW1lb3V0Ki4gIEV4Y2VwdGlvbiAqWnZiaS5DYXB0dXJlRXJyb3IqIGlzXG5yYWlzZWQgdXBvbiBlcnJvciBpbmRpY2F0aW9ucyBmcm9tIHRoZSBkZXZpY2UuICBOb3RlIHRoZSBmdW5jdGlvbiBtYXkgZmFpbFxuaWYgdGhlIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IHJlYWRpbmcgZGF0YSBpbiByYXcgZm9ybWF0LlxuXG5Ob3RlOiBpdCdzIGdlbmVyYWxseSBtb3JlIGVmZmljaWVudCB0byB1c2UgKnB1bGxfcmF3KCkqIGluc3RlYWQsIGFzXG50aGF0IG1heSBhdm9pZCBoYXZpbmcgY29weWluZyBkYXRhIGludG8gdGhlIG5ldyBidWZmZXIgYWxsb2NhdGVkXG5mb3IgZWFjaCBjYWxsIG9mICpyZWFkX3JhdygpKi4gU2VlIGFsc28gdGhlIGRlc2NyaXB0aW9uIG9mICpyZWFkKCkqIGJlbG93LlxuXG5admJpLkNhcHR1cmUucmVhZF9zbGljZWQoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHNsaWNlZF9idWZmZXIgPSBjYXAucmVhZF9zbGljZWQodGltZW91dF9tcylcblxuQ2FwdHVyZXMgVkJJIGRhdGEgZnJvbSBvbmUgdmlkZW8gZnJhbWUsIFwic2xpY2VzXCIgdGhlIGNhcHR1cmVkIGRhdGEgc2FtcGxlc1xuZm9yIFZCSSBsaW5lcyBvZiBwcmV2aW91c2x5IGNvbmZpZ3VyZWQgc2VydmljZXMsIGFuZCByZXR1cm5zIHRoZSBzbGljZWQgZGF0YVxud2l0aGluIGFuIG9iamVjdCBvZiB0eXBlIGBadmJpLkNhcHR1cmVTbGljZWRCdWZgXy4gUGxlYXNlIHJlZmVyIHRvIHRoZVxuZGVzY3JpcGlvbiBvZiB0aGF0IGNsYXNzIGZvciBkZXRhaWxzLlxuXG5QYXJhbWV0ZXIgKnRpbWVvdXRfbXMqIGdpdmVzIHRoZSBsaW1pdCBmb3Igd2FpdGluZyBmb3IgZGF0YSBpblxubWlsbGlzZWNvbmRzOyBpZiBubyBkYXRhIGFycml2ZXMgd2l0aGluIHRoZSBnaXZlbiB0aW1lLCB0aGUgZnVuY3Rpb25cbnJhaXNlcyBleGNlcHRpb24gKlp2YmkuQ2FwdHVyZVRpbWVvdXQqLiAgRXhjZXB0aW9uICpadmJpLkNhcHR1cmVFcnJvciogaXNcbnJhaXNlZCB1cG9uIGVycm9yIGluZGljYXRpb25zIGZyb20gdGhlIGRldmljZS5cblxuWnZiaS5DYXB0dXJlLnJlYWQoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgcmF3X2J1ZmZlciwgc2xpY2VkX2J1ZmZlciA9IGNhcC5yZWFkKHRpbWVvdXRfbXMpXG5cblRoaXMgZnVuY3Rpb24gaXMgYSBjb21iaW5hdGlvbiBvZiAqcmVhZF9yYXcoKSogYW5kICpyZWFkX3NsaWNlZCgpKiwgaS5lLlxucmVhZHMgYSBWQkkgZnJhbWUgZnJvbSB0aGUgY2FwdHVyZSBjb250ZXh0IGFuZCByZXR1cm5zIGJvdGggdGhlIHJhdyBkYXRhXG5hbmQgdGhlIHJlc3VsdHMgb2YgXCJzbGljaW5nXCIgdGhlIHJhdyBkYXRhLiBUaGUgcmVzdWx0cyBhcmUgcmV0dXJuZWQgaW5cbmZvcm0gb2YgYSB0dXBsZSB3aGljaCBjb250YWlucyBmaXJzdGx5IGBadmJpLkNhcHR1cmVSYXdCdWZgXyBhbmQgc2Vjb25kbHlcbmFuIG9iamVjdCBvZiB0eXBlIGBadmJpLkNhcHR1cmVTbGljZWRCdWZgXy4gUGxlYXNlIHJlZmVyIHRvIHRoZSBkZXNjcmlwaW9uXG5vZiB0aGVzZSBjbGFzc2VzIGZvciBkZXRhaWxzLlxuXG5Tb21lIGRldmljZXMsIHN1Y2ggYXMgRFZCLCBtYXkgbm90IHN1cHBvcnQgY2FwdHVyaW5nIHJhdyBWQkkgZGF0YS4gSW4gc3VjaFxuYSBjYXNlIHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSByZXN1bHQgdHVwbGUgaXMgc2V0IHRvICpOb25lKi5cblxuUGFyYW1ldGVyICp0aW1lb3V0X21zKiBnaXZlcyB0aGUgbGltaXQgZm9yIHdhaXRpbmcgZm9yIGRhdGEgaW5cbm1pbGxpc2Vjb25kczsgaWYgbm8gZGF0YSBhcnJpdmVzIHdpdGhpbiB0aGUgZ2l2ZW4gdGltZSwgdGhlIGZ1bmN0aW9uXG5yYWlzZXMgZXhjZXB0aW9uICpadmJpLkNhcHR1cmVUaW1lb3V0Ki4gIEV4Y2VwdGlvbiAqWnZiaS5DYXB0dXJlRXJyb3IqIGlzXG5yYWlzZWQgdXBvbiBlcnJvciBpbmRpY2F0aW9ucyBmcm9tIHRoZSBkZXZpY2UuXG5cbioqTm90ZSoqOiBEZXBlbmRpbmcgb24gdGhlIGRyaXZlciwgY2FwdHVyZWQgcmF3IGRhdGEgbWF5IGhhdmUgdG8gYmUgY29waWVkXG5mcm9tIHRoZSBjYXB0dXJlIGJ1ZmZlciBpbnRvIHRoZSBnaXZlbiBidWZmZXIgKGUuZy4gZm9yIFY0TDIgc3RyZWFtcyB3aGljaFxudXNlIG1lbW9yeS1tYXBwZWQgYnVmZmVycy4pICBJdCdzIGdlbmVyYWxseSBtb3JlIGVmZmljaWVudCB1c2luZyBvbmUgb2ZcbnRoZSBmb2xsb3dpbmcgKnB1bGwqIGludGVyZmFjZXMuIEFsc28sIHVubGVzcyB5b3UgcmVxdWlyZSByYXcgZGF0YSwgaXQgaXNcbmV2ZW4gbW9yZSBlZmZpY2llbnQgdXNpbmcgKnB1bGxfc2xpY2VkKCkqIG9yICpyZWFkX3NsaWNlZCgpKi5cblxuWnZiaS5DYXB0dXJlLnB1bGxfcmF3KClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICByYXdfYnVmZmVyID0gY2FwLnB1bGxfcmF3KHRpbWVvdXRfbXMpXG5cblJlYWQgYSByYXcgVkJJIGZyYW1lIGZyb20gdGhlIGNhcHR1cmUgY29udGV4dCBhbmQgcmV0dXJuIGl0IHdpdGhpbiBhblxub2JqZWN0IG9mIHR5cGUgYFp2YmkuQ2FwdHVyZVJhd0J1ZmBfLiBQbGVhc2UgcmVmZXIgdG8gdGhlIGRlc2NyaXBpb24gb2ZcbnRoYXQgY2xhc3MgZm9yIGRldGFpbHMuICAqKk5vdGUqKjogVGhlIGNvbnRlbnQgb2YgdGhlIHJldHVybmVkIG9iamVjdFxucmVtYWlucyB2YWxpZCBvbmx5IHVudGlsIHRoZSBuZXh0IGNhbGwgdG8gdGhpcyBvciBhbnkgb3RoZXIgKnB1bGwqXG5mdW5jdGlvbi4gQWNjZXNzIHRvIGFuIGludmFsaWRhdGVkIGJ1ZmZlciB3aWxsIHJhaXNlIGV4Y2VwdGlvblxuKlZhbHVlRXJyb3IqXG5cblRoZSByZXR1cm5lZCAqcmF3X2J1ZmZlciogY2FuIGJlIHBhc3NlZCB0byBgWnZiaS5SYXdEZWMuZGVjb2RlKClgXy4gIElmIHlvdVxubmVlZCB0byBwcm9jZXNzIHRoZSBkYXRhIGJ5IFB5dGhvbiBjb2RlLCB1c2UgYFp2YmkuQ2FwdHVyZS5yZWFkX3JhdygpYF9cbmluc3RlYWQuXG5cblBhcmFtZXRlciAqdGltZW91dF9tcyogZ2l2ZXMgdGhlIGxpbWl0IGZvciB3YWl0aW5nIGZvciBkYXRhIGluXG5taWxsaXNlY29uZHM7IGlmIG5vIGRhdGEgYXJyaXZlcyB3aXRoaW4gdGhlIGdpdmVuIHRpbWUsIHRoZSBmdW5jdGlvblxucmFpc2VzIGV4Y2VwdGlvbiAqWnZiaS5DYXB0dXJlVGltZW91dCouICBFeGNlcHRpb24gKlp2YmkuQ2FwdHVyZUVycm9yKiBpc1xucmFpc2VkIHVwb24gZXJyb3IgaW5kaWNhdGlvbnMgZnJvbSB0aGUgZGV2aWNlLiAgTm90ZSB0aGUgZnVuY3Rpb24gbWF5IGZhaWxcbmlmIHRoZSBkZXZpY2UgZG9lcyBub3Qgc3VwcG9ydCByZWFkaW5nIGRhdGEgaW4gcmF3IGZvcm1hdC5cblxuXG5admJpLkNhcHR1cmUucHVsbF9zbGljZWQoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHNsaWNlZF9idWZmZXIgPSBjYXAucHVsbF9zbGljZWQodGltZW91dF9tcylcblxuQ2FwdHVyZXMgVkJJIGRhdGEgZnJvbSBvbmUgdmlkZW8gZnJhbWUsIFwic2xpY2VzXCIgdGhlIGNhcHR1cmVkIGRhdGEgc2FtcGxlc1xuZm9yIFZCSSBsaW5lcyBvZiBwcmV2aW91c2x5IGNvbmZpZ3VyZWQgc2VydmljZXMsIGFuZCByZXR1cm5zIHRoZSBzbGljZWQgZGF0YVxud2l0aGluIGFuIG9iamVjdCBvZiB0eXBlIGBadmJpLkNhcHR1cmVTbGljZWRCdWZgXy4gUGxlYXNlIHJlZmVyIHRvIHRoZVxuZGVzY3JpcGlvbiBvZiB0aGF0IGNsYXNzIGZvciBkZXRhaWxzLiAgKipOb3RlKio6IFRoZSBjb250ZW50IG9mIHRoZVxucmV0dXJuZWQgb2JqZWN0IHJlbWFpbnMgdmFsaWQgb25seSB1bnRpbCB0aGUgbmV4dCBjYWxsIHRvIHRoaXMgb3IgYW55XG5vdGhlciBjYXB0dXJlIGZ1bmN0aW9uLiAgQWNjZXNzIHRvIGFuIGludmFsaWRhdGVkIGJ1ZmZlciB3aWxsIHJhaXNlXG5leGNlcHRpb24gKlZhbHVlRXJyb3IqXG5cblVzdWFsbHkgdGhlIHJldHVybmVkICpzbGljZWRfYnVmZmVyKiBpcyBwYXNzZWQgaW1tZWRpYXRlbHlcbmBadmJpLlNlcnZpY2VEZWMuZGVjb2RlKClgXy5cblxuUGFyYW1ldGVyICp0aW1lb3V0X21zKiBnaXZlcyB0aGUgbGltaXQgZm9yIHdhaXRpbmcgZm9yIGRhdGEgaW5cbm1pbGxpc2Vjb25kczsgaWYgbm8gZGF0YSBhcnJpdmVzIHdpdGhpbiB0aGUgZ2l2ZW4gdGltZSwgdGhlIGZ1bmN0aW9uXG5yYWlzZXMgZXhjZXB0aW9uICpadmJpLkNhcHR1cmVUaW1lb3V0Ki4gIEV4Y2VwdGlvbiAqWnZiaS5DYXB0dXJlRXJyb3IqIGlzXG5yYWlzZWQgdXBvbiBlcnJvciBpbmRpY2F0aW9ucyBmcm9tIHRoZSBkZXZpY2UuXG5cblp2YmkuQ2FwdHVyZS5wdWxsKClcbi0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHJhd19idWZmZXIsIHNsaWNlZF9idWZmZXIgPSBjYXAucHVsbCh0aW1lb3V0X21zKVxuXG5UaGlzIGZ1bmN0aW9uIGlzIGEgY29tYmluYXRpb24gb2YgKnB1bGxfcmF3KCkqIGFuZCAqcHVsbF9zbGljZWQoKSosIGkuZS5cbnJlYWRzIGEgVkJJIGZyYW1lIGZyb20gdGhlIGNhcHR1cmUgY29udGV4dCBhbmQgcmV0dXJucyBib3RoIHRoZSByYXcgZGF0YVxuYW5kIHRoZSByZXN1bHRzIG9mIFwic2xpY2luZ1wiIHRoZSByYXcgZGF0YS4gIFRoZSByZXN1bHRzIGFyZSByZXR1cm5lZCBpblxuZm9ybSBvZiBhIHR1cGxlIHdoaWNoIGNvbnRhaW5zIGZpcnN0bHkgYFp2YmkuQ2FwdHVyZVJhd0J1ZmBfIGFuZCBzZWNvbmRseVxuYW4gb2JqZWN0IG9mIHR5cGUgYFp2YmkuQ2FwdHVyZVNsaWNlZEJ1ZmBfLiBQbGVhc2UgcmVmZXIgdG8gdGhlIGRlc2NyaXBpb25cbm9mIHRoZXNlIGNsYXNzZXMgZm9yIGRldGFpbHMuXG5cblNvbWUgZGV2aWNlcywgc3VjaCBhcyBEVkIsIG1heSBub3Qgc3VwcG9ydCBjYXB0dXJpbmcgcmF3IFZCSSBkYXRhLiBJbiBzdWNoXG5hIGNhc2UgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIHJlc3VsdCB0dXBsZSBpcyBzZXQgdG8gKk5vbmUqLlxuXG4qKk5vdGUqKjogVGhlIGNvbnRlbnQgb2YgdGhlIHJldHVybmVkIG9iamVjdHMgcmVtYWlucyB2YWxpZCBvbmx5IHVudGlsIHRoZVxubmV4dCBjYWxsIHRvIHRoaXMgb3IgYW55IG90aGVyICpwdWxsKiBmdW5jdGlvbi4gQWNjZXNzIHRvIGFuIGludmFsaWRhdGVkXG5idWZmZXIgd2lsbCByYWlzZSBleGNlcHRpb24gKlZhbHVlRXJyb3IqXG5cblBhcmFtZXRlciAqdGltZW91dF9tcyogZ2l2ZXMgdGhlIGxpbWl0IGZvciB3YWl0aW5nIGZvciBkYXRhIGluXG5taWxsaXNlY29uZHM7IGlmIG5vIGRhdGEgYXJyaXZlcyB3aXRoaW4gdGhlIGdpdmVuIHRpbWUsIHRoZSBmdW5jdGlvblxucmFpc2VzIGV4Y2VwdGlvbiAqWnZiaS5DYXB0dXJlVGltZW91dCouICBFeGNlcHRpb24gKlp2YmkuQ2FwdHVyZUVycm9yKiBpc1xucmFpc2VkIHVwb24gZXJyb3IgaW5kaWNhdGlvbnMgZnJvbSB0aGUgZGV2aWNlLlxuXG5admJpLkNhcHR1cmUucGFyYW1ldGVycygpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBwYXJhbXMgPSBjYXAucGFyYW1ldGVycygpXG5cblJldHVybnMgYW4gaW5zdGFuY2Ugb2YgY2xhc3MgYFp2YmkuUmF3UGFyYW1zYF8gZGVzY3JpYmluZyB0aGUgcGh5c2ljYWxcbnBhcmFtZXRlcnMgb2YgdGhlIFZCSSBzb3VyY2UuIFNlZSB0aGUgZGVzY3JpcHRpb24gb2YgdGhhdCBjbGFzcyBmb3IgYVxuZGVzY3JpcHRpb24gb2YgYXR0cmlidXRlcy5cblxuTW9kaWZ5aW5nIHRoZSBhdHRyaWJ1dGVzIG9mIHRoZSByZXR1cm5lZCBvYmplY3QgaGFzIG5vIGVmZmVjdCBvbiB0aGVcbmBadmJpLkNhcHR1cmVgXyBpbnN0YW5jZS4gVG8gY29udHJvbCByYXcgZGVjb2RpbmcsIHBhc3MgdGhlIHJldHVybmVkIChhbmRcbnBvc3NpYmx5IG1vZGlmaWVkKSBwYXJhbWV0ZXJzIHdoZW4gaW5zdGFudGlhdGluZyBjbGFzcyBgWnZiaS5SYXdEZWNgXyBhbmRcbnRoZW4gdXNlIHRoYXQgY2xhc3MgZm9yIGRlY29kaW5nIGluc3RlYWQgb2YgdGhlICpzbGljZWRfYnVmZmVyKiBvdXRwdXQgb2ZcbnRoZSBgWnZiaS5DYXB0dXJlYF8gbWVtYmVyIGZ1bmN0aW9ucy5cblxuKipOb3RlKio6IEZvciBEVkIgZGV2aWNlcyB0aGlzIGZ1bmN0aW9uIG9ubHkgcmV0dXJucyBkdW1teSBwYXJhbWV0ZXJzLCBhc1xubm8gXCJyYXcgZGVjb2RpbmdcIiBpcyBwZXJmb3JtZWQgaW4gdGhpcyBjYXNlLiBJbiBwYXJ0aWN1bGFyIHRoZSBzYW1wbGluZ1xuZm9ybWF0IHdpbGwgYmUgemVybywgd2hpY2ggaXMgYW4gaW52YWxpZCB2YWx1ZSwgc28gdGhpcyBjYW4gYmUgdXNlZCBmb3JcbmRldGVjdGluZyB0aGlzIGNhc2UuXG5cblxuWnZiaS5DYXB0dXJlLnVwZGF0ZV9zZXJ2aWNlcygpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHNlcnZpY2VzID0gY2FwLnVwZGF0ZV9zZXJ2aWNlcyhzZXJ2aWNlcywgcmVzZXQ9VHJ1ZSwgY29tbWl0PVRydWUsIHN0cmljdD0wKVxuXG5Ob3QgYXBwbGljYWJsZSB0byBEVkI6XG5BZGRzIGFuZC9vciByZW1vdmVzIG9uZSBvciBtb3JlIHNlcnZpY2VzIHRvIGFuIGFscmVhZHkgaW5pdGlhbGl6ZWQgY2FwdHVyZVxuY29udGV4dC4gIENhbiBiZSB1c2VkIHRvIGR5bmFtaWNhbGx5IGNoYW5nZSB0aGUgc2V0IG9mIGFjdGl2ZSBzZXJ2aWNlcy5cblxuSW50ZXJuYWxseSB0aGUgZnVuY3Rpb24gd2lsbCByZXN0YXJ0IHBhcmFtZXRlciBuZWdvdGlhdGlvbiB3aXRoIHRoZVxuVkJJIGRldmljZSBkcml2ZXIgYW5kIHRoZW4gY2FsbCAqYWRkX3NlcnZpY2VzKCkqIG9uIHRoZSBpbnRlcm5hbCByYXdcbmRlY29kZXIgY29udGV4dC4gIFlvdSBtYXkgc2V0ICpyZXNldCogdG8gcmVidWlsZCB5b3VyIHNlcnZpY2UgbWFzayBmcm9tXG5zY3JhdGNoLiAgTm90ZSB0aGF0IHRoZSBudW1iZXIgb2YgVkJJIGxpbmVzIG1heSBjaGFuZ2Ugd2l0aCB0aGlzIGNhbGxcbmV2ZW4gaWYgdGhlIGZ1bmN0aW9uIGZhaWxzIGFuZCByYWlzZXMgYW4gZXhjZXB0aW9uLlxuXG5SZXN1bHQ6IFRoZSBmdW5jdGlvbiByZXR1cm5zIGEgYml0LW1hc2sgb2Ygc3VwcG9ydGVkIHNlcnZpY2VzIGFtb25nIHRob3NlXG5yZXF1ZXN0ZWQgKG5vdCBpbmNsdWRpbmcgcHJldmlvdXNseSBhZGRlZCBzZXJ2aWNlcyksIDAgdXBvbiBlcnJvcnMuXG5cbjpzZXJ2aWNlczpcbiAgICBBbiBpbnRlZ2VyIGNvbnNpc3Rpbmcgb2YgYSBiaXQtd2lzZSBPUiBvZiBvbmUgb3IgbW9yZSBgVkJJX1NMSUNFRF8qYFxuICAgIGNvbnN0YW50cyBkZXNjcmliaW5nIHRoZSBkYXRhIHNlcnZpY2VzIHRvIGJlIGRlY29kZWQuXG5cbjpyZXNldDpcbiAgICBXaGVuIHRoaXMgb3B0aW9uYWwgcGFyYW1ldGVyIGlzIHNldCAqVHJ1ZSosIHRoZSBtZXRob2QgY2xlYXJzIGFsbFxuICAgIHByZXZpb3VzIHNlcnZpY2VzIGJlZm9yZSBhZGRpbmcgbmV3IG9uZXMgKGJ5IGludm9raW5nXG4gICAgYFp2YmkuUmF3RGVjLnJlc2V0KClgXyBhdCB0aGUgYXBwcm9wcmlhdGUgdGltZS4pIFdoZW4gKkZhbHNlKiwgbmV3XG4gICAgc2VydmljZXMgYXJlIGluIGFkZGl0aW9uIHRvIHByZXZpb3VzbHkgY29uZmlndXJlZCBzZXJ2aWNlcy5cblxuOmNvbW1pdDpcbiAgICBXaGVuIHRoaXMgb3B0aW9uYWwgcGFyYW1ldGVyIGlzIHNldCBUcnVlLCB0aGUgbWV0aG9kIGFwcGxpZXMgYWxsXG4gICAgcHJldmlvdXNseSBhZGRlZCBzZXJ2aWNlcyB0byB0aGUgZGV2aWNlLiBTZXQgdGhpcyB0byAqRmFsc2UqIHdoZW5cbiAgICBkb2luZyBtdWx0aXBsZSBjb25zZWN1dGl2ZSBjYWxscyBvZiB0aGlzIGZ1bmN0aW9uOyB0aGVuIGNvbW1pdCBzaG91bGRcbiAgICBiZSBzZXQgb25seSBmb3IgdGhlIGxhc3QgY2FsbC5cbiAgICBSZWFkaW5nIGRhdGEgY2Fubm90IGNvbnRpbnVlIGJlZm9yZSBjaGFuZ2VzIHdlcmUgY29tbWl0dGVkIChiZWNhdXNlXG4gICAgY2FwdHVyaW5nIGhhcyB0byBiZSBzdXNwZW5kZWQgdG8gYWxsb3cgcmVzaXppbmcgdGhlIFZCSSBpbWFnZS4pICBOb3RlXG4gICAgdGhpcyBmbGFnIGlzIGlnbm9yZWQgd2hlbiB1c2luZyB0aGUgVkJJIHByb3h5LlxuXG46c3RyaWN0OlxuICAgIFRoZSBtZWFuaW5nIG9mIHRoaXMgb3B0aW9uYWwgcGFyYW1ldGVyIGlzIGFzIGRlc2NyaWJlZCBmb3JcbiAgICBgWnZiaS5SYXdEZWMuYWRkX3NlcnZpY2VzKClgXywgYXMgdGhhdCBmdW5jdGlvbiBpcyB1c2VkIGludGVybmFsbHkgYnlcbiAgICBsaWJ6dmJpLiBUaGUgcGFyYW1ldGVyIGRlZmF1bHRzIHRvIDAuXG5cblRoZSBmdW5jdGlvbiByZXR1cm5zIGFuIGludGVnZXIgdmFsdWUgd2l0aCBiaXQtd2lzZSBPUiBvZiBgVkJJX1NMSUNFRF8qYFxuc2VydmljZXMgYWN0dWFsbHkgZGVjb2RhYmxlLlxuXG5admJpLkNhcHR1cmUuZmQoKVxuLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIGNhcC5mZCgpXG5cblRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgZmlsZSBkZXNjcmlwdG9yIHVzZWQgdG8gcmVhZCBmcm9tIHRoZVxuY2FwdHVyZSBjb250ZXh0J3MgZGV2aWNlLiAgTm90ZSB3aGVuIHVzaW5nIHRoZSBwcm94eSB0aGlzIHdpbGwgbm90XG5iZSB0aGUgYWN0dWFsIGRldmljZSwgYnV0IGEgc29ja2V0IGluc3RlYWQuICBTb21lIGRldmljZXMgbWF5IGFsc29cbnJldHVybiAtMSBpZiB0aGV5IGRvbid0IGhhdmUgYW55dGhpbmcgc2ltaWxhciwgb3IgdXBvbiBpbnRlcm5hbCBlcnJvcnMuXG5cblRoaXMgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgZmlsZW5vKClgIGZvciBQeXRob25lIGZpbGUgb2JqZWN0cy5cblxuVGhlIGRlc2NyaXB0b3IgaXMgaW50ZW5kZWQgYmUgdXNlZCBpbiBhICpzZWxlY3QoMikqIHN5c2NhbGwuIFRoZVxuYXBwbGljYXRpb24gZXNwZWNpYWxseSBtdXN0IG5vdCByZWFkIG9yIHdyaXRlIGZyb20gaXQgYW5kIG11c3QgbmV2ZXJcbmNsb3NlIHRoZSBoYW5kbGUgKGluc3RlYWQgZGVzdHJveSB0aGUgY2FwdHVyZSBjb250ZXh0IHRvIGZyZWUgdGhlXG5kZXZpY2UuKSBJbiBvdGhlciB3b3JkcywgdGhlIGZpbGUgaGFuZGxlIGlzIGludGVuZGVkIHRvIGFsbG93IGNhcHR1cmluZ1xuYXN5bmNocm9ub3VzbHkgaW4gdGhlIGJhY2tncm91bmQ7IFRoZSBoYW5kbGUgd2lsbCBiZWNvbWUgcmVhZGFibGVcbndoZW4gbmV3IGRhdGEgaXMgYXZhaWxhYmxlLlxuXG5admJpLkNhcHR1cmUuZ2V0X3NjYW5uaW5nKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgc2Nhbm5pbmcgPSBjYXAuZ2V0X3NjYW5uaW5nKClcblxuVGhpcyBmdW5jdGlvbiBpcyBpbnRlbmRlZCB0byBhbGxvdyB0aGUgYXBwbGljYXRpb24gdG8gY2hlY2sgZm9yXG5hc3luY2hyb25vdXMgbm9ybSBjaGFuZ2VzLCBpLmUuIGJ5IGEgZGlmZmVyZW50IGFwcGxpY2F0aW9uIHVzaW5nIHRoZVxuc2FtZSBkZXZpY2UuICBUaGUgZnVuY3Rpb24gcXVlcmllcyB0aGUgY2FwdHVyZSBkZXZpY2UgZm9yIHRoZSBjdXJyZW50XG5ub3JtIGFuZCByZXR1cm5zIHZhbHVlIDYyNSBmb3IgUEFML1NFQ0FNIG5vcm1zLCA1MjUgZm9yIE5UU0M7XG4wIGlmIHVua25vd24sIC0xIG9uIGVycm9yLlxuXG5admJpLkNhcHR1cmUuZmx1c2goKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIGNhcC5mbHVzaCgpXG5cbkFmdGVyIGEgY2hhbm5lbCBjaGFuZ2UgdGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgdXNlZCB0byBkaXNjYXJkIGFsbFxuVkJJIGRhdGEgaW4gaW50ZXJtZWRpYXRlIGJ1ZmZlcnMgd2hpY2ggbWF5IHN0aWxsIG9yaWdpbmF0ZSBmcm9tIHRoZVxucHJldmlvdXMgVFYgY2hhbm5lbC4gVGhlIGZ1bmN0aW9uIHJldHVybnMgYE5vbmVgLlxuXG5admJpLkNhcHR1cmUuZ2V0X2ZkX2ZsYWdzKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgZmxhZ3MgPSBjYXAuZ2V0X2ZkX2ZsYWdzKClcblxuUmV0dXJucyBwcm9wZXJ0aWVzIG9mIHRoZSBjYXB0dXJlIGNvbnRleHQncyBkZXZpY2UuIFRoZSByZXN1bHQgaXMgYW5cbmludGVnZXIgdmFsdWUgY29udGFpbmluZyBhIGJpdC13aXNlIE9SIG9mIG9uZSBvciBtb3JlIG9mIHRoZSBmb2xsb3dpbmdcbmNvbnN0YW50czpcblxuVkJJX0ZEX0hBU19TRUxFQ1Q6XG4gICAgSXMgc2V0IHdoZW4gKnNlbGVjdCgyKSogY2FuIGJlIHVzZWQgb24gdGhlIGZpbGUgaGFuZGxlIHJldHVybmVkIGJ5XG4gICAgKmNhcC5mZCgpKiB0byB3YWl0IGZvciBuZXcgZGF0YSBvbiB0aGUgY2FwdHVyZSBkZXZpY2UgZmlsZSBoYW5kbGUuXG5cblZCSV9GRF9IQVNfTU1BUDpcbiAgICBJcyBzZXQgd2hlbiB0aGUgY2FwdHVyZSBkZXZpY2Ugc3VwcG9ydHMgXCJ1c2VyLXNwYWNlIERNQVwiLiAgSW4gdGhpcyBjYXNlXG4gICAgaXQncyBtb3JlIGVmZmljaWVudCB0byB1c2Ugb25lIG9mIHRoZSBcInB1bGxcIiBmdW5jdGlvbnMgdG8gcmVhZCByYXcgZGF0YVxuICAgIGJlY2F1c2Ugb3RoZXJ3aXNlIHRoZSBkYXRhIGhhcyB0byBiZSBjb3BpZWQgb25jZSBtb3JlIGludG8gdGhlIHBhc3NlZCBidWZmZXIuXG5cblZCSV9GRF9JU19ERVZJQ0U6XG4gICAgSXMgbm90IHNldCB3aGVuIHRoZSBjYXB0dXJlIGRldmljZSBmaWxlIGhhbmRsZSBpcyBub3QgdGhlIGFjdHVhbCBkZXZpY2UuXG4gICAgSW4gdGhpcyBjYXNlIGl0IGNhbiBvbmx5IGJlIHVzZWQgZm9yIHNlbGVjdCgyKSBhbmQgbm90IGZvciBpb2N0bCgyKVxuXG5admJpLkNhcHR1cmUuZHZiX2ZpbHRlcigpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBjYXAuZHZiX2ZpbHRlcihwaWQpXG5cblByb2dyYW1zIHRoZSBEVkIgZGV2aWNlIHRyYW5zcG9ydCBzdHJlYW0gZGVtdWx0aXBsZXhlciB0byBmaWx0ZXJcbm91dCBQRVMgcGFja2V0cyB3aXRoIHRoZSBnaXZlbiAqcGlkKi4gVGhlIG1lYW5pbmcgb2YgdGhlIHBhcmFtZXRlciBpc1xuZXF1aXZhbGVudCB0byB0aGUgKnBpZCogcGFyYW1ldGVyIHRvIHRoZSBjb25zdHJ1Y3Rvci5cblxuWnZiaS5DYXB0dXJlLmR2Yl9sYXN0X3B0cygpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIGNhcC5kdmJfbGFzdF9wdHMoKVxuXG5SZXR1cm5zIHRoZSBwcmVzZW50YXRpb24gdGltZSBzdGFtcCAoMzMgYml0cykgYXNzb2NpYXRlZCB3aXRoIHRoZSBkYXRhXG5sYXN0IHJlYWQgZnJvbSB0aGUgY2FwdHVyZSBjb250ZXh0LiBUaGUgUFRTIHJlZmVycyB0byB0aGUgZmlyc3Qgc2xpY2VkXG5WQkkgbGluZSwgbm90IHRoZSBsYXN0IHBhY2tldCBjb250YWluaW5nIGRhdGEgb2YgdGhhdCBmcmFtZS5cblxuTm90ZSB0aW1lc3RhbXBzIHJldHVybmVkIGJ5IFZCSSBjYXB0dXJlIHJlYWQgZnVuY3Rpb25zIGNvbnRhaW5cbnRoZSBzYW1wbGluZyB0aW1lIG9mIHRoZSBkYXRhLCB0aGF0IGlzIHRoZSB0aW1lIGF0IHdoaWNoIHRoZVxucGFja2V0IGNvbnRhaW5pbmcgdGhlIGZpcnN0IHNsaWNlZCBsaW5lIGFycml2ZWQuXG5cbi4uIF9admJpLkNhcHR1cmVSYXdCdWY6XG5cbkNsYXNzIFp2YmkuQ2FwdHVyZVJhd0J1ZlxuPT09PT09PT09PT09PT09PT09PT09PT09XG5cbkZvciByZWFzb25zIG9mIGVmZmljaWVuY3ksIGNhcHR1cmVkIGRhdGEgaXMgbm90IGltbWVkaWF0ZWx5IGNvbnZlcnRlZCBpbnRvXG5QeXRob24gc3RydWN0dXJlcy4gSW5zdGVhZCBjbGFzcyBgWnZiaS5DYXB0dXJlYF8gcmV0dXJucyBhbiBpbnN0YW5jZSBvZiB0aGlzXG5jbGFzcyBmb3IgcmF3IGRhdGEsIHdoaWNoIGVuY2Fwc3VsYXRlcyBib3RoIHRoZSBkYXRhIGFuZCByZWxhdGVkXG5hdHRyaWJ1dGVzLlxuXG5Vc3VhbGx5IHRoaXMgb2JqZWN0IGlzIHNpbXBseSBmb3J3YXJkZWQgdG8gYFp2YmkuUmF3RGVjLmRlY29kZSgpYF87IGluXG50aGlzIGNhc2UgdGhlcmUgaXMgdmVyeSBsaXR0bGUgb3ZlcmhlYWQgZm9yIG1hbmFnaW5nIHRoZSBvYmplY3QgYnkgUHl0aG9uLlxuSWYgeW91IHdhbnQgdG8gcHJvY2VzcyB0aGUgZGF0YSBkaXJlY3RseSB3aXRoaW4gUHl0aG9uLCB5b3UgY2FuIGFjY2VzcyBpdFxuaW4gdGhlIGZvbGxvd2luZyB3YXlzOlxuXG4xLiBTdWJzY3JpcHRpbmcgdGhlIG9iamVjdCBhbGxvd3MgcmV0cmlldmluZyB0aGUgZGF0YSBieXRlLWJ5LWJ5dGUuIFRoZVxuICAgc3RhbmRhcmQgKmxlbiogb3BlcmF0b3IgaW5kaWNhdGVzIHRoZSBudW1iZXIgb2YgYnl0ZXMgaW4gdGhlIGJ1ZmZlci5cbiAgIEV4YW1wbGU6IDo6XG5cbiAgICByYXdfYnVmID0gY2FwLnJlYWRfcmF3KDIwMDApXG4gICAgZm9yIHggaW4gcmFuZ2UoMCwgcGFyLmJ5dGVzX3Blcl9saW5lKTpcbiAgICAgICAgeSA9IHJhd19idWZbeF1cblxuMi4gSW4gYW55IGNvbnRleHQgdGhhdCBleHBlY3RzIGEgYnl0ZXMtbGlrZSBvYmplY3QsIHRoZSBkYXRhIGNvbnRlbnQgaXNcbiAgIGFjY2Vzc2VkIGVmZmljaWVudGx5IHZpYSBkaXJlY3QgYWNjZXNzIGF0IEMgbGV2ZWwuIEV4YW1wbGU6IDo6XG5cbiAgICByYXdfYnVmID0gY2FwLnJlYWRfcmF3KDIwMDApXG4gICAgYXJyID0gYnl0ZXMocmF3X2J1ZilcblxuMy4gVGhlIHRpbWVzdGFtcCBjYW4gYmUgcmV0cmlldmVkIHZpYSBhdHRyaWJ1dGUgKnRpbWVzdGFtcCouIFRoZSB2YWx1ZVxuICAgaW5kaWNhdGVzIHdoZW4gdGhlIGRhdGEgd2FzIGNhcHR1cmVkIGluIGZvcm0gb2YgdGhlIG51bWJlciBvZiBzZWNvbmRzXG4gICBhbmQgZnJhY3Rpb25zIHNpbmNlIDE5NzAtMDEtMDEgMDA6MDA7IHRoZSB2YWx1ZSBpcyBvZiB0eXBlICpmbG9hdCouXG5cbk5vdGUgdGhlIHJhdyBidWZmZXIgY29udGFpbnMgYWxsIGNhcHR1cmVkIFZCSSBsaW5lcyBjb25zZWN1dGl2ZWx5IGluIGFcbm9uZS1kaW1lbnNpb25hbCBhcnJheS4gTGVuZ3RoIG9mIGEgbGluZSBjYW4gYmUgcXVlcmllZCBmcm9tIHRoZSBjYXB0dXJlXG5jb250ZXh0IHVzaW5nIGBadmJpLkNhcHR1cmUucGFyYW1ldGVycygpYF86IGF0dHJpYnV0ZSAqYnl0ZXNfcGVyX2xpbmUqLlxuXG5Ob3RlIGNsYXNzICpadmJpLkNhcHR1cmVSYXdCdWYqIGludGVybmFsbHkgdXNlcyBkaWZmZXJlbnQgbWVtb3J5XG5tYW5hZ2VtZW50IGRlcGVuZGluZyBvbiB1c2Ugb2YgKnJlYWQqIG9yICpwdWxsKiBjYXB0dXJpbmcgbWV0aG9kcy4gVGhpc1xuZGlmZmVyZW5jZSBpcyBub3QgdmlzaWJsZSBhdCB0aGUgaW50ZXJmYWNlLiAqKkhvd2V2ZXIqKiBkYXRhIHJldHJpZXZlZCBieVxuKnB1bGwqIGludGVyZmFjZXMgaXMgdmFsaWQgb25seSB1bnRpbCB0aGUgbmV4dCBjYWxsIG9mIGEgY2FwdHVyZSBmdW5jdGlvblxub24gdGhlIHNhbWUgb2JqZWN0LlxuXG5cbi4uIF9admJpLkNhcHR1cmVTbGljZWRCdWY6XG5cbkNsYXNzIFp2YmkuQ2FwdHVyZVNsaWNlZEJ1ZlxuPT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbkZvciByZWFzb25zIG9mIGVmZmljaWVuY3ksIGNhcHR1cmVkIGRhdGEgaXMgbm90IGltbWVkaWF0ZWx5IGNvbnZlcnRlZCBpbnRvXG5QeXRob24gc3RydWN0dXJlcy4gSW5zdGVhZCBjbGFzcyBgWnZiaS5DYXB0dXJlYF8gcmV0dXJucyBhbiBpbnN0YW5jZSBvZiB0aGlzXG5jbGFzcyBmb3Igc2xpY2VkIGRhdGEsIHdoaWNoIGVuY2Fwc3VsYXRlcyBkYXRhIG9mIGFsbCBzbGljZWQgbGluZXMgYW5kXG5yZWxhdGVkIGF0dHJpYnV0ZXMuXG5cblVzdWFsbHkgdGhpcyBvYmplY3QgaXMgc2ltcGx5IGZvcndhcmRlZCB0byBgWnZiaS5TZXJ2aWNlRGVjLmRlY29kZSgpYF87IGluXG50aGlzIGNhc2UgdGhlcmUgaXMgdmVyeSBsaXR0bGUgb3ZlcmhlYWQgZm9yIG1hbmFnaW5nIHRoZSBvYmplY3QgYnkgUHl0aG9uLlxuSWYgeW91IHdhbnQgdG8gcHJvY2VzcyB0aGUgZGF0YSBkaXJlY3RseSB3aXRoaW4gUHl0aG9uLCB5b3UgY2FuIGFjY2VzcyBpdFxuaW4gdGhlIGZvbGxvd2luZyB3YXlzOlxuXG4xLiBTdWJzY3JpcHRpbmcgdGhlIG9iamVjdCBhbGxvd3MgcmV0cmlldmluZyBzbGljZWQgbGluZXMgb25lLWJ5LW9uZS5cbiAgIFRoZSBzdGFuZGFyZCAqbGVuKiBvcGVyYXRvciBpbmRpY2F0ZXMgdGhlIG51bWJlciBvZiBieXRlcyBpbiB0aGUgYnVmZmVyLlxuXG4yLiBJbiBhbnkgY29udGV4dCB0aGF0IGV4cGVjdHMgYW4gaXRlcmF0b3IsIHRoZSBmdW5jdGlvbiBkZWxpdmVyZWQgc2xpY2VkXG4gICBsaW5lcyBjb25zZWN1dGl2ZWx5LlxuXG4zLiBUaGUgdGltZXN0YW1wIGNhbiBiZSByZXRyaWV2ZWQgdmlhIGF0dHJpYnV0ZSAqdGltZXN0YW1wKi4gVGhlIHZhbHVlXG4gICBpbmRpY2F0ZXMgd2hlbiB0aGUgZGF0YSB3YXMgY2FwdHVyZWQgaW4gZm9ybSBvZiB0aGUgbnVtYmVyIG9mIHNlY29uZHNcbiAgIGFuZCBmcmFjdGlvbnMgc2luY2UgMTk3MC0wMS0wMSAwMDowMDsgdGhlIHZhbHVlIGlzIG9mIHR5cGUgKmZsb2F0Ki5cblxuRXhhbXBsZTpcblxuOjpcblxuICAgIHNsaWNlZF9idWZmZXIgPSBjYXAucHVsbCgyMDAwKVxuICAgIGZvciBkYXRhLCBpZGVudCwgbGluZV9ubyBpbiBzbGljZWRfYnVmZmVyOlxuICAgICAgICAuLi5cblxuSXRlcmF0aW9uIHJldHVybnMgZm9yIGVhY2ggc2xpY2VkIGxpbmUgYSBuYW1lZCB0dXBsZSBvZiB0eXBlXG4qWnZiaS5DYXB0dXJlU2xpY2VkTGluZSosIGhvbGRpbmcgdGhlIGZvbGxvd2luZyB0aHJlZSBlbGVtZW50czpcblxuMC4gKmRhdGEqOiBTbGljZWQgZGF0YSBmcm9tIHRoZSByZXNwZWN0aXZlIGxpbmUgaW4gdGhlIHNsaWNlZCBidWZmZXIuIFRoZVxuICAgc3RydWN0dXJlIG9mIHRoZSBjb250YWluZWQgZGF0YSBkZXBlbmRzIG9uIHRoZSBraW5kIG9mIGRhdGEgaW4gdGhlIFZCSVxuICAgbGluZSBhcyBpZGVudGlmaWVkIGJ5IHRoZSBmb2xsb3dpbmcgYXR0cmlidXRlLiAoRm9yIGV4YW1wbGUsIGZvclxuICAgKlZCSV9TTElDRURfVEVMRVRFWFRfQiogNDIgYnl0ZXMgYXJlIHVzZWQ7IGZpcnN0IHR3byBieXRlcyBjb250YWluXG4gICBIYW1taW5nLTgvNCBlbmNvZGVkIG1hZ2F6aW5lIGFuZCBwYWNrZXQgbnVtYmVyLCB3aGljaCBkZXRlcm1pbmUgdGhlXG4gICBlbmNvZGluZyBhbmQgc2VtYW50aWNzIG9mIHRoZSByZXN0IG9mIHRoZSBkYXRhLilcblxuMS4gKmlkZW50KjogT25lIG9yIG1vcmUgJ1ZCSV9TTElDRURfKicgc3ltYm9scyAoYml0LXdpc2UgT1IpLCBpZGVudGlmeWluZ1xuICAgdGhlIHR5cGUgb2YgZGF0YSBzZXJ2aWNlLiBNdWx0aXBsZSBpZGVudGlmaWVycyBtYXkgb2NjdXIgZS5nLiBmb3JcbiAgICpWQklfU0xJQ0VEX1RFTEVURVhUX0IqLlxuXG4yLiAqbGluZV9ubyo6IFNvdXJjZSBsaW5lIG51bWJlciBhY2NvcmRpbmcgdG8gdGhlIElUVS1SIGxpbmUgbnVtYmVyaW5nXG4gICBzY2hlbWUsIG9yIDAgaWYgdGhlIGV4YWN0IGxpbmUgbnVtYmVyIGlzIHVua25vd24uIFRoaXMgbnVtYmVyIGlzXG4gICByZXF1aXJlZCBieSB0aGUgc2VydmljZSBkZWNvZGVyLlxuXG5Ob3RlIGNsYXNzICpadmJpLkNhcHR1cmVTbGljZWRCdWYqIGludGVybmFsbHkgdXNlcyBkaWZmZXJlbnQgbWVtb3J5XG5tYW5hZ2VtZW50IGRlcGVuZGluZyBvbiB1c2Ugb2YgKnJlYWQqIG9yICpwdWxsKiBjYXB0dXJpbmcgbWV0aG9kcy4gVGhpc1xuZGlmZmVyZW5jZSBpcyBub3QgdmlzaWJsZSBhdCB0aGUgaW50ZXJmYWNlLiAqKkhvd2V2ZXIqKiBkYXRhIHJldHJpZXZlZCBieVxuKnB1bGwqIGludGVyZmFjZXMgaXMgdmFsaWQgb25seSB1bnRpbCB0aGUgbmV4dCBjYWxsIG9mIGEgY2FwdHVyZSBmdW5jdGlvblxub24gdGhlIHNhbWUgb2JqZWN0LlxuXG5cbi4uIF9admJpLlJhd0RlYzpcblxuQ2xhc3MgWnZiaS5SYXdEZWNcbj09PT09PT09PT09PT09PT09XG5cblRoZSBmdW5jdGlvbnMgaW4gdGhpcyBzZWN0aW9uIGFsbG93IGNvbnZlcnRpbmcgcmF3IFZCSSBzYW1wbGVzIChpLmUuIGFcbmRpZ2l0aXplZCBpbWFnZSBvZiB0aGUgdHJhbnNtaXR0ZWQgYW5hbG9nIHdhdmVmb3JtKSB0byBwYXlsb2FkIGRhdGEgYnl0ZXMuXG5UaGlzIGNsYXNzIGlzIG5vdCBhcHBsaWNhYmxlIHRvIERWQi5cblxuVGhlc2UgZnVuY3Rpb25zIGFyZSB1c2VkIGludGVybmFsbHkgYnkgbGlienZiaSBpZiB5b3UgdXNlIHRoZSBzbGljZXJcbmZ1bmN0aW9ucyBvZiB0aGUgY2FwdHVyZSBvYmplY3QgKGUuZy4gKnB1bGxfc2xpY2VkKCkqKS4gVGhpcyBjbGFzc1xuaXMgdXNlZnVsIG9ubHkgd2hlbiBjYXB0dXJpbmcgcmF3IGRhdGEgb25seSAoZS5nLiAqcHVsbF9yYXcoKSopLFxuYWxsb3dpbmcgeW91ciBhcHBsaWNhdGlvbiB0byB0YWtlIGZ1bGwgY29udHJvbCBvZiBzbGljaW5nIHJhdyBkYXRhLlxuXG5BZnRlciBpbnN0YW50aWF0aW5nIGFuZCBjb25maWd1cmluZyB0aGUgY2xhc3MsIHRoZSBhY3R1YWwgd29yayBpcyBkb25lIGJ5XG5gWnZiaS5SYXdEZWMuZGVjb2RlKClgXywgd2hpY2ggeW91J2QgY2FsbCBvbiB0aGUgZGF0YSBvZiBlYWNoIGNhcHR1cmVkIFZCSVxuZnJhbWUuXG5cbkV4YW1wbGUgY29udHJvbCBmbG93OiA6OlxuXG4gICAgY2FwID0gWnZiaS5DYXB0dXJlKFwiL2Rldi92YmkwXCIsIHNlcnZpY2VzPVZCSV9TTElDRURfQ0FQVElPTl81MjUpXG5cbiAgICB2dGRlYyA9IFp2YmkuU2VydmljZURlYygpXG4gICAgdnRkZWMuZXZlbnRfaGFuZGxlcl9yZWdpc3RlcihadmJpLlZCSV9FVkVOVF9UVFhfUEFHRSwgcGdfaGFuZGxlcilcblxuICAgIHJhd19kZWMgPSBadmJpLlJhd0RlYyhjYXApXG4gICAgcmF3X2RlYy5hZGRfc2VydmljZXMob3B0X3NlcnZpY2VzLCBvcHRfc3RyaWN0KVxuXG4gICAgd2hpbGUgVHJ1ZTpcbiAgICAgICAgcmF3X2J1ZmZlciA9IGNhcC5wdWxsX3JhdyhvcHRfdGltZW91dClcblxuICAgICAgICBzbGljZWRfYnVmZmVyID0gcmF3X2RlYy5kZWNvZGUocmF3X2J1ZmZlcilcblxuICAgICAgICB2dGRlYy5kZWNvZGUoc2xpY2VkX2J1ZmZlcilcblxuXG5Db25zdHJ1Y3RvciBadmJpLlJhd0RlYygpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICByYXdfZGVjID0gWnZiaS5SYXdEZWMocmVmKVxuXG5DcmVhdGVzIGFuZCBpbml0aWFsaXplcyBhIG5ldyByYXcgZGVjb2RlciBjb250ZXh0LiBQYXJhbWV0ZXIgKnJlZipcbnNwZWNpZmllcyB0aGUgcGh5c2ljYWwgcGFyYW1ldGVycyBvZiB0aGUgcmF3IFZCSSBpbWFnZSwgc3VjaCBhcyB0aGVcbnNhbXBsaW5nIHJhdGUsIG51bWJlciBvZiBWQkkgbGluZXMgZXRjLiAgVGhlIHBhcmFtZXRlciBjYW4gYmUgZWl0aGVyXG5hIHJlZmVyZW5jZSB0byBhIGNhcHR1cmUgY29udGV4dCAoYFp2YmkuQ2FwdHVyZWBfKVxub3IgcmF3IGNhcHR1cmUgcGFyYW1ldGVycyBvZiB0eXBlIGBadmJpLlJhd1BhcmFtc2BfLlxuXG5BIHByb3Blcmx5IGluaXRpYWxpemVkIGluc3RhbmNlIG9mICpadmJpLlJhd1BhcmFtcyogY2FuIGJlIG9idGFpbmVkIGVpdGhlclxudmlhIG1ldGhvZCBgWnZiaS5DYXB0dXJlLnBhcmFtZXRlcnMoKWBfIG9yIGBadmJpLlJhd0RlYy5wYXJhbWV0ZXJzKClgXy5cbkluIGNhc2UgYW4gaW5zdGFuY2Ugb2YgYFp2YmkuQ2FwdHVyZWBfIGlzIHVzZWQgYXMgcGFyYW1ldGVyIHRvIHRoZVxuY29uc3RydWN0b3IsIGRlY29kZXIgcGFyYW1ldGVycyBhcmUgcmV0cmlldmVkIGludGVybmFsbHkgdXNpbmdcbmBadmJpLkNhcHR1cmUucGFyYW1ldGVycygpYCBmb3IgY29udmVuaWVuY2UuXG5cblNlZSBkZXNjcmlwdGlvbiBvZiBjbGFzcyBgWnZiaS5SYXdQYXJhbXNgXyBmb3IgYSBsaXN0IG9mIHNhbXBsaW5nXG5wYXJhbWV0ZXJzLlxuXG5admJpLlJhd0RlYy5wYXJhbWV0ZXJzKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgc2VydmljZXMsIG1heF9yYXRlLCBwYXIgPSBadmJpLlJhd0RlYy5wYXJhbWV0ZXJzKHNlcnZpY2VzLCBzY2FubmluZylcblxuVGhpcyBpcyBhICoqc3RhdGljKiogbWVtYmVyIGZ1bmN0aW9uLiBUaGUgZnVuY3Rpb24gY2FsY3VsYXRlcyB0aGUgc2FtcGxpbmdcbnBhcmFtZXRlcnMgcmVxdWlyZWQgdG8gcmVjZWl2ZSBhbmQgZGVjb2RlIHRoZSByZXF1ZXN0ZWQgZGF0YSBzZXJ2aWNlcy5cblRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZSBoYXJkd2FyZSBwYXJhbWV0ZXJzIHByaW9yIHRvXG5jYWxsaW5nIGBadmJpLlJhd0RlYy5hZGRfc2VydmljZXMoKWBfLiAgVGhlIHJldHVybmVkIHNhbXBsaW5nIGZvcm1hdCBpcyBmaXhlZCB0b1xuYFZCSV9QSVhGTVRfWVVWNDIwYCwgYW5kIGF0dHJpYnV0ZSAqYnl0ZXNfcGVyX2xpbmUqIGlzIHNldCB0byBhIHJlYXNvbmFibGVcbm1pbmltdW0uXG5cbklucHV0IHBhcmFtZXRlcnM6XG5cbjpzZXJ2aWNlczpcbiAgICBUaGlzIGludGVnZXIgdmFsdWUgY29udGFpbnMgYSBiaXQtd2lzZSBPUiBvZiBgVkJJX1NMSUNFRF8qYCBjb25zdGFudHMuXG4gICAgSGVyZSAoYW5kIG9ubHkgaGVyZSkgeW91IGNhbiBhZGQgYFZCSV9TTElDRURfVkJJXzYyNWAgb3JcbiAgICBgVkJJX1NMSUNFRF9WQklfNTI1YCB0byBpbmNsdWRlIGFsbCBWQkkgc2NhbiBsaW5lcyBpbiB0aGUgY2FsY3VsYXRlZFxuICAgIHNhbXBsaW5nIHBhcmFtZXRlcnMuXG46c2Nhbm5pbmc6XG4gICAgSWYgKnNjYW5uaW5nKiBpcyBzZXQgdG8gNTI1IG9ubHkgTlRTQyBzZXJ2aWNlcyBhcmUgYWNjZXB0ZWQ7IGlmIHNldCB0b1xuICAgIDYyNSBvbmx5IFBBTC9TRUNBTSBzZXJ2aWNlcyBhcmUgYWNjZXB0ZWQuIFdoZW4gc2Nhbm5pbmcgaXMgMCwgdGhlIG5vcm1cbiAgICBpcyBkZXRlcm1pbmVkIGZyb20gdGhlIHJlcXVlc3RlZCBzZXJ2aWNlczsgYW4gYW1iaWd1b3VzIHNldCB3aWxsXG4gICAgcmVzdWx0IGluIHVuZGVmaW5lZCBiZWhhdmlvci5cblxuVGhlIGZ1bmN0aW9uIHJldHVybnMgYSB0dXBsZSBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgdGhyZWUgcmVzdWx0czpcblxuMC4gQW4gaW50ZWdlciB2YWx1ZSBjb250YWluaW5nIGEgYml0LXdpc2UgT1Igb2YgYSBzdWItc2V0IG9mXG4gICBgVkJJX1NMSUNFRF8qYCBjb25zdGFudHMgZGVzY3JpYmluZyB0aGUgZGF0YSBzZXJ2aWNlcyBjb3ZlcmVkIGJ5IHRoZVxuICAgY2FsY3VsYXRlZCBzYW1wbGluZyBwYXJhbWV0ZXJzIHJldHVybmVkIGluICpocmVmKi4gVGhpcyBleGNsdWRlcyBzZXJ2aWNlc1xuICAgdGhlIGxpYnp2YmkgcmF3IGRlY29kZXIgY2Fubm90IGRlY29kZSBhc3N1bWluZyB0aGUgc3BlY2lmaWVkIHBoeXNpY2FsXG4gICBwYXJhbWV0ZXJzLlxuXG4xLiBDYWxjdWxhdGVkIG1heGltdW0gcmF0ZSwgd2hpY2ggaXMgdG8gdGhlIGhpZ2hlc3QgZGF0YSBiaXQgcmF0ZVxuICAgaW4gKipIeioqIG9mIGFsbCBzZXJ2aWNlcyByZXF1ZXN0ZWQgKFRoZSBzYW1wbGluZyByYXRlIHNob3VsZCBiZSBhdCBsZWFzdFxuICAgdHdpY2UgYXMgaGlnaDsgYXR0cmlidXRlIGBzYW1wbGluZ19yYXRlYCB3aWxsIGJlIHNldCBieSBsaWJ6dmJpIHRvIGEgbW9yZVxuICAgcmVhc29uYWJsZSB2YWx1ZSBvZiAyNyBNSHogZGVyaXZlZCBmcm9tIElUVS1SIFJlYy4gNjAxLilcblxuMi4gQW4gaW5zdGFuY2Ugb2YgY2xhc3MgYFp2YmkuUmF3UGFyYW1zYF8gd2hpY2ggY29udGFpbnMgdGhlIGNhbGN1bGF0ZWRcbiAgIHNhbXBsaW5nIHBhcmFtZXRlcnMuIFRoZSBjb250ZW50IGlzIGRlc2NyaWJlZCBhcyBmb3IgZnVuY3Rpb25cbiAgIGBadmJpLkNhcHR1cmUucGFyYW1ldGVycygpYF9cblxuWnZiaS5SYXdEZWMucmVzZXQoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgcmF3X2RlYy5yZXNldCgpXG5cblJlc2V0cyB0aGUgcmF3IGRlY29kZXIgY29udGV4dC4gVGhpcyByZW1vdmVzIGFsbCBwcmV2aW91c2x5IGFkZGVkIHNlcnZpY2VzXG50byBiZSBkZWNvZGVkIChpZiBhbnkpIGJ1dCBkb2VzIG5vdCB0b3VjaCB0aGUgc2FtcGxpbmcgcGFyYW1ldGVycy4gWW91XG5hcmUgZnJlZSB0byBjaGFuZ2UgdGhlIHNhbXBsaW5nIHBhcmFtZXRlcnMgYWZ0ZXIgY2FsbGluZyB0aGlzLlxuXG5admJpLlJhd0RlYy5hZGRfc2VydmljZXMoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHNlcnZpY2VzID0gcmF3X2RlYy5hZGRfc2VydmljZXMoc2VydmljZXMsIHN0cmljdClcblxuQWZ0ZXIgeW91IGluaXRpYWxpemVkIHRoZSBzYW1wbGluZyBwYXJhbWV0ZXJzIGluIHJhdyBkZWNvZGVyIGNvbnRleHRcbihhY2NvcmRpbmcgdG8gdGhlIGFiaWxpdGllcyBvZiB5b3VyIFZCSSBkZXZpY2UpLCB0aGlzIGZ1bmN0aW9uIGFkZHMgb25lXG5vciBtb3JlIGRhdGEgc2VydmljZXMgdG8gYmUgZGVjb2RlZC4gVGhlIGxpYnp2YmkgcmF3IFZCSSBkZWNvZGVyIGNhblxuZGVjb2RlIHVwIHRvIGVpZ2h0IGRhdGEgc2VydmljZXMgaW4gcGFyYWxsZWwuIFlvdSBjYW4gY2FsbCB0aGlzIGZ1bmN0aW9uXG53aGlsZSBhbHJlYWR5IGRlY29kaW5nLCBpdCBkb2VzIG5vdCBjaGFuZ2Ugc2FtcGxpbmcgcGFyYW1ldGVycyBhbmQgeW91XG5tdXN0IG5vdCBjaGFuZ2UgdGhlbSBlaXRoZXIgYWZ0ZXIgY2FsbGluZyB0aGlzLlxuXG5JbnB1dCBwYXJhbWV0ZXJzOlxuXG46c2VydmljZXM6XG4gICAgVGhpcyBpbnRlZ2VyIHZhbHVlIGNvbnRhaW5zIGEgYml0LXdpc2UgT1Igb2YgYFZCSV9TTElDRURfKmAgY29uc3RhbnRzLlxuICAgIChzZWUgYWxzbyBkZXNjcmlwdGlvbiBvZiB0aGUgKnBhcmFtZXRlcnMqIGZ1bmN0aW9uIGFib3ZlLilcblxuOnN0cmljdDpcbiAgICBUaGUgcGFyYW1ldGVyIGNhbiBiZSBzZXQgdG8gMCwgMSBvciAyIGZvciByZXF1ZXN0aW5nIHJlcXVlc3RzIGxvb3NlLFxuICAgIHJlbGlhYmxlIG9yIHN0cmljdCBtYXRjaGluZyBvZiBzYW1wbGluZyBwYXJhbWV0ZXJzIHJlc3BlY3RpdmVseS4gRm9yXG4gICAgZXhhbXBsZSBpZiB0aGUgZGF0YSBzZXJ2aWNlIHJlcXVpcmVzIGtub3dsZWRnZSBvZiBsaW5lIG51bWJlcnMgd2hpbGVcbiAgICB0aGV5IGFyZSBub3Qga25vd24sIHZhbHVlIDAgd2lsbCBhY2NlcHQgdGhlIHNlcnZpY2UgKHdoaWNoIG1heSB3b3JrIGlmXG4gICAgdGhlIHNjYW4gbGluZXMgYXJlIHBvcHVsYXRlZCBpbiBhIG5vbi1jb25mdXNpbmcgd2F5KSBidXQgdmFsdWVzIDEgb3IgMlxuICAgIHdpbGwgbm90LiBJZiB0aGUgZGF0YSBzZXJ2aWNlIG1heSB1c2UgbW9yZSBsaW5lcyB0aGFuIGFyZSBzYW1wbGVkLFxuICAgIHZhbHVlIDEgd2lsbCBzdGlsbCBhY2NlcHQgYnV0IHZhbHVlIDIgd2lsbCBub3QuIElmIHVuc3VyZSwgc2V0IHRvIDEuXG5cblRoZSBmdW5jdGlvbiByZXR1cm5zIGFuIGludGVnZXIgdmFsdWUgY29udGFpbmluZyBhIGJpdC13aXNlIE9SIG9mXG5gVkJJX1NMSUNFRF8qYCBjb25zdGFudHMgZGVzY3JpYmluZyB0aGUgZGF0YSBzZXJ2aWNlcyB0aGF0IGFjdHVhbGx5IGNhbiBiZVxuZGVjb2RlZC4gVGhpcyBleGNsdWRlcyB0aG9zZSBzZXJ2aWNlcyBub3QgZGVjb2RhYmxlIGdpdmVuIHNhbXBsaW5nXG5wYXJhbWV0ZXJzIG9mIHRoZSByYXcgZGVjb2RlciBjb250ZXh0LlxuXG5admJpLlJhd0RlYy5jaGVja19zZXJ2aWNlcygpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBzZXJ2aWNlcyA9IHJhd19kZWMuY2hlY2tfc2VydmljZXMoc2VydmljZXMsIHN0cmljdD0wKVxuXG5DaGVjayBhbmQgcmV0dXJuIHdoaWNoIG9mIHRoZSBnaXZlbiBzZXJ2aWNlcyBjYW4gYmUgZGVjb2RlZCB3aXRoXG5jdXJyZW50IHBoeXNpY2FsIHBhcmFtZXRlcnMgYXQgYSBnaXZlbiBzdHJpY3RuZXNzIGxldmVsLlxuXG5TZWUgYFp2YmkuUmF3RGVjLmFkZF9zZXJ2aWNlcygpYF8gZm9yIGRldGFpbHMgb24gcGFyYW1ldGVyIHNlbWFudGljcy5cblxuWnZiaS5SYXdEZWMucmVtb3ZlX3NlcnZpY2VzKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBzZXJ2aWNlcyA9IHJhd19kZWMucmVtb3ZlX3NlcnZpY2VzKHNlcnZpY2VzKVxuXG5SZW1vdmVzIG9uZSBvciBtb3JlIGRhdGEgc2VydmljZXMgZ2l2ZW4gaW4gaW5wdXQgcGFyYW1ldGVyICpzZXJ2aWNlcypcbnRvIGJlIGRlY29kZWQgZnJvbSB0aGUgcmF3IGRlY29kZXIgY29udGV4dC4gIFRoaXMgZnVuY3Rpb24gY2FuIGJlIGNhbGxlZFxuYXQgYW55IHRpbWUgYW5kIGRvZXMgbm90IHRvdWNoIHNhbXBsaW5nIHBhcmFtZXRlcnMgc3RvcmVkIGluIHRoZSBjb250ZXh0LlxuXG5SZXR1cm5zIGEgc2V0IG9mIGBWQklfU0xJQ0VEXypgIGNvbnN0YW50cyBkZXNjcmliaW5nIHRoZSByZW1haW5pbmdcbmRhdGEgc2VydmljZXMgdGhhdCB3aWxsIGJlIGRlY29kZWQuXG5cblp2YmkuUmF3RGVjLnJlc2l6ZSgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgcmF3X2RlYy5yZXNpemUoc3RhcnRfYSwgY291bnRfYSwgc3RhcnRfYiwgY291bnRfYilcblxuR3Jvd3Mgb3Igc2hyaW5rcyB0aGUgaW50ZXJuYWwgc3RhdGUgYXJyYXlzIGZvciBWQkkgZ2VvbWV0cnkgY2hhbmdlcy5cblJldHVybnMgYE5vbmVgLlxuXG5admJpLlJhd0RlYy5kZWNvZGUoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHNsaWNlZF9idWZmZXIgPSByYXdfZGVjLmRlY29kZShyYXdfYnVmZmVyKVxuXG5UaGlzIGlzIHRoZSBtYWluIHNlcnZpY2Ugb2ZmZXJlZCBieSB0aGUgcmF3IGRlY29kZXI6IERlY29kZXMgYSByYXcgVkJJXG5pbWFnZSBnaXZlbiBpbiAqcmF3X2J1ZmZlciosIGNvbnNpc3Rpbmcgb2Ygc2V2ZXJhbCBzY2FuIGxpbmVzIG9mIHJhdyBWQklcbmRhdGEuIFRoZSBvdXRwdXQgaXMgc29ydGVkIGJ5IGxpbmUgbnVtYmVyLlxuXG5UaGUgaW5wdXQgcGFyYW1ldGVyICpyYXdfYnVmZmVyKiBjYW4gYnkgYW55IGJ5dGVzLWxpa2Ugb2JqZWN0IHRoYXRcbmNvbnRhaW5zIGF0IGxlYXN0IHRoZSBudW1iZXIgb2YgYnl0ZXMgcmVxdWlyZWQgYnkgdGhlIGNhcHR1cmUgZ2VvbWV0cnlcbih3aGljaCBpcyBgcGFyLmJ5dGVzX3Blcl9saW5lICogKHBhci5jb3VudF9hICsgcGFyLmNvdW50X2IpYCwgd2hlcmUgKnBhcipcbmlzIHRoZSB1c2VkIGluc3RhbmNlIG9mICpadmJpLlJhd1BhcmFtcyopLiBVc3VhbGx5IHRoZSBwYXJhbWV0ZXIgaXNcbmFuIG9iamVjdCBvZiB0eXBlIGBadmJpLkNhcHR1cmVSYXdCdWZgXyBhcyByZXR1cm5lZCBieSB0aGUgKnB1bGwqIGtpbmQgb2ZcbmBadmJpLkNhcHR1cmVgXyBtZXRob2RzIChlLmcuICBgWnZiaS5DYXB0dXJlLnB1bGxfcmF3KClgXykuXG5cblJldHVybiB2YWx1ZSBpcyBhIGJ1ZmZlciBvZiB0eXBlIGBadmJpLkNhcHR1cmVTbGljZWRCdWZgXywgY29udGFpbmluZyB0aGVcbnNsaWNlZCBvdXRwdXQgZGF0YS4gKFBsZWFzZSByZWZlciB0byB0aGUgZGVzY3JpcGlvbiBvZiB0aGF0IGNsYXNzIGZvclxuZGV0YWlscy4pIFVwb24gZXJyb3JzIHRoZSBmdW5jdGlvbiByYWlzZXMgZXhjZXB0aW9uICpadmJpLlJhd0RlY0Vycm9yKi5cblxuVXN1YWxseSB0aGUgc2xpY2VkIGJ1ZmZlciByZXN1bHQgaXMgZm9yd2FyZGVkIHRvIGBadmJpLlNlcnZpY2VEZWMuZGVjb2RlKClgXy5cbihTZWUgZ2VuZXJhbCBkZXNjcmlwdGlvbiBgWnZiaS5SYXdEZWNgXyBmb3IgYW4gZXhhbXBsZSBjb250cm9sIGZsb3cuKVxuTm90ZSBpbiB0aGF0IGNhc2UgdGhlIGJ1ZmZlciBuZWVkcyB0byBiZSBmb3J3YXJkZWQgZXZlbiBpZiB6ZXJvIGxpbmVzIHdlcmVcbnNsaWNlZDsgcmVmZXIgdG8gZGVzY3JpcHRpb24gb2YgdGhlIG1ldGhvZCBmb3IgZGV0YWlscy5cblxuTm90ZSB0aGlzIGZ1bmN0aW9uIGF0dGVtcHRzIHRvIGxlYXJuIHdoaWNoIGxpbmVzIGNhcnJ5IHdoaWNoIGRhdGEgc2VydmljZSxcbm9yIG5vbmUsIHRvIHNwZWVkIHVwIGRlY29kaW5nLiBIZW5jZSB5b3UgbXVzdCB1c2UgZGlmZmVyZW50IHJhdyBkZWNvZGVyXG5jb250ZXh0cyBmb3IgZGlmZmVyZW50IGRldmljZXMuXG5cblxuLi4gX1p2YmkuUmF3UGFyYW1zOlxuXG5DbGFzcyBadmJpLlJhd1BhcmFtc1xuPT09PT09PT09PT09PT09PT09PT1cblxuVGhpcyBpcyBhIHNpbXBsZSBwYXJhbWV0ZXIgY29udGFpbmVyLCBlbmNhcHN1bGF0aW5nIHBhcmFtZXRlcnMgb2YgcmF3XG5jYXB0dXJlZCBkYXRhIChpLmUuICpyYXdfYnVmZmVyKiByZXN1bHQgcHJvZHVjZWQgYnkgbWV0aG9kc1xuKlp2YmkuQ2FwdHVyZS5yZWFkX3JhdygpKiBldC5hbC4pLCBvciBmb3IgaW5zdGFudGlhdGluZyBhIHJhdyBkZWNvZGVyXG5vZiBjbGFzcyBgWnZiaS5SYXdEZWNgXy5cblxuVGhlIGNsYXNzIGhhcyB0aGUgZm9sbG93aW5nIGF0dHJpYnV0ZXM6XG5cbnNjYW5uaW5nOlxuICAgIEVpdGhlciA1MjUgKE0vTlRTQywgTS9QQUwpIG9yIDYyNSAoUEFMLCBTRUNBTSksIGRlc2NyaWJpbmcgdGhlIHNjYW5cbiAgICBsaW5lIHN5c3RlbSBhbGwgbGluZSBudW1iZXJzIHJlZmVyIHRvLlxuXG5zYW1wbGluZ19mb3JtYXQ6XG4gICAgRm9ybWF0IG9mIHRoZSByYXcgVkJJIGRhdGEgKG9uZSBvZiB0aGUgYFZCSV9QSVhGTVRfKmAgY29uc3RhbnRzLFxuICAgIGUuZy4gYFZCSV9QSVhGTVRfWVVWNDIwYDsgc2VlIGVudW0gKnZiaV9waXhmbXQqKVxuXG5zYW1wbGluZ19yYXRlOlxuICAgIFNhbXBsaW5nIHJhdGUgaW4gSHogKGkuZS4gdGhlIG51bWJlciBvZiBzYW1wbGVzIG9yIHBpeGVscyBjYXB0dXJlZFxuICAgIHBlciBzZWNvbmQuKVxuXG5ieXRlc19wZXJfbGluZTpcbiAgICBOdW1iZXIgb2Ygc2FtcGxlcyBvciBwaXhlbHMgY2FwdHVyZWQgcGVyIHNjYW4gbGluZSwgaW4gYnl0ZXMuIFRoaXNcbiAgICBkZXRlcm1pbmVzIHRoZSByYXcgVkJJIGltYWdlIHdpZHRoIGFuZCB5b3Ugd2FudCBpdCBsYXJnZSBlbm91Z2ggdG9cbiAgICBjb3ZlciBhbGwgZGF0YSB0cmFuc21pdHRlZCBpbiB0aGUgbGluZSAod2l0aCBoZWFkcm9vbSkuXG5cbm9mZnNldDpcbiAgICBUaGUgZGlzdGFuY2UgZnJvbSAwSCAobGVhZGluZyBlZGdlIGhzeW5jLCBoYWxmIGFtcGxpdHVkZSBwb2ludCkgdG9cbiAgICB0aGUgZmlyc3Qgc2FtcGxlIChwaXhlbCkgY2FwdHVyZWQsIGluIHNhbXBsZXMgKHBpeGVscykuIFlvdSB3YW50IGFuXG4gICAgb2Zmc2V0IHNtYWxsIGVub3VnaCBub3QgdG8gbWlzcyB0aGUgc3RhcnQgb2YgdGhlIGRhdGEgdHJhbnNtaXR0ZWQuXG5cbnN0YXJ0X2EsIHN0YXJ0X2I6XG4gICAgRmlyc3Qgc2NhbiBsaW5lIHRvIGJlIGNhcHR1cmVkIGluIHRoZSBmaXJzdCBhbmQgc2Vjb25kIGhhbGYtZnJhbWVcbiAgICByZXNwZWN0aXZlbHkuIE51bWJlcmluZyBpcyBhY2NvcmRpbmcgdG8gdGhlIElUVS1SIGxpbmUgbnVtYmVyaW5nXG4gICAgc2NoZW1lIChzZWUgKnZiaV9zbGljZWQqKS4gU2V0IHRvIHplcm8gaWYgdGhlIGV4YWN0IGxpbmUgbnVtYmVyIGlzbid0XG4gICAga25vd24uXG5cbmNvdW50X2EsIGNvdW50X2I6XG4gICAgTnVtYmVyIG9mIHNjYW4gbGluZXMgY2FwdHVyZWQgaW4gdGhlIGZpcnN0IGFuZCBzZWNvbmQgaGFsZi1mcmFtZVxuICAgIHJlc3BlY3RpdmVseS4gIFRoaXMgY2FuIGJlIHplcm8gaWYgb25seSBkYXRhIGZyb20gb25lIGZpZWxkIGlzXG4gICAgcmVxdWlyZWQuIFRoZSBzdW0gYGNvdW50X2EgKyBjb3VudF9iYCBkZXRlcm1pbmVzIHRoZSByYXcgVkJJIGltYWdlXG4gICAgaGVpZ2h0LlxuXG5pbnRlcmxhY2VkOlxuICAgIEluIHRoZSByYXcgdmJpIGltYWdlLCBub3JtYWxseSBhbGwgbGluZXMgb2YgdGhlIHNlY29uZCBmaWVsZCBhcmVcbiAgICBzdXBwb3NlZCB0byBmb2xsb3cgYWxsIGxpbmVzIG9mIHRoZSBmaXJzdCBmaWVsZC4gV2hlbiB0aGlzIGZsYWcgaXNcbiAgICBzZXQsIHRoZSBzY2FuIGxpbmVzIG9mIGZpcnN0IGFuZCBzZWNvbmQgZmllbGQgd2lsbCBiZSBpbnRlcmxlYXZlZCBpblxuICAgIG1lbW9yeS4gVGhpcyBpbXBsaWVzIGNvdW50X2EgYW5kIGNvdW50X2IgYXJlIGVxdWFsLlxuXG5zeW5jaHJvbm91czpcbiAgICBGaWVsZHMgbXVzdCBiZSBzdG9yZWQgaW4gdGVtcG9yYWwgb3JkZXIsIGkuIGUuIGFzIHRoZSBsaW5lcyBoYXZlIGJlZW5cbiAgICBjYXB0dXJlZC4gSXQgaXMgYXNzdW1lZCB0aGF0IHRoZSBmaXJzdCBmaWVsZCBpcyBhbHNvIHN0b3JlZCBmaXJzdCBpblxuICAgIG1lbW9yeSwgaG93ZXZlciBpZiB0aGUgaGFyZHdhcmUgY2Fubm90IHJlbGlhYmxlIGRpc3Rpbmd1aXNoIGZpZWxkcyB0aGlzXG4gICAgZmxhZyBzaGFsbCBiZSBjbGVhcmVkLCB3aGljaCBkaXNhYmxlcyBkZWNvZGluZyBvZiBkYXRhIHNlcnZpY2VzXG4gICAgZGVwZW5kaW5nIG9uIHRoZSBmaWVsZCBudW1iZXIuXG5cblxuXG4uLiBfWnZiaS5Qcm94eTpcblxuQ2xhc3MgWnZiaS5Qcm94eVxuPT09PT09PT09PT09PT09PVxuXG5UaGlzIGNsYXNzIGlzIHVzZWQgZm9yIHJlY2VpdmluZyBzbGljZWQgb3IgcmF3IGRhdGEgZnJvbSBhIFZCSSBwcm94eSBkYWVtb24uXG5Vc2luZyB0aGUgZGFlbW9uIGluc3RlYWQgb2YgY2FwdHVyaW5nIGRpcmVjdGx5IGZyb20gYSBWQkkgZGV2aWNlIGFsbG93c1xubXVsdGlwbGUgYXBwbGljYXRpb25zIHRvIGNhcHR1cmUgY29uY3VycmVudGx5LCBlLmcuIHRvIGRlY29kZSBtdWx0aXBsZSBkYXRhXG5zZXJ2aWNlcy5cblxuTm90ZSB0aGUgcHJveHkgaXMgb25seSB1c2VmdWwgaWYgYWxsIFZCSSBhcHBsaWNhdGlvbnMgdXNlIGl0LiBGb3JcbmFwcGxpY2F0aW9ucyB0aGF0IGRvIG5vdCBzdXBwb3J0IHRoZSBwcm94eSBkaXJlY3RseSwgdGhlcmUgaXMgYSBsaWJyYXJ5XG50aGF0IGNhbiBvdmVybG9hZCBjYWxscyB0byBDIGxpYnJhcnksIHNvIHRoYXQgYWNjZXNzIHRvIHRoZSBWQkkgZGV2aWNlIGlzXG5yZWRpcmVjdGVkIHRyYW5zcGFyZW50bHkgdGhyb3VnaCB0aGUgZGFlbW9uLiBEZXRhaWxzIGFyZSBkZXNjcmliZWQgaW4gdGhlXG5tYW51YWwgKnp2YmktY2hhaW5zKDEpKi4gSW4gcHJpbmNpcGxlIGl0J3MgYXMgZWFzeSBhcyBhcyBwcmVwZW5kaW5nXG5genZiaS1jaGFpbnMgLWRldiAvZGV2L3ZiaTBgIHRvIHRoZSBhcHBsaWNhdGlvbiBjb21tYW5kIGxpbmUuXG5cblNlZSBgZXhhbXBsZXMvcHJveHktdGVzdC5weWAgZm9yIGV4YW1wbGVzIGhvdyB0byB1c2UgdGhlc2UgZnVuY3Rpb25zLlxuXG5Db25zdHJ1Y3RvciBadmJpLlByb3h5XG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBwcm94eSA9IFp2YmkuUHJveHkoZGV2LCBhcHBuYW1lLCBhcHBmbGFncz0wLCB0cmFjZT1GYWxzZSlcblxuICAgIGNhcCA9IFp2YmkuQ2FwdHVyZSggLi4uLCBwcm94eT1wcm94eSApXG5cbkNyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgcHJveHkgY29udGV4dCwgb3IgcmFpc2VzIGV4Y2VwdGlvbiAqWnZiaS5Qcm94eUVycm9yKlxudXBvbiBlcnJvci4gIChOb3RlIGluIHJlYWxpdHkgdGhpcyBjYWxsIHdpbGwgYWx3YXlzIHN1Y2NlZWQsIHNpbmNlIGEgY29ubmVjdGlvblxudG8gdGhlIHByb3h5IGRhZW1vbiBpc24ndCBlc3RhYmxpc2hlZCB1bnRpbCB5b3UgYWN0dWFsbHkgb3BlbiBhIGNhcHR1cmUgY29udGV4dFxud2hlbiBpbnN0YW50aWF0aW5nIGBadmJpLkNhcHR1cmVgXyB3aXRoIGEgcmVmZXJlbmNlIHRvIGBadmJpLlByb3h5YF8uKVxuXG5QYXJhbWV0ZXJzOlxuXG46ZGV2OlxuICAgIFNwZWNpZmllcyB0aGUgbmFtZSBvZiB0aGUgZGV2aWNlIHRvIG9wZW4sIHVzdWFsbHkgb25lIG9mIGAvZGV2L3ZiaTBgIGFuZCB1cC5cbiAgICBUaGUgZGV2aWNlIG5hbWUgaGFzIHRvIG1hdGNoIHRoYXQgdXNlZCBieSB0aGUgZGVhbW9uLCBlbHNlIHRoZSBkYWVtb24gd2lsbFxuICAgIHJlZnVzZSB0aGUgY29ubmVjdGlvbiwgc28gdGhhdCBgWnZiaS5DYXB0dXJlYF8gY2FsbHMgYmFjayB0byBkaXJlY3QgYWNjZXNzXG4gICAgdG8gdGhlIGRldmljZS5cblxuOmNsaWVudF9uYW1lOlxuICAgIE5hbWVzIHRoZSBjbGllbnQgYXBwbGljYXRpb24sIHR5cGljYWxseSBpZGVudGljYWwgdG8gYGBzeXMuYXJndlswXWBgXG4gICAgKHdpdGhvdXQgdGhlIHBhdGggdGhvdWdoKS4gQ2FuIGJlIHVzZWQgYnkgdGhlIHByb3h5IGRhZW1vbiBmb3IgZmluZS10dW5pbmdcbiAgICBzY2hlZHVsaW5nLCBvciBmb3IgcHJlc2VudGluZyB0aGUgdXNlciB3aXRoIGEgbGlzdCBvZiBjdXJyZW50bHkgY29ubmVjdGVkXG4gICAgYXBwbGljYXRpb25zLlxuXG46ZmxhZ3M6XG4gICAgQ29udGFpbnMgemVybyBvciBhIGJpdC13aXNlIE9SIG9mIGBWQklfUFJPWFlfQ0xJRU5UXypgIGZsYWdzLlxuXG46dHJhY2U6XG4gICAgSWYgVHJ1ZSwgZW5hYmxlcyBvdXRwdXQgb2YgcHJvZ3Jlc3MgbWVzc2FnZXMgb24gYGBzeXMuc3RkZXJyYGAuXG5cblByb3h5LnNldF9jYWxsYmFjaygpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgcHJveHkuc2V0X2NhbGxiYWNrKGNhbGxiYWNrPU5vbmUsIHVzZXJfZGF0YT1Ob25lKVxuXG5JbnN0YWxscyBvciByZW1vdmVzIGEgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIGFzeW5jaHJvbm91cyBtZXNzYWdlcyAoZS5nLlxuY2hhbm5lbCBjaGFuZ2Ugbm90aWZpY2F0aW9ucy4pIElucHV0IHBhcmFtZXRlcnMgYXJlIGEgY2FsbGFibGUgb2JqZWN0XG4qY2FsbGJhY2sqIGFuZCBhbiBvcHRpb25hbCBvYmplY3QgKnVzZXJfZGF0YSogd2hpY2ggaXMgcGFzc2VkIHRocm91Z2ggdG9cbnRoZSBjYWxsYmFjayBmdW5jdGlvbiB1bmNoYW5nZWQuICBDYWxsIHdpdGhvdXQgYW55IGFyZ3VtZW50cyB0byByZW1vdmUgdGhlXG5jYWxsYmFjayBhZ2Fpbi5cblxuVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdpbGwgcmVjZWl2ZSB0aGUgZXZlbnQgbWFzayAoaS5lLiBvbmUgb2YgdGhlXG5jb25zdGFudHMgYFZCSV9QUk9YWV9FVl8qYCBpbiB0aGUgZm9sbG93aW5nIGxpc3QpIGFuZCwgaWYgcHJvdmlkZWQsXG4qdXNlcl9kYXRhKiBhcyBwYXJhbWV0ZXJzLlxuXG4qICpWQklfUFJPWFlfRVZfQ0hOX0dSQU5URUQqOlxuICBUaGUgY2hhbm5lbCBjb250cm9sIHRva2VuIHdhcyBncmFudGVkLCBzbyB0aGF0IHRoZSBjbGllbnQgbWF5IG5vd1xuICBjaGFuZ2UgdGhlIGNoYW5uZWwuICBOb3RlOiB0aGUgY2xpZW50IHNob3VsZCByZXR1cm4gdGhlIHRva2VuIGFmdGVyXG4gIHRoZSBjaGFubmVsIGNoYW5nZSB3YXMgY29tcGxldGVkICh0aGUgY2hhbm5lbCB3aWxsIHN0aWxsIHJlbWFpblxuICByZXNlcnZlZCBmb3IgdGhlIHJlcXVlc3RlZCB0aW1lLilcblxuKiAqVkJJX1BST1hZX0VWX0NITl9DSEFOR0VEKjpcbiAgVGhlIGNoYW5uZWwgKGUuZy4gVFYgdHVuZXIgZnJlcXVlbmN5KSB3YXMgY2hhbmdlZCBieSBhbm90aGVyIHByb3h5XG4gIGNsaWVudC5cblxuKiAqVkJJX1BST1hZX0VWX05PUk1fQ0hBTkdFRCo6XG4gIFRoZSBUViBub3JtIHdhcyBjaGFuZ2VkIGJ5IGFub3RoZXIgY2xpZW50IChpbiBhIHdheSB3aGljaCBhZmZlY3RzIFZCSSxcbiAgZS5nLiBjaGFuZ2VzIGJldHdlZW4gUEFML1NFQ0FNIGFyZSBpZ25vcmVkLikgIFRoZSBjbGllbnQgbXVzdCB1cGRhdGVcbiAgaXRzIHNlcnZpY2VzLCBlbHNlIG5vIGRhdGEgd2lsbCBiZSBmb3J3YXJkZWQgYnkgdGhlIHByb3h5IHVudGlsIHRoZVxuICBub3JtIGlzIGNoYW5nZWQgYmFjay5cblxuKiAqVkJJX1BST1hZX0VWX0NITl9SRUNMQUlNRUQqOlxuICBUaGUgcHJveHkgZGFlbW9uIHJlcXVlc3RzIHRvIHJldHVybiB0aGUgY2hhbm5lbCBjb250cm9sIHRva2VuLiAgVGhlXG4gIGNsaWVudCBpcyBubyBsb25nZXIgYWxsb3dlZCB0byBzd2l0Y2ggdGhlIGNoYW5uZWwgYW5kIG11c3QgaW1tZWRpYXRlbHlcbiAgcmVwbHkgd2l0aCBhIGNoYW5uZWwgbm90aWZpY2F0aW9uIHdpdGggZmxhZyBgVkJJX1BST1hZX0NITl9UT0tFTmBcblxuKiAqVkJJX1BST1hZX0VWX05PTkUqOlxuICBObyBuZXdzLlxuXG5TaW5jZSB0aGUgcHJveHkgY2xpZW50IGhhcyBubyBcImxpZmVcIiBvbiBpdCdzIG93biAoaS5lLiAgaXQncyBub3QgdXNpbmcgYW5cbmludGVybmFsIHRocmVhZCBvciBwcm9jZXNzKSBjYWxsYmFja3Mgd2lsbCBvbmx5IG9jY3VyIGZyb20gaW5zaWRlIG90aGVyXG5wcm94eSBjbGllbnQgb3IgY2FwdHVyZSBmdW5jdGlvbiBjYWxscy4gIFRoZSBjbGllbnQncyBjYXB0dXJlIGRldmljZSBmaWxlXG5kZXNjcmlwdG9yIHdpbGwgYmVjb21lIHJlYWRhYmxlIHdoZW4gYW4gYXN5bmNocm9ub3VzIG1lc3NhZ2UgaGFzIGFycml2ZWRcbmZyb20gdGhlIGRhZW1vbi4gIFR5cGljYWxseSB0aGUgYXBwbGljYXRpb24gdGhlbiB3aWxsIGNhbGwgcmVhZCB0byBvYnRhaW5cbnNsaWNlZCBkYXRhIGFuZCB0aGUgY2FsbGJhY2sgd2lsbCBiZSBpbnZva2VkIGZyb20gaW5zaWRlIHRoZSByZWFkXG5mdW5jdGlvbi4gIFVzdWFsbHkgaW4gdGhpcyBjYXNlIHRoZSByZWFkIGNhbGwgd2lsbCByZXR1cm4gemVybywgaS5lLlxuaW5kaWNhdGUgYW4gdGltZW91dCBzaW5jZSBubyBhY3R1YWwgc2xpY2VkIGRhdGEgaGFzIGFycml2ZWQuXG5cbk5vdGUgZm9yIGNoYW5uZWwgcmVxdWVzdHMgdGhlIGNhbGxiYWNrIHRvIGdyYW50IGNoYW5uZWwgY29udHJvbCBtYXkgYmVcbmludm9rZWQgYmVmb3JlIHRoZSByZXF1ZXN0IGZ1bmN0aW9uIHJldHVybnMuICBOb3RlIHlvdSBjYW4gY2FsbCBhbnlcbmludGVyZmFjZSBmdW5jdGlvbiBmcm9tIGluc2lkZSB0aGUgY2FsbGJhY2ssIGluY2x1ZGluZyB0aGUgZGVzdHJveVxub3BlcmF0b3IuXG5cblByb3h5LmdldF9kcml2ZXJfYXBpKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIGFwaSA9IHByb3h5LmdldF9kcml2ZXJfYXBpKClcblxuVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgZm9yIHF1ZXJ5aW5nIHdoaWNoIGRyaXZlciBpcyBiZWhpbmQgdGhlXG5kZXZpY2Ugd2hpY2ggaXMgY3VycmVudGx5IG9wZW5lZCBieSB0aGUgVkJJIHByb3h5IGRhZW1vbi5cbkFwcGxpY2F0aW9ucyB3aGljaCBvbmx5IHVzZSBsaWJ6dmJpJ3MgY2FwdHVyZSBBUEkgbmVlZCBub3RcbmNhcmUgYWJvdXQgdGhpcy4gIFRoZSBpbmZvcm1hdGlvbiBpcyByZWxldmFudCB0byBhcHBsaWNhdGlvbnNcbndoaWNoIG5lZWQgdG8gc3dpdGNoIFRWIGNoYW5uZWxzIG9yIG5vcm1zLlxuXG5SZXR1cm5zIGFuIGlkZW50aWZpZXIgZGVzY3JpYmluZyB3aGljaCBBUEkgaXMgdXNlZCBvbiBzZXJ2ZXIgc2lkZSxcbmkuZS4gb25lIG9mIHRoZSBzeW1ib2xzXG5gVkJJX0FQSV9WNEwxYCxcbmBWQklfQVBJX1Y0TDJgLFxuYFZCSV9BUElfQktUUmAgb3JcbmBWQklfQVBJX1VOS05PV05gIHVwb24gZXJyb3IuXG5UaGUgZnVuY3Rpb24gd2lsbCBmYWlsIGlmIHRoZSBjbGllbnQgaXMgY3VycmVudGx5IG5vdCBjb25uZWN0ZWQgdG9cbnRoZSBwcm94eSBkYWVtb24sIGkuZS4gVkJJIGNhcHR1cmUgaGFzIHRvIGJlIHN0YXJ0ZWQgZmlyc3QuXG5cblByb3h5LmNoYW5uZWxfcmVxdWVzdCgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgUHJveHkuY2hhbm5lbF9yZXF1ZXN0KGNobl9wcmlvLCByZXF1ZXN0X2Nobj1GYWxzZSwgYWxsb3dfc3VzcGVuZD1GQUxTRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViX3ByaW89LTEsIG1pbl9kdXJhdGlvbj0tMSwgZXhwX2R1cmF0aW9uPS0xKVxuXG5UaGlzIG1ldGhvZCBpcyB1c2VkIHRvIHJlcXVlc3QgcGVybWlzc2lvbiB0byBzd2l0Y2ggY2hhbm5lbHMgb3Igbm9ybS5cblNpbmNlIHRoZSBWQkkgZGV2aWNlIGNhbiBiZSBzaGFyZWQgd2l0aCBvdGhlciBwcm94eSBjbGllbnRzLCBjbGllbnRzIHNob3VsZFxud2FpdCBmb3IgcGVybWlzc2lvbiwgc28gdGhhdCB0aGUgcHJveHkgZGFlbW9uIGNhbiBmYWlybHkgc2NoZWR1bGUgY2hhbm5lbFxucmVxdWVzdHMuXG5cblNjaGVkdWxpbmcgZGlmZmVycyBhdCB0aGUgMyBwcmlvcml0eSBsZXZlbHMuIEZvciBhdmFpbGFibGUgcHJpb3JpdHkgbGV2ZWxzXG5mb3IgKmNobl9wcmlvKiBzZWUgY29uc3RhbnRzIGBWQklfQ0hOX1BSSU9fKmAuICBBdCBiYWNrZ3JvdW5kIGxldmVsIGNoYW5uZWxcbmNoYW5nZXMgYXJlIGNvb3JkaW5hdGVkIGJ5IGludHJvZHVjdGlvbiBvZiBhIHZpcnR1YWwgdG9rZW46IG9ubHkgdGhlXG5vbmUgY2xpZW50IHdoaWNoIGhvbGRzIHRoZSB0b2tlbiBpcyBhbGxvd2VkIHRvIHN3aXRjaCBjaGFubmVscy4gVGhlIGRhZW1vblxud2lsbCB3YWl0IGZvciB0aGUgdG9rZW4gdG8gYmUgcmV0dXJuZWQgYmVmb3JlIGl0J3MgZ3JhbnRlZCB0byBhbm90aGVyXG5jbGllbnQuICBUaGlzIHdheSBjb25mbGljdGluZyBjaGFubmVsIGNoYW5nZXMgYXJlIGF2b2lkZWQuICBBdCB0aGUgdXBwZXJcbmxldmVscyB0aGUgbGF0ZXN0IHJlcXVlc3QgYWx3YXlzIHdpbnMuICBUbyBhdm9pZCBpbnRlcmZlcmVuY2UsIHRoZVxuYXBwbGljYXRpb24gc3RpbGwgbWlnaHQgd2FpdCB1bnRpbCBpdCBnZXRzIGluZGljYXRlZCB0aGF0IHRoZSB0b2tlblxuaGFzIGJlZW4gcmV0dXJuZWQgdG8gdGhlIGRhZW1vbi5cblxuVGhlIHRva2VuIG1heSBiZSBncmFudGVkIHJpZ2h0IGF3YXkgb3IgYXQgYSBsYXRlciB0aW1lLCBlLmcuIHdoZW4gaXQgaGFzXG50byBiZSByZWNsYWltZWQgZnJvbSBhbm90aGVyIGNsaWVudCBmaXJzdCwgb3IgaWYgdGhlcmUgYXJlIG90aGVyIGNsaWVudHNcbndpdGggaGlnaGVyIHByaW9yaXR5LiAgSWYgYSBjYWxsYmFjayBoYXMgYmVlbiByZWdpc3RlcmVkLCB0aGUgcmVzcGVjdGl2ZVxuZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIHRva2VuIGFycml2ZXM7IG90aGVyd2lzZVxuKnByb3h5Lmhhc19jaGFubmVsX2NvbnRyb2woKSogY2FuIGJlIHVzZWQgdG8gcG9sbCBmb3IgaXQuXG5cbklucHV0IHBhcmFtZXRlcnM6XG5cbjpjaG5fcHJpbzpcbiAgICBUaGlzIG1hbmRhdG9yeSBwYXJhbWV0ZXIgc2V0cyB0aGUgcHJpb3JpdHkuIFRoZSBwcmlvcml0eSBzaG91bGQgYWx3YXlzXG4gICAgYmUgc2V0IGlmIGRlZmF1bHQgKlZCSV9DSE5fUFJJT19JTlRFUkFDVElWRSogaXMgbm90IG5lZWRlZCwgdG8gYXZvaWRcbiAgICBibG9ja2luZyBvdGhlciBhcHBsaWNhdGlvbnMuXG5cbjpyZXF1ZXN0X2NobjpcbiAgICBTZXQgdGhpcyBwYXJhbWV0ZXIgdG8gKlRydWUqIGlmIHlvdXIgYXBwbGljYXRpb24gbmVlZHMgdG8gc3dpdGNoXG4gICAgY2hhbm5lbHMuICBJbnZlcnNlbHksIGZvciBvbmx5IHNldHRpbmcgdGhlICpjaG5fcHJpbyogbGV2ZWwgdG9cbiAgICAqVkJJX0NITl9QUklPX0JBQ0tHUk9VTkQqIHdpdGhvdXQgcmVxdWVzdGluZyBhIGNoYW5uZWwsIHNldCB0aGlzXG4gICAgcGFyYW1ldGVyIHRvICpGYWxzZSouXG5cbiAgICAqKk5vdGUqKiB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnMgaGF2ZSBubyBlZmZlY3Qgd2hlbiB0aGlzIHBhcmFtZXRlclxuICAgIGlzIHNldCB0byAqRmFsc2UqLiAgSW52ZXJzZWx5LCB3aGVuIHRoaXMgcGFyYW1ldGVyIGlzIHNldCwgdGhlXG4gICAgZm9sbG93aW5nIHBhcmFtZXRlcnMgYXJlIG1hbmRhdG9yeS5cblxuOmFsbG93X3N1c3BlbmQ6XG4gICAgU2V0IHRvIEZBTFNFIGlmIHlvdXIgY2FwdHVyZSBjbGllbnQgbmVlZHMgYW4gYXRvbWljIHRpbWUgc2xpY2UgKGkuZS5cbiAgICB3b3VsZCBuZWVkIHRvIHJlc3RhcnQgY2FwdHVyaW5nIGZyb20gdGhlIGJlZ2lubmluZyBpdCBpdCB3YXNcbiAgICBpbnRlcnJ1cHRlZC4pXG5cbjpzdWJfcHJpbzpcbiAgICBTdWItcHJpb3JpdHkgZm9yIGNoYW5uZWwgc2NoZWR1bGluZyBhdCBcImJhY2tncm91bmRcIiBwcmlvcml0eS4gWW91IGNhblxuICAgIHVzZSBhcmlidHJhcnkgdmFsdWVzIGluIHRoZSByYW5nZSAwIC4uLiAyNTYsIGJ1dCBhcyB0aGlzIHZhbHVlIGlzIG9ubHlcbiAgICBtZWFuaW5nZnVsIGluIHJlbGF0aW9uIHRvIHByaW9yaXRpZXMgdXNlZCBieSBvdGhlciBjbGllbnRzLCB5b3Ugc2hvdWxkXG4gICAgc3RpY2sgdG8gdGhlIHNjYWxlIGRlZmluZWQgYnkgVkJJX0NITl9TVUJQUklPLlxuXG46bWluX2R1cmF0aW9uOlxuICAgIE1pbmltdW0gdGltZSBzbGljZSB5b3VyIGNhcHR1cmUgY2xpZW50IHJlcXVpcmVzLiBUaGlzIHZhbHVlIGlzIHVzZWRcbiAgICB3aGVuIG11bHRpcGxlIGNsaWVudHMgaGF2ZSB0aGUgc2FtZSBzdWItcHJpb3JpdHkgdG8gZ2l2ZSBhbGwgY2xpZW50c1xuICAgIGNoYW5uZWwgY29udHJvbCBpbiBhIHJvdW5kLXJvYmluIG1hbm5lci5cblxuOmV4cF9kdXJhdGlvbjpcbiAgICBFeHBlY3RlZCBkdXJhdGlvbiBvZiB1c2Ugb2YgdGhhdCBjaGFubmVsLlxuXG5admJpLlByb3h5LmNoYW5uZWxfbm90aWZ5KClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgcHJveHkuY2hhbm5lbF9ub3RpZnkobm90aWZ5X2ZsYWdzIFssIHNjYW5uaW5nXSlcblxuU2VuZHMgY2hhbm5lbCBjb250cm9sIHJlcXVlc3QgdG8gcHJveHkgZGFlbW9uLiBQYXJhbWV0ZXJcbipub3RpZnlfZmxhZ3MqIGlzIGFuIE9SIG9mIG9uZSBvciBtb3JlIG9mIHRoZSBmb2xsb3dpbmcgY29uc3RhbnRzOlxuXG4qICpWQklfUFJPWFlfQ0hOX1JFTEVBU0UqOlxuICBSZXZva2UgYSBwcmV2aW91cyBjaGFubmVsIHJlcXVlc3QgYW5kIHJldHVybiB0aGUgY2hhbm5lbCBzd2l0Y2hcbiAgdG9rZW4gdG8gdGhlIGRhZW1vbi5cblxuKiAqVkJJX1BST1hZX0NITl9UT0tFTio6XG4gIFJldHVybiB0aGUgY2hhbm5lbCB0b2tlbiB0byB0aGUgZGFlbW9uIHdpdGhvdXQgcmVsZWFzaW5nIHRoZVxuICBjaGFubmVsOyBUaGlzIHNob3VsZCBhbHdheXMgYmUgZG9uZSB3aGVuIHRoZSBjaGFubmVsIHN3aXRjaCBoYXNcbiAgYmVlbiBjb21wbGV0ZWQgdG8gYWxsb3cgZmFzdGVyIHNjaGVkdWxpbmcgaW4gdGhlIGRhZW1vbiAoaS5lLiB0aGVcbiAgZGFlbW9uIGNhbiBncmFudCB0aGUgdG9rZW4gdG8gYSBkaWZmZXJlbnQgY2xpZW50IHdpdGhvdXQgaGF2aW5nXG4gIHRvIHJlY2xhaW0gaXQgZmlyc3QuKVxuXG4qICpWQklfUFJPWFlfQ0hOX0ZMVVNIKjpcbiAgSW5kaWNhdGUgdGhhdCB0aGUgY2hhbm5lbCB3YXMgY2hhbmdlZCBhbmQgVkJJIGJ1ZmZlciBxdWV1ZVxuICBtdXN0IGJlIGZsdXNoZWQ7IFNob3VsZCBiZSBjYWxsZWQgYXMgZmFzdCBhcyBwb3NzaWJsZSBhZnRlclxuICB0aGUgY2hhbm5lbCBhbmQvb3Igbm9ybSB3YXMgY2hhbmdlZC4gIE5vdGUgdGhpcyBhZmZlY3RzIG90aGVyXG4gIGNsaWVudHMnIGNhcHR1cmluZyB0b28sIHNvIHVzZSB3aXRoIGNhcmUuICBPdGhlciBjbGllbnRzIHdpbGxcbiAgYmUgaW5mb3JtZWQgYWJvdXQgdGhpcyBjaGFuZ2UgYnkgYSBjaGFubmVsIGNoYW5nZSBpbmRpY2F0aW9uLlxuXG4qICpWQklfUFJPWFlfQ0hOX05PUk0qOlxuICBJbmRpY2F0ZSBhIG5vcm0gY2hhbmdlLiAgVGhlIG5ldyBub3JtIHNob3VsZCBiZSBzdXBwbGllZCBpblxuICB0aGUgc2Nhbm5pbmcgcGFyYW1ldGVyIGluIGNhc2UgdGhlIGRhZW1vbiBpcyBub3QgYWJsZSB0b1xuICBkZXRlcm1pbmUgaXQgZnJvbSB0aGUgZGV2aWNlIGRpcmVjdGx5LlxuXG4qICpWQklfUFJPWFlfQ0hOX0ZBSUwqOlxuICBJbmRpY2F0ZSB0aGF0IHRoZSBjbGllbnQgZmFpbGVkIHRvIHN3aXRjaCB0aGUgY2hhbm5lbCBiZWNhdXNlXG4gIHRoZSBkZXZpY2Ugd2FzIGJ1c3kuIFVzZWQgdG8gbm90aWZ5IHRoZSBjaGFubmVsIHNjaGVkdWxlciB0aGF0XG4gIHRoZSBjdXJyZW50IHRpbWUgc2xpY2UgY2Fubm90IGJlIHVzZWQgYnkgdGhlIGNsaWVudC4gIElmIHRoZVxuICBjbGllbnQgaXNuJ3QgYWJsZSB0byBzY2hlZHVsZSBwZXJpb2RpYyByZS1hdHRlbXB0cyBpdCBzaG91bGRcbiAgYWxzbyByZXR1cm4gdGhlIHRva2VuLlxuXG5Qcm94eS5jaGFubmVsX3N1c3BlbmQoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHByb3h5LmNoYW5uZWxfc3VzcGVuZChjbWQpXG5cblJlcXVlc3QgdG8gdGVtcG9yYXJpbHkgc3VzcGVuZCBjYXB0dXJpbmcgKGlmICpjbWQqIGlzXG5gVkJJX1BST1hZX1NVU1BFTkRfU1RBUlRgKSBvciByZXZva2UgYSBzdXNwZW5zaW9uIChpZiAqY21kKlxuZXF1YWxzIGBWQklfUFJPWFlfU1VTUEVORF9TVE9QYC4pXG5cblp2YmkuUHJveHkuZGV2aWNlX2lvY3RsKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHByb3h5LmRldmljZV9pb2N0bChyZXF1ZXN0LCBhcmcpXG5cblRoaXMgbWV0aG9kIGFsbG93cyBtYW5pcHVsYXRpbmcgcGFyYW1ldGVycyBvZiB0aGUgdW5kZXJseWluZ1xuVkJJIGRldmljZS4gIE5vdCBhbGwgaW9jdGxzIGFyZSBhbGxvd2VkIGhlcmUuICBJdCdzIG1haW5seSBpbnRlbmRlZFxudG8gYmUgdXNlZCBmb3IgY2hhbm5lbCBlbnVtZXJhdGlvbiBhbmQgY2hhbm5lbC9ub3JtIGNoYW5nZXMuXG5UaGUgcmVxdWVzdCBjb2RlcyBhbmQgcGFyYW1ldGVycyBhcmUgdGhlIHNhbWUgYXMgZm9yIHRoZSBhY3R1YWwgZGV2aWNlLlxuVGhlIGNhbGxlciBoYXMgdG8gcXVlcnkgdGhlIGRyaXZlciBBUEkgdmlhICpwcm94eS5nZXRfZHJpdmVyX2FwaSgpKlxuZmlyc3QgYW5kIHVzZSB0aGUgcmVzcGVjdGl2ZSBpb2N0bCBjb2Rlcywgc2FtZSBhcyBpZiB0aGUgZGV2aWNlIHdvdWxkXG5iZSB1c2VkIGRpcmVjdGx5LlxuXG5QYXJhbWV0ZXJzIGFuZCByZXN1bHRzIGFyZSBhcyBkb2N1bWVudGVkIGZvciB0aGUgKippb2N0bCgyKSoqIHN5c3RlbVxuaW50ZXJmYWNlIChzZWUgdGhlIHJlc3BlY3RpdmUgVU5JWCBtYW51YWwgcGFnZSBmb3IgZGV0YWlscykuIFRoZXJlZm9yZVxucGFyYW1ldGVyICpyZXF1ZXN0KiBpcyB0aGUgZmlyc3QgcGFyYW1ldGVyIHRvICppb2N0bCgpKiBhbmQgdGhlICphcmcqXG5ieXRlIGJ1ZmZlciBjb250YWlucyB0aGUgZGF0YSBzdHJ1Y3R1cmUgdGhhdCB0aGUgc2Vjb25kIHBhcmFtZXRlciB0b1xuKmlvY3RsKiBwb2ludHMgdG8uIFVzZSAqc3RydWN0LnBhY2sqIHRvIGJ1aWxkIHRoZSBhcmd1bWVudCBidWZmZXIuXG5FeGFtcGxlOiA6OlxuXG4gICAgIyBnZXQgY3VycmVudCBjb25maWcgb2YgdGhlIHNlbGVjdGVkIGNoYW5uZWxcbiAgICB2Y2hhbiA9IHN0cnVjdC5wYWNrKFwiPWkzMnhpTGhoXCIsIGNoYW5uZWwsIDAsIDAsIDAsIG5vcm0pO1xuICAgIHZjaGFuX3Jlc3VsdCA9IHByb3h5LmRldmljZV9pb2N0bChWSURJT0NHQ0hBTiwgdmNoYW4pO1xuXG5BZnRlciB0aGUgY2FsbCwgdGhlIGRhdGEgcGFzc2VkIGluICphcmcqIG1heSBiZSBtb2RpZmllZCBieSAqaW9jdGwqXG5vcGVyYXRpb25zIHdoaWNoIHJldHVybiBkYXRhLiBUaGVyZWZvcmUgdGhlIHRoZSBwcm94eSByZXR1cm5zIGFuIHVwZGF0ZWRcbmNvcHkgb2YgdGhlIGlucHV0IGJ1ZmZlciwgd2hpY2ggaXMgcmV0dXJuZWQgYnkgdGhlIGZ1bmN0aW9uIGluIGZvcm0gb2YgYVxuYnl0ZXMgb2JqZWN0LlxuXG5VcG9uIGZhaWx1cmUgb2YgdGhlIEkvTyBvcGVyYXRpb24sIHRoZSBmdW5jdGlvbiByYWlzZXMgZXhjZXB0aW9uICpPU0Vycm9yKlxuYW5kIGluY2x1ZGVzIHRoZSAqZXJybm8qIGVycm9yIGNvZGUgYW5kIHN0cmluZyBhcyB1c3VhbC4gVGhlIHNhbWVcbmV4Y2VwdGlvbiBpcyBhbHNvIHVzZWQgZm9yIG5vbi1kZXZpY2UgcmVsYXRlZCBmYWlsdXJlcywgYXMgdGhlIHByb3h5XG5yZXNwb25zZSBjdXJyZW50bHkgZG9lcyBub3QgYWxsb3cgZGlzdGluZ3Vpc2hpbmcgdGhlbS4gSW4gcGFydGljdWxhciBlcnJvclxuY29kZSAqRUJVU1kqIG1heSBpbmRpY2F0ZSB0aGF0IHRoZSBhcHBsaWNhdGlvbiBpcyBjdXJyZW50bHkgbm90IGFsbG93ZWQgdG9cbmNvbnRyb2wgdGhlIGRldmljZS5cblxuUHJveHkuZ2V0X2NoYW5uZWxfZGVzYygpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHNjYW5uaW5nLCBncmFudGVkID0gcHJveHkuZ2V0X2NoYW5uZWxfZGVzYygpXG5cblJldHJpZXZlIGluZm8gc2VudCBieSB0aGUgcHJveHkgZGFlbW9uIGluIGEgY2hhbm5lbCBjaGFuZ2UgaW5kaWNhdGlvbi5cblRoZSBmdW5jdGlvbiByZXR1cm5zIGEgdHVwbGUgd2l0aCB0d28gZWxlbWVudHM6IHNjYW5uaW5nIHZhbHVlICg2MjVcbmluZGljYXRpbmcgUEFMLCBvciA1MjUgaW5kaWNhdGluZyBOVFNDLCBvciAwIGlmIHVua25vd24pIGFuZCBhIGJvb2xlYW5cbmluZGljYXRvciBpZiB0aGUgY2hhbmdlIHJlcXVlc3Qgd2FzIGdyYW50ZWQuXG5cblByb3h5Lmhhc19jaGFubmVsX2NvbnRyb2woKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblJldHVybnMgVHJ1ZSBpZiBjbGllbnQgaXMgY3VycmVudGx5IGFsbG93ZWQgdG8gc3dpdGNoIGNoYW5uZWxzLCBlbHNlIEZhbHNlLlxuXG5cbi4uIF9admJpLlNlcnZpY2VEZWM6XG5cbkNsYXNzIFp2YmkuU2VydmljZURlY1xuPT09PT09PT09PT09PT09PT09PT09XG5cblRoaXMgY2xhc3MgaXMgdXNlZCBmb3IgaGlnaCBsZXZlbCBkZWNvZGluZyBvZiBzbGljZWQgZGF0YSByZWNlaXZlZCBmcm9tXG5hbiBpbnN0YW5jZSBvZiB0aGUgYFp2YmkuQ2FwdHVyZWBfIGNsYXNzIG9yIHRoZSByYXcgZGVjb2RlciAoYFp2YmkuUmF3RGVjYF8pLlxuRGVjb2RlZCBkYXRhIGlzIHN0b3JlZCBpbiBjYWNoZXMgZm9yIGVhY2ggc2VydmljZS4gVGhlIGFwcGxpY2F0aW9uIGNhblxuYmUgbm90aWZpZWQgdmlhIGNhbGxiYWNrcyBhYm91dCB2YXJpb3VzIGV2ZW50cy4gVmFyaW91cyBpbnRlcmZhY2VzIGFsbG93XG5leHRyYWN0aW5nIGRlY29kZWQgZGF0YSBmcm9tIHRoZSBjYWNoZXMuXG5cbkNvbnN0cnVjdG9yIFp2YmkuU2VydmljZURlYygpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gIHZ0ID0gWnZiaS5TZXJ2aWNlRGVjKClcbiAgdnQuZXZlbnRfaGFuZGxlcl9yZWdpc3RlcihadmJpLlZCSV9FVkVOVF9UVFhfUEFHRSwgcGdfaGFuZGxlcilcblxuQ3JlYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBkYXRhIHNlcnZpY2UgZGVjb2RlciBpbnN0YW5jZS4gVGhlIGNvbnN0cnVjdG9yXG5kb2VzIG5vdCB0YWtlIGFueSBwYXJhbWV0ZXJzLiAqKkhvd2V2ZXIqKjogVGhlIHR5cGUgb2YgZGF0YSBzZXJ2aWNlcyB0b1xuYmUgZGVjb2RlZCBpcyBkZXRlcm1pbmVkIGJ5IHRoZSB0eXBlIG9mIGluc3RhbGxlZCBjYWxsYmFja3MuIEhlbmNlIGZvclxudGhlIGNsYXNzIHRvIGRvIGFueSBhY3R1YWwgZGVjb2RpbmcsIHlvdSBtdXN0IGluc3RhbGwgYXQgbGVhc3Qgb25lXG5jYWxsYmFjayB1c2luZyBgWnZiaS5TZXJ2aWNlRGVjLmV2ZW50X2hhbmRsZXJfcmVnaXN0ZXIoKWBfIGFmdGVyXG5jb25zdHJ1Y3Rpb24uXG5cblp2YmkuU2VydmljZURlYy5kZWNvZGUoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgd2hpbGUgVHJ1ZTpcbiAgICBzbGljZWRfYnVmZmVyID0gY2FwLnB1bGxfc2xpY2VkKDIwMDApXG5cbiAgICB2dC5kZWNvZGUoc2xpY2VkX2J1ZmZlcilcblxuVGhpcyBpcyB0aGUgbWFpbiBzZXJ2aWNlIG9mZmVyZWQgYnkgdGhlIGRhdGEgc2VydmljZSBkZWNvZGVyOiBUaGUgbWV0aG9kXG5kZWNvZGVzIHNsaWNlZCBWQkkgZGF0YSBmcm9tIGEgdmlkZW8gZnJhbWUsIHVwZGF0ZXMgdGhlIGRlY29kZXIgc3RhdGUgYW5kXG5pbnZva2VzIGNhbGxiYWNrIGZ1bmN0aW9ucyBmb3IgcmVnaXN0ZXJlZCBldmVudHMuIE5vdGUgdGhpcyBmdW5jdGlvbiBoYXNcbnRvIGJlIGNhbGxlZCBmb3IgZWFjaCByZWNlaXZlZCBmcmFtZSwgZXZlbiBpZiBpdCBkaWQgbm90IGNvbnRhaW4gYW55XG5zbGljZWQgZGF0YSwgYmVjYXVzZSB0aGUgZGVjb2RlciBvdGhlcndpc2UgYXNzdW1lcyBhIGZyYW1lIHdhcyBsb3N0IGFuZFxubWF5IHJlc2V0IGRlY29kaW5nIHN0YXRlLlxuXG5JbnB1dCBwYXJhbWV0ZXIgKnNsaWNlZF9idWZmZXIqIGhhcyB0byBiZSBhbiBpbnN0YW5jZSBvZiBjbGFzc1xuYFp2YmkuQ2FwdHVyZVNsaWNlZEJ1ZmBfIHJldHVybmVkIGJ5ICpyZWFkKiBhbmQgKnB1bGwqIG1ldGhvZHMgb2YgdGhlXG5gWnZiaS5DYXB0dXJlYF8gY2xhc3MuIFRoZSBmdW5jdGlvbiBhbHdheXMgcmV0dXJucyAqTm9uZSouIEFzIGFcbnNpZGUtZWZmZWN0LCByZWdpc3RlcmVkIGNhbGxiYWNrcyBhcmUgaW52b2tlZC5cblxuWnZiaS5TZXJ2aWNlRGVjLmRlY29kZV9ieXRlcygpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICB2dC5kZWNvZGVfYnl0ZXMoZGF0YSwgbl9saW5lcywgdGltZXN0YW1wKVxuXG5UaGlzIG1ldGhvZCBpcyBhbiBhbHRlcm5hdGUgaW50ZXJmYWNlIHRvICpkZWNvZGUoKSosIGFsbG93aW5nIHRvIGluc2VydFxuZGF0YSBmcm9tIGV4dGVybmFsIHNvdXJjZXMsIHN1Y2ggYXMgc2xpY2VkIGRhdGEgc3RvcmVkIGluIGEgZmlsZS4gIFRodXNcbnRoZSBkaXNjcmV0ZSBtZXRob2QgcGFyYW1ldGVycyByZXBsYWNlIGF0dHJpYnV0ZXMgb3RoZXJ3aXNlIHN0b3JlZCBpblxuYFp2YmkuQ2FwdHVyZVNsaWNlZEJ1ZmBfOlxuXG46ZGF0YTpcbiAgICBJcyBhIGJ5dGVzLWxpa2Ugb2JqZWN0IGNvbnRhaW5pbmcgY29uY2F0ZW5hdGVkIHNsaWNlZCBkYXRhIGxpbmVzLiBFYWNoXG4gICAgbGluZSBpcyBhIGJpbmFyeSBwYWNrZWQgZm9ybWF0IFwiPUxMNTZjXCIsIGNvbnRhaW5pbmcgdGhlIHNlcnZpY2UgSURcbiAgICBgVkJJX1NMSUNFRF8qYCwgdGhlIG51bWJlciBvZiB0aGUgKGFuYWxvZykgbGluZSBmcm9tIHdoZXJlIHRoZSBsaW5lXG4gICAgd2FzIGNhcHR1cmVkLCBmb2xsb3dlZCBieSA1NiBieXRlcyBzbGljZXIgb3V0cHV0IGRhdGEuXG5cbjpuX2xpbmVzOlxuICAgIEdpdmVzIHRoZSBudW1iZXIgb2YgdmFsaWQgbGluZXMgaW4gdGhlIHNsaWNlZCBkYXRhIGJ1ZmZlci4gVGhlIHZhbHVlXG4gICAgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIGxlbihkYXRhKSAvICgyKjQrNTYpIChpLmUuIHRoZSBtYXhpbXVtIG51bWJlciBvZlxuICAgIHJlY29yZHMgaW4gdGhlIGdpdmVuIGRhdGEgYnVmZmVyKVxuXG46dGltZXN0YW1wOlxuICAgIFRoaXMgc2hvdWxkIGJlIGEgY29weSBvZiB0aGUgKnRpbWVzdGFtcCogdmFsdWUgcmV0dXJuZWQgYnkgdGhlICpyZWFkKlxuICAgIGFuZCAqcHVsbCogY2FwdHVyZSBmdW5jdGlvbnMgd2l0aGluIGBadmJpLkNhcHR1cmVTbGljZWRCdWZgXyBhbmRcbiAgICBgWnZiaS5DYXB0dXJlUmF3QnVmYF8gY2xhc3MuXG5cbiAgICBUaGUgdGltZXN0YW1wcyBhcmUgZXhwZWN0ZWQgdG8gYWR2YW5jZSBieSAxLzMwIHRvIDEvMjUgc2Vjb25kcyBmb3JcbiAgICBlYWNoIGNhbGwgdG8gdGhpcyBmdW5jdGlvbi4gRGlmZmVyZW50IHN0ZXBzIHdpbGwgYmUgaW50ZXJwcmV0ZWQgYXNcbiAgICBkcm9wcGVkIGZyYW1lcywgd2hpY2ggc3RhcnRzIGEgcmUtc3luY2hyb25pemF0aW9uIGN5Y2xlLCBldmVudHVhbGx5IGFcbiAgICBjaGFubmVsIHN3aXRjaCBtYXkgYmUgYXNzdW1lZCB3aGljaCByZXNldHMgZXZlbiBtb3JlIGRlY29kZXIgc3RhdGUuIFNvXG4gICAgdGhpcyBmdW5jdGlvbiBtdXN0IGJlIGNhbGxlZCBldmVuIGlmIGEgZnJhbWUgZGlkIG5vdCBjb250YWluIGFueVxuICAgIHVzZWZ1bCBkYXRhIChpLmUuIHdpdGggcGFyYW1ldGVyICpuX2xpbmVzKiBlcXVhbCAwKVxuXG5admJpLlNlcnZpY2VEZWMuY2hhbm5lbF9zd2l0Y2hlZCgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICB2dC5jaGFubmVsX3N3aXRjaGVkKCBbbnVpZF0gKVxuXG5DYWxsIHRoaXMgYWZ0ZXIgc3dpdGNoaW5nIGF3YXkgZnJvbSB0aGUgY2hhbm5lbCAoUkYgY2hhbm5lbCwgdmlkZW8gaW5wdXRcbmxpbmUsIC4uLiAtIGkuZS4gYWZ0ZXIgc3dpdGNoaW5nIHRoZSBuZXR3b3JrKSBmcm9tIHdoaWNoIHRoaXMgY29udGV4dFxudXNlZCB0byByZWNlaXZlIFZCSSBkYXRhLCB0byByZXNldCB0aGUgZGVjb2RpbmcgY29udGV4dCBhY2NvcmRpbmdseS5cblRoaXMgaW5jbHVkZXMgZGVsZXRpb24gb2YgYWxsIGNhY2hlZCBUZWxldGV4dCBhbmQgQ2xvc2VkIENhcHRpb24gcGFnZXNcbmZyb20gdGhlIGNhY2hlLiAgT3B0aW9uYWwgcGFyYW1ldGVyICpudWlkKiBpcyBjdXJyZW50bHkgdW51c2VkIGJ5XG5saWJ6dmJpIGFuZCBkZWZhdWx0cyB0byB6ZXJvLlxuXG5UaGUgZGVjb2RlciBhdHRlbXB0cyB0byBkZXRlY3QgY2hhbm5lbCBzd2l0Y2hlcyBhdXRvbWF0aWNhbGx5LCBidXQgdGhpc1xuZG9lcyBub3Qgd29yayByZWxpYWJseSwgZXNwZWNpYWxseSB3aGVuIG5vdCByZWNlaXZpbmcgYW5kIGRlY29kaW5nIFRlbGV0ZXh0XG5vciBWUFMgKHNpbmNlIG9ubHkgdGhlc2UgdXN1YWxseSB0cmFuc21pdCBuZXR3b3JrIGlkZW50aWZpZXJzIGZyZXF1ZW50bHlcbmVub3VnaC4pXG5cbk5vdGUgdGhlIHJlc2V0IGlzIG5vdCBleGVjdXRlZCB1bnRpbCB0aGUgbmV4dCBmcmFtZSBpcyBhYm91dCB0byBiZVxuZGVjb2RlZCwgc28geW91IG1heSBzdGlsbCByZWNlaXZlIFwib2xkXCIgZXZlbnRzIGFmdGVyIGNhbGxpbmcgdGhpcy4gWW91XG5tYXkgYWxzbyByZWNlaXZlIGJsYW5rIGV2ZW50cyAoZS4gZy4gdW5rbm93biBuZXR3b3JrLCB1bmtub3duIGFzcGVjdFxucmF0aW8pIHJldm9raW5nIGEgcHJldmlvdXNseSBzZW50IGV2ZW50LCB1bnRpbCBuZXcgaW5mb3JtYXRpb24gYmVjb21lc1xuYXZhaWxhYmxlLlxuXG5admJpLlNlcnZpY2VEZWMuY2xhc3NpZnlfcGFnZSgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICAodHlwZSwgc3Vibm8sIGxhbmcpID0gdnQuY2xhc3NpZnlfcGFnZShwZ25vKVxuXG5UaGlzIGZ1bmN0aW9uIHF1ZXJpZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG5hbWVkIHBhZ2UuIFRoZSByZXR1cm4gdmFsdWVcbmlzIGEgdHVwbGUgY29uc2lzdGluZyBvZiB0aHJlZSBzY2FsYXJzOiBwYWdlIG51bWJlciwgc3ViLXBhZ2UgbnVtYmVyLFxuYW5kIGxhbmd1YWdlICBUaGVpciBtZWFuaW5nIGRlcGVuZHMgb24gdGhlIGRhdGEgc2VydmljZSB0byB3aGljaCB0aGVcbmdpdmVuIHBhZ2UgYmVsb25nczpcblxuRm9yIENsb3NlZCBDYXB0aW9uIHBhZ2VzICgqcGdubyogdmFsdWUgaW4gcmFuZ2UgMSAuLi4gOCkgKnN1Ym5vKiB3aWxsXG5hbHdheXMgYmUgemVybywgKmxhbmd1YWdlKiBzZXQgb3IgYW4gZW1wdHkgc3RyaW5nLiAqdHlwZSogd2lsbCBiZVxuYFZCSV9TVUJUSVRMRV9QQUdFYCBmb3IgcGFnZSAxIC4uLiA0IChDbG9zZWQgQ2FwdGlvbiBjaGFubmVsIDEgLi4uIDQpLFxuYFZCSV9OT1JNQUxfUEFHRWAgZm9yIHBhZ2UgNSAuLi4gOCAoVGV4dCBjaGFubmVsIDEgLi4uIDQpLCBvclxuYFZCSV9OT19QQUdFYCBpZiBubyBkYXRhIGlzIGN1cnJlbnRseSB0cmFuc21pdHRlZCBvbiB0aGUgY2hhbm5lbC5cblxuRm9yIFRlbGV0ZXh0IHBhZ2VzICgqcGdubyogaW4gcmFuZ2UgaGV4IDB4MTAwIC4uLiAweDhGRikgKnN1Ym5vKlxucmV0dXJucyB0aGUgaGlnaGVzdCBzdWItcGFnZSBudW1iZXIgdXNlZC4gTm90ZSB0aGlzIG51bWJlciBjYW4gYmUgbGFyZ2VyXG4oYnV0IG5vdCBzbWFsbGVyKSB0aGFuIHRoZSBudW1iZXIgb2Ygc3ViLXBhZ2VzIGFjdHVhbGx5IHJlY2VpdmVkIGFuZFxuY2FjaGVkLiBTdGlsbCB0aGVyZSBpcyBubyBndWFyYW50ZWUgdGhlIGFkdmVydGlzZWQgc3ViLXBhZ2VzIHdpbGwgZXZlclxuYXBwZWFyIG9yIHN0YXkgaW4gY2FjaGUuIFNwZWNpYWwgdmFsdWUgMCBtZWFucyB0aGUgZ2l2ZW4gcGFnZSBpcyBhXG5cInNpbmdsZSBwYWdlXCIgd2l0aG91dCBhbHRlcm5hdGUgc3ViLXBhZ2VzLiAoSGVuY2UgdmFsdWUgMSB3aWxsIG5ldmVyXG5iZSB1c2VkLikgKmxhbmd1YWdlKiBjdXJyZW50bHkgcmV0dXJucyB0aGUgbGFuZ3VhZ2Ugb2Ygc3VidGl0bGUgcGFnZXMsXG5vciBhbiBlbXB0eSBzdHJpbmcgaWYgdW5rbm93biBvciB0aGUgcGFnZSBpcyBub3QgY2xhc3NpZmllZCBhc1xuYFZCSV9TVUJUSVRMRV9QQUdFYC5cblxuTm90ZTogVGhlIGluZm9ybWF0aW9uIHJldHVybmVkIGJ5IHRoaXMgZnVuY3Rpb24gaXMgdm9sYXRpbGU6IFdoZW4gbW9yZVxuaW5mb3JtYXRpb24gYmVjb21lcyBhdmFpbGFibGUsIG9yIHdoZW4gcGFnZXMgYXJlIG1vZGlmaWVkIChlLiBnLiBhY3RpdmF0aW9uXG5vZiBzdWJ0aXRsZXMsIG5ld3MgdXBkYXRlcywgcHJvZ3JhbSByZWxhdGVkIHBhZ2VzKSBzdWItcGFnZSBudW1iZXJzIGNhblxuaW5jcmVhc2Ugb3IgcGFnZSB0eXBlcyBhbmQgbGFuZ3VhZ2VzIGNhbiBjaGFuZ2UuXG5cblp2YmkuU2VydmljZURlYy5zZXRfYnJpZ2h0bmVzcygpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgdnQuc2V0X2JyaWdodG5lc3MoYnJpZ2h0bmVzcylcblxuQ2hhbmdlIGJyaWdodG5lc3Mgb2YgdGV4dCBwYWdlcywgdGhpcyBhZmZlY3RzIHRoZSBjb2xvciBwYWxldHRlIG9mIHBhZ2VzXG5mZXRjaGVkIHdpdGggKmZldGNoX3Z0X3BhZ2UoKSogYW5kICpmZXRjaF9jY19wYWdlKCkqLlxuUGFyYW1ldGVyICpicmlnaHRuZXNzKiBpcyBpbiByYW5nZSAwIC4uLiAyNTUsIHdoZXJlIDAgaXMgZGFya2VzdCxcbjI1NSBicmlnaHRlc3QuIEJyaWdodG5lc3MgdmFsdWUgMTI4IGlzIGRlZmF1bHQuXG5cblp2YmkuU2VydmljZURlYy5zZXRfY29udHJhc3QoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICB2dC5zZXRfY29udHJhc3QoY29udHJhc3QpXG5cbkNoYW5nZSBjb250cmFzdCBvZiB0ZXh0IHBhZ2VzLCB0aGlzIGFmZmVjdHMgdGhlIGNvbG9yIHBhbGV0dGUgb2YgcGFnZXNcbmZldGNoZWQgd2l0aCAqdnQuZmV0Y2hfdnRfcGFnZSgpKiBhbmQgKnZ0LmZldGNoX2NjX3BhZ2UoKSouXG5QYXJhbWV0ZXIgKmNvbnRyYXN0KiBpcyBpbiByYW5nZSAtMTI4IHRvIDEyNywgd2hlcmUgLTEyOCBpcyBpbnZlcnNlLFxuMTI3IG1heGltdW0uIENvbnRyYXN0IHZhbHVlIDY0IGlzIGRlZmF1bHQuXG5cblp2YmkuU2VydmljZURlYy50ZWxldGV4dF9zZXRfZGVmYXVsdF9yZWdpb24oKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICB2dC50ZWxldGV4dF9zZXRfZGVmYXVsdF9yZWdpb24oZGVmYXVsdF9yZWdpb24pXG5cblRoZSBvcmlnaW5hbCBUZWxldGV4dCBzcGVjaWZpY2F0aW9uIGRpc3Rpbmd1aXNoZWQgYmV0d2VlblxuZWlnaHQgbmF0aW9uYWwgY2hhcmFjdGVyIHNldHMuIFdoZW4gbW9yZSBjb3VudHJpZXMgc3RhcnRlZFxudG8gYnJvYWRjYXN0IFRlbGV0ZXh0IHRoZSB0aHJlZSBiaXQgY2hhcmFjdGVyIHNldCBpZCB3YXNcbmxvY2FsbHkgcmVkZWZpbmVkIGFuZCBsYXRlciBleHRlbmRlZCB0byBzZXZlbiBiaXRzIGdyb3VwaW5nXG50aGUgcmVnaW9uYWwgdmFyaWFudHMuIFNpbmNlIHNvbWUgc3RhdGlvbnMgc3RpbGwgdHJhbnNtaXRcbm9ubHkgdGhlIGxlZ2FjeSB0aHJlZSBiaXQgaWQgYW5kIHdlIGRvbid0IHNoaXAgcmVnaW9uYWwgdmFyaWFudHNcbm9mIHRoaXMgZGVjb2RlciBhcyBUViBtYW51ZmFjdHVyZXJzIGRvLCB0aGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvXG5zZXQgYSBkZWZhdWx0IGZvciB0aGUgZXh0ZW5kZWQgYml0cy4gVGhlIFwiZmFjdG9yeSBkZWZhdWx0XCIgaXMgMTYuXG5cblBhcmFtZXRlciAqZGVmYXVsdF9yZWdpb24qIGlzIGEgdmFsdWUgYmV0d2VlbiAwIC4uLiA4MCwgaW5kZXggaW50b1xudGhlIFRlbGV0ZXh0IGNoYXJhY3RlciBzZXQgdGFibGUgYWNjb3JkaW5nIHRvIEVUUyAzMDAgNzA2LFxuU2VjdGlvbiAxNSAob3IgbGlienZiaSBzb3VyY2UgZmlsZSBsYW5nLmMpLiBUaGUgdGhyZWUgbGFzdFxuc2lnbmlmaWNhbnQgYml0cyB3aWxsIGJlIHJlcGxhY2VkLlxuXG5admJpLlNlcnZpY2VEZWMuZmV0Y2hfdnRfcGFnZSgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICB3aXRoIHZ0LmZldGNoX3Z0X3BhZ2UocGdubywgW3N1Ym5vXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4X2xldmVsPVp2YmkuVkJJX1dTVF9MRVZFTF8zcDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlfcm93cz0yNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbj1UcnVlKSBhcyBwZzpcbiAgICAgICAgIyAuLi4gcHJvY2VzcyBwYWdlIG9iamVjdCAncGcnXG5cbkZldGNoZXMgYSBUZWxldGV4dCBwYWdlIGRlc2lnbmF0ZWQgYnkgcGFyYW1ldGVycyAqcGdubyogYW5kIG9wdGlvbmFsbHkgKnN1Ym5vKlxuZnJvbSB0aGUgY2FjaGUsIGZvcm1hdHMgYW5kIHJldHVybnMgaXQgYXMgYW4gaW5zdGFuY2Ugb2YgYFp2YmkuUGFnZWBfLiAgVGhlXG5vYmplY3QgY2FuIHRoZW4gYmUgdXNlZCB0byBleHRyYWN0IHBhZ2UgY29udGVudCwgb3IgYmUgcGFzc2VkIHRvIHRoZVxudmFyaW91cyBsaWJ6dmJpIG1ldGhvZHMgd29ya2luZyBvbiBwYWdlIG9iamVjdHMsIHN1Y2ggYXMgdGhlIGV4cG9ydFxuZnVuY3Rpb25zLlxuXG5UaGUgZnVuY3Rpb24gcmFpc2VzIGV4Y2VwdGlvbiAqU2VydmljZURlY0Vycm9yKiBpZiB0aGUgcGFnZSBpcyBub3QgY2FjaGVkXG5vciBjb3VsZCBub3QgYmUgZm9ybWF0dGVkIGZvciBvdGhlciByZWFzb25zLCBmb3IgaW5zdGFuY2UgaXMgYSBkYXRhIHBhZ2Vcbm5vdCBpbnRlbmRlZCBmb3IgZGlzcGxheS4gTGV2ZWwgMi41LzMuNSBwYWdlcyB3aGljaCBjb3VsZCBub3QgYmUgZm9ybWF0dGVkXG5lLiBnLiAgZHVlIHRvIHJlZmVyZW5jaW5nIGRhdGEgcGFnZXMgbm90IGluIGNhY2hlIGFyZSBmb3JtYXR0ZWQgYXQgYSBsb3dlclxubGV2ZWwuXG5cbklucHV0IHBhcmFtZXRlcnM6XG5cbjpwYWdlOlxuICAgIFRlbGV0ZXh0IHBhZ2UgbnVtYmVyLiBOb3QgdGhlIG51bWJlciBpcyBoZXhhZGVjaW1hbCwgd2hpY2ggbWVhbnMgdG9cbiAgICByZXRyaWV2ZSB0ZXh0IHBhZ2UgXCIxMDBcIiwgcGFzcyBudW1iZXIgMHgxMDAuIFRlbGV0ZXh0IGFsc28gYWxsb3dzXG4gICAgaGV4YWRlY2ltYWwgcGFnZSBudW1iZXJzIChzb21ldGltZXMgdXNlZCBmb3IgdHJhbnNtaXR0aW5nIGhpZGRlblxuICAgIGRhdGEpLCBzbyBhbGxvd2VkIGlzIHRoZSBmdWxsIHJhbmdlIG9mIDB4MTAwIHRvIDB4OEZGLlxuXG46c3Vibm86XG4gICAgRGVmYXVsdHMgdG8gYFZCSV9BTllfU1VCTk9gLCB3aGljaCBtZWFucyB0aGUgbmV3ZXN0IHN1Yi1wYWdlIG9mIHRoZVxuICAgIGdpdmVuIHBhZ2UgaXMgcmV0dXJuZWQuIEVsc2UgdGhpcyBpcyBhIHN1Yi1wYWdlIG51bWJlciBpbiByYW5nZVxuICAgIDAgdG8gMHgzRjdFLlxuXG46bWF4X2xldmVsOlxuICAgIElzIG9uZSBvZiB0aGUgYFZCSV9XU1RfTEVWRUxfKmAgY29uc3RhbnRzIGFuZCBzcGVjaWZpZXNcbiAgICB0aGUgVGVsZXRleHQgaW1wbGVtZW50YXRpb24gbGV2ZWwgdG8gdXNlIGZvciBmb3JtYXR0aW5nLlxuXG46ZGlzcGxheV9yb3dzOlxuICAgIExpbWl0cyByZW5kZXJpbmcgdG8gdGhlIGdpdmVuIG51bWJlciBvZiByb3dzXG4gICAgKGkuZS4gcm93IDAgLi4uICpkaXNwbGF5X3Jvd3MqIC0gMSkgIEluIHByYWN0aWNlLCB1c2VmdWxcbiAgICB2YWx1ZXMgYXJlIDEgKGZvcm1hdCB0aGUgcGFnZSBoZWFkZXIgcm93IG9ubHkpIG9yIDI1IChjb21wbGV0ZSBwYWdlKS5cblxuOm5hdmlnYXRpb246XG4gICAgVGhpcyBib29sZWFuIHBhcmFtZXRlciBjYW4gYmUgdXNlZCB0byBza2lwIHBhcnNpbmcgdGhlIHBhZ2VcbiAgICBmb3IgbmF2aWdhdGlvbiBsaW5rcyB0byBzYXZlIGZvcm1hdHRpbmcgdGltZS5cblxuQWx0aG91Z2ggc2FmZSB0byBkbywgdGhpcyBmdW5jdGlvbiBpcyBub3Qgc3VwcG9zZWQgdG8gYmUgY2FsbGVkIGZyb21cbmFuIGV2ZW50IGhhbmRsZXIgc2luY2UgcmVuZGVyaW5nIG1heSBibG9jayBkZWNvZGluZyBmb3IgZXh0ZW5kZWRcbnBlcmlvZHMgb2YgdGltZS5cblxuKipOb3RlKio6IFRoZSByZXR1cm5lZCBvYmplY3QgbXVzdCBiZSBkZWxldGVkIHRvIHJlbGVhc2UgcmVzb3VyY2VzIHdoaWNoXG5hcmUgbG9ja2VkIGludGVybmFsbHkgaW4gdGhlIGxpYnJhcnkgZHVyaW5nIHRoZSBmZXRjaC4gUGFnZSBvYmplY3RzXG5zdXBwb3J0IFB5dGhvbidzIFwiQ29udGV4dCBNYW5hZ2VyXCIgcHJvdG9jb2wgdG8gYWxsb3cgZG9pbmcgdGhpcyBlYXNpbHlcbnVzaW5nIHRoZSBcIndpdGhcIiBzdGF0ZW1lbnQuIFNlZSBhbHNvIHRoZSBkZXNjcmlwdGlvbiBvZiBgWnZiaS5QYWdlYF8uXG5cblxuWnZiaS5TZXJ2aWNlRGVjLmZldGNoX2NjX3BhZ2UoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgcGcgPSB2dC5mZXRjaF9jY19wYWdlKHBnbm8sIHJlc2V0PUZhbHNlKVxuXG5GZXRjaGVzIGEgQ2xvc2VkIENhcHRpb24gcGFnZSBkZXNpZ25hdGVkIGJ5ICpwZ25vKiBmcm9tIHRoZSBjYWNoZSxcbmZvcm1hdHMgYW5kIHJldHVybnMgaXQgYW5kIGFzIGFuIG9iamVjdCBvZiB0eXBlIGBadmJpLlBhZ2VgXy5cblRoZSBmdW5jdGlvbiByYWlzZXMgZXhjZXB0aW9uICpTZXJ2aWNlRGVjRXJyb3IqIHVwb24gZXJyb3JzLlxuXG5DbG9zZWQgQ2FwdGlvbiBwYWdlcyBhcmUgdHJhbnNtaXR0ZWQgYmFzaWNhbGx5IGluIHR3byBtb2RlczogYXQgb25jZVxuYW5kIGNoYXJhY3RlciBieSBjaGFyYWN0ZXIgKFwicm9sbC11cFwiIG1vZGUpLiAgRWl0aGVyIHdheSB5b3UgZ2V0IGFcbnNuYXBzaG90IG9mIHRoZSBwYWdlIGFzIGl0IHNob3VsZCBhcHBlYXIgb24gc2NyZWVuIGF0IHRoZSBwcmVzZW50IHRpbWUuXG5cbldpdGggYFp2YmkuU2VydmljZURlYy5ldmVudF9oYW5kbGVyX3JlZ2lzdGVyKClgXyB5b3UgY2FuIHJlcXVlc3QgYVxuYFZCSV9FVkVOVF9DQVBUSU9OYCBldmVudCB0byBiZSBub3RpZmllZCBhYm91dCBwZW5kaW5nIGNoYW5nZXMgKGluIGNhc2Ugb2Zcblwicm9sbC11cFwiIG1vZGUgdGhhdCBpcyB3aXRoIGVhY2ggbmV3IHdvcmQgcmVjZWl2ZWQpIGFuZCB0aGUgXCJkaXJ0eVwiXG5hdHRyaWJ1dGUgcHJvdmlkZWQgYnkgYFp2YmkuUGFnZS5nZXRfcGFnZV9kaXJ0eV9yYW5nZSgpYF8gd2lsbCBtYXJrIHRoZVxubGluZXMgYWN0dWFsbHkgaW4gbmVlZCBvZiB1cGRhdGVzLCBmb3Igc3BlZWRpbmctdXAgcmVuZGVyaW5nLlxuXG5JZiB0aGUgKnJlc2V0KiBwYXJhbWV0ZXIgaXMgb21pdHRlZCBvciBzZXQgdG8gKlRydWUqLCB0aGUgcGFnZSBkaXJ0eSBmbGFnc1xuaW4gdGhlIGNhY2hlZCBwYWdlZCBhcmUgcmVzZXQgYWZ0ZXIgZmV0Y2hpbmcuIFBhc3MgKkZhbHNlKiBvbmx5IGlmIHlvdVxucGxhbiB0byBjYWxsIHRoaXMgZnVuY3Rpb24gYWdhaW4gdG8gdXBkYXRlIG90aGVyIGRpc3BsYXlzLlxuXG5BbHRob3VnaCBzYWZlIHRvIGRvLCB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBzdXBwb3NlZCB0byBiZSBjYWxsZWQgZnJvbSBhblxuZXZlbnQgaGFuZGxlciwgc2luY2UgcmVuZGVyaW5nIG1heSBibG9jayBkZWNvZGluZyBmb3IgZXh0ZW5kZWQgcGVyaW9kcyBvZlxudGltZS5cblxuKipOb3RlKio6IFRoZSByZXR1cm5lZCBvYmplY3QgbXVzdCBiZSBkZWxldGVkIHRvIHJlbGVhc2UgcmVzb3VyY2VzIHdoaWNoXG5hcmUgbG9ja2VkIGludGVybmFsbHkgaW4gdGhlIGxpYnJhcnkgZHVyaW5nIHRoZSBmZXRjaC4gUGFnZSBvYmplY3RzXG5zdXBwb3J0IFB5dGhvbidzIFwiQ29udGV4dCBNYW5hZ2VyXCIgcHJvdG9jb2wgdG8gYWxsb3cgZG9pbmcgdGhpcyBlYXNpbHlcbnVzaW5nIHRoZSBcIndpdGhcIiBzdGF0ZW1lbnQuIFNlZSB0aGUgZGVzY3JpcHRpb24gb2YgYFp2YmkuUGFnZWBfIGZvciBhblxuZXhhbXBsZS5cblxuWnZiaS5TZXJ2aWNlRGVjLnBhZ2VfdGl0bGUoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgdGl0bGUgPSB2dC5wYWdlX3RpdGxlKHBnbm8sIFtzdWJub10pXG5cblRoZSBmdW5jdGlvbiBtYWtlcyBhbiBlZmZvcnQgdG8gZGVkdWNlIGEgcGFnZSB0aXRsZSB0byBiZSB1c2VkIGluXG5ib29rbWFya3Mgb3Igc2ltaWxhciBwdXJwb3NlcyBmb3IgdGhlIHBhZ2Ugc3BlY2lmaWVkIGJ5IHBhcmFtZXRlcnNcbipwZ25vKiBhbmQgKnN1Ym5vKi4gIFRoZSB0aXRsZSBpcyBtYWlubHkgZGVyaXZlZCBmcm9tIG5hdmlnYXRpb24gZGF0YVxub24gdGhlIGdpdmVuIHBhZ2UuXG5cbkFzIHVzdWFsLCBwYXJhbWV0ZXIgKnN1Ym5vKiBkZWZhdWx0cyB0byBgVkJJX0FOWV9TVUJOT2AsIHdoaWNoIG1lYW5zIHRoZVxubmV3ZXN0IHN1Yi1wYWdlIG9mIHRoZSBnaXZlbiBwYWdlIGlzIHVzZWQuICBUaGUgZnVuY3Rpb24gcmFpc2VzIGV4Y2VwdGlvblxuKlNlcnZpY2VEZWNFcnJvciogdXBvbiBlcnJvcnMuXG5cbi4uIF9admJpLlNlcnZpY2VEZWMgZXZlbnQgaGFuZGxpbmc6XG5cbkV2ZW50IGhhbmRsaW5nXG4tLS0tLS0tLS0tLS0tLVxuXG5UeXBpY2FsbHkgdGhlIHRyYW5zbWlzc2lvbiBvZiBWQkkgZGF0YSBlbGVtZW50cyBsaWtlIGEgVGVsZXRleHQgb3IgQ2xvc2VkIENhcHRpb25cbnBhZ2Ugc3BhbnMgc2V2ZXJhbCBWQkkgbGluZXMgb3IgZXZlbiB2aWRlbyBmcmFtZXMuIFNvIGludGVybmFsbHkgdGhlIGRhdGFcbnNlcnZpY2UgZGVjb2RlciBtYWludGFpbnMgY2FjaGVzIGFjY3VtdWxhdGluZyBkYXRhLiBXaGVuIGEgcGFnZSBvciBvdGhlclxub2JqZWN0IGlzIGNvbXBsZXRlIGl0IGNhbGxzIHRoZSByZXNwZWN0aXZlIGV2ZW50IGhhbmRsZXIgdG8gbm90aWZ5IHRoZVxuYXBwbGljYXRpb24uXG5cbkNsaWVudHMgY2FuIHJlZ2lzdGVyIGFueSBudW1iZXIgb2YgaGFuZGxlcnMgbmVlZGVkLCBhbHNvIGRpZmZlcmVudCBoYW5kbGVyc1xuZm9yIHRoZSBzYW1lIGV2ZW50LiBUaGV5IHdpbGwgYmUgY2FsbGVkIGJ5IHRoZSBgWnZiaS5TZXJ2aWNlRGVjLmRlY29kZSgpYF9cbmZ1bmN0aW9uIGluIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IHdlcmUgcmVnaXN0ZXJlZC4gIFNpbmNlIGRlY29kaW5nIGlzXG5zdG9wcGVkIHdoaWxlIGluIHRoZSBjYWxsYmFjaywgdGhlIGhhbmRsZXJzIHNob3VsZCByZXR1cm4gYXMgc29vbiBhc1xucG9zc2libGUuXG5cblRoZSBoYW5kbGVyIGZ1bmN0aW9uIHJlY2VpdmVzIHR3byBwYXJhbWV0ZXJzOiBGaXJzdCBpcyB0aGUgZXZlbnQgdHlwZVxuKGkuZS4gb25lIG9mIHRoZSBgVkJJX0VWRU5UXypgIGNvbnN0YW50cyBraXN0ZWQgYmVsb3cpLCBzZWNvbmQgYSBuYW1lZFxudHVwbGUgZGVzY3JpYmluZyB0aGUgZXZlbnQuIFRoZSB0eXBlIGFuZCBjb250ZW50cyBvZiB0aGUgc2Vjb25kIHBhcmFtZXRlclxuZGVwZW5kcyBvbiB0aGUgZXZlbnQgdHlwZS4gVGhlIGZvbGxvd2luZyBldmVudCB0eXBlcyBhcmUgZGVmaW5lZDpcblxuKlZCSV9FVkVOVF9OT05FKjpcbiAgICBObyBldmVudC4gU2Vjb25kIGNhbGxiYWNrIHBhcmFtZXRlciBpcyAqTm9uZSouXG5cbipWQklfRVZFTlRfQ0xPU0UqOlxuICAgIFRoZSB2YmkgZGVjb2RpbmcgY29udGV4dCBpcyBhYm91dCB0byBiZSBjbG9zZWQuIFRoaXMgZXZlbnQgaXNcbiAgICBzZW50IHdoZW4gdGhlIGRlY29kZXIgb2JqZWN0IGlzIGRlc3Ryb3llZCBhbmQgY2FuIGJlIHVzZWQgdG9cbiAgICBjbGVhbiB1cCBldmVudCBoYW5kbGVycy4gU2Vjb25kIGNhbGxiYWNrIHBhcmFtZXRlciBpcyAqTm9uZSouXG5cbipWQklfRVZFTlRfVFRYX1BBR0UqOlxuICAgIFRoZSB2YmkgZGVjb2RlciByZWNlaXZlZCBhbmQgY2FjaGVkIGFub3RoZXIgVGVsZXRleHQgcGFnZS4gRm9yIHRoaXNcbiAgICB0eXBlIHRoZSBzZWNvbmQgY2FsbGJhY2sgZnVuY3Rpb24gcGFyYW1ldGVyIGhhcyB0eXBlXG4gICAgKlp2YmkuRXZlbnRUdHgqIHdpdGggdGhlIGZvbGxvd2luZyBlbGVtZW50czpcblxuICAgIFRoZSByZWNlaXZlZCBwYWdlIGlzIGRlc2lnbmF0ZWQgYnkgKmV2LnBnbm8qIGFuZCAqZXYuc3Vibm8qLlxuXG4gICAgKmV2LnJvbGxfaGVhZGVyKiBmbGFncyB0aGUgcGFnZSBoZWFkZXIgYXMgc3VpdGFibGUgZm9yIHJvbGxpbmcgcGFnZVxuICAgIG51bWJlcnMsIGUuIGcuIGV4Y2x1ZGluZyBwYWdlcyB0cmFuc21pdHRlZCBvdXQgb2Ygb3JkZXIuICBUaGVcbiAgICAqZXYuaGVhZGVyX3VwZGF0ZSogZmxhZyBpcyBzZXQgd2hlbiB0aGUgaGVhZGVyLCBleGNsdWRpbmcgdGhlIHBhZ2VcbiAgICBudW1iZXIgYW5kIHJlYWwgdGltZSBjbG9jaywgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdFxuICAgIGBWQklfRVZFTlRfVFRYX1BBR0VgIGV2ZW10LiBOb3RlIHRoaXMgbWF5IGhhcHBlbiBhdCBtaWRuaWdodCB3aGVuIHRoZVxuICAgIGRhdGUgc3RyaW5nIGNoYW5nZXMuIFRoZSAqZXYuY2xvY2tfdXBkYXRlKiBmbGFnIGlzIHNldCB3aGVuIHRoZSByZWFsXG4gICAgdGltZSBjbG9jayBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0IGBWQklfRVZFTlRfVFRYX1BBR0VgICh0aGF0IGlzIGF0XG4gICAgbW9zdCBvbmNlIHBlciBzZWNvbmQpLiBUaGV5IGFyZSBib3RoIHNldCBhdCB0aGUgZmlyc3RcbiAgICBgVkJJX0VWRU5UX1RUWF9QQUdFYCBzZW50IGFuZCB1bnNldCB3aGlsZSB0aGUgcmVjZWl2ZWQgaGVhZGVyIG9yIGNsb2NrXG4gICAgZmllbGQgaXMgY29ycnVwdGVkLlxuXG4gICAgSWYgYW55IG9mIHRoZSByb2xsX2hlYWRlciwgaGVhZGVyX3VwZGF0ZSBvciBjbG9ja191cGRhdGUgZmxhZ3NcbiAgICBhcmUgc2V0LCAqZXYucmF3X2hlYWRlciogY29udGFpbnMgdGhlIHJhdyBoZWFkZXIgZGF0YSAoNDAgYnl0ZXMpLlxuICAgICpldi5wbl9vZmZzZXQqIHdpbGwgYmUgdGhlIG9mZnNldCAoMCAuLi4gMzcpIG9mIHRoZSB0aHJlZS1kaWdpdCBwYWdlXG4gICAgbnVtYmVyIGluIHRoZSByYXcgb3IgZm9ybWF0dGVkIGhlYWRlci4gQWx3YXlzIGNhbGxcbiAgICAqdnQuZmV0Y2hfdnRfcGFnZSgpKiBmb3IgcHJvcGVyIHRyYW5zbGF0aW9uIG9mIG5hdGlvbmFsIGNoYXJhY3RlcnMgYW5kXG4gICAgY2hhcmFjdGVyIGF0dHJpYnV0ZXM7IHRoZSByYXcgaGVhZGVyIGlzIG9ubHkgcHJvdmlkZWQgaGVyZSBhcyBhIG1lYW5zXG4gICAgdG8gcXVpY2tseSBkZXRlY3QgY2hhbmdlcy5cblxuKlZCSV9FVkVOVF9DQVBUSU9OKjpcbiAgICBBIENsb3NlZCBDYXB0aW9uIHBhZ2UgaGFzIGNoYW5nZWQgYW5kIG5lZWRzIHZpc3VhbCB1cGRhdGUuXG4gICAgRm9yIHRoaXMgdHlwZSB0aGUgc2Vjb25kIGNhbGxiYWNrIGZ1bmN0aW9uIHBhcmFtZXRlciBoYXMgdHlwZVxuICAgICpadmJpLkV2ZW50Q2FwdGlvbiogd2l0aCBhIHNpbmdsZSBlbGVtZW50ICpldi5wZ25vKiwgd2hpY2hcbiAgICBpbmRpY2F0ZXMgdGhlIFwiQ0MgY2hhbm5lbFwiIG9mIHRoZSByZWNlaXZlZCBwYWdlLlxuXG4gICAgV2hlbiB0aGUgY2xpZW50IGlzIG1vbml0b3JpbmcgdGhpcyBwYWdlLCB0aGUgZXhwZWN0ZWQgYWN0aW9uIGlzXG4gICAgdG8gY2FsbCAqdnQuZmV0Y2hfY2NfcGFnZSgpKi4gVG8gc3BlZWQgdXAgcmVuZGVyaW5nLCBtb3JlIGRldGFpbGVkXG4gICAgdXBkYXRlIGluZm9ybWF0aW9uIGNhbiBiZSBxdWVyaWVkIHZpYVxuICAgIGBadmJpLlBhZ2UuZ2V0X3BhZ2VfZGlydHlfcmFuZ2UoKWBfLlxuICAgIChOb3RlIHdoZW4gdGhlIHBhZ2UgaXMgZmV0Y2hlZCBhZnRlcndhcmQsIHRoZSBjb250ZW50cyB3aWxsIGJlIGFcbiAgICBzbmFwc2hvdCBvZiB0aGUgc3RhdHVzIGF0IGZldGNoIHRpbWUgYW5kIG5vdCBldmVudCB0aW1lLCBpLmUuIHRoZVxuICAgIFwiZGlydHlcIiBmbGFncyBhY2N1bXVsYXRlIGFsbCBjaGFuZ2VzIHNpbmNlIHRoZSBsYXN0IGZldGNoLilcblxuKlZCSV9FVkVOVF9ORVRXT1JLKjpcbiAgICBTb21lIHN0YXRpb24vbmV0d29yayBpZGVudGlmaWVyIGhhcyBiZWVuIHJlY2VpdmVkIG9yIGlzIG5vIGxvbmdlclxuICAgIHRyYW5zbWl0dGVkIChpbiB0aGUgbGF0dGVyIGNhc2UgYWxsIHZhbHVlcyBhcmUgemVybywgZS5nLiBhZnRlciBhXG4gICAgY2hhbm5lbCBzd2l0Y2gpLiAgVGhlIGV2ZW50IHdpbGwgbm90IHJlcGVhdCB1bnRpbCBhIGRpZmZlcmVudCBpZGVudGlmaWVyXG4gICAgaGFzIGJlZW4gcmVjZWl2ZWQgYW5kIGNvbmZpcm1lZC4gIChOb3RlOiBWUFMvVFRYIGFuZCBYRFMgd2lsbCBub3QgY29tYmluZVxuICAgIGluIHJlYWwgbGlmZSwgZmVlZGluZyB0aGUgZGVjb2RlciB3aXRoIGFydGlmaWNpYWwgZGF0YSBjYW4gY29uZnVzZVxuICAgIHRoZSBsb2dpYy4pXG5cbiAgICBGb3IgdGhpcyB0eXBlIHRoZSBzZWNvbmQgY2FsbGJhY2sgZnVuY3Rpb24gcGFyYW1ldGVyIGhhcyB0eXBlXG4gICAgKlp2YmkuRXZlbnROZXR3b3JrKiB3aXRoIHRoZSBmb2xsb3dpbmcgZWxlbWVudHM6XG5cbiAgICAwLiAqbnVpZCo6IE5ldHdvcmsgaWRlbnRpZmllclxuICAgIDEuICpuYW1lKjogTmFtZSBvZiB0aGUgbmV0d29yayBmcm9tIFhEUyBvciBmcm9tIGEgdGFibGUgbG9va3VwIG9mIENOSXMgaW4gVGVsZXRleHQgcGFja2V0IDgvMzAgb3IgVlBTXG4gICAgMi4gKmNhbGwqOiBOZXR3b3JrIGNhbGwgbGV0dGVycywgZnJvbSBYRFMgKGkuZS4gY2xvc2VkLWNhcHRpb24sIFVTIG9ubHkpLCBlbHNlIGVtcHR5XG4gICAgMy4gKnRhcGVfZGVsYXkqOiBUYXBlIGRlbGF5IGluIG1pbnV0ZXMsIGZyb20gWERTOyAwIG91dHNpZGUgb2YgVVNcbiAgICA0LiAqY25pX3Zwcyo6IE5ldHdvcmsgSUQgcmVjZWl2ZWQgZnJvbSBWUFMsIG9yIHplcm8gaWYgdW5rbm93blxuICAgIDUuICpjbmlfODMwMSo6IE5ldHdvcmsgSUQgcmVjZWl2ZWQgZnJvbSB0ZWxldGV4dCBwYWNrZXQgOC8zMC8xLCBvciB6ZXJvIGlmIHVua25vd25cbiAgICA2LiAqY25pXzgzMDIqOiBOZXR3b3JrIElEIHJlY2VpdmVkIGZyb20gdGVsZXRleHQgcGFja2V0IDgvMzAvMiwgb3IgemVybyBpZiB1bmtub3duXG5cbiAgICBNaW5pbXVtIHRpbWVzIGZvciBpZGVudGlmeWluZyBhIG5ldHdvcmssIHdoZW4gZGF0YSBzZXJ2aWNlIGlzXG4gICAgdHJhbnNtaXR0ZWQ6IFZQUyAoREUvQVQvQ0ggb25seSk6IDAuMDggc2Vjb25kczsgVGVsZXRleHQgUERDIG9yIDgvMzA6XG4gICAgMiBzZWNvbmRzOyBYRFMgKFVTIG9ubHkpOiB1bmtub3duLCBiZXR3ZWVuIDAuMXggdG8gMTB4IHNlY29uZHMuXG5cbipWQklfRVZFTlRfTkVUV09SS19JRCo6XG4gICAgTGlrZSAqVkJJX0VWRU5UX05FVFdPUksqLCBidXQgdGhpcyBldmVudCB3aWxsIGFsc28gYmUgc2VudCB3aGVuIHRoZVxuICAgIGRlY29kZXIgY2Fubm90IGRldGVybWluZSBhIG5ldHdvcmsgbmFtZS4gIEZvciB0aGlzIHR5cGUgdGhlIHNlY29uZFxuICAgIGNhbGxiYWNrIGZ1bmN0aW9uIHBhcmFtZXRlciBoYXMgdHlwZSAqWnZiaS5FdmVudE5ldHdvcmsqIHdpdGggc2FtZVxuICAgIGNvbnRlbnRzIGFzIGRlc2NyaWJlZCBhYm92ZS5cblxuKlZCSV9FVkVOVF9UUklHR0VSKjpcbiAgICBUcmlnZ2VycyBhcmUgc2VudCBieSBicm9hZGNhc3RlcnMgdG8gc3RhcnQgc29tZSBhY3Rpb24gb24gdGhlXG4gICAgdXNlciBpbnRlcmZhY2Ugb2YgbW9kZXJuIFRWcy4gVW50aWwgbGlienZiaSBpbXBsZW1lbnRzIGFsbCBvZlxuICAgIFdlYlRWIGFuZCBTdXBlclRlbGV0ZXh0IHRoZSBpbmZvcm1hdGlvbiBhdmFpbGFibGUgYXJlIHByb2dyYW1cbiAgICByZWxhdGVkIChvciB1bnJlbGF0ZWQpIFVSTHMsIHNob3J0IG1lc3NhZ2VzIGFuZCBUZWxldGV4dFxuICAgIHBhZ2UgbGlua3MuXG5cbiAgICBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIHRyaWdnZXIgaGFzIGZpcmVkLiBUaGUgc2Vjb25kIGNhbGxiYWNrXG4gICAgZnVuY3Rpb24gcGFyYW1ldGVyIGlzIG9mIHR5cGUgKlp2YmkuUGFnZUxpbmsqIGFuZCBoYXMgdGhlIGZvbGxvd2luZ1xuICAgIGVsZW1lbnRzOlxuXG4gICAgMC4gKnR5cGUqOiBMaW5rIHR5cGU6IE9uZSBvZiBWQklfTElOSyogY29uc3RhbnRzXG4gICAgMS4gKmVhY2VtKjogTGluayByZWNlaXZlZCB2aWEgRUFDRU0gb3IgQVRWRUYgdHJhbnNwb3J0IG1ldGhvZFxuICAgIDIuICpuYW1lKjogU29tZSBkZXNjcmlwdGl2ZSB0ZXh0IG9yIGVtcHR5XG4gICAgMy4gKnVybCo6IFVSTFxuICAgIDQuICpzY3JpcHQqOiBBIHBpZWNlIG9mIEVDTUEgc2NyaXB0IChKYXZhc2NyaXB0KSwgdGhpcyBtYXkgYmUgdXNlZCBvblxuICAgICAgIFdlYlRWIG9yIFN1cGVyVGVsZXRleHQgcGFnZXMgdG8gdHJpZ2dlciBzb21lIGFjdGlvbi4gVXN1YWxseSBlbXB0eS5cbiAgICA1LiAqbnVpZCo6IE5ldHdvcmsgSUQgZm9yIGxpbmtpbmcgdG8gcGFnZXMgb24gb3RoZXIgY2hhbm5lbHNcbiAgICA2LiAqcGdubyo6IFRlbGV0ZXh0IHBhZ2UgbnVtYmVyXG4gICAgNy4gKnN1Ym5vKjogVGVsZXRleHQgc3ViLXBhZ2UgbnVtYmVyXG4gICAgOC4gKmV4cGlyZXMqOiBUaGUgdGltZSBpbiBzZWNvbmRzIGFuZCBmcmFjdGlvbnMgc2luY2UgMTk3MC0wMS0wMSAwMDowMFxuICAgICAgIHdoZW4gdGhlIGxpbmsgc2hvdWxkIG5vIGxvbmdlciBiZSBvZmZlcmVkIHRvIHRoZSB1c2VyLCBzaW1pbGFyIHRvIGFcbiAgICAgICBIVFRQIGNhY2hlIGV4cGlyYXRpb24gZGF0ZVxuICAgIDkuICppdHZfdHlwZSo6IE9uZSBvZiBWQklfV0VCTElOS18qIGNvbnN0YW50czsgb25seSBhcHBsaWNhYmxlIHRvIEFUVkVGIHRyaWdnZXJzOyBlbHNlIFVOS05PV05cbiAgICAxMC4gKnByaW9yaXR5KjogVHJpZ2dlciBwcmlvcml0eSAoMD1FTUVSR0VOQ1ksIHNob3VsZCBuZXZlciBiZVxuICAgICAgICBibG9ja2VkLCAxLi4yPUhJR0gsIDMuLjU9TUVESVVNLCA2Li45PUxPVykgZm9yIG9yZGVyaW5nIGFuZCBmaWx0ZXJpbmdcbiAgICAxMS4gKmF1dG9sb2FkKjogT3BlbiB0aGUgdGFyZ2V0IHdpdGhvdXQgdXNlciBjb25maXJtYXRpb25cblxuKlZCSV9FVkVOVF9BU1BFQ1QqOlxuICAgIFRoZSB2YmkgZGVjb2RlciByZWNlaXZlZCBuZXcgaW5mb3JtYXRpb24gKHBvdGVudGlhbGx5IGZyb20gUEFMIFdTUyxcbiAgICBOVFNDIFhEUyBvciBFSUEtSiBDUFItMTIwNCkgYWJvdXQgdGhlIHByb2dyYW0gYXNwZWN0IHJhdGlvLlxuXG4gICAgVGhlIHNlY29uZCBjYWxsYmFjayBmdW5jdGlvbiBwYXJhbWV0ZXIgaXMgb2YgdHlwZSAqWnZiaS5Bc3BlY3RSYXRpbypcbiAgICBhbmQgaGFzIHRoZSBmb2xsb3dpbmcgZWxlbWVudHM6XG5cbiAgICAwLiAqZmlyc3RfbGluZSo6IERlc2NyaWJlIHN0YXJ0IG9mIGFjdGl2ZSB2aWRlbyAoaW5jbHVzaXZlKSwgaS5lLlxuICAgICAgIHdpdGhvdXQgdGhlIGJsYWNrIGJhcnMgaW4gbGV0dGVyYm94IG1vZGVcbiAgICAxLiAqbGFzdF9saW5lKjogRGVzY3JpYmVzIGVuZiBvZiBhY3RpdmUgdmlkZW8gKGluY2x1c2l2ZSlcbiAgICAyLiAqcmF0aW8qOiBUaGUgcGljdHVyZSBhc3BlY3QgcmF0aW8gaW4gYW5hbW9ycGhpYyBtb2RlLCAxNi85IGZvclxuICAgICAgIGV4YW1wbGUuIE5vcm1hbCBvciBsZXR0ZXJib3hlZCB2aWRlbyBoYXMgYXNwZWN0IHJhdGlvIDEvMVxuICAgIDMuICpmaWxtX21vZGUqOiBUUlVFIHdoZW4gdGhlIHNvdXJjZSBpcyBrbm93biB0byBiZSBmaWxtIHRyYW5zZmVycmVkXG4gICAgICAgdG8gdmlkZW8sIGFzIG9wcG9zZWQgdG8gaW50ZXJsYWNlZCB2aWRlbyBmcm9tIGEgdmlkZW8gY2FtZXJhLlxuICAgIDQuICpvcGVuX3N1YnRpdGxlcyo6IERlc2NyaWJlcyBob3cgc3VidGl0bGVzIGFyZSBpbnNlcnRlZCBpbnRvIHRoZVxuICAgICAgIHBpY3R1cmU6IE5vbmUsIG9yIG92ZXJsYXkgaW4gcGljdHVyZSwgb3IgaW4gbGV0dGVyYm94IGJhcnMsIG9yXG4gICAgICAgdW5rbm93bi5cblxuKlZCSV9FVkVOVF9QUk9HX0lORk8qOlxuICAgIFdlIGhhdmUgbmV3IGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IG9yIG5leHQgcHJvZ3JhbS5cblxuICAgIFRoZSBzZWNvbmQgY2FsbGJhY2sgZnVuY3Rpb24gcGFyYW1ldGVyIGlzIG9mIHR5cGUgKlp2YmkuUHJvZ0luZm8qXG4gICAgYW5kIGhhcyB0aGUgZm9sbG93aW5nIGVsZW1lbnRzOlxuXG4gICAgMC4gKmN1cnJlbnRfb3JfbmV4dCo6IEluZGljYXRlcyBpZiBlbnRyeSByZWZlcnMgdG8gdGhlIGN1cnJlbnQgb3IgbmV4dCBwcm9ncmFtXG4gICAgMS4gKnN0YXJ0X21vbnRoKjogTW9udGggb2YgdGhlIHN0YXJ0IGRhdGVcbiAgICAyLiAqc3RhcnRfZGF5KjogRGF5LW9mLW1vbnRoIG9mIHRoZSBzdGFydCBkYXRlXG4gICAgMy4gKnN0YXJ0X2hvdXIqOiBIb3VyIG9mIHRoZSBzdGFydCB0aW1lXG4gICAgNC4gKnN0YXJ0X21pbio6IE1pbnV0ZSBvZiB0aGUgc3RhcnQgdGltZVxuICAgIDUuICp0YXBlX2RlbGF5ZWQqOiBJbmRpY2F0ZXMgaWYgYSBwcm9ncmFtIGlzIHJvdXRpbmVseSB0YXBlIGRlbGF5ZWQgZm9yXG4gICAgICAgV2VzdGVybiBVUyB0aW1lIHpvbmVzLlxuICAgIDYuICpsZW5ndGhfaG91cio6IER1cmF0aW9uIGluIGhvdXJzXG4gICAgNy4gKmxlbmd0aF9taW4qOiBEdXJhdGlvbiByZW1haW5kZXIgaW4gbWludXRlc1xuICAgIDguICplbGFwc2VkX2hvdXIqOiBBbHJlYWR5IGVsYXBzZWQgZHVyYXRpb25cbiAgICA5LiAqZWxhcHNlZF9taW4qOiBBbHJlYWR5IGVsYXBzZWQgZHVyYXRpb25cbiAgICAxMC4gKmVsYXBzZWRfc2VjKjogQWxyZWFkeSBlbGFwc2VkIGR1cmF0aW9uXG4gICAgMTEuICp0aXRsZSo6IFByb2dyYW0gdGl0bGUgdGV4dCAoQVNDSUkpXG4gICAgMTIuICp0eXBlX2NsYXNzZio6IFNjaGVtZSB1c2VkIGZvciBwcm9ncmFtIHR5cGUgY2xhc3NpZmljYXRpb246XG4gICAgICAgIE9uZSBvZiB0aGUgKlZCSV9QUk9HX0NMQVNTRiogY29uc3RhbnRzLiBVc2VcbiAgICAgICAgYFp2YmkucHJvZ190eXBlX3N0cmluZygpYF8gZm9yIG9idGFpbmluZyBhIHN0cmluZyBmcm9tIHRoaXNcbiAgICAgICAgdmFsdWUgYW5kIGVhY2ggb2YgdGhlIGZvbGxvd2luZyB0eXBlIGlkZW50aWZpZXJzLlxuICAgIDEzLiAqdHlwZV9pZF8wKjogUHJvZ3JhbSB0eXBlIGNsYXNzaWZpZXIgIzEgYWNjb3JkaW5nIHRvIHNjaGVtZVxuICAgIDE0LiAqdHlwZV9pZF8xKjogUHJvZ3JhbSB0eXBlIGNsYXNzaWZpZXIgIzJcbiAgICAxNS4gKnR5cGVfaWRfMio6IFByb2dyYW0gdHlwZSBjbGFzc2lmaWVyICMzXG4gICAgMTYuICp0eXBlX2lkXzMqOiBQcm9ncmFtIHR5cGUgY2xhc3NpZmllciAjNFxuICAgIDE3LiAqcmF0aW5nX2F1dGgqOiBTY2hlbWUgdXNlZCBmb3IgcmF0aW5nOiBPbmUgb2YgVkJJX1JBVElOR19BVVRIKlxuICAgICAgICBjb25zdGFudHMuIFVzZSBgWnZiaS5yYXRpbmdfc3RyaW5nKClgXyBmb3Igb2J0YWluaW5nIGEgc3RyaW5nIGZyb21cbiAgICAgICAgdGhpcyB2YWx1ZSBhbmQgdGhlIGZvbGxvd2luZyAqcmF0aW5nX2lkKi5cbiAgICAxOC4gKnJhdGluZ19pZCo6IFJhdGluZyBjbGFzc2lmaWNhdGlvblxuICAgIDE5LiAqcmF0aW5nX2Rsc3YqOiBBZGRpdGlvbmFsIHJhdGluZyBmb3Igc2NoZW1lIGluIGNhc2Ugb2ZcbiAgICAgICAgc2NoZW1lICpWQklfUkFUSU5HX1RWX1VTKlxuICAgIDIwLiAqYXVkaW9fbW9kZV9hKjogQXVkaW8gbW9kZTogT25lIG9mIFZCSV9BVURJT19NT0RFKiBjb25zdGFudHNcbiAgICAyMS4gKmF1ZGlvX2xhbmd1YWdlX2EqOiBBdWRpbyBsYW5ndWFnZSAoYXVkaW8gY2hhbm5lbCBBKVxuICAgIDIyLiAqYXVkaW9fbW9kZV9iKjogQXVkaW8gbW9kZSAoY2hhbm5lbCBCKVxuICAgIDIzLiAqYXVkaW9fbGFuZ3VhZ2VfYio6IEF1ZGlvIGxhbmd1YWdlIChhdWRpbyBjaGFubmVsIEIpXG4gICAgMjQuICpjYXB0aW9uX3NlcnZpY2VzKjogQWN0aXZlIGNhcHRpb24gcGFnZXM6IGJpdHMgMC03IGNvcnJlc3BvbmQgdG8gY2FwdGlvbiBwYWdlcyAxLThcbiAgICAyNS4gKmNhcHRpb25fbGFuZ3VhZ2VzKjogVHVwbGUgd2l0aCBjYXB0aW9uIGxhbmd1YWdlIG9uIGFsbCA4IENDIHBhZ2VzXG4gICAgMjYuICphc3BlY3RfcmF0aW8qOiBBc3BlY3QgcmF0aW8gZGVzY3JpcHRpb24sIGFuIGluc3RhbmNlIG9mIGNsYXNzICpadmJpLkFzcGVjdFJhdGlvKlxuICAgIDI3LiAqZGVzY3JpcHRpb24qOiBQcm9ncmFtIGNvbnRlbnQgZGVzY3JpcHRpb24gdGV4dDogVXAgdG8gOCBsaW5lc1xuICAgICAgICBvZiBBU0NJSSB0ZXh0IHNwZWFyYXRlZCBieSBuZXdsaW5lIGNoYXJhY3Rlci5cblxuKipNdWx0aXRocmVhZGluZyoqOiBUaGUgYFp2YmkuQ2FwdHVyZWBfLCBgWnZiaS5SYXdEZWNgXyxcbmBadmJpLlNlcnZpY2VEZWNgXyBhbmQgYFp2YmkuU2VhcmNoYF8gY2xhc3NlcyBhcmUgdGhyZWFkLXNhZmUgaW5zb2ZhciBhc1xudGhleSBhbGxvdyBydW5uaW5nIHRoZSBjYXB0dXJlIGxvb3AgKGluY2x1ZGluZyByYXcgZGVjb2RlcikgYW5kIHNlcnZpY2VcbmRlY29kZXIgaW4gb25lIHRocmVhZCwgYW5kIGZ1cnRoZXIgZXZlbnQgcHJvY2Vzc2luZyBvciBhIHVzZXItaW50ZXJmYWNlIGluXG5hbm90aGVyIHRocmVhZC4gVGhlIGxhdHRlciBtYXkgaW50ZXJhY3Qgd2l0aCB0aGUgY2FwdHVyZS9kZWNvZGVyIHRocmVhZFxudmlhIGNvbmZpZ3VyYXRpb24gYW5kIHF1ZXJ5IGludGVyZmFjZXMuXG5cbkhvd2V2ZXIgbm90ZSB0aGF0IGNhbGxiYWNrcyByZWdpc3RlcmVkIHdpdGggdGhlIHNlcnZpY2UgZGVjb2RlciB3aWxsIG9jY3VyXG53aXRoaW4gdGhlIGNhcHR1cmUgdGhyZWFkIChpLmUuIHdoZXJlIHlvdSBjYWxsXG5gWnZiaS5TZXJ2aWNlRGVjLmRlY29kZSgpYF8gb24gY2FwdHVyZWQgc2xpY2VkIGRhdGEgYnVmZmVycykuIFRha2UgY2FyZVxudG8gY2FsbCBvbmx5IHRocmVhZC1zYWZlIGZ1bmN0aW9ucyBvZiB0aGUgdXNlciB0aHJlYWQgaW4gdGhhdCBjb250ZXh0LlxuVXN1YWxseSBvbmUgd2lsbCBmaWx0ZXIgYW5kIHRoZW4gZm9yd2FyZCB0aGUgbm90aWZpY2F0aW9ucyB0byB0aGUgbWFpblxudGhyZWFkIHVzaW5nIHNvbWUgSVBDIG1lY2hhbmlzbSAoZS5nLiB2aWEgYSBxdWV1ZWQgc2lnbmFsIHdoZW4gdXNpbmcgUXQpLlxuU2VlIGBleGFtcGxlcy9zZWFyY2gtdHR4LnB5YCBmb3IgYW4gZXhhbXBsZSB1c2luZyBtdWx0aS10aHJlYWRpbmcuXG5cblxuWnZiaS5TZXJ2aWNlRGVjLmV2ZW50X2hhbmRsZXJfcmVnaXN0ZXIoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgdnQuZXZlbnRfaGFuZGxlcl9yZWdpc3RlcihldmVudF9tYXNrLCBmdW5jdGlvbiwgW3VzZXJfZGF0YV0pXG5cblJlZ2lzdGVycyBhIG5ldyBldmVudCBoYW5kbGVyLiAqZXZlbnRfbWFzayogY2FuIGJlIGEgYnV0LXdpc2UgJ09SJyBvZlxuYFZCSV9FVkVOVF8qYCBjb25zdGFudHMuIFdoZW4gdGhlIGhhbmRsZXIgKmZ1bmN0aW9uKiB3aXRoIHNhbWUgKnVzZXJfZGF0YSpcbmlzIGFscmVhZHkgcmVnaXN0ZXJlZCwgaXRzIGV2ZW50X21hc2sgd2lsbCBiZSBjaGFuZ2VkLiBBbnkgbnVtYmVyIG9mXG5oYW5kbGVycyBjYW4gYmUgcmVnaXN0ZXJlZCwgYWxzbyBkaWZmZXJlbnQgaGFuZGxlcnMgZm9yIHRoZSBzYW1lIGV2ZW50XG53aGljaCB3aWxsIGJlIGNhbGxlZCBpbiByZWdpc3RyYXRpb24gb3JkZXIuXG5cblRoZSByZWdpc3RlcmVkIGhhbmRsZXIgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIGZyb20gd2l0aGluXG5gWnZiaS5TZXJ2aWNlRGVjLmRlY29kZSgpYF8uICBUaGUgZnVuY3Rpb24gaXMgY2FsbGVkIGVpdGhlciB3aXRoIHR3byBvclxudGhyZWUgcGFyYW1ldGVycywgZGVwZW5kaW5nIG9uIHRoZSBwcmVzZW5jZSBvZiBwYXJhbWV0ZXIgKnVzZXJfZGF0YSpcbmR1cmluZyByZWdpc3RyYXRpb246XG5cbjEuIEV2ZW50IHR5cGUgKGkuZS4gb25lIG9mIHRoZSBgVkJJX0VWRU5UXypgIGNvbnN0YW50cykuXG4yLiBBIG5hbWVkIHR1cGxlIHR5cGUgZGVzY3JpYmluZyB0aGUgZXZlbnQuIFRoZSBjbGFzcyB0eXBlIGRlcGVuZHMgb24gdGhlXG4gICB0eXBlIG9mIGV2ZW50IGluZGljYXRlZCBhcyBmaXJzdCBwYXJhbWV0ZXIuXG4zLiBBIGNvcHkgb2YgdGhlICp1c2VyX2RhdGEqIG9iamVjdCBzcGVjaWZpZWQgZHVyaW5nIHJlZ2lzdHJhdGlvbi4gVGhlXG4gICBwYXJhbWV0ZXIgaXMgb21pdHRlZCBoZXJlIHdoZW4gb21pdHRlZCBkdXJpbmcgcmVnaXN0cmF0aW9uLlxuXG5TZWUgc2VjdGlvbiBgWnZiaS5TZXJ2aWNlRGVjIGV2ZW50IGhhbmRsaW5nYF8gYWJvdmUgZm9yIGEgZGV0YWlsZWRcbmRlc2NyaXBpb24gb2YgdGhlIGNhbGxiYWNrIHBhcmFtZXRlcnMgYW5kIGluZm9ybWF0aW9uIHR5cGVzLlxuXG5BcGFydCBvZiBhZGRpbmcgaGFuZGxlcnMsIHRoaXMgZnVuY3Rpb24gYWxzbyBlbmFibGVzIGFuZCBkaXNhYmxlcyBkZWNvZGluZ1xub2YgZGF0YSBzZXJ2aWNlcyBkZXBlbmRpbmcgb24gdGhlIHByZXNlbmNlIG9mIGF0IGxlYXN0IG9uZSBoYW5kbGVyIGZvciB0aGVcbnJlc3BlY3RpdmUgZGF0YS4gQSBgVkJJX0VWRU5UX1RUWF9QQUdFYCBoYW5kbGVyIGZvciBleGFtcGxlIGVuYWJsZXNcblRlbGV0ZXh0IGRlY29kaW5nLlxuXG5UaGlzIGZ1bmN0aW9uIGNhbiBiZSBzYWZlbHkgY2FsbGVkIGF0IGFueSB0aW1lLCBldmVuIGZyb20gaW5zaWRlIG9mIGEgaGFuZGxlci5cbk5vdGUgb25seSAxMCBldmVudCBjYWxsYmFjayBmdW5jdGlvbnMgY2FuIGJlIHJlZ2lzdGVyZWQgaW4gYSBzY3JpcHQgYXQgdGhlXG5zYW1lIHRpbWUuICBDYWxsYmFja3MgYXJlIGF1dG9tYXRpY2FsbHkgdW5yZWdpc3RlcmVkIHdoZW4gdGhlIGRlY29kZXIgb2JqZWN0XG5pcyBkZXN0cm95ZWQuXG5cblp2YmkuU2VydmljZURlYy5ldmVudF9oYW5kbGVyX3VucmVnaXN0ZXIoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICB2dC5ldmVudF9oYW5kbGVyX3VucmVnaXN0ZXIoZnVuY3Rpb24sIFt1c2VyX2RhdGFdKVxuXG5EZS1yZWdpc3RlcnMgdGhlIGV2ZW50IGhhbmRsZXIgKmhhbmRsZXIqIHdpdGggb3B0aW9uYWwgcGFyYW1ldGVyXG4qdXNlcl9kYXRhKiwgaWYgc3VjaCBhIGhhbmRsZXIgd2FzIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCB3aXRoIHRoZSBzYW1lXG51c2VyIGRhdGEgcGFyYW1ldGVyLlxuXG5BcGFydCBmcm9tIHJlbW92aW5nIGEgaGFuZGxlciwgdGhpcyBmdW5jdGlvbiBhbHNvIGRpc2FibGVzIGRlY29kaW5nIG9mXG5hc3NvY2lhdGVkIGRhdGEgc2VydmljZXMgd2hlbiBubyBoYW5kbGVyIGlzIHJlZ2lzdGVyZWQgdG8gY29uc3VtZSB0aGVcbnJlc3BlY3RpdmUgZGF0YS4gRm9yIGV4YW1wbGUsIHJlbW92aW5nIHRoZSBsYXN0IGhhbmRsZXIgZm9yIGV2ZW50IHR5cGVcbmBWQklfRVZFTlRfVFRYX1BBR0VgIGRpc2FibGVzIFRlbGV0ZXh0IGRlY29kaW5nLlxuXG5UaGlzIGZ1bmN0aW9uIGNhbiBiZSBzYWZlbHkgY2FsbGVkIGF0IGFueSB0aW1lLCBldmVuIGZyb20gaW5zaWRlIG9mIGFcbmhhbmRsZXIgcmVtb3ZpbmcgaXRzZWxmIG9yIGFub3RoZXIgaGFuZGxlciwgYW5kIHJlZ2FyZGxlc3MgaWYgdGhlIGhhbmRsZXJcbmhhcyBiZWVuIHN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkLlxuXG5cbi4uIF9admJpLlNlYXJjaDpcblxuQ2xhc3MgWnZiaS5TZWFyY2hcbj09PT09PT09PT09PT09PT09XG5cblRoZSBmdW5jdGlvbnMgaW4gdGhpcyBzZWN0aW9uIGFsbG93IHNlYXJjaGluZyBhY3Jvc3Mgb25lIG9yIG1vcmVcblRlbGV0ZXh0IHBhZ2VzIGluIHRoZSBjYWNoZSBmb3IgYSBnaXZlbiBzdWItc3RyaW5nIG9yIGEgcmVndWxhclxuZXhwcmVzc2lvbi5cblxuQ29uc3RydWN0b3IgWnZiaS5TZWFyY2goKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgc2VhcmNoID0gWnZiaS5TZWFyY2goZGVjb2Rlcj12dCwgcGF0dGVybj1cIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U9MHgxMDAsIHN1Ym5vPVp2YmkuVkJJX0FOWV9TVUJOTyxcbiAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlZm9sZD1GYWxzZSwgcmVnZXhwPUZhbHNlLCBkaXJlY3Rpb249MSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcz1Ob25lLCB1c2VyX2RhdGE9Tm9uZSlcblxuQ3JlYXRlIGEgc2VhcmNoIGNvbnRleHQgYW5kIHByZXBhcmUgZm9yIHNlYXJjaGluZyB0aGUgVGVsZXRleHQgcGFnZVxuY2FjaGUgd2l0aCB0aGUgZ2l2ZW4gc3ViLXN0cmluZyBvciByZWd1bGFyIGV4cHJlc3Npb24uXG5cbklucHV0IFBhcmFtZXRlcnM6XG5cbjpkZWNvZGVyOlxuICAgIFJlZmVyZW5jZSB0byBhbiBpbnN0YW5jZSBvZiBgWnZiaS5TZXJ2aWNlRGVjYF8gdGhhdCBjb250YWlucyB0aGUgcGFnZVxuICAgIGNhY2hlIHdoaWNoIGlzIHRvIGJlIHNlYXJjaGVkLlxuXG46cGF0dGVybjpcbiAgICBDb250YWlucyB0aGUgc2VhcmNoIHBhdHRlcm4gKGxpYnp2YmkgZXhwZWN0cyB0aGUgc3RyaW5nIGluIFVURi04XG4gICAgZW5jb2Rpbmc7IHRoZSBjb252ZXJzaW9uIGZyb20gVW5pY29kZSB1c2VkIGJ5IFB5dGhvbiBzdHJpbmdzIGlzIGRvbmVcbiAgICBhdXRvbWF0aWNhbGx5KS5cblxuOnBhZ2U6XG4gICAgUGFnZSBudW1iZXIgb2YgdGhlIGZpcnN0IChmb3J3YXJkKSBvciBsYXN0IChiYWNrd2FyZCkgcGFnZSB0byB2aXNpdC5cbiAgICBOb3RlIHRoZSBudW1iZXIgaXMgaGV4YWRlY2ltYWwsIHdoaWNoIG1lYW5zIHRvIHJldHJpZXZlIHRleHQgcGFnZVxuICAgIFwiMTAwXCIsIHBhc3MgbnVtYmVyIDB4MTAwLiBUZWxldGV4dCBhbHNvIGFsbG93cyBoZXhhZGVjaW1hbCBwYWdlXG4gICAgbnVtYmVycyAoc29tZXRpbWVzIHVzZWQgZm9yIHRyYW5zbWl0dGluZyBoaWRkZW4gZGF0YSksIHNvIGFsbG93ZWQgaXNcbiAgICB0aGUgZnVsbCByYW5nZSBvZiAweDEwMCB0byAweDhGRi5cblxuOnN1Ym5vOlxuICAgIERlZmF1bHRzIHRvIGBadmJpLlZCSV9BTllfU1VCTk9gLCB3aGljaCBtZWFucyB0aGUgbmV3ZXN0IHN1Yi1wYWdlIG9mXG4gICAgdGhlIGdpdmVuIHBhZ2UgaXMgcmV0dXJuZWQuIEVsc2UgdGhpcyBpcyBhIHN1Yi1wYWdlIG51bWJlciBpbiByYW5nZSAwXG4gICAgdG8gMHgzRjdFLlxuXG46ZGlyZWN0aW9uOlxuICAgIFNwZWNpZmllcyB0aGUgZGlyZWN0aW9uIG9mIHNlYXJjaCAoZnJvbSB0aGUgZ2l2ZW4gc3RhcnQgcGFnZSk6XG4gICAgMSBmb3IgZm9yd2FyZCwgb3IgLTEgZm9yIGJhY2t3YXJkIHNlYXJjaC4gVGhlIHNlYXJjaCBkb2VzIG5vdFxuICAgIHdyYXAtYXJvdW5kIHdoZW4gcmVhY2hpbmcgdGhlIGxhc3Qgb3IgZmlyc3QgcGFnZSByZXNwZWN0aXZlbHkuXG5cbjpyZWdleHA6XG4gICAgVGhpcyBib29sZWFuIG11c3QgYmUgc2V0IHRvIFRydWUgd2hlbiB0aGUgc2VhcmNoIHBhdHRlcm4gaXMgYSByZWd1bGFyXG4gICAgZXhwcmVzc2lvbjsgZGVmYXVsdCBpcyBGYWxzZSwgd2hpY2ggbWVhbnMgc3ViLXN0cmluZyBzZWFyY2guIChOb3RlXG4gICAgbGlienZiaSBpbnRlcm5hbGx5IGNvbnZlcnRzIHRoZSBzdWItc3RyaW5nIHRvIHJlZ3VsYXIgZXhwcmVzc2lvblxuICAgIHNpbXBseSBiZSBlc2NhcGluZyBhbGwgc3BlY2lhbCBjaGFyYWN0ZXJzIC0gc28gdGhlcmUgaXMgbm8gcGVyZm9ybWFuY2VcbiAgICBnYWluIGJ5IHVzaW5nIHN1Yi1zdHJpbmcgc2VhcmNoLilcblxuOmNhc2Vmb2xkOlxuICAgIFRoaXMgYm9vbGVhbiBjYW4gYmUgc2V0IHRvIFRydWUgdG8gbWFrZSB0aGUgc2VhcmNoIGNhc2UgaW5zZW5zaXRpdmU7XG4gICAgZGVmYXVsdCBpcyBGYWxzZS5cblxuOnByb2dyZXNzOlxuICAgIElmIHByZXNlbnQsIHRoZSBwYXJhbWV0ZXIgaGFzIHRvIGJlIGNhbGxhYmxlLiBUaGUgZnVuY3Rpb24gd2lsbCBiZVxuICAgIGNhbGxlZCBmb3IgZWFjaCBzY2FubmVkIHBhZ2UuIFdoZW4gdGhlIGZ1bmN0aW9uIHJldHVybnMgRmFsc2UsIHRoZVxuICAgIHNlYXJjaCBpcyBhYm9ydGVkLlxuXG4gICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHJlY2VpdmVzIGFzIGZpcnN0IHBhcmFtZXRlciBhIHJlZmVyZW5jZSB0byB0aGVcbiAgICBzZWFyY2ggcGFnZSAoaS5lLiBhbiBpbnN0YW5jZSBvZiBgWnZiaS5QYWdlYF8pLCBwbHVzIG9wdGlvbmFsbHkgdGhlXG4gICAgb2JqZWN0IHNwZWNpZmllZCBhcyAqdXNlcl9kYXRhKi4gTm90ZSBkdWUgdG8gaW50ZXJuYWwgbGltaXRhdGlvbnMgb25seVxuICAgIDEwIHNlYXJjaCBjYWxsYmFjayBmdW5jdGlvbnMgY2FuIGJlIHJlZ2lzdGVyZWQgaW4gYSBzY3JpcHQgYXQgdGhlIHNhbWVcbiAgICB0aW1lLiAgQ2FsbGJhY2tzIGFyZSBhdXRvbWF0aWNhbGx5IHVucmVnaXN0ZXJlZCB3aGVuIHRoZSBzZWFyY2ggb2JqZWN0XG4gICAgaXMgZGVzdHJveWVkLlxuXG46dXNlcl9kYXRhOlxuICAgIElmIHByZXNlbnQsIHRoZSBwYXJhbWV0ZXIgaXMgcGFzc2VkIHRocm91Z2ggYXMgc2Vjb25kIHBhcmFtZXRlciB0byBlYWNoXG4gICAgY2FsbCBvZiB0aGUgZnVuY3Rpb24gc3BlY2lmaWVkIGJ5ICpwcm9ncmVzcyouIFdoZW4gbm90IHNwZWNpZmllZCwgdGhlXG4gICAgY2FsbGJhY2sgaXMgaW52b2tlZCB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlci5cblxuKipOb3RlOioqIFRoZSBwYWdlIG9iamVjdCBpcyBvbmx5IHZhbGlkIHdoaWxlIGluc2lkZSBvZiB0aGUgY2FsbGJhY2tcbmZ1bmN0aW9uIChpLmUuIHlvdSBtdXN0IG5vdCBhc3NpZ24gdGhlIG9iamVjdCB0byBhIHZhcmlhYmxlIG91dHNpZGUgb2YgdGhlXG5zY29wZSBvZiB0aGUgaGFuZGxlciBmdW5jdGlvbi4pIEFuIGV4Y2VwdGlvbiBvZiB0eXBlICpWYWx1ZUVycm9yKiB3aWxsIGJlXG5yYWlzZWQgdXBvbiBsYXRlciBhY2Nlc3MgdG8gYW4gaW52YWxpZGF0ZWQgcGFnZS5cblxuKipOb3RlOioqXG5JbiBhIG11bHRpLXRocmVhZGVkIGFwcGxpY2F0aW9uIHRoZSBkYXRhIHNlcnZpY2UgZGVjb2RlciBtYXkgcmVjZWl2ZVxuYW5kIGNhY2hlIG5ldyBwYWdlcyBkdXJpbmcgYSBzZWFyY2ggc2Vzc2lvbi4gV2hlbiB0aGVzZSBwYWdlIG51bWJlcnNcbmhhdmUgYmVlbiB2aXNpdGVkIGFscmVhZHkgdGhlIHBhZ2VzIGFyZSBub3Qgc2VhcmNoZWQuIEF0IGEgY2hhbm5lbFxuc3dpdGNoIChhbmQgaW4gZnV0dXJlIGF0IGFueSB0aW1lKSBwYWdlcyBjYW4gYmUgcmVtb3ZlZCBmcm9tIGNhY2hlLlxuQWxsIHRoaXMgaGFzIHlldCB0byBiZSBhZGRyZXNzZWQuXG5cblJlZ3VsYXIgZXhwcmVzc2lvbiBzZWFyY2hpbmcgc3VwcG9ydHMgdGhlIHN0YW5kYXJkIHNldCBvZiBvcGVyYXRvcnMgYW5kXG5jb25zdGFudHMsIHdpdGggdGhlc2UgZXh0ZW5zaW9uczpcblxuYFxcXFx4Li4uLmAgb3IgYFxcXFxYLi4uLmBcbiAgICBIZXhhZGVjaW1hbCBudW1iZXIgb2YgdXAgdG8gNCBkaWdpdHNcblxuYFxcXFx1Li4uLmAgb3IgYFxcXFxVLi4uLmBcbiAgICBIZXhhZGVjaW1hbCBudW1iZXIgb2YgdXAgdG8gNCBkaWdpdHNcblxuYDp0aXRsZTpgXG4gICAgVW5pY29kZSBzcGVjaWZpYyBjaGFyYWN0ZXIgY2xhc3NcblxuYDpnZng6YFxuICAgIFRlbGV0ZXh0IEcxIG9yIEczIGdyYXBoaWNcblxuYDpkcmNzOmBcbiAgICBUZWxldGV4dCBEUkNTXG5cbmBcXFxccE4xLE4yLC4uLixObmBcbiAgICBDaGFyYWN0ZXIgcHJvcGVydGllcyBjbGFzc1xuXG5gXFxcXFBOMSxOMiwuLi4sTm5gXG4gICAgTmVnYXRlZCBjaGFyYWN0ZXIgcHJvcGVydGllcyBjbGFzc1xuXG5Qcm9wZXJ0eSBkZWZpbml0aW9uczpcblxuMS4gIGFscGhhbnVtZXJpY1xuMi4gIGFscGhhXG4zLiAgY29udHJvbFxuNC4gIGRpZ2l0XG41LiAgZ3JhcGhpY2FsXG42LiAgbG93ZXJjYXNlXG43LiAgcHJpbnRhYmxlXG44LiAgcHVuY3R1YXRpb25cbjkuICBzcGFjZVxuMTAuIHVwcGVyY2FzZVxuMTEuIGhleCBkaWdpdFxuMTIuIHRpdGxlXG4xMy4gZGVmaW5lZFxuMTQuIHdpZGVcbjE1LiBub25zcGFjaW5nXG4xNi4gVGVsZXRleHQgRzEgb3IgRzMgZ3JhcGhpY3NcbjE3LiBUZWxldGV4dCBEUkNTXG5cbkNoYXJhY3RlciBjbGFzc2VzIGNhbiBjb250YWluIGxpdGVyYWxzLCBjb25zdGFudHMsIGFuZCBjaGFyYWN0ZXJcbnByb3BlcnR5IGNsYXNzZXMuIEV4YW1wbGU6IGBbYWJjXFxVMTBBXFxwMSwzLDRdYC4gTm90ZSBkb3VibGUgaGVpZ2h0XG5hbmQgc2l6ZSBjaGFyYWN0ZXJzIHdpbGwgbWF0Y2ggdHdpY2UsIG9uIHRoZSB1cHBlciBhbmQgbG93ZXIgcm93LFxuYW5kIGRvdWJsZSB3aWR0aCBhbmQgc2l6ZSBjaGFyYWN0ZXJzIGNvdW50IGFzIG9uZSAocmVkdWNpbmcgdGhlXG5saW5lIHdpZHRoKSBzbyBvbmUgY2FuIGZpbmQgY29tYmluYXRpb25zIG9mIG5vcm1hbCBhbmQgZW5sYXJnZWRcbmNoYXJhY3RlcnMuXG5cblp2YmkuU2VhcmNoLl9faXRlcm5leHRfXygpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5BZnRlciBjcmVhdGluZyBhbiBpbnN0YW5jZSBvZiAqWnZiaS5TZWFyY2gqLCBpdGVyYXRpb24gaXMgdXNlZCB0byBleGVjdXRlXG50aGUgc2VhcmNoOlxuXG46OlxuXG4gICAgc2VhcmNoID0gWnZiaS5TZWFyY2goZGVjb2RlciwgcGF0dGVybilcbiAgICBmb3IgcGcgaW4gc2VhcmNoOlxuICAgICAgICAjIC4uLiBwcm9jZXNzIHBnIG9iamVjdFxuXG5BcyBsb25nIGFzIG1hdGNoaW5nIHBhZ2VzIGFyZSBmb3VuZCwgaXRlcmF0aW9uIHJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlXG5uZXh0IG1hdGNoIGluIGZvcm0gb2YgYW4gaW5zdGFuY2Ugb2YgYFp2YmkuUGFnZWBfLiBUaGUgbWF0Y2hpbmcgcmFuZ2Ugb2ZcbnRleHQgaXMgaGlnaGxpZ2h0ZWQgaW4gdGhlIHBhZ2UuXG5cbioqTm90ZSoqOiBUaGUgcmV0dXJuZWQgcGFnZSBvYmplY3QgcmVmZXJzIHRvIHRlbXBvcmFyeSBtZW1vcnkgd2l0aGluIHRoZSBDXG5saWJyYXJ5OyB0aGVyZWZvcmUgdGhlIHBhZ2UgY29udGVudCBpcyBubyBsb25nZXIgdmFsaWQgYWZ0ZXIgY29udGludWF0aW9uXG5vZiB0aGUgc2VhcmNoIG9yIHN0YXJ0IG9mIGEgbmV3IHNlYXJjaC4gQW4gZXhjZXB0aW9uIG9mIHR5cGUgKlZhbHVlRXJyb3IqXG53aWxsIGJlIHJhaXNlZCB1cG9uIGFjY2VzcyB0byBhbiBpbnZhbGlkYXRlZCBwYWdlLlxuXG5JZiBubyBtYXRjaGluZyBwYWdlIGlzIGZvdW5kLCBpdGVyYXRpb24gcmFpc2VzIGV4Y2VwdGlvbiAqU3RvcEl0ZXJhdGlvbipcbmFzIHVzdWFsLiBUaGUgc2FtZSBleGNlcHRpb24gaXMgcmFpc2VkIHdoZW4gdGhlIGNhbGxiYWNrIHJldHVybmVkICpGYWxzZSouXG5JZiBpdGVyYXRpb24gaXMgY29udGludWVkIGFmdGVyIHJlYWNoaW5nIGl0cyBlbmQsIHRoZSBzZWFyY2ggd2lsbCByZXN0YXJ0XG5mcm9tIHRoZSBzdGFydGluZyBwb2ludCBnaXZlbiBpbiB0aGUgY29uc3RydWN0b3IuIEFmdGVyIGNhbmNlbGxhdGlvblxuc2VhcmNoIHdpbGwgY29udGludWUgZnJvbSB0aGUgbGFzdCB2aXNpdGVkIHBhZ2UuXG5cblVwb24gb3RoZXIgZXJyb3JzIHRoZSBmdW5jdGlvbiByYWlzZXMgZXhjZXB0aW9uICpadmJpLlNlYXJjaEVycm9yKlxud2hpY2ggY29udGFpbnMgYSBzdHJpbmcgZGVzY3JpYmluZyB0aGUgY2F1c2UsIHdoaWNoIGNhbiBiZSBiZWNhdXNlIHRoZVxuY2FjaGUgaXMgY29tcGxldGVseSBlbXB0eSwgb3IgaW50ZXJuYWwgZXJyb3JzLlxuXG5cbi4uIF9admJpLlBhZ2U6XG5cbkNsYXNzIFp2YmkuUGFnZVxuPT09PT09PT09PT09PT09XG5cblRoZXNlIGFyZSBmdW5jdGlvbnMgdG8gcmVuZGVyIFRlbGV0ZXh0IGFuZCBDbG9zZWQgQ2FwdGlvbiBwYWdlcyBkaXJlY3RseVxuaW50byBtZW1vcnksIGVzc2VudGlhbGx5IGEgbW9yZSBkaXJlY3QgaW50ZXJmYWNlIHRvIHRoZSBmdW5jdGlvbnMgb2Ygc29tZVxuaW1wb3J0YW50IGV4cG9ydCBtb2R1bGVzIGRlc2NyaWJlZCBpbiBgWnZiaS5FeHBvcnRgXy5cblxuQWxsIG9mIHRoZSBmdW5jdGlvbnMgaW4gdGhpcyBzZWN0aW9uIHdvcmsgb24gcGFnZSBvYmplY3RzIGFzIHJldHVybmVkXG5ieSB0aGUgcGFnZSBjYWNoZSdzIFwiZmV0Y2hcIiBmdW5jdGlvbnMgKHNlZSBgWnZiaS5TZXJ2aWNlRGVjYF8pXG5vciB0aGUgcGFnZSBzZWFyY2ggZnVuY3Rpb24gKHNlZSBgWnZiaS5TZWFyY2hgXylcblxuUGFnZSBvYmplY3RzIHJldHVybmVkIGJ5IGBadmJpLlNlcnZpY2VEZWNgXydzIFwiZmV0Y2hcIiBpbnRlcmZhY2VzIG11c3QgYmVcbmRlbGV0ZWQgZm9yIHJlbGVhc2luZyByZXNvdXJjZXMgd2hpY2ggYXJlIGxvY2tlZCBpbnRlcm5hbGx5IGluIHRoZSBsaWJyYXJ5XG5kdXJpbmcgdGhlIGZldGNoLiBgWnZiaS5QYWdlYF8gc3VwcG9ydHMgdGhlIFB5dGhvbidzIFwiQ29udGV4dCBNYW5hZ2VyXCJcbnByb3RvY29sIChpLmUuICBtZXRob2RzIFwiX19lbnRlcl9fXCIgYW5kIFwiX19leGl0X19cIikgdG8gYWxsb3cgZG9pbmcgdGhpc1xuZWFzaWx5IHVzaW5nIHRoZSBcIndpdGhcIiBzdGF0ZW1lbnQ6IDo6XG5cbiAgICB3aXRoIHZ0ZGVjLmZldGNoX3Z0X3BhZ2UocGdubywgc3Vibm8pIGFzIHBnOlxuICAgICAgICAjIHByb2Nlc3Mgb2JqZWN0IFwicGdcIlxuXG5BbnkgYWNjZXNzIHRvIHRoZSBwYWdlIGFmdGVyIHRoZSBibG9jayBkZWZpbmVkIGJ5IFwid2l0aFwiIHdvdWxkIHJhaXNlXG5leGNlcHRpb24gKlZhbHVlRXJyb3IqLlxuXG5QYWdlIG9iamVjdHMgcmV0dXJuZWQgYnkgYFp2YmkuU2VhcmNoYF8gKG9yIHJlZmVyZW5jZWQgYXMgcGFyYW1ldGVyIHRvIHRoZVxucHJvZ3Jlc3MgY2FsbGJhY2sgZnVuY3Rpb24pIGhhdmUgYW4gaW1wbGljaXRseSBsaW1pdGVkIGxpZmUtdGltZSBhcyB0aGV5XG5yZWZlciB0byBpbnRlcm5hbCBzdGF0aWMgc3RvcmFnZSB3aXRoaW4gdGhlIEMgbGlicmFyeS4gIFRoZXNlIG9iamVjdHMgYXJlXG5yZWxlYXNlZCBpbnZhbGlkYXRlZCBhdXRvbWF0aWNhbGx5LiBBbnkgYWNjZXNzIG91dHNpZGUgb2YgdGhlaXIgbGlmZXRpbWVcbnJhaXNlcyBleGNlcHRpb24gKlZhbHVlRXJyb3IqLiBJbiBwYXJ0aWN1bGFyIHRoaXMgbWVhbnMgeW91IG11c3Qgbm90XG5hc3NpZ24gc3VjaCBwYWdlIG9iamVjdHMgdG8gZ2xvYmFsIHZhcmlhYmxlcy4gSW5zdGVhZCBqdXN0IHN0b3JlIHRoZSBwYWdlXG5udW1iZXIgYW5kIGZldGNoIHRoZSBwYWdlIGFnYWluIGZyb20gdGhlIGNhY2hlIHZpYSBgWnZiaS5TZXJ2aWNlRGVjYF8gd2hlblxubmVlZGVkLlxuXG5cblp2YmkuUGFnZS5kcmF3X3Z0X3BhZ2UoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBjYW52YXMgPSBwZy5kcmF3X3Z0X3BhZ2UoY29sdW1uLCByb3csIHdpZHRoLCBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZtdD1admJpLlZCSV9QSVhGTVRfUkdCQTMyX0xFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZlYWw9RmFsc2UsIGZsYXNoX29uPUZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdfcGl4X3dpZHRoLCBjb2xfcGl4X29mZiwgcm93X3BpeF9vZmYpXG5cbkRyYXdzIGEgY29tcGxldGUgVGVsZXRleHQgcGFnZSBvciBhIHN1Yi1zZWN0aW9uIHRoZXJlb2YgaW50byBhIHJhdyBpbWFnZVxuY2FudmFzIGFuZCByZXR1cm5zIGl0IGluIGZvcm0gb2YgYSBieXRlcyBvYmplY3QuIEVhY2ggdGVsZXRleHQgY2hhcmFjdGVyXG5vY2N1cGllcyAxMiB4IDEwIHBpeGVscyAoaS5lLiBhIGNoYXJhY3RlciBpcyAxMiBwaXhlbHMgd2lkZSBhbmQgZWFjaCBsaW5lXG5pcyAxMCBwaXhlbHMgaGlnaC4gTm90ZSB0aGF0IHRoaXMgYXNwZWN0IHJhdGlvIGlzIG5vdCBvcHRpbWFsIGZvciBkaXNwbGF5LFxuc28gcGl4ZWwgbGluZXMgc2hvdWxkIGJlIGRvdWJsZWQuIFRoaXMgaXMgZG9uZSBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBQUE1cbmFuZCBYUE0gY29udmVyc2lvbiBmdW5jdGlvbnMuKVxuXG5UaGUgaW1hZ2UgaXMgcmV0dXJuZWQgaW4gZm9ybSBvZiBhIGJ5dGVzIG9iamVjdC4gIFdoZW5cbnVzaW5nIGZvcm1hdCBgWnZiaS5WQklfUElYRk1UX1JHQkEzMl9MRWAsIGVhY2ggcGl4ZWwgY29uc2lzdHMgb2YgNCBzdWJzZXF1ZW50XG5ieXRlcyAoUkdCQSkuIEhlbmNlIHRoZSBieXRlcyBhcnJheSBpc1xuYDQgKiAxMiAqIHBnX2NvbHVtbnMgKiAxMCAqIHBnX3Jvd3NgIGJ5dGVzIGxvbmcsIHdoZXJlXG5gcGdfY29sdW1uc2AgYW5kIGBwZ19yb3dzYCBhcmUgdGhlIHBhZ2Ugd2lkdGggYW5kIGhlaWdodCBpblxudGVsZXRleHQgY2hhcmFjdGVycyByZXNwZWN0aXZlbHkuICBXaGVuIHVzaW5nIGZvcm1hdCBgWnZiaS5WQklfUElYRk1UX1BBTDhgXG5lYWNoIHBpeGVsIHVzZXMgb25lIGJ5dGUuIEluIHRoaXMgY2FzZSBlYWNoIHBpeGVsIHZhbHVlIGlzIGFuIGluZGV4IGludG9cbnRoZSBjb2xvciBwYWxldHRlIGFzIGRlbGl2ZXJlZCBieSBgWnZiaS5QYWdlLmdldF9wYWdlX2NvbG9yX21hcCgpYF8uXG5cbklucHV0IHBhcmFtZXRlcnM6XG5cbjpjb2x1bW46XG4gICAgU3RhcnQgY29sdW1uIGluIHRoZSBwYWdlIHRvIHJlbmRlciBhdCB0aGUgZmlyc3QgcGl4ZWwgY29sdW1uLCBkZWZhdWx0c1xuICAgIHRvIDAuICBOb3RlIHRoaXMgYW5kIHRoZSBmb2xsb3dpbmcgdGhyZWUgdmFsdWVzIGFyZSBnaXZlbiBhcyBudW1iZXJzXG4gICAgb2YgdGVsZXRleHQgY2hhcmFjdGVycyAobm90IHBpeGVscy4pXG5cbjpyb3c6XG4gICAgU3RhcnQgcm93IGluIHRoZSBwYWdlIHRvIHJlbmRlciBhdCB0aGUgZmlyc3QgcGl4ZWwgY29sdW1uLCBkZWZhdWx0cyB0byAwLlxuXG46d2lkdGg6XG4gICAgTnVtYmVyIG9mIGNvbHVtbnMgdG8gcmVuZGVyLiBUaGUgc3VtIG9mIHBhcmFtZXRlcnMgKmNvbHVtbiogcGx1c1xuICAgICp3aWR0aCogc2hhbGwgYmUgbGVzcyBvciBlcXVhbCB0aGUgcGFnZSB3aWR0aC4gV2hlbiBvbWl0dGVkLCB0aGVcbiAgICB2YWx1ZSBkZWZhdWx0cyB0byB0aGUgcGFnZSB3aWR0aCBtaW51cyB0aGUgc3RhcnQgcm93IG9mZnNldC5cblxuOmhlaWdodDpcbiAgICBOdW1iZXIgb2Ygcm93cyB0byByZW5kZXIuIFRoZSBzdW0gb2YgcGFyYW1ldGVycyAqcm93KiBwbHVzXG4gICAgKmhlaWdodCogc2hhbGwgYmUgbGVzcyBvciBlcXVhbCB0aGUgcGFnZSBoZWlnaHQuIFdoZW4gb21pdHRlZCwgdGhlXG4gICAgdmFsdWUgZGVmYXVsdHMgdG8gdGhlIHBhZ2UgaGVpZ2h0IG1pbnVzIHRoZSBzdGFydCBjb2x1bW4gb2Zmc2V0LlxuXG46Zm10OlxuICAgIFNwZWNpZmllcyB0aGUgb3V0cHV0IGZvcm1hdC4gU3VwcG9ydGVkIGlzIGBadmJpLlZCSV9QSVhGTVRfUkdCQTMyX0xFYFxuICAgIChpLmUuIGVhY2ggcGl4ZWwgdXNlcyA0IHN1YnNlcXVlbnQgYnl0ZXMgZm9yIFIsRyxCLEEpIGFuZFxuICAgIGBadmJpLlZCSV9QSVhGTVRfUEFMOGAgKGkuZS4gZWFjaCBwaXhlbCB1c2VzIG9uZSBieXRlLCB3aGljaCBpcyBhblxuICAgIGluZGV4IGludG8gdGhlIGNvbG9yIHBhbGV0dGUpXG5cbjppbWdfcGl4X3dpZHRoOlxuICAgIElzIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGNhbnZhcyBwaXhlbCBsaW5lcyBpbiBwaXhlbHMuICBXaGVuIG9taXR0ZWQgb3JcbiAgICBzZXQgdG8gMCwgdGhlIGltYWdlIHdpZHRoIGlzIGF1dG9tYXRpY2FsbHkgc2V0IHRvIHRoZSB3aWR0aCBvZiB0aGVcbiAgICBzZWxlY3RlZCByZWdpb24gKGkuZS4gdGhlIG51bWJlciBvZiBjb2x1bW5zIHRpbWVzIDEyKSBwbHVzXG4gICAgKmNvbF9waXhfb2ZmKiwgaWYgcHJlc2VudC4gSWYgc3BlY2lmaWVkLCB0aGUgdmFsdWUgaGFzIHRvIGJlIGVxdWFsXG4gICAgb3IgbGFyZ2VyIHRoYW4gdGhlIGRlZmF1bHQ7IGV4dHJhbmVvdXMgcGl4ZWxzIGFyZSBsZWZ0IHplcm8gaW4gdGhlXG4gICAgcmV0dXJuZWQgaW1hZ2UuXG5cbjpjb2xfcGl4X29mZjpcbiAgICBPZmZzZXQgdG8gdGhlIGxlZnQgaW4gcGl4ZWxzIGRlZmluaW5nIHdoZXJlIGluIHRoZSBjYW52YXMgdG8gZHJhd1xuICAgIHRoZSBwYWdlIHNlY3Rpb24uIEJ5IHVzaW5nIHRoaXMgdmFsdWUgY29tYmluZWQgd2l0aCAqaW1nX3BpeF93aWR0aCpcbiAgICB5b3UgY2FuIGFjaGlldmUgYSBibGFjayBib3JkZXIgYXJvdW5kIHRoZSBpbWFnZS5cblxuOnJvd19waXhfb2ZmOlxuICAgIE9mZnNldCB0byB0aGUgdG9wIGluIHBpeGVscyBkZWZpbmluZyB3aGVyZSBpbiB0aGUgY2FudmFzIHRvIGRyYXdcbiAgICB0aGUgcGFnZSBzZWN0aW9uLlxuXG46cmV2ZWFsOlxuICAgIFdoZW4gb21pdHRlZCBvciBzZXQgdG8gRmFsc2UsIGNoYXJhY3RlcnMgZmxhZ2dlZCBhcyBcImNvbmNlYWxlZFwiIGFyZVxuICAgIHJlbmRlcmVkIHNwYWNlIChVKzAwMjApLiBXaGVuIHNldCB0byBUcnVlIHRoZSBjaGFyYWN0ZXJzIGFyZSByZW5kZXJlZC5cblxuOmZsYXNoX29uOlxuICAgIFNldCB0byBUcnVlIHRvIGRyYXcgY2hhcmFjdGVycyBmbGFnZ2VkIFwiYmxpbmtcIiAocHJvcGVydGllcykgYXMgc3BhY2VcbiAgICAoVSswMDIwKS4gVG8gaW1wbGVtZW50IGJsaW5raW5nIHlvdSdsbCBoYXZlIHRvIGRyYXcgdGhlIHBhZ2VcbiAgICByZXBlYXRlZGx5IHdpdGggdGhpcyBwYXJhbWV0ZXIgYWx0ZXJuYXRpbmcgYmV0d2VlbiAwIGFuZCAxLlxuXG5admJpLlBhZ2UuZHJhd19jY19wYWdlKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgY2FudmFzID0gcGcuZHJhd19jY19wYWdlKGNvbHVtbiwgcm93LCB3aWR0aCwgaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbXQ9WnZiaS5WQklfUElYRk1UX1JHQkEzMl9MRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nX3BpeF93aWR0aCwgY29sX3BpeF9vZmYsIHJvd19waXhfb2ZmKVxuXG5EcmF3IGEgY29tcGxldGUgb3Igc3ViLXNlY3Rpb24gb2YgYSBDbG9zZWQgQ2FwdGlvbiBwYWdlLiBFYWNoIGNoYXJhY3Rlclxub2NjdXBpZXMgMTYgeCAyNiBwaXhlbHMgKGkuZS4gYSBjaGFyYWN0ZXIgaXMgMTYgcGl4ZWxzIHdpZGUgYW5kIGVhY2ggbGluZVxuaXMgMjYgcGl4ZWxzIGhpZ2guKVxuXG5UaGUgaW1hZ2UgaXMgcmV0dXJuZWQgaW4gYSBieXRlIG9iamVjdC4gIEVhY2hcbnBpeGVsIHVzZXMgNCBzdWJzZXF1ZW50IGJ5dGVzIChSR0JBKS4gSGVuY2UgdGhlIGJ5dGVzIGFycmF5XG5pcyBgNCAqIDE2ICogcGdfY29sdW1ucyAqIDI2ICogcGdfcm93c2AgYnl0ZXMgbG9uZywgd2hlcmVcbmBwZ19jb2x1bW5zYCBhbmQgYHBnX3Jvd3NgIGFyZSB0aGUgcGFnZSB3aWR0aCBhbmQgaGVpZ2h0IGluXG5DbG9zZWQgQ2FwdGlvbiBjaGFyYWN0ZXJzIHJlc3BlY3RpdmVseS5cblxuRm9yIGRldGFpbHMgb24gcGFyYW1ldGVycyBwbGVhc2Ugc2VlIHRoZSBwcmV2aW91cyBmdW5jdGlvbi5cblxuWnZiaS5QYWdlLmNhbnZhc190b19wcG0oKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgcHBtID0gcGcuY2FudmFzX3RvX3BwbShjYW52YXMsIGZtdD1admJpLlZCSV9QSVhGTVRfUkdCQTMyX0xFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNwZWN0PVRydWUsIGltZ19waXhfd2lkdGg9MClcblxuVGhpcyBpcyBhIGhlbHBlciBmdW5jdGlvbiB3aGljaCBjb252ZXJ0cyB0aGUgaW1hZ2UgZ2l2ZW4gaW4gKmNhbnZhcyogZnJvbVxuYSByYXcgYnl0ZXMgb2JqZWN0IGdlbmVyYXRlZCBieSAqZHJhd192dF9wYWdlKCkqIG9yICpkcmF3X2NjX3BhZ2UoKSogaW50b1xuUFBNIGZvcm1hdCAoc3BlY2lmaWNhbGx5IFwiUDZcIiB3aXRoIDI1NiBjb2xvcnMgcGVyIGRpbWVuc2lvbnMsIHdoaWNoIG1lYW5zXG50aGVyZSBpcyBhIHNtYWxsIEFTQ0lJIGhlYWRlciwgZm9sbG93ZWQgYnkgdGhlIGltYWdlIGJpdG1hcCBjb25zaXN0aW5nIG9mXG4zIGJ5dGVzIChSR0IpIHBlciBwaXhlbC4pXG5cbjpmbXQ6XG4gICAgVGhlIGlzIHRoZSBmb3JtYXQgb2YgdGhlIGlucHV0IGNhbnZhcy4gSWYgbXVzdCBiZSB0aGUgc2FtZSB2YWx1ZSBhc1xuICAgIHBhc3NlZCB0byAqZHJhd192dF9wYWdlKCkqIG9yICpkcmF3X2NjX3BhZ2UoKSouXG5cbjphc3BlY3Q6XG4gICAgVGhpcyBvcHRpb25hbCBib29sZWFuIHBhcmFtZXRlciB3aGVuIHNldCB0byBGYWxzZSwgZGlzYWJsZXMgdGhlIGFzcGVjdFxuICAgIHJhdGlvIGNvcnJlY3Rpb24gKGkuZS4gb24gdGVsZXRleHQgcGFnZXMgYWxsIGxpbmVzIGFyZSBkb3VibGVkIGJ5XG4gICAgZGVmYXVsdDsgY2xvc2VkIGNhcHRpb24gb3V0cHV0IHJhdGlvbiBpcyBhbHJlYWR5IGNvcnJlY3QuKSBEZWZhdWx0IGlzXG4gICAgVHJ1ZS5cblxuOmltZ19waXhfd2lkdGg6XG4gICAgVGhlIGlzIHRoZSBwaXhlbCB3aWR0aCBvZiB0aGUgaW5wdXQgY2FudmFzLiBJdCBtdXN0IGJlIHRoZSBzYW1lXG4gICAgdmFsdWUgYXMgcGFzc2VkIHRvICpkcmF3X3Z0X3BhZ2UoKSogb3IgKmRyYXdfY2NfcGFnZSgpKi4gV2hlbiBvbWl0dGVkXG4gICAgb3IgemVybywgdGhlIHZhbHVlIGlzIGNhbGN1bGF0ZWQgaW4gdGhlIHNhbWUgd2F5IGFzIGRlc2NyaWJlZCBmb3IgdGhlc2VcbiAgICBtZXRob2RzLlxuXG5admJpLlBhZ2UuY2FudmFzX3RvX3hwbSgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICB4cG0gPSBwZy5jYW52YXNfdG9feHBtKGNhbnZhcywgZm10PVp2YmkuVkJJX1BJWEZNVF9SR0JBMzJfTEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBhc3BlY3Q9VHJ1ZSwgaW1nX3BpeF93aWR0aD0wKVxuXG5UaGlzIGlzIGEgaGVscGVyIGZ1bmN0aW9uIHdoaWNoIGNvbnZlcnRzIHRoZSBpbWFnZSBnaXZlbiBpbiAqY2FudmFzKiBmcm9tXG5hIHJhdyBieXRlcyBvYmplY3QgZ2VuZXJhdGVkIGJ5ICpkcmF3X3Z0X3BhZ2UoKSogb3IgKmRyYXdfY2NfcGFnZSgpKiBpbnRvXG5YUE0gZm9ybWF0LiBEdWUgdG8gdGhlIHdheSBYUE0gaXMgc3BlY2lmaWVkLCB0aGUgb3V0cHV0IGlzIGFuIEFTQ0lJIHRleHRcbnN0cmluZyAoc3VpdGFibGUgZm9yIGluY2x1ZGluZyBpbiBDIHNvdXJjZSBjb2RlKSwgaG93ZXZlciByZXR1cm5lZCB3aXRoaW5cbmEgYnl0ZXMgb2JqZWN0LlxuXG46Zm10OlxuICAgIFRoZSBpcyB0aGUgZm9ybWF0IG9mIHRoZSBpbnB1dCBjYW52YXMuIElmIG11c3QgYmUgdGhlIHNhbWUgdmFsdWUgYXNcbiAgICBwYXNzZWQgdG8gKmRyYXdfdnRfcGFnZSgpKiBvciAqZHJhd19jY19wYWdlKCkqLlxuXG46YXNwZWN0OlxuICAgIFRoaXMgb3B0aW9uYWwgYm9vbGVhbiBwYXJhbWV0ZXIgd2hlbiBzZXQgdG8gRmFsc2UsIGRpc2FibGVzIHRoZSBhc3BlY3RcbiAgICByYXRpbyBjb3JyZWN0aW9uIChpLmUuIG9uIHRlbGV0ZXh0IHBhZ2VzIGFsbCBsaW5lcyBhcmUgZG91YmxlZCBieVxuICAgIGRlZmF1bHQ7IGNsb3NlZCBjYXB0aW9uIG91dHB1dCByYXRpb24gaXMgYWxyZWFkeSBjb3JyZWN0LikgRGVmYXVsdCBpc1xuICAgIFRydWUuXG5cbjppbWdfcGl4X3dpZHRoOlxuICAgIFRoZSBpcyB0aGUgcGl4ZWwgd2lkdGggb2YgdGhlIGlucHV0IGNhbnZhcy4gSXQgbXVzdCBiZSB0aGUgc2FtZVxuICAgIHZhbHVlIGFzIHBhc3NlZCB0byAqZHJhd192dF9wYWdlKCkqIG9yICpkcmF3X2NjX3BhZ2UoKSouIFdoZW4gb21pdHRlZFxuICAgIG9yIHplcm8sIHRoZSB2YWx1ZSBpcyBjYWxjdWxhdGVkIGluIHRoZSBzYW1lIHdheSBhcyBkZXNjcmliZWQgZm9yIHRoZXNlXG4gICAgbWV0aG9kcy5cblxuWnZiaS5QYWdlLnByaW50X3BhZ2UoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgdHh0ID0gcGcucHJpbnRfcGFnZShjb2x1bW4sIHJvdywgd2lkdGgsIGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZtdD0nVVRGLTgnLCB0YWJsZT1UcnVlKVxuXG5QcmludCBhbmQgcmV0dXJuIHRoZSByZWZlcmVuY2VkIFRlbGV0ZXh0IG9yIENsb3NlZCBDYXB0aW9uIHBhZ2VcbmluIGZvcm0gb2YgYSBieXRlcyBvYmplY3QuIFJvd3MgYXJlIHNlcGFyYXRlZCBieSBsaW5lLWZlZWQgY2hhcmFjdGVycyAoXCJcXG5cIikuXG5BbGwgY2hhcmFjdGVyIGF0dHJpYnV0ZXMgYW5kIGNvbG9ycyB3aWxsIGJlIGxvc3QuIEdyYXBoaWNzIGNoYXJhY3RlcnMsXG5EUkNTIGFuZCBhbGwgY2hhcmFjdGVycyBub3QgcmVwcmVzZW50YWJsZSBpbiBVVEYtOCB3aWxsIGJlIHJlcGxhY2VkIGJ5XG5zcGFjZXMuXG5cbjpjb2x1bW46XG4gICAgU3RhcnQgY29sdW1uIGluIHRoZSBwYWdlIHRvIHJlbmRlciBhdCB0aGUgZmlyc3Qgb3V0cHV0IGNvbHVtbi5cbiAgICBEZWZhdWx0cyB0byAwLlxuXG46cm93OlxuICAgIFN0YXJ0IHJvdyBpbiB0aGUgcGFnZSB0byByZW5kZXIgYXQgdGhlIGZpcnN0IG91dHB1dCByb3cuXG4gICAgRGVmYXVsdHMgdG8gMC5cblxuOndpZHRoOlxuICAgIE51bWJlciBvZiBjb2x1bW5zIHRvIHJlbmRlci4gVGhlIHN1bSBvZiBwYXJhbWV0ZXJzICpjb2x1bW4qIHBsdXNcbiAgICAqd2lkdGgqIHNoYWxsIGJlIGxlc3Mgb3IgZXF1YWwgdGhlIHBhZ2Ugd2lkdGggKHVzZVxuICAgICpwZy5nZXRfcGFnZV9zaXplKCkqIHRvIGRldGVybWluZSB0aGUgZGltZW5zaW9ucy4pIFdoZW4gb21pdHRlZCwgdGhlXG4gICAgdmFsdWUgZGVmYXVsdHMgdG8gdGhlIHBhZ2Ugd2lkdGggbWludXMgdGhlIHN0YXJ0IHJvdyBvZmZzZXQuXG5cbjpoZWlnaHQ6XG4gICAgTnVtYmVyIG9mIHJvd3MgdG8gcmVuZGVyLiBUaGUgc3VtIG9mIHBhcmFtZXRlcnMgKnJvdyogcGx1c1xuICAgICpoZWlnaHQqIHNoYWxsIGJlIGxlc3Mgb3IgZXF1YWwgdGhlIHBhZ2UgaGVpZ2h0LiBXaGVuIG9taXR0ZWQsIHRoZVxuICAgIHZhbHVlIGRlZmF1bHRzIHRvIHRoZSBwYWdlIGhlaWdodCBtaW51cyB0aGUgc3RhcnQgY29sdW1uIG9mZnNldC5cblxuOmZvcm1hdDpcbiAgICBFbmNvZGluZyB0byBiZSB1c2VkIGluIHRoZSBvdXRwdXQuIERlZmF1bHQgaXMgJ1VURi04Jy4gVXNlIHRoZVxuICAgIGVxdWl2YWxlbnQgZm9ybWF0IHNwZWNpZmljYXRpb24gd2hlbiBkZWNvZGluZyB0aGUgYnl0ZXMgaW50byBhIFB5dGhvblxuICAgIHN0cmluZy5cblxuOnRhYmxlOlxuICAgIFdoZW4gb3B0aW9uYWwgcGFyYW1ldGVyICp0YWJsZSogaXMgc2V0IHRvIDEsIHRoZSBwYWdlIGlzIHNjYW5uZWQgaW5cbiAgICB0YWJsZSBtb2RlLCBwcmludGluZyBhbGwgY2hhcmFjdGVycyB3aXRoaW4gdGhlIHNvdXJjZSByZWN0YW5nbGVcbiAgICBpbmNsdWRpbmcgcnVucyBvZiBzcGFjZXMgYXQgdGhlIHN0YXJ0IGFuZCBlbmQgb2Ygcm93cy4gVGhpcyBpcyB0aGVcbiAgICBkZWZhdWx0LiBXaGVuIHNldCB0byBGYWxzZSwgc2VxdWVuY2VzIG9mIHNwYWNlcyBhdCB0aGUgc3RhcnQgYW5kIGVuZFxuICAgIG9mIHJvd3MgYXJlIGNvbGxhcHNlZCBpbnRvIHNpbmdsZSBzcGFjZXMgYW5kIGJsYW5rIGxpbmVzIGFyZVxuICAgIHN1cHByZXNzZWQuXG5cblxuWnZiaS5QYWdlLmdldF9wYWdlX25vKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICAocGdubywgc3Vibm8pID0gcGcuZ2V0X3BhZ2Vfbm8oKVxuXG5UaGlzIGZ1bmN0aW9uIHJldHVybnMgYSB0dXBsZSBjb250YWluaW5nIHRoZSBwYWdlIGFuZCBzdWItcGFnZSBudW1iZXIgb2ZcbnRoZSBwYWdlIGluc3RhbmNlLlxuXG5UZWxldGV4dCBwYWdlIG51bWJlcnMgYXJlIGhleGFkZWNpbWFsIG51bWJlcnMgaW4gdGhlIHJhbmdlIDB4MTAwIC4uIDB4OEZGLFxuQ2xvc2VkIENhcHRpb24gcGFnZSBudW1iZXJzIGFyZSBpbiB0aGUgcmFuZ2UgMSAuLiA4LiAgU3ViLXBhZ2UgbnVtYmVyc1xuYXJlIHVzZWQgZm9yIHRlbGV0ZXh0IG9ubHkuIFRoZXNlIGFyZSBoZXhhZGVjaW1hbCBudW1iZXJzIGluIHJhbmdlXG4weDAwMDEgLi4gMHgzRjdGLCBpLmUuIHRoZSAybmQgYW5kIDR0aCBkaWdpdCBjb3VudCBmcm9tIDAuLkYsIHRoZVxuMXN0IGFuZCAzcmQgb25seSBmcm9tIDAuLjMgYW5kIDAuLjcgcmVzcGVjdGl2ZWx5LiBBIHN1Yi1wYWdlIG51bWJlclxuemVybyBtZWFucyB0aGUgcGFnZSBoYXMgbm8gc3ViLXBhZ2VzLlxuXG5admJpLlBhZ2UuZ2V0X3BhZ2Vfc2l6ZSgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICAocm93cywgY29sdW1ucykgPSBwZy5nZXRfcGFnZV9zaXplKClcblxuVGhpcyBmdW5jdGlvbiByZXR1cm5zIGEgdHVwbGUgY29udGFpbmluZyB0aGUgZGltZW5zaW9ucyAoaS5lLiByb3cgYW5kXG5jb2x1bW4gY291bnQpIG9mIHRoZSBwYWdlIGluc3RhbmNlLlxuXG5admJpLlBhZ2UuZ2V0X3BhZ2VfZGlydHlfcmFuZ2UoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgICh5MCwgeTEsIHJvbGwpID0gcGcuZ2V0X3BhZ2VfZGlydHlfcmFuZ2UoKVxuXG5UbyBzcGVlZCB1cCByZW5kZXJpbmcgdGhlc2UgdmFyaWFibGVzIG1hcmsgdGhlIHJvd3NcbndoaWNoIGFjdHVhbGx5IGNoYW5nZWQgc2luY2UgdGhlIHBhZ2UgaGFzIGJlZW4gbGFzdCBmZXRjaGVkXG5mcm9tIGNhY2hlLiAqeTAqIC4uLiAqeTEqIGFyZSB0aGUgZmlyc3QgdG8gbGFzdCByb3cgY2hhbmdlZCxcbmluY2x1c2l2ZS4gKnJvbGwqIGluZGljYXRlcyB0aGVcbnBhZ2UgaGFzIGJlZW4gdmVydGljYWxseSBzY3JvbGxlZCB0aGlzIG51bWJlciBvZiByb3dzLFxubmVnYXRpdmUgbnVtYmVycyB1cCAodG93YXJkcyBsb3dlciByb3cgbnVtYmVycyksIHBvc2l0aXZlXG5udW1iZXJzIGRvd24uIEZvciBleGFtcGxlIC0xIG1lYW5zIHJvdyBgeTAgKyAxIC4uLiB5MWBcbm1vdmVkIHRvIGB5MCAuLi4geTEgLSAxYCwgZXJhc2luZyByb3cgKnkxKiB0byBhbGwgc3BhY2VzLlxuXG5QcmFjdGljYWxseSB0aGlzIGlzIG9ubHkgdXNlZCBpbiBDbG9zZWQgQ2FwdGlvbiByb2xsLXVwXG5tb2RlLCBvdGhlcndpc2UgYWxsIHJvd3MgYXJlIGFsd2F5cyBtYXJrZWQgZGlydHkuIENsaWVudHNcbmFyZSBmcmVlIHRvIGlnbm9yZSB0aGlzIGluZm9ybWF0aW9uLlxuXG5admJpLlBhZ2UuZ2V0X3BhZ2VfY29sb3JfbWFwKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgbWFwID0gcGcuZ2V0X3BhZ2VfY29sb3JfbWFwKClcblxuVGhlIGZ1bmN0aW9uIHJldHVybnMgYSB0dXBsZSBvZiBsZW5ndGggNDAgd2hpY2hcbmNvbnRhaW5zIHRoZSBwYWdlJ3MgY29sb3IgcGFsZXR0ZS4gRWFjaCBlbnRyeSBpcyBhIDI0LWJpdCBSR0IgdmFsdWVcbihpLmUuIHRocmVlIDgtYml0IHZhbHVlcyBmb3IgcmVkLCBncmVlbiwgYmx1ZSwgd2l0aCByZWQgaW4gdGhlXG5sb3dlc3QgYml0cykgIFRvIGNvbnZlcnQgdGhpcyBpbnRvIHRoZSB1c3VhbCBcImAjUlJHR0JCYFwiIHN5bnRheCB1c2U6XG5cbjo6XG5cbiAgICBwcmludChcIiMlMDJYJTAyWCUwMlhcIiAlXG4gICAgICAgICAgICAgKHJnYiYweEZGLCAocmdiPj44KSYweEZGLCAocmdiPj4xNikmMHhGRikpXG5cblp2YmkuUGFnZS5nZXRfcGFnZV90ZXh0X3Byb3BlcnRpZXMoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBhdiA9IHBnLmdldF9wYWdlX3RleHRfcHJvcGVydGllcygpXG5cblRoZSBmdW5jdGlvbiByZXR1cm5zIHR1cGxlIHdoaWNoIGNvbnRhaW5zIHRoZSBwcm9wZXJ0aWVzIG9mIGFsbCBjaGFyYWN0ZXJzXG5vbiB0aGUgZ2l2ZW4gcGFnZSwgc3RhcnRpbmcgd2l0aCB0aG9zZSBvZiB0aGUgZmlyc3Qgcm93IGxlZnQgdG8gcmlnaHQsXG5kaXJlY3RseSBmb2xsb3dlZCBieSB0aGUgbmV4dCByb3cgZXRjLiAodXNlICpwZy5nZXRfcGFnZV9zaXplKCkqIGZvclxudW5wYWNraW5nKS4gRWFjaCBlbnRyeSBpcyBhIGJpdC1maWVsZC4gVGhlIG1lbWJlcnMgYXJlIChpblxuYXNjZW5kaW5nIG9yZGVyLCB3aWR0aCBpbiBiaXRzIGdpdmVuIGJlaGluZCB0aGUgY29sb24pOlxuXG4qIGZvcmVncm91bmQgY29sb3I6ODpcbiAgSW5kZXggaW50byB0aGUgY29sb3IgbWFwIHJldHVybmVkIGJ5IGBadmJpLlBhZ2UuZ2V0X3BhZ2VfY29sb3JfbWFwKClgX1xuKiBiYWNrZ3JvdW5kIGNvbG9yOjg6XG4gIEluZGV4IGludG8gdGhlIGNvbG9yIG1hcCByZXR1cm5lZCBieSBgWnZiaS5QYWdlLmdldF9wYWdlX2NvbG9yX21hcCgpYF9cbiogb3BhY2l0eTo0OlxuICBDaGFyYWN0ZXIgb3BhY2l0eSwgYXMgb25lIG9mIGNvbnN0YW50czpcblxuICArIGBWQklfVFJBTlNQQVJFTlRfU1BBQ0VgIChyZXBsYWNlIGNoYXIgd2l0aCB2aWRlbyksXG4gICsgYFZCSV9UUkFOU1BBUkVOVF9GVUxMYCAocmVwbGFjZSBiYWNrZ3JvdW5kIHdpdGggdmlkZW8pLFxuICArIGBWQklfU0VNSV9UUkFOU1BBUkVOVGAgKG1peCB2aWRlbyBpbnRvIGJhY2tncm91bmQpLCBvclxuICArIGBWQklfT1BBUVVFYCAobm8gdHJhbnNwYXJlbmN5KS5cblxuICBCb3RoICpmb3JlZ3JvdW5kKiBhbmQgKmJhY2tncm91bmQqIGNvbG9ycyBhcmUgdmFsaWRcbiAgaW5kZXBlbmRlbnQgb2YgdGhpcyBmbGFnLlxuKiBzaXplOjQ6XG4gIE9uZSBvZiB0aGUgY29uc3RhbnRzOlxuXG4gICsgYFZCSV9OT1JNQUxfU0laRWAsXG4gICsgYFZCSV9ET1VCTEVfV0lEVEhgLFxuICArIGBWQklfRE9VQkxFX0hFSUdIVGAsXG4gICsgYFZCSV9ET1VCTEVfU0laRWAsXG4gICsgYFZCSV9PVkVSX1RPUGBcbiAgICAoaS5lLiB0aGlzIGlzIHRvIHRoZSByaWdodCBvZiBgVkJJX0RPVUJMRV9XSURUSGAgb3IgYFZCSV9ET1VCTEVfU0laRWApLFxuICArIGBWQklfT1ZFUl9CT1RUT01gXG4gICAgKGkuZS4gdGhpcyBpcyBiZWxvdyBgVkJJX09WRVJfVE9QYCwgdGh1cyBsb3dlciByaWdodCBvZiBgVkJJX0RPVUJMRV9TSVpFYCksXG4gICsgYFZCSV9ET1VCTEVfSEVJR0hUMmBcbiAgICAoaS5lLiB0aGlzIGlzIGxvd2VyIGhhbGYgb2YgYSBgVkJJX0RPVUJMRV9IRUlHSFRgIGNoYXJhY3RlciBpbiB0aGUgcm93IGFib3ZlKSwgb3JcbiAgKyBgVkJJX0RPVUJMRV9TSVpFMmBcbiAgICAoaS5lLiB0aGlzIGlzIGxvd2VyIGhhbGYgb2YgYSBgVkJJX0RPVUJMRV9TSVpFYCBjaGFyYWN0ZXIgaW4gdGhlIHJvdyBhYm92ZSkuXG5cbiAgTm90ZSBjaGFyYWN0ZXJzIG1hcmtlZCBgVkJJX0RPVUJMRV9IRUlHSFQyYCwgYFZCSV9ET1VCTEVfU0laRTJgLFxuICBgVkJJX09WRVJfVE9QYCwgYFZCSV9PVkVSX0JPVFRPTWAgaGF2ZSB0aGUgc2FtZSBjaGFyYWN0ZXIgdW5pY29kZSBhbmRcbiAgYXR0cmlidXRlcyBhcyB0aGUgdG9wL2xlZnQgYW5jaG9yLiBQYXJ0aWFsIGNoYXJhY3RlcnMgKGxpa2UgYSBzaW5nbGVcbiAgYFZCSV9ET1VCTEVfSEVJR0hUMmApIHdpbGwgbm90IGFwcGVhciwgc28gY2hhcmFjdGVycyB3aXRoIHRoZXNlXG4gIGF0dHJpYnV0ZXMgY2FuIGJlIHNhZmVseSBpZ25vcmVkIHdoZW4gc2Nhbm5pbmcgdGhlIHBhZ2UgY29udGVudC5cbiogdW5kZXJsaW5lOjE6XG4gIEJvb2xlYW4gKlRydWUqIGZvciB1bmRlcmxpbmVkLCBlbHNlICpGYWxzZSouXG4qIGJvbGQ6MTpcbiAgQm9vbGVhbiAqVHJ1ZSogZm9yIGJvbGQsIGVsc2UgKkZhbHNlKi5cbiogaXRhbGljOjE6XG4gIEJvb2xlYW4gKlRydWUqIGZvciBkaXNwbGF5aW5nIHRoZSBjaGFyYWN0ZXIgc2xhbnRlZCByaWdodCwgZWxzZSAqRmFsc2UqLlxuKiBmbGFzaDoxOlxuICBCb29sZWFuICpUcnVlKiBmb3IgY2hhcmFjdGVycyB0aGF0IHNob3VsZCBmbGFzaCAoaS5lLiBibGluayksIGVsc2VcbiAgKkZhbHNlKi4gTm90ZSB0aGUgR1VJIGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhlIHBhZ2UgcGVyaW9kaWNhbGx5XG4gIHdpdGggc3VjaCBjaGFyYWN0ZXJzIHByZXNlbnQsIG9yIG9taXR0ZWQuIFNlZVxuICBgWnZiaS5QYWdlLmRyYXdfdnRfcGFnZSgpYF8uXG4qIGNvbmNlYWw6MTpcbiAgQm9vbGVhbiAqVHJ1ZSogZm9yIGNoYXJhY3RlcnMgdGhhdCBzaG91bGQgYmUgY29uY2VhbGVkIChpLmUuIHJlcGxhY2VkIGJ5XG4gIHNwYWNlIGNoYXJhY3RlciksIGVsc2UgKkZhbHNlKi5cbiAgU2VlIGFsc28gb3B0aW9uICpyZXZlYWwqIGZvciBgWnZiaS5QYWdlLmRyYXdfdnRfcGFnZSgpYF8uXG4qIHByb3BvcnRpb25hbDoxOlxuICBDdXJyZW50bHkgYWx3YXlzICpGYWxzZSosIGkuZS4gdXNlIGZpeGVkLXdpZHRoIGZvbnRzIGZvciByZW5kZXJpbmcuXG4qIGxpbms6MTpcbiAgQm9vbGVhbiAqVHJ1ZSogaWYgdGhlIGNoYXJhY3RlciBpcyBwYXJ0IG9mIGEgaHlwZXJsaW5rLCBlbHNlICpGYWxzZSouXG4gIENhbGwgYFp2YmkuUGFnZS5yZXNvbHZlX2xpbmsoKWBfIHRvIGdldCBtb3JlIGluZm9ybWF0aW9uLlxuXG5admJpLlBhZ2UuZ2V0X3BhZ2VfdGV4dCgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICB0eHQgPSBwZy5nZXRfcGFnZV90ZXh0KCByZXBsYWNlX2Nocj0nJyApXG5cblRoZSBmdW5jdGlvbiByZXR1cm5zIHRoZSBjb21wbGV0ZSBwYWdlIHRleHQgaW4gZm9ybSBvZiBhIHN0cmluZyAoaS5lLlxuVW5pY29kZSkuICBUaGlzIGZ1bmN0aW9uIGlzIHZlcnkgc2ltaWxhciB0byAqcGcucHJpbnRfcGFnZSgpKixcbmJ1dCBkb2VzIG5vdCBpbnNlcnQgb3IgcmVtb3ZlIGFueSBjaGFyYWN0ZXJzIHNvIHRoYXQgaXQncyBndWFyYW50ZWVkXG50aGF0IGNoYXJhY3RlcnMgaW4gdGhlIHJldHVybmVkIHN0cmluZyBjb3JyZWxhdGUgZXhhY3RseSB3aXRoIHRoZVxuYXJyYXkgcmV0dXJuZWQgYnkgYFp2YmkuUGFnZS5nZXRfcGFnZV90ZXh0X3Byb3BlcnRpZXMoKWBfLlxuXG5UaGUgb3B0aW9uYWwgcGFyYW1ldGVyIGNhbiBiZSBzZXQgdG8gYSBzaW5nbGUtY2hhcmFjdGVyIHN0cmluZyBmb3JcbnJlcGxhY2luZyBcInByaXZhdGUtdXNlXCIgVW5pY29kZSBjb2RlIHBvaW50cyBpbiByYW5nZSBbMHhFMDAwLCAweEY4RkZdIHdpdGhcbnRoYXQgY2hhcmFjdGVyLiAgTm90ZSB0aGVzZSBjb2RlIHBvaW50cyBhcmUgdXNlZCBmb3IgcmVwcmVzZW50aW5nXG5ncmFwaGljYWwgY2hhcmFjdGVycy4gV2hlbiBub3QgcmVwbGFjaW5nIHRoZW0sIHRoZXJlIHdpbGwgYmUgZXJyb3JzIHdoZW5cbnBhc3NpbmcgdGhlIHN0cmluZyB0byB0cmFuc2NvZGVyIGZ1bmN0aW9ucyAoc3VjaCBhcyBQeXRob25zJ3MgKmRlY29kZSgpKi4pXG5cblp2YmkuUGFnZS5yZXNvbHZlX2xpbmsoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgaHJlZiA9IHBnLnJlc29sdmVfbGluayhjb2x1bW4sIHJvdylcblxuVGhlIHBhZ2UgaW5zdGFuY2UgKnBnKiAoaW4gcHJhY3RpY2Ugb25seSBUZWxldGV4dCBwYWdlcykgbWF5IGNvbnRhaW5cbmh5cGVybGlua3Mgc3VjaCBhcyBIVFRQIFVSTHMsIGUtbWFpbCBhZGRyZXNzZXMgb3IgbGlua3MgdG8gb3RoZXJcbnBhZ2VzLiBDaGFyYWN0ZXJzIGJlaW5nIHBhcnQgb2YgYSBoeXBlcmxpbmsgaGF2ZSB0aGVpciBcImxpbmtcIiBmbGFnXG5zZXQgaW4gdGhlIGNoYXJhY3RlciBwcm9wZXJ0aWVzIChzZWVcbmBadmJpLlBhZ2UuZ2V0X3BhZ2VfdGV4dF9wcm9wZXJ0aWVzKClgXyksXG50aGlzIGZ1bmN0aW9uIHJldHVybnMgYSBkaWN0IHdpdGggYSBtb3JlIHZlcmJvc2UgZGVzY3JpcHRpb24gb2YgdGhlIGxpbmsuXG5cblRoZSBmdW5jdGlvbiByZXR1cm5zIGFuIG9iamVjdCBvZiB0eXBlICpadmJpLlBhZ2VMaW5rKi4gU2VlIGNoYXB0ZXJcbmBFdmVudCBoYW5kbGluZ2BfLCBpdGVtICpWQklfRVZFTlRfVFJJR0dFUiogZm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlXG5jb250ZW50cy5cblxuWnZiaS5QYWdlLnJlc29sdmVfaG9tZSgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBocmVmID0gcGcucmVzb2x2ZV9ob21lKClcblxuQWxsIFRlbGV0ZXh0IHBhZ2VzIGhhdmUgYSBidWlsdC1pbiBob21lIGxpbmssIGJ5IGRlZmF1bHRcbnBhZ2UgMTAwLCBidXQgY2FuIGFsc28gYmUgdGhlIG1hZ2F6aW5lIGludHJvIHBhZ2Ugb3IgYW5vdGhlclxucGFnZSBzZWxlY3RlZCBieSB0aGUgZWRpdG9yLlxuXG5UaGUgZnVuY3Rpb24gcmV0dXJucyBhbiBvYmplY3Qgb2YgdHlwZSAqWnZiaS5QYWdlTGluayouIFNlZSBjaGFwdGVyXG5gRXZlbnQgaGFuZGxpbmdgXywgaXRlbSAqVkJJX0VWRU5UX1RSSUdHRVIqIGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZVxuY29udGVudHMuXG5cblxuLi4gX1p2YmkuRXhwb3J0OlxuXG5DbGFzcyBadmJpLkV4cG9ydFxuPT09PT09PT09PT09PT09PT1cblxuT25jZSBsaWJ6dmJpIHJlY2VpdmVkLCBkZWNvZGVkIGFuZCBmb3JtYXR0ZWQgYSBUZWxldGV4dCBvciBDbG9zZWQgQ2FwdGlvblxucGFnZSB5b3Ugd2lsbCB3YW50IHRvIHJlbmRlciBpdCBvbiBzY3JlZW4sIHByaW50IGl0IGFzIHRleHQgb3Igc3RvcmUgaXRcbmluIHZhcmlvdXMgZm9ybWF0cy4gIGxpYnp2YmkgcHJvdmlkZXMgZXhwb3J0IG1vZHVsZXMgY29udmVydGluZyBhIHBhZ2Vcbm9iamVjdCBpbnRvIHRoZSBkZXNpcmVkIGZvcm1hdCBvciByZW5kZXJpbmcgZGlyZWN0bHkgaW50byBhbiBpbWFnZS5cblxuQ3VycmVudGx5IHRoZSBmb2xsb3dpbmcgZXhwb3J0IGZvcm1hdHMgYXJlIHN1cHBvcnRlZDpcblxuKiBUZXh0XG4qIEhUTUxcbiogUE5HIChpbWFnZSB3aXRoIGxvc3NsZXNzIGNvbXByZXNzaW9uKVxuKiBQUE0gKGltYWdlIHdpdGhvdXQgY29tcHJlc3Npb24pXG4qIFhQTSAoaW1hZ2Ugd2l0aG91dCBjb21wcmVzc2lvbilcblxuQWxsIHRoZSBmb3JtYXRzIHN1cHBvcnQgYm9vbGVhbiBvcHRpb24gXCJyZXZlYWxcIjsgYWxsIHRoZSBpbWFnZSBmb3JtYXRzXG5zdXBwb3J0IGJvb2xlYW4gb3B0aW9uIFwiYXNwZWN0XCIuIFRoZSBtZWFuaW5nIG9mIHRoZSBvcHRpb25zIGlzIHRoZSBzYW1lIGFzXG5mb3IgYFp2YmkuUGFnZS5kcmF3X3Z0X3BhZ2UoKWBfLlxuXG5Db25zdHJ1Y3RvciBadmJpLkV4cG9ydCgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBleHAgPSBadmJpLkV4cG9ydChrZXl3b3JkKVxuXG5DcmVhdGVzIGEgbmV3IG9iamVjdCBmb3IgZXhwb3J0aW5nIGEgYFp2YmkuUGFnZWBfIG9iamVjdCBpblxudGhlIGZvcm1hdCBpbXBsaWVkIGJ5IHBhcmFtZXRlciAqa2V5d29yZCouIEFzIGEgc3BlY2lhbCBzZXJ2aWNlIHlvdSBjYW5cbmluaXRpYWxpemUgb3B0aW9ucyBieSBhcHBlbmRpbmcgdG8gdGhlICprZXl3b3JkKiBwYXJhbWV0ZXIgbGlrZSB0aGlzOlxuYGtleXdvcmQgPSBcImtleXdvcmQ7IHF1YWxpdHk9NzUuNSwgY29tbWVudD1cXFwiZXhhbXBsZSB0ZXh0XFxcIlwiO2BcblxuTm90ZTogQSBxdWljayBvdmVydmlldyBvZiBhbGwgZXhwb3J0IGZvcm1hdHMgYW5kIG9wdGlvbnMgY2FuIGJlXG5vYnRhaW5lZCBieSBydW5uaW5nIHRoZSBkZW1vIHNjcmlwdCBgZXhhbXBsZXMvZXhwbGlzdC5weWAgaW4gdGhlXG5aVkJJIHBhY2thZ2UuXG5cblp2YmkuRXhwb3J0LmluZm9fZW51bSgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgaHJlZiA9IFp2YmkuRXhwb3J0LmluZm9fZW51bShpbmRleClcblxuVGhpcyBpcyBhICoqc3RhdGljKiogbWVtYmVyIGZ1bmN0aW9uLlxuVGhlIGZ1bmN0aW9uIGVudW1lcmF0ZXMgYWxsIGF2YWlsYWJsZSBleHBvcnQgbW9kdWxlcy4gWW91IHNob3VsZCBzdGFydFxud2l0aCAqaW5kZXgqIDAsIGluY3JlbWVudGluZyB1bnRpbCB0aGUgZnVuY3Rpb24gcmFpc2VzIGV4Y2VwdGlvblxuKlN0b3BJdGVyYXRpb24qLlxuU29tZSBtb2R1bGVzIG1heSBkZXBlbmQgb24gbWFjaGluZSBmZWF0dXJlcyBvciB0aGUgcHJlc2VuY2Ugb2YgY2VydGFpblxubGlicmFyaWVzLCB0aHVzIHRoZSBsaXN0IGNhbiB2YXJ5IGZyb20gc2Vzc2lvbiB0byBzZXNzaW9uLlxuXG5UaGUgZnVuY3Rpb24gcmV0dXJucyBhIGRpY3Qgd2l0aCB0aGUgZm9sbG93aW5nIGVsZW1lbnRzOlxuXG4qIFwia2V5d29yZFwiXG4qIFwibGFiZWxcIlxuKiBcInRvb2x0aXBcIlxuKiBcIm1pbWVfdHlwZVwiXG4qIFwiZXh0ZW5zaW9uXCJcblxuWnZiaS5FeHBvcnQuaW5mb19rZXl3b3JkKGtleXdvcmQpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIGhyZWYgPSBadmJpLkV4cG9ydC5pbmZvX2tleXdvcmQoa2V5d29yZClcblxuVGhpcyBpcyBhICoqc3RhdGljKiogbWVtYmVyIGZ1bmN0aW9uLlxuU2ltaWxhciB0byB0aGUgYWJvdmUgZnVuY3Rpb24gKmluZm9fZW51bSgpKiwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIGluZm9cbmFib3V0IGF2YWlsYWJsZSBtb2R1bGVzLCBhbHRob3VnaCB0aGlzIG9uZSBzZWFyY2hlcyBmb3IgYW4gZXhwb3J0IG1vZHVsZVxud2hpY2ggbWF0Y2hlcyB0aGUgZ2l2ZW4gKmtleXdvcmQqLiBJZiBubyBtYXRjaCBpcyBmb3VuZCB0aGUgZnVuY3Rpb25cbnJhaXNlcyBleGNlcHRpb24gKlp2YmkuRXhwb3J0RXJyb3IqLCBlbHNlIGEgZGljdCBhcyBkZXNjcmliZWQgYWJvdmUuXG5cblp2YmkuRXhwb3J0LmluZm9fZXhwb3J0KClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIGhyZWYgPSBleHAuaW5mb19leHBvcnQoKVxuXG5SZXR1cm5zIHRoZSBleHBvcnQgbW9kdWxlIGluZm8gZm9yIHRoZSBleHBvcnQgaW5zdGFuY2UgaW4gZm9ybSBvZiBhIGRpY3QuXG5UaGUgY29udGVudHMgYXJlIGFzIGRlc2NyaWJlZCBmb3IgdGhlIHByZXZpb3VzIHR3byBmdW5jdGlvbnMuXG5cblp2YmkuRXhwb3J0Lm9wdGlvbl9pbmZvX2VudW0oKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBocmVmID0gZXhwLm9wdGlvbl9pbmZvX2VudW0oaW5kZXgpXG5cblRoaXMgbWVtYmVyIGZ1bmN0aW9uIGVudW1lcmF0ZXMgdGhlIG9wdGlvbnMgYXZhaWxhYmxlIGZvciB0aGUgZ2l2ZW5cbmV4cG9ydCBpbnN0YW5jZS5cbllvdSBzaG91bGQgc3RhcnQgYXQgKmluZGV4KiAwLCBpbmNyZW1lbnRpbmcgdW50aWwgdGhlIGZ1bmN0aW9uXG5yYWlzZXMgZXhjZXB0aW9uICpTdG9wSXRlcmF0aW9uKi4gIE9uIHN1Y2Nlc3MsIHRoZSBmdW5jdGlvbiByZXR1cm5zIGFcbmRpY3Qgd2l0aCB0aGUgZm9sbG93aW5nIGVsZW1lbnRzOlxuXG4qIFwidHlwZVwiXG4qIFwia2V5d29yZFwiXG4qIFwibGFiZWxcIlxuKiBcIm1pblwiXG4qIFwibWF4XCJcbiogXCJzdGVwXCJcbiogXCJkZWZcIlxuKiBcIm1lbnVcIlxuKiBcInRvb2x0aXBcIlxuXG5UaGUgY29udGVudCBmb3JtYXQgb2YgbWluLCBtYXgsIHN0ZXAgYW5kIGRlZiBkZXBlbmRzIG9uIHRoZSB0eXBlLFxuaS5lLiBpdCBtYXkgYmUgYW4gaW50ZWdlciwgZG91YmxlIG9yIHN0cmluZy5cblxuSWYgcHJlc2VudCwgdGhlIHZhbHVlIG9mIFwibWVudVwiIGlzIGEgdHVwbGUuICBFbGVtZW50cyBpbiB0aGUgdHVwbGUgYXJlIG9mXG50aGUgc2FtZSB0eXBlIGFzIG1pbiwgbWF4LCBldGMuICBJZiBubyBsYWJlbCBvciB0b29sdGlwIGFyZSBhdmFpbGFibGUgZm9yXG50aGUgb3B0aW9uLCB0aGVzZSBlbGVtZW50cyBhcmUgdW5kZWZpbmVkLlxuXG5admJpLkV4cG9ydC5vcHRpb25faW5mb19rZXl3b3JkKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgaHJlZiA9IGV4cC5vcHRpb25faW5mb19rZXl3b3JkKGtleXdvcmQpXG5cblNpbWlsYXIgdG8gdGhlIGFib3ZlIGZ1bmN0aW9uICpleHAub3B0aW9uX2luZm9fZW51bSgpKiB0aGlzXG5mdW5jdGlvbiByZXR1cm5zIGluZm8gYWJvdXQgYXZhaWxhYmxlIG9wdGlvbnMsIGFsdGhvdWdoIHRoaXMgb25lXG5pZGVudGlmaWVzIG9wdGlvbnMgYmFzZWQgb24gdGhlIGdpdmVuICprZXl3b3JkKi5cblxuWnZiaS5FeHBvcnQub3B0aW9uX3NldCgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIGV4cC5vcHRpb25fc2V0KGtleXdvcmQsIG9wdClcblxuU2V0cyB0aGUgdmFsdWUgb2YgdGhlIG9wdGlvbiBuYW1lZCBieSAqa2V3b3JkKiB0byAqb3B0Ki5cblJhaXNlcyBleGNlcHRpb24gKlp2YmkuRXhwb3J0RXJyb3IqIG9uIGZhaWx1cmUuICBFeGFtcGxlOiA6OlxuXG4gICAgZXhwLm9wdGlvbl9zZXQoJ3F1YWxpdHknLCA3NS41KTtcblxuTm90ZSB0aGUgZXhwZWN0ZWQgdHlwZSBvZiB0aGUgb3B0aW9uIHZhbHVlIGRlcGVuZHMgb24gdGhlIGtleXdvcmQuXG5UaGUgWlZCSSBpbnRlcmZhY2UgbW9kdWxlIGF1dG9tYXRpY2FsbHkgY29udmVydHMgdGhlIG9wdGlvbiBpbnRvXG50eXBlIGV4cGVjdGVkIGJ5IHRoZSBsaWJ6dmJpIGxpYnJhcnkuXG5cbk1pbmQgdGhhdCBvcHRpb25zIG9mIHR5cGUgYFZCSV9PUFRJT05fTUVOVWAgbXVzdCBiZSBzZXQgYnkgbWVudVxuZW50cnkgbnVtYmVyIChpbnRlZ2VyKSwgYWxsIG90aGVyIG9wdGlvbnMgYnkgdmFsdWUuIElmIG5lY2Vzc2FyeVxuaXQgd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgY2xvc2VzdCB2YWx1ZSBwb3NzaWJsZS4gVXNlIGZ1bmN0aW9uXG4qZXhwLm9wdGlvbl9tZW51X3NldCgpKiB0byBzZXQgb3B0aW9ucyB3aXRoIG1lbnUgYnkgbWVudSBlbnRyeS5cblxuWnZiaS5FeHBvcnQub3B0aW9uX2dldCgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIG9wdCA9IGV4cC5vcHRpb25fZ2V0KGtleXdvcmQpXG5cblRoaXMgZnVuY3Rpb24gcXVlcmllcyBhbmQgcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgb3B0aW9uXG5uYW1lZCBieSAqa2V5d29yZCouXG5cblp2YmkuRXhwb3J0Lm9wdGlvbl9tZW51X3NldCgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgZXhwLm9wdGlvbl9tZW51X3NldChrZXl3b3JkLCBlbnRyeSlcblxuU2ltaWxhciB0byAqZXhwLm9wdGlvbl9zZXQoKSogdGhpcyBmdW5jdGlvbiBzZXRzIHRoZSB2YWx1ZSBvZlxudGhlIG9wdGlvbiBuYW1lZCBieSAqa2V5d29yZCogdG8gKmVudHJ5KiwgaG93ZXZlciBpdCBkb2VzIHNvXG5ieSBudW1iZXIgb2YgdGhlIGNvcnJlc3BvbmRpbmcgbWVudSBlbnRyeS4gTmF0dXJhbGx5IHRoaXMgbXVzdFxuYmUgYW4gb3B0aW9uIHdpdGggbWVudS5cblxuWnZiaS5FeHBvcnQub3B0aW9uX21lbnVfZ2V0KClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBlbnRyeSA9IGV4cC5vcHRpb25fbWVudV9nZXQoa2V5d29yZClcblxuU2ltaWxhciB0byAqZXhwLm9wdGlvbl9nZXQoKSogdGhpcyBmdW5jdGlvbiBxdWVyaWVzIHRoZSBjdXJyZW50XG52YWx1ZSBvZiB0aGUgb3B0aW9uIG5hbWVkIGJ5ICprZXl3b3JkKiwgYnV0IHJldHVybnMgdGhpcyB2YWx1ZSBhc1xubnVtYmVyIG9mIHRoZSBjb3JyZXNwb25kaW5nIG1lbnUgZW50cnkuIE5hdHVyYWxseSB0aGlzIG11c3QgYmUgYW5cbm9wdGlvbiB3aXRoIG1lbnUuXG5cblp2YmkuRXhwb3J0LnRvX3N0ZGlvKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIGV4cC50b19zdGRpbyhwZywgZmQpXG5cblRoaXMgZnVuY3Rpb24gd3JpdGVzIGNvbnRlbnRzIG9mIHRoZSBgWnZiaS5QYWdlYF8gaW5zdGFuY2UgZ2l2ZW4gaW4gKnBnKixcbmNvbnZlcnRlZCB0byB0aGUgcmVzcGVjdGl2ZSBleHBvcnQgbW9kdWxlIGZvcm1hdCwgdG8gYSBzdHJlYW0gY3JlYXRlZCBmcm9tXG4qZmQqIHVzaW5nIGZkb3BlbigzKS4gVGhpcyBtZWFucyAqZmQqIGhhcyB0byBiZSBhIHZhbHVlIGFzIHJldHVybmVkIGJ5XG4qZmlsZW5vKCkqIG9uIGEgZmlsZS1saWtlIG9iamVjdC5cblxuVGhlIGZ1bmN0aW9uIHJhaXNlcyBleGNlcHRpb24gKlp2YmkuRXhwb3J0RXJyb3IqIHVwb24gZXJyb3JzLlxuTm90ZSB0aGlzIGZ1bmN0aW9uIG1heSB3cml0ZSBpbmNvbXBsZXRlIGZpbGVzIHdoZW4gYW4gZXJyb3Igb2NjdXJzLlxuXG5Zb3UgY2FuIGNhbGwgdGhpcyBmdW5jdGlvbiBhcyBtYW55IHRpbWVzIGFzIHlvdSB3YW50LCBpdCBkb2VzIG5vdFxuY2hhbmdlIHN0YXRlIG9mIHRoZSBleHBvcnQgb3IgcGFnZSBvYmplY3RzLlxuXG5admJpLkV4cG9ydC50b19maWxlKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgZXhwLnRvX2ZpbGUocGcsIGZpbGVfbmFtZSlcblxuVGhpcyBmdW5jdGlvbiB3cml0ZXMgY29udGVudHMgb2YgdGhlIGBadmJpLlBhZ2VgXyBpbnN0YW5jZSBnaXZlbiBpbiAqcGcqLFxuY29udmVydGVkIHRvIHRoZSByZXNwZWN0aXZlIGV4cG9ydCBtb2R1bGUgZm9ybWF0LCBpbnRvIGEgbmV3IGZpbGUgc3BlY2lmaWVkXG5ieSAqZmlsZV9uYW1lKi4gV2hlbiBhbiBlcnJvciBvY2N1cnMgdGhlIGZpbGUgd2lsbCBiZSBkZWxldGVkLlxuVGhlIGZ1bmN0aW9uIHJhaXNlcyBleGNlcHRpb24gKlp2YmkuRXhwb3J0RXJyb3IqIHVwb24gZXJyb3JzLlxuXG5Zb3UgY2FuIGNhbGwgdGhpcyBmdW5jdGlvbiBhcyBtYW55IHRpbWVzIGFzIHlvdSB3YW50LCBpdCBkb2VzIG5vdFxuY2hhbmdlIHN0YXRlIG9mIHRoZSBleHBvcnQgb3IgcGFnZSBvYmplY3RzLlxuXG5admJpLkV4cG9ydC50b19tZW1vcnkoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIGRhdGEgPSBleHAudG9fbWVtb3J5KHBnKVxuXG5UaGlzIGZ1bmN0aW9uIHdyaXRlcyBjb250ZW50cyBvZiB0aGUgYFp2YmkuUGFnZWBfIGluc3RhbmNlIGdpdmVuIGluICpwZyosXG5jb252ZXJ0ZWQgdG8gdGhlIHJlc3BlY3RpdmUgZXhwb3J0IG1vZHVsZSBmb3JtYXQsIGludG8gYSBieXRlcyBvYmplY3QuXG5cblRoZSBmdW5jdGlvbiByYWlzZXMgZXhjZXB0aW9uICpadmJpLkV4cG9ydEVycm9yKiB1cG9uIGVycm9ycy5cblxuXG4uLiBfWnZiaS5EdmJNdXg6XG5cbkNsYXNzIFp2YmkuRHZiTXV4XG49PT09PT09PT09PT09PT09PVxuXG5UaGVzZSBmdW5jdGlvbnMgY29udmVydCByYXcgYW5kL29yIHNsaWNlZCBWQkkgZGF0YSB0byBhIERWQiBQYWNrZXRpemVkXG5FbGVtZW50YXJ5IFN0cmVhbSBvciBUcmFuc3BvcnQgU3RyZWFtIGFzIGRlZmluZWQgaW4gRU4gMzAwIDQ3MiBcIkRpZ2l0YWxcblZpZGVvIEJyb2FkY2FzdGluZyAoRFZCKTsgU3BlY2lmaWNhdGlvbiBmb3IgY29udmV5aW5nIElUVS1SIFN5c3RlbSBCXG5UZWxldGV4dCBpbiBEVkIgYml0LXN0cmVhbXNcIiBhbmQgRU4gMzAxIDc3NSBcIkRpZ2l0YWwgVmlkZW8gQnJvYWRjYXN0aW5nXG4oRFZCKTsgU3BlY2lmaWNhdGlvbiBmb3IgdGhlIGNhcnJpYWdlIG9mIFZlcnRpY2FsIEJsYW5raW5nIEluZm9ybWF0aW9uXG4oVkJJKSBkYXRhIGluIERWQiBiaXQtc3RyZWFtc1wiLlxuXG5Ob3RlIEVOIDMwMCA0NjggXCJEaWdpdGFsIFZpZGVvIEJyb2FkY2FzdGluZyAoRFZCKTsgU3BlY2lmaWNhdGlvbiBmb3JcblNlcnZpY2UgSW5mb3JtYXRpb24gKFNJKSBpbiBEVkIgc3lzdGVtc1wiIGRlZmluZXMgYW5vdGhlciBtZXRob2QgdG9cbnRyYW5zbWl0IFZQUyBkYXRhIGluIERWQiBzdHJlYW1zLiBMaWJ6dmJpIGRvZXMgbm90IHByb3ZpZGUgZnVuY3Rpb25zXG50byBnZW5lcmF0ZSBTSSB0YWJsZXMgYnV0IHRoZSAqZW5jb2RlX2R2Yl9wZGNfZGVzY3JpcHRvcigpKiBmdW5jdGlvblxuaXMgYXZhaWxhYmxlIHRvIGNvbnZlcnQgYSBWUFMgUElMIHRvIGEgUERDIGRlc2NyaXB0b3IgKHNpbmNlIHZlcnNpb24gMC4zLjApXG5cbkNvbnN0cnVjdG9yIFp2YmkuRHZiTXV4KClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIG14ID0gWnZiaS5EdmJNdXgoIHtwZXM9VHJ1ZSB8IHRzX3BpZD1waWR9XG4gICAgICAgICAgICAgICAgICAgICAgWyxjYWxsYmFjayBbLHVzZXJfZGF0YV1dXG4gICAgICAgICAgICAgICAgICAgICAgWyxyYXdfcGFyXSApXG5cblRoZXJlIGFyZSB0d28gc2VwYXJhdGUgc2VtYW50aWNzOlxuXG4qIFdoZW4gb3B0aW9uICpwZXMqIGlzIHByZXNlbnQgYW5kICpUcnVlKiwgYSBEVkIgVkJJIG11bHRpcGxleGVyIGluc3RhbmNlIGlzXG4gIGNyZWF0ZWQgZm9yIGNvbnZlcnRpbmcgcmF3IGFuZC9vciBzbGljZWQgVkJJIGRhdGEgdG8gTVBFRy0yIFBhY2tldGl6ZWRcbiAgRWxlbWVudGFyeSBTdHJlYW0gKFBFUykgcGFja2V0cyBhcyBkZWZpbmVkIGluIHRoZSBzdGFuZGFyZHMgRU4gMzAwIDQ3MiBhbmRcbiAgRU4gMzAxIDc3NS5cblxuKiBXaGVuIG9wdGlvbiAqdHNfcGlkKiBpcyBwcmVzZW50IGFuZCBub24temVybywgYSBEVkIgVkJJIG11bHRpcGxleGVyXG4gIGluc3RhbmNlIGlzIGNyZWF0ZWQgZm9yIGNvbnZlcnRpbmcgcmF3IGFuZC9vciBzbGljZWQgVkJJIGRhdGEgdG8gTVBFRy0yXG4gIFRyYW5zcG9ydCBTdHJlYW0gKFRTKSBwYWNrZXRzIGFzIGRlZmluZWQgaW4gdGhlIHN0YW5kYXJkcyBFTiAzMDAgNDcyIGFuZFxuICBFTiAzMDEgNzc1LlxuXG5UaGUgZm9sbG93aW5nIGtleXdvcmQtb25seSBwYXJhbWV0ZXJzIGFyZSBhdmFpbGFibGU6XG5cbjpwZXM6XG4gICAgV2hlbiB0aGlzIG9wdGlvbiBpcyBzZXQsIGEgUEVTIHN0cmVhbSB3aWxsIGJlIGVuY29kZWQuXG4gICAgVGhpcyBvcHRpb24gbXVzdCBub3QgYmUgY29tYmluZWQgd2l0aCBvcHRpb24gKnRzX3BpZCouXG5cbjp0c19waWQ6XG4gICAgV2hlbiB0aGlzIG9wdGlvbiBpcyBwcmVzZW50IGFuZCBub24temVybywgYSBUUyBzdHJlYW0gd2lsbCBiZSBlbmNvZGVkLlxuICAgIFRoZSBQSUQgdmFsdWUgaXMgYSBwcm9ncmFtIGlkZW50aWZpZXIgdGhhdCB3aWxsIGJlIHN0b3JlZCBpbiB0aGVcbiAgICBoZWFkZXIgb2YgZ2VuZXJhdGVkIFRTIHBhY2tldHMuIFRoZSB2YWx1ZSBtdXN0IGJlIGluIHJhbmdlIDB4MDAxMCB0b1xuICAgIDB4MUZGRSBpbmNsdXNpdmUuIFRoaXMgb3B0aW9uIG11c3Qgbm90IGJlIGNvbWJpbmVkIHdpdGggb3B0aW9uICpwZXMqLlxuXG46Y2FsbGJhY2s6XG4gICAgU3BlY2lmaWVzIGEgaGFuZGxlciBmdW5jdGlvbiB3aGljaCBpcyBjYWxsZWQgYnkgbWV0aG9kICpmZWVkKCkqIHdoZW4gYVxuICAgIG5ldyBUUyBvciBQRVMgcGFja2V0IGlzIGF2YWlsYWJsZS4gV2hlbiB0aGUgY2FsbGJhY2sgcGFyYW1ldGVyIGlzXG4gICAgb21pdHRlZCwgcGFja2V0cyBoYXZlIHRvIGJlIGV4dHJhY3RlZCB2aWEgaXRlcmF0aW9uLiBTZWUgbWV0aG9kXG4gICAgKmZlZWQoKSogZm9yIGFkZGl0aW9uYWwgZGV0YWlscy5cblxuOnVzZXJfZGF0YTpcbiAgICBUaGUgZ2l2ZW4gb2JqZWN0IGlzIHBhc3NlZCB0aHJvdWdoIHRyYW5zcGFyZW50bHkgYXMgZXh0cmEgcGFyYW1ldGVyIHRvXG4gICAgdGhlIHNwZWNpZmllZCAqY2FsbGJhY2sqIHdoZW4gaW52b2tlZCBmcm9tIHdpdGhpbiB0aGUgKmZlZWQoKSogbWV0aG9kLlxuXG46cmF3X3BhcjpcbiAgICBUaGlzIG9wdGlvbmFsIHBhcmFtZXRlciBvZiB0eXBlIGBadmJpLlJhd1BhcmFtc2BfIGRlc2NyaWJlcyBhdHRyaWJ1dGVzXG4gICAgb2YgcmF3IGRhdGEgb3B0aW9uYWxseSBwcm92aWRlZCB0byBtZXRob2QgYFp2YmkuRHZiTXV4LmZlZWQoKWBfLiBUaGVcbiAgICBwYXJhbWV0ZXJzIGhhdmUgdG8gbWF0Y2ggdGhlIGNhcHR1cmUgc291cmNlIChpLmUuIHVzdWFsbHkgb25lIHdvdWxkXG4gICAgb2J0YWluIHRoZW0gdmlhIGBadmJpLkNhcHR1cmUucGFyYW1ldGVycygpYF8gY2FsbGVkIG9uIHlvdXIgY2FwdHVyZVxuICAgIGluc3RhbmNlKS4gVGhlIHBhcmFtZXRlciBuZWVkIG5vdCBiZSBzcGVjaWZpZWQgd2hlbiBubyByYXcgZGF0YSBpcyB0b1xuICAgIGJlIGVuY29kZWQuXG5cbldlbiByYXcgZGVjb2RlciBwYXJhbWV0ZXJzIGFyZSBwcm92aWRlZCwgdGhleSBoYXZlIHRvIG1lZXQgdGhlIGZvbGxvd2luZ1xuY29uc3RyYWludHM6XG5cbiogdmlkZW9zdGRfc2V0IG11c3QgY29udGFpbiBvbmUgb3IgbW9yZSBiaXRzIGZyb20gdGhlXG4gIGBWQklfVklERU9TVERfU0VUXzYyNV81MGAuXG4qIHNjYW5uaW5nIG11c3QgYmUgNjI1IChsaWJ6dmJpIDAuMi54IG9ubHkpXG4qIHNhbXBsaW5nX2Zvcm1hdCBtdXN0IGJlIGBWQklfUElYRk1UX1k4YCBvciBgVkJJX1BJWEZNVF9ZVVY0MjBgLlxuICBDaHJvbWluYW5jZSBzYW1wbGVzIGFyZSBpZ25vcmVkLlxuKiBzYW1wbGluZ19yYXRlIG11c3QgYmUgMTM1MDAwMDAuXG4qIG9mZnNldCBtdXN0IGJlID49IDEzMi5cbiogYnl0ZXNfcGVyX2xpbmUgbXVzdCBiZSA+PSAxLlxuKiBvZmZzZXQgKyBieXRlc19wZXJfbGluZSBtdXN0IGJlIDw9IDEzMiArIDcyMC5cbiogc3luY2hyb25vdXMgbXVzdCBiZSAqVHJ1ZSouXG5cblxuWnZiaS5EdmJNdXguZmVlZCgpXG4tLS0tLS0tLS0tLS0tLS0tLS1cblxuVGhpcyBtZXRob2QgcHJvdmlkZXMgdGhlIG1haW4gc2VydmljZSBvZiBjbGFzcyAqWnZiaS5EdmJNdXgqOiA6OlxuXG4gICAgbXguZmVlZChzZXJ2aWNlX21hc2ssIHNsaWNlZF9idWZmZXIsIHJhd19idWY9Tm9uZSwgcHRzPTApXG5cblRoaXMgZnVuY3Rpb24gY29udmVydHMgcmF3IGFuZC9vciBzbGljZWQgVkJJIGRhdGEgdG8gb25lIERWQiBWQkkgUEVTXG5wYWNrZXQgb3Igb25lIG9yIG1vcmUgVFMgcGFja2V0cyBhcyBkZWZpbmVkIGluIEVOIDMwMCA0NzIgYW5kIEVOIDMwMSA3NzUuXG5cbioqVXNhZ2Ugd2l0aCBhIGNhbGxiYWNrIGZ1bmN0aW9uOioqXG5cbldoZW4gdGhlIERWQiBtdWx0aXBsZXhlciB3YXMgaW50aWFudGlhdGVkIHdpdGggYSBjYWxsYmFjayBmdW5jdGlvblxucGFyYW1ldGVyLCB0aGUgKmZlZWQoKSogZnVuY3Rpb24gaW52b2tlcyB0aGUgY2FsbGJhY2sgZm9yIGVhY2ggZ2VuZXJhdGVkXG5QRVMgb3IgVFMgcGFja2V0IGJlZm9yZSBpdCByZXR1cm5zLiBFeGFtcGxlIGZvciB1c2Ugb2YgdGhlIGNhbGxiYWNrOiA6OlxuXG4gICAgIyBjYWxsYmFjayBmdW5jdGlvbiwgaW52b2tlZCBvdXQgb2YgRHZiTXV4LmZlZWQoKVxuICAgIGRlZiBmZWVkX2NiKHBrZywgb3V0ZmlsZSk6XG4gICAgICAgIGJ3cml0dGVuID0gb3V0ZmlsZS53cml0ZShwa2cpXG4gICAgICAgIHJldHVybiAoYndyaXR0ZW4gPT0gbGVuKHBrZykpXG5cbiAgICBvdXRmaWxlID0gb3BlbihTT01FX0ZJTEUsIFwid2JcIilcbiAgICBteCA9IFp2YmkuRHZiTXV4KHBlcz1UcnVlLCBjYWxsYmFjaz1mZWVkX2NiLCB1c2VyX2RhdGE9b3V0ZmlsZSlcblxuICAgIHNsaWNlZF9idWZmZXIgPSBjYXAucHVsbF9zbGljZWQoMTAwMClcbiAgICBteC5mZWVkKHNlcnZpY2VfbWFzaywgc2xpY2VkX2J1ZmZlcilcblxuVGhlIHBhY2tldCBwYXJhbWV0ZXIgaXMgYSAqQnl0ZXMqIG9iamVjdCBjb250YWluaW5nIGEgY29weSBvZiB0aGVcbmdlbmVyYXRlZCBwYWNrZXQuIFBhcmFtZXRlciAqdXNlcl9kYXRhKiBsb29wcyBiYWNrIHRoZSBvYmplY3QgcGFzc2VkIHRvXG50aGUgY29uc3RydWN0b3I7IGl0IGlzIG9taXR0ZWQgaGVyZSBpZiBub3QgcHJlc2VudCBpbiB0aGUgY29uc3RydWN0b3JcbnBhcmFtZXRlcnMuICBUaGUgaGFuZGxlciBmdW5jdGlvbiBoYXMgdG8gcmV0dXJuICpUcnVlKiBvbiBzdWNjZXNzIGFuZFxuKkZhbHNlKiBvbiBmYWlsdXJlLiBJbiBjYXNlIG9mIHRoZSBsYXR0ZXIsIHRoZSAqZmVlZCgpKiBmdW5jdGlvblxudGVybWluYXRlcyB3aXRoIGV4Y2VwdGlvbiAqWnZiaS5EdmJNdXhFcnJvciouXG5cbioqVXNhZ2Ugd2l0aG91dCBhIGNhbGxiYWNrIGZ1bmN0aW9uOioqXG5cbldoZW4gdGhlIERWQiBtdWx0aXBsZXhlciB3YXMgaW50aWFudGlhdGVkIHdpdGhvdXQgYSBjYWxsYmFjayBmdW5jdGlvblxucGFyYW1ldGVyLCBnZW5lcmF0ZWQgcGFja2V0cyBoYXZlIHRvIGJlIHJldHJpZXZlZCB1c2luZyBpdGVyYXRpb24gb24gdGhlXG4qRHZiTXV4KiBvYmplY3QuIEV4YW1wbGUgdXNhZ2UgZm9yIHRoaXMgbW9kZTogOjpcblxuICAgIG91dGZpbGUgPSBvcGVuKFNPTUVfRklMRSwgXCJ3YlwiKVxuICAgIG14ID0gWnZiaS5EdmJNdXgocGVzPVRydWUpXG5cbiAgICBzbGljZWRfYnVmZmVyID0gY2FwLnB1bGxfc2xpY2VkKDEwMDApXG4gICAgbXguZmVlZChzZXJ2aWNlX21hc2ssIHNsaWNlZF9idWZmZXIpXG5cbiAgICBmb3IgcGVzX3BrZyBpbiBteDpcbiAgICAgICAgb3V0ZmlsZS53cml0ZShwZXNfcGtnKVxuXG5Ob3RlIGVhY2ggaXRlcmF0aW9uIHByZS1hbGxvY2F0ZXMgYSBwYWNrZXQgYnVmZmVyIG9mIHNpemVcbmBadmJpLkR2Yk11eC5nZXRfbWF4X3Blc19wYWNrZXRfc2l6ZSgpYF8sIHdoaWNoIGRlZmF1bHRzIHRvIHRoZW9yZXRpY2FsXG5tYXhpbXVtIDY1NTA0LiBGb3IgY29tcGF0aWJpbGl0eSB3aXRoIGRlY29kZXJzIGNvbXBsaWFudCB0byB0aGUgVGVsZXRleHRcbmJ1ZmZlciBtb2RlbCBkZWZpbmVkIGluIEVOIDMwMCA0NzIgdGhlIG1heGltdW0gc2hvdWxkIG5vdCBleGNlZWQgMTQ3MlxuYnl0ZXMuIEZvciB0aGlzIHJlYXNvbiBhbmQgZm9yIGVmZmljaWVuY3ksIGlzIGlzIHJlY29tbWVuZGVkIHRvIGxpbWl0IHRoZVxubWF4aW11bSB0byBhIHZhbHVlIHN1Y2ggYXMgMjA0OCB1c2luZyBgWnZiaS5EdmJNdXguc2V0X3Blc19wYWNrZXRfc2l6ZSgpYF8uXG5cbklucHV0IHBhcmFtZXRlcnM6XG5cbjpzZXJ2aWNlX21hc2s6XG4gICAgT25seSBkYXRhIHNlcnZpY2VzIGluIHRoaXMgc2V0IHdpbGwgYmUgZW5jb2RlZC4gT3RoZXIgZGF0YSBzZXJ2aWNlcyBpblxuICAgIHRoZSBzbGljZWQgYnVmZmVyIHdpbGwgYmUgZGlzY2FyZGVkIHdpdGhvdXQgZnVydGhlciBjaGVja3MuIENyZWF0ZSBhXG4gICAgc2V0IGJ5IE9SaW5nIGBWQklfU0xJQ0VEXypgIGNvbnN0YW50cy4gT25seSB0aGUgZm9sbG93aW5nIGRhdGFcbiAgICBzZXJ2aWNlcyBjYW4gYmUgZW5jb2RlZDpcblxuICAgIDEuIGBWQklfU0xJQ0VEX1RFTEVURVhUX0JgIG9uIGxpbmVzIDcgdG8gMjIgYW5kIDMyMCB0byAzMzVcbiAgICAgICBpbmNsdXNpdmUsIG9yIHdpdGggbGluZSBudW1iZXIgMCAodW5kZWZpbmVkKS4gQWxsIFRlbGV0ZXh0XG4gICAgICAgbGluZXMgd2lsbCBiZSBlbmNvZGVkIHdpdGggZGF0YV91bml0X2lkIDB4MDIgKFwiRUJVIFRlbGV0ZXh0XG4gICAgICAgbm9uLXN1YnRpdGxlIGRhdGFcIikuXG4gICAgMi4gYFZCSV9TTElDRURfVlBTYCBvbiBsaW5lIDE2LlxuICAgIDMuIGBWQklfU0xJQ0VEX0NBUFRJT05fNjI1YCBvbiBsaW5lIDIyLlxuICAgIDQuIGBWQklfU0xJQ0VEX1dTU182MjVgIG9uIGxpbmUgMjMuXG5cbjpzbGljZWRfYnVmZmVyOlxuICAgIFRoaXMgbWFuZGF0b3J5IHBhcmFtZXRlciBvZiB0eXBlIGBadmJpLkNhcHR1cmVTbGljZWRCdWZgXyBjb250YWlucyB0aGVcbiAgICBzbGljZWQgVkJJIGRhdGEgdG8gYmUgY29udmVydGVkLiBBbGwgZGF0YSBtdXN0IGJlbG9uZyB0byB0aGUgc2FtZVxuICAgIHZpZGVvIGZyYW1lLlxuXG46cmF3X2J1ZjpcbiAgICBUaGlzIG9wdGlvbmFsIHBhcmFtZXRlciBtYXkgcGFzcyBhbiBvYmplY3Qgb2YgdHlwZVxuICAgIGBadmJpLkNhcHR1cmVSYXdCdWZgXyB0aGF0IGNvbnRhaW5zIHJhdyBWQkkgZGF0YSB0byBiZSBjb252ZXJ0ZWQuICBUaGVcbiAgICBvYmplY3Qgc2hhbGwgY29udGFpbiBzYW1wbGUgZGF0YSBvZiBzaXplICgqcmRwLmNvdW50X2EqICtcbiAgICAqcmRwLmNvdW50X2IqKSBsaW5lcyB0aW1lcyAqcmRwLmJ5dGVzX3Blcl9saW5lKiAod2hlcmUgKnJkcCogaXMgdGhlXG4gICAgcmF3IGRlY29kZXIgcGFyYW1ldGVyIHNldCBwYXNzZWQgZHVyaW5nIGluc3RhbnRpYXRpb24pLiAgVGhlIGZ1bmN0aW9uXG4gICAgZW5jb2RlcyBvbmx5IHRob3NlIGxpbmVzIHdoaWNoIGhhdmUgYmVlbiBzZWxlY3RlZCBieSBzbGljZWQgbGluZXMgaW5cbiAgICB0aGUgKnNsaWNlZF9idWZmZXIqIG9iamVjdCB3aXRoIGlkIGBWQklfU0xJQ0VEX1ZCSV82MjVgIFRoZSBkYXRhIGZpZWxkIG9mXG4gICAgdGhlc2Ugc3RydWN0dXJlcyBpcyBpZ25vcmVkLiBXaGVuIHRoZSBzbGljZWQgaW5wdXQgYnVmZmVyIGRvZXMgbm90XG4gICAgY29udGFpbiBzdWNoIHN0cnVjdHVyZXMsICpyYXdfYnVmKiBjYW4gYmUgb21pdHRlZC5cblxuICAgIFJhdyBWQkkgZGF0YSB3aXRoIGlkIGBWQklfU0xJQ0VEX1ZCSV82MjVgIGNhbiBiZSBlbmNvZGVkIG9uIGxpbmVzIDcgdG9cbiAgICAyMyBhbmQgMzIwIHRvIDMzNiBpbmNsdXNpdmUuIE5vdGUgZm9yIGNvbXBsaWFuY2Ugd2l0aCB0aGUgVGVsZXRleHRcbiAgICBidWZmZXIgbW9kZWwgZGVmaW5lZCBpbiBFTiAzMDAgNDcyLCBFTiAzMDEgNzc1IHJlY29tbWVuZHMgdG8gZW5jb2RlIGF0XG4gICAgbW9zdCBvbmUgcmF3IGFuZCBvbmUgc2xpY2VkLCBvciB0d28gcmF3IFZCSSBsaW5lcyBwZXIgZnJhbWUuXG5cbjpwdHM6XG4gICAgVGhpcyBQcmVzZW50YXRpb24gVGltZSBTdGFtcCB3aWxsIGJlIGVuY29kZWQgaW50byB0aGUgUEVTIHBhY2tldC4gQml0c1xuICAgIDMzIC4uLiA2MyBhcmUgZGlzY2FyZGVkLiBSZXNvbHV0aW9uIGlzIDkwIGtIei4gTm90ZSB0aGUgdmFsdWUgY2FuIGJlXG4gICAgZGVyaXZlZCBmcm9tIHRoZSB0aW1lc3RhbXAgaW4gKnNsaWNlZF9idWZmZXIqIGFzXG4gICAgYHNsaWNlZF9idWZmZXIudGltZXN0YW1wICogOTAwMDAuMGAuXG5cblRoZSBmdW5jdGlvbiBtYXkgcmFpc2UgZXhjZXB0aW9uICpadmJpLkR2Yk11eEVycm9yKiB1cG9uIGZhaWx1cmVzLCB3aGljaFxubWF5IG9jY3VyIHVuZGVyIHRoZSBmb2xsb3dpbmcgY2lyY3Vtc3RhbmNlczpcblxuKiBUaGUgbWF4aW11bSBQRVMgcGFja2V0IHNpemUsIG9yIHRoZSB2YWx1ZSBzZWxlY3RlZCB3aXRoXG4gIGBadmJpLkR2Yk11eC5zZXRfcGVzX3BhY2tldF9zaXplKClgXywgaXMgdG9vIHNtYWxsIHRvIGNvbnRhaW4gYWxsXG4gIHRoZSBzbGljZWQgYW5kIHJhdyBWQkkgZGF0YS5cbiogVGhlIHNsaWNlZCBhcnJheSBpcyBub3Qgc29ydGVkIGJ5IGFzY2VuZGluZyBsaW5lIG51bWJlcixcbiAgZXhjZXB0IGZvciBlbGVtZW50cyB3aXRoIGxpbmUgbnVtYmVyIDAgKHVuZGVmaW5lZCkuXG4qIEFuIHVuc3VwcG9ydGVkIHNlcnZpY2Ugd2FzIHJlcXVlc3RlZCBmb3IgZW5jb2Rpbmcgb2Ygc2xpY2VkIGRhdGEuXG4qIEEgc2VsZWN0ZWQgcmF3IGRhdGEgbGluZSBpcyBub3QgaW4gdGhlIGFsbG93ZWQgcmFuZ2VzIGxpc3RlZCBhYm92ZS5cbiogQSBzbGljZWQgbGluZSB3aXRoaW4gKnNsaWNlZF9idWZmZXIqIGNvbnRhaW5zIGEgcGh5c2ljYWwgbGluZSBudW1iZXJcbiAgb3V0c2lkZSB0aGUgdmFsaWQgcmFuZ2Ugc3BlY2lmaWVkIGFib3ZlLlxuKiBQYXJhbWV0ZXIgKnJhd19kZWMqIHdhcyBub3Qgc3BlY2lmaWVkIGR1cmluZyBpbnN0YW50aWF0aW9uIGFsdGhvdWdoXG4gIHRoZSAqc2xpY2VkX2J1ZmZlciogY29udGFpbnMgYSBzdHJ1Y3R1cmUgd2l0aCBpZCBgVkJJX1NMSUNFRF9WQklfNjI1YC5cbiogT25lIG9yIG1vcmUgbWVtYmVycyBvZiB0aGUgcmF3IGRlY29kZXIgcGFyYW1ldGVycyBhcmUgaW52YWxpZC5cbiogQSBzbGljZWQgbGluZSB3aXRoaW4gKnNsaWNlZF9idWZmZXIqIHdpdGggaWQgYFZCSV9TTElDRURfVkJJXzYyNWBcbiAgY29udGFpbnMgYSBwaHlzaWNhbCBsaW5lIG51bWJlciBvdXRzaWRlIHRoZSByYW5nZXMgZGVmaW5lZCBieSAqcmF3X2RlYypcbiAgcGFyYW1ldGVycy5cblxuXG5admJpLkR2Yk11eC5tdXhfcmVzZXQoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIG14Lm11eF9yZXNldCgpXG5cblRoaXMgZnVuY3Rpb24gY2xlYXJzIHRoZSBpbnRlcm5hbCBidWZmZXJzIG9mIHRoZSBEVkIgVkJJIG11bHRpcGxleGVyLlxuXG5BZnRlciBhIHJlc2V0IGNhbGwgdGhlICpmZWVkKCkqIGZ1bmN0aW9uIHdpbGwgZW5jb2RlIGEgbmV3IFBFUyBwYWNrZXQsXG5kaXNjYXJkaW5nIGFueSBkYXRhIG9mIHRoZSBwcmV2aW91cyBwYWNrZXQgd2hpY2ggaGFzIG5vdCBiZWVuIGNvbnN1bWVkIGJ5XG50aGUgYXBwbGljYXRpb24uXG5cblp2YmkuRHZiTXV4LmdldF9kYXRhX2lkZW50aWZpZXIoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBpZCA9IG14LmdldF9kYXRhX2lkZW50aWZpZXIoKVxuXG5SZXR1cm5zIHRoZSBkYXRhX2lkZW50aWZpZXIgdGhlIG11bHRpcGxleGVyIGVuY29kZXMgaW50byBQRVMgcGFja2V0cy5cblxuWnZiaS5EdmJNdXguc2V0X2RhdGFfaWRlbnRpZmllcigpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIG14LnNldF9kYXRhX2lkZW50aWZpZXIoZGF0YV9pZGVudGlmaWVyKVxuXG5UaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgdGhlICpkYXRhX2lkZW50aWZpZXIqIGJ5dGVcbnRvIGJlIHN0b3JlZCBpbiBQRVMgcGFja2V0cy5cblxuRm9yIGNvbXBhdGliaWxpdHkgd2l0aCBkZWNvZGVycyBjb21wbGlhbnQgdG8gRU4gMzAwIDQ3MiB0aGlzIHNob3VsZCBiZSBhXG52YWx1ZSBpbiB0aGUgcmFuZ2UgMHgxMCB0byAweDFGIGluY2x1c2l2ZS4gVGhlIHZhbHVlcyAweDk5IHRvIDB4OUJcbmluY2x1c2l2ZSBhcyBkZWZpbmVkIGluIEVOIDMwMSA3NzUgYXJlIGFsc28gcGVybWl0dGVkLiAgVGhlIGRlZmF1bHRcbmRhdGFfaWRlbnRpZmllciBpcyAweDEwLlxuXG5UaGUgbWV0aG9kIHJhaXNlcyBleGNlcHRpb24gKlp2YmkuRHZiTXV4RXJyb3IqIGlmIHRoZSBnaXZlbiBpZGVudGlmaWVyIGlzXG5vdXRzaWRlIHRoZSB2YWxpZCByYW5nZS5cblxuWnZiaS5EdmJNdXguZ2V0X21pbl9wZXNfcGFja2V0X3NpemUoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgc2l6ZSA9IG14LmdldF9taW5fcGVzX3BhY2tldF9zaXplKClcblxuUmV0dXJucyB0aGUgbWluaW11bSBzaXplIG9mIFBFUyBwYWNrZXRzIHRoZSBtdWx0aXBsZXhlciBnZW5lcmF0ZXMuXG5cblp2YmkuRHZiTXV4LmdldF9tYXhfcGVzX3BhY2tldF9zaXplKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHNpemUgPSBteC5nZXRfbWF4X3Blc19wYWNrZXRfc2l6ZSgpXG5cblJldHVybnMgdGhlIG1heGltdW0gc2l6ZSBvZiBQRVMgcGFja2V0cyB0aGUgbXVsdGlwbGV4ZXIgZ2VuZXJhdGVzLlxuXG5admJpLkR2Yk11eC5zZXRfcGVzX3BhY2tldF9zaXplKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgbXguc2V0X3Blc19wYWNrZXRfc2l6ZShtaW5fc2l6ZSwgbWF4X3NpemUpXG5cbkRldGVybWluZXMgdGhlIG1pbmltdW0gYW5kIG1heGltdW0gdG90YWwgc2l6ZSBvZiBQRVMgcGFja2V0cyBnZW5lcmF0ZWQgYnlcbnRoZSBtdWx0aXBsZXhlciwgaW5jbHVkaW5nIGFsbCBoZWFkZXIgYnl0ZXMuIFdoZW4gdGhlIGRhdGEgdG8gYmUgc3RvcmVkIGluXG5hIHBhY2tldCBpcyBzbWFsbGVyIHRoYW4gdGhlIG1pbmltdW0gc2l6ZSwgdGhlIG11bHRpcGxleGVyIHdpbGwgZmlsbCB0aGVcbnBhY2tldCB1cCB3aXRoIHN0dWZmaW5nIGJ5dGVzLiBXaGVuIHRoZSBkYXRhIGlzIGxhcmdlciB0aGFuIHRoZSBtYXhpbXVtXG5zaXplIHRoZSAqZmVlZCgpKiBmdW5jdGlvbiB3aWxsIGZhaWwuXG5cblRoZSBQRVMgcGFja2V0IHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE4NCBieXRlcywgaW4gdGhlIHJhbmdlIDE4NFxudG8gNjU1MDQgYnl0ZXMgaW5jbHVzaXZlLCBhbmQgdGhpcyBmdW5jdGlvbiB3aWxsIHJvdW5kICptaW5fc2l6ZSogdXBcbmFuZCAqbWF4X3NpemUqIGRvd24gYWNjb3JkaW5nbHkuIElmIGFmdGVyIHJvdW5kaW5nIHRoZSBtYXhpbXVtIHNpemUgaXNcbmxvd2VyIHRoYW4gdGhlIG1pbmltdW0sIGl0IHdpbGwgYmUgc2V0IHRvIHRoZSBzYW1lIHZhbHVlIGFzIHRoZVxubWluaW11bSBzaXplLlxuXG5UaGUgZGVmYXVsdCBtaW5pbXVtIHNpemUgaXMgMTg0LCB0aGUgZGVmYXVsdCBtYXhpbXVtIDY1NTA0IGJ5dGVzLiBGb3JcbmNvbXBhdGliaWxpdHkgd2l0aCBkZWNvZGVycyBjb21wbGlhbnQgdG8gdGhlIFRlbGV0ZXh0IGJ1ZmZlciBtb2RlbFxuZGVmaW5lZCBpbiBFTiAzMDAgNDcyIHRoZSBtYXhpbXVtIHNob3VsZCBub3QgZXhjZWVkIDE0NzIgYnl0ZXMuXG5cblRoZSBtZXRob2QgcmFpc2VzIGV4Y2VwdGlvbiAqWnZiaS5EdmJNdXhFcnJvciogdXBvbiBmYWlsdXJlIChvdXQgb2Zcbm1lbW9yeSkuXG5cblp2YmkuRHZiTXV4LmR2Yl9tdWx0aXBsZXhfc2xpY2VkKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuVGhpcyAqKnN0YXRpYyBtZXRob2QqKiBjb252ZXJ0cyB0aGUgc2xpY2VkIFZCSSBkYXRhIGluIHRoZSAqc2xpY2VkKiBidWZmZXIgdG9cblZCSSBkYXRhIHVuaXRzIGFzIGRlZmluZWQgaW4gRU4gMzAwIDQ3MiBhbmQgRU4gMzAxIDc3NSBhbmQgc3RvcmVzIHRoZW0gaW5cbipwYWNrZXQqIGFzIG91dHB1dCBidWZmZXIuICBUaHVzIHRoaXMgZnVuY3Rpb24gcHJvdmlkZXMgYSBmcmFjdGlvbiBvZiB0aGVcbmZ1bmN0aW9uYWxpdHkgb2YgdGhlICpmZWVkKCkqIG1ldGhvZC5cblxuOjpcblxuICAgIHBhY2tldF9sZWZ0LCBzbGljZWRfbGVmdCA9XG4gICAgICAgIFp2YmkuRHZiTXV4LmR2Yl9tdWx0aXBsZXhfc2xpY2VkKHBhY2tldCwgcGFja2V0X2xlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWNlZCwgc2xpY2VkX2xlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VfbWFzayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9pZGVudGlmaWVyPTB4MTAsIHN0dWZmaW5nPSBGYWxzZSlcblxuSW5wdXQgcGFyYW1ldGVyczpcblxuOnBhY2tldDpcbiAgICBUaGlzIHBhcmFtZXRlciBoYXMgdG8gYmUgYSAqYnl0ZWFycmF5KiB0aGF0IGlzIHRvIGJlIGZpbGxlZCB3aXRoIHRoZVxuICAgIGdlbmVyYXRlZCBwYWNrZXQuIFRoZSBzaXplIG9mIHRoZSAqYnl0ZWFycmF5KiBuZWVkcyB0byBiZVxuICAgIHByZS1pbml0aWFsaXplZCB0byB0aGUgaW5pdGlhbCB2YWx1ZSBvZiAqcGFja2V0X2xlZnQqLlxuXG46cGFja2V0X2xlZnQ6XG4gICAgQ29udGFpbnMgdGhlIG51bWJlciBvZiBieXRlcyBhdmFpbGFibGUgaW4gdGhlICpwYWNrZXQqIG9iamVjdC4gSXQgd2lsbFxuICAgIGJlIGRlY3JlbWVudGVkIGJ5IHRoZSBjdW11bGF0aXZlIHNpemUgb2YgdGhlIHN1Y2Nlc3NmdWxseSBzdG9yZWQgZGF0YVxuICAgIHVuaXRzLlxuXG46c2xpY2VkOlxuICAgIFRoaXMgaGFzIHRvIGJlIGFuIG9iamVjdCBvZiB0eXBlIGBadmJpLkNhcHR1cmVTbGljZWRCdWZgXy4gSXQgY29udGFpbnNcbiAgICB0aGUgc2xpY2VkIFZCSSBkYXRhIHRvIGJlIGNvbnZlcnRlZC5cblxuOnNsaWNlZF9sZWZ0OlxuICAgIEluZGljYXRlcyBpbml0aWFsbHkgdGhlIG51bWJlciBvZiBzbGljZWQgbGluZXMgaW4gdGhlICpzbGljZWQqIGJ1ZmZlcixcbiAgICBvciBpdCBjYW4gYmUgemVyby5cblxuOnNlcnZpY2VfbWFzazpcbiAgICBPbmx5IGRhdGEgc2VydmljZXMgaW4gdGhpcyBzZXQgd2lsbCBiZSBlbmNvZGVkLiBPdGhlciBkYXRhIHNlcnZpY2VzIGluXG4gICAgdGhlICpzbGljZWQqIGJ1ZmZlciB3aWxsIGJlIGRpc2NhcmRlZCB3aXRob3V0IGZ1cnRoZXIgY2hlY2tzLiBDcmVhdGUgYVxuICAgIHNldCBieSBiaXQtd2lzZSBPUmluZyAqVkJJX1NMSUNFRF8qIHZhbHVlcy4gIFRoZSBwYXJhbWV0ZXIgZGVmYXVscyB0b1xuICAgIHRoZSBzZXQgb2YgYWxsIGFsbG93ZWQgc2VydmljZXMsIHdoaWNoIGFyZTpcblxuICAgICogVkJJX1NMSUNFRF9URUxFVEVYVF9CIG9uIGxpbmVzIDcgdG8gMjIgYW5kIDMyMCB0byAzMzUgaW5jbHVzaXZlXG4gICAgKiBWQklfU0xJQ0VEX1ZQUyBvbiBsaW5lIDE2XG4gICAgKiBWQklfU0xJQ0VEX0NBUFRJT05fNjI1IG9uIGxpbmUgMjJcbiAgICAqIFZCSV9TTElDRURfV1NTXzYyNSBvbiBsaW5lIDIzXG5cbjpkYXRhX2lkZW50aWZpZXI6XG4gICAgV2hlbiB0aGUgZ2l2ZW4gdmFsdWUgbGllcyBpbiByYW5nZSAweDEwIHRvIDB4MUYgaW5jbHVzaXZlLCB0aGUgZW5jb2RlZFxuICAgIGRhdGEgdW5pdHMgd2lsbCBiZSBwYWRkZWQgdG8gZGF0YV91bml0X2xlbmd0aCAweDJDIGZvciBjb21wYXRpYmlsaXR5XG4gICAgd2l0aCBFTiAzMDAgNDcyIGNvbXBsaWFudCBkZWNvZGVycy4gVGhlICpkYXRhX2lkZW50aWZpZXIqIGl0c2VsZiB3aWxsXG4gICAgKipub3QqKiBiZSBzdG9yZWQgaW4gdGhlIG91dHB1dCBidWZmZXIuXG5cbjpzdHVmZmluZzpcbiAgICBJZiB0aGlzIG9wdGlvbmFsIHBhcmFtZXRlciBpcyBzcGVjaWZpZWQgYW5kIHNldCAqVHJ1ZSosIGFuZCBzcGFjZVxuICAgIHJlbWFpbnMgaW4gdGhlIG91dHB1dCBidWZmZXIgYWZ0ZXIgYWxsIGRhdGEgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5XG4gICAgY29udmVydGVkLCBvciAqc2xpY2VkX2xlZnQqIGlzIHplcm8sIHRoZSBmdW5jdGlvbiBmaWxscyB0aGUgYnVmZmVyIHVwXG4gICAgd2l0aCBzdHVmZmluZyBkYXRhIHVuaXRzLlxuXG5UaGUgZnVuY3Rpb24gcmV0dXJucyBhIHR1cGxlIG9mIHR3byB2YWx1ZXM6XG5cbjAuIFJldHVybnMgdGhlIHZhbHVlIG9mIHBhcmFtZXRlciAqcGFja2V0X2xlZnQqLCBkZWNyZW1lbnRlZCBieVxuICAgdGhlIGN1bXVsYXRpdmUgc2l6ZSBvZiB0aGUgc3VjY2Vzc2Z1bGx5IHN0b3JlZCBkYXRhIHVuaXRzLlxuMS4gUmV0dXJucyB0aGUgdmFsdWUgb2YgcGFyYW1ldGVyICpzbGljZWRfbGVmdCogZGVjcmVtZW50ZWQgYnkgdGhlIG51bWJlclxuICAgb2Ygc3VjY2Vzc2Z1bGx5IGNvbnZlcnRlZCBWQkkgbGluZXMgaW4gKnNsaWNlZCpcblxuVGhlIG1ldGhvZCByYWlzZXMgZXhjZXB0aW9uICpadmJpLkR2Yk11eEVycm9yKiB1cG9uIGZhaWx1cmUuIFRoZSBtZXRob2Rcbm1heSBmYWlsIGZvciB0aGUgZm9sbG93aW5nIGNhdXNlczpcblxuKiAqcGFja2V0X2xlZnQqIGlzIGxlc3MgdGhhbiAyICh0aGUgbWluaW11bSBkYXRhIHVuaXQgc2l6ZSBpcyB0d28gYnl0ZXMpLlxuICBUaGUgb3V0cHV0IGJ1ZmZlciByZW1haW5zIHVuY2hhbmdlZCBpbiB0aGlzIGNhc2UuXG4qIFRoZSAqZGF0YV9pZGVudGlmaWVyKiBpcyBpbiByYW5nZSAweDEwIHRvIDB4MUYgaW5jbHVzaXZlIGFuZFxuICAqcGFja2V0X2xlZnQqIGlzIG5vdCBhIG11bHRpcGxlIG9mIDQ2LiBUaGUgb3V0cHV0IGJ1ZmZlciByZW1haW5zXG4gIHVuY2hhbmdlZCBpbiB0aGlzIGNhc2UuXG4qIFRoZSBsaW5lcyBpbiB0aGUgKnNsaWNlZCogYnVmZmVyIGFyZSBub3Qgc29ydGVkIGJ5IGFzY2VuZGluZyBsaW5lXG4gIG51bWJlciwgZXhjZXB0IGZvciBlbGVtZW50cyB3aXRoIGxpbmUgbnVtYmVyIDAgKHVuZGVmaW5lZCkuXG4qIFRoZSBzZXJ2aWNlIG1hc2sgY29udGFpbnMgYSBzZXJpdmUgdHlwZSB0aGF0IGlzIG5vdCBvbmUgb2YgdGhlIGFsbG93ZWRcbiAgdHlwZXMgbGlzdGVkIGFib3ZlLlxuKiBBIHNsaWNlZCBsaW5lIHNlbGVjdGVkIGJ5ICpzZXJ2aWNlX21hc2sqIGNvbnRhaW5zIGEgbGluZSBudW1iZXIgb3V0c2lkZVxuICB0aGUgdmFsaWQgcmFuZ2Ugc3BlY2lmaWVkIGFib3ZlLlxuXG5BbGwgZXJyb3JzIGFyZSByZWNvdmVyYWJsZS4gSnVzdCBjYWxsIHRoZSBmdW5jdGlvbiBhZ2FpbiwgcG9zc2libHkgYWZ0ZXJcbnNraXBwaW5nIHRoZSBvZmZlbmRpbmcgc2xpY2VkIGxpbmUgKGJ5IHJlZHVjaW5nIHRoZSB2YWx1ZSBvZlxuKnNsaWNlZF9sZWZ0KiksIHRvIGNvbnRpbnVlIHdoZXJlIGl0IGxlZnQgb2ZmLiBOb3RlICpwYWNrZXRfbGVmdCogbXVzdCBiZVxuYXQgbGVhc3QgMiAob3IgYSBtdWx0aXBsZSBvZiA0NikgaW4gZWFjaCBjYWxsLlxuXG5TaW1wbGlmaWVkIGV4YW1wbGUgd2l0aG91dCBlcnJvciBjaGVja2luZzogOjpcblxuICAgIHNsaWNlZF9idWZmZXIgPSBjYXAucHVsbF9zbGljZWQoMTAwMClcblxuICAgIHBrZyA9IGJ5dGVhcnJheSgyMDI0KSAjIG11bHRpcGxlIG9mIDQ2XG4gICAgcGtnX2xlZnQgPSBsZW4ocGtnKVxuICAgIHNsaWNlZF9sZWZ0ID0gbGVuKHNsaWNlZF9idWZmZXIpXG4gICAgcGtnX2xlZnQsIHNsaWNlZF9sZWZ0ID0gXFxcbiAgICAgICAgWnZiaS5EdmJNdXgubXVsdGlwbGV4X3NsaWNlZChwa2csIHBrZ19sZWZ0LCBzbGljZWRfYnVmZmVyLCBzbGljZWRfbGVmdClcbiAgICBkZWwgcGtnW3BrZ19sZWZ0IDpdXG5cbioqTm90ZToqKlxuQWNjb3JkaW5nIHRvIEVOIDMwMSA3NzUgYWxsIGxpbmVzIHN0b3JlZCBpbiBvbmUgUEVTIHBhY2tldCBtdXN0IGJlbG9uZyB0b1xudGhlIHNhbWUgdmlkZW8gZnJhbWUgKGJ1dCB0aGUgZGF0YSBvZiBvbmUgZnJhbWUgbWF5IGJlIHRyYW5zbWl0dGVkIGluXG5zZXZlcmFsIHN1Y2Nlc3NpdmUgUEVTIHBhY2tldHMpLiBUaGV5IG11c3QgYmUgZW5jb2RlZCBpbiB0aGUgc2FtZSBvcmRlciBhc1xudGhleSB3b3VsZCBiZSB0cmFuc21pdHRlZCBpbiB0aGUgVkJJLCBubyBsaW5lIG1vcmUgdGhhbiBvbmNlLiBTYW1wbGVzIG1heVxuaGF2ZSB0byBiZSBzcGxpdCBpbnRvIG11bHRpcGxlIHNlZ21lbnRzIGFuZCB0aGV5IG11c3QgYmUgY29udGlndW91c2x5XG5lbmNvZGVkIGludG8gYWRqYWNlbnQgZGF0YSB1bml0cy4gVGhlIGZ1bmN0aW9uIGNhbm5vdCBlbmZvcmNlIHRoaXMgaWZcbm11bHRpcGxlIGNhbGxzIGFyZSBuZWNlc3NhcnkgdG8gZW5jb2RlIGFsbCBzYW1wbGVzLlxuXG5admJpLkR2Yk11eC5kdmJfbXVsdGlwbGV4X3JhdygpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblRoaXMgKipzdGF0aWMgbWV0aG9kKiogIGNvbnZlcnRzIG9uZSBsaW5lIG9mIHJhdyBWQkkgc2FtcGxlcyBpbiAqcmF3KiB0byBvbmUgb3Jcbm1vcmUgXCJtb25vY2hyb21lIDQ6MjoyIHNhbXBsZXNcIiBkYXRhIHVuaXRzIGFzIGRlZmluZWQgaW4gRU4gMzAxIDc3NSwgYW5kIHN0b3Jlc1xudGhlbSBpbiB0aGUgKmJ1Ziogb3V0cHV0IGJ1ZmZlci4gVGh1cyB0aGlzIGZ1bmN0aW9uIHByb3ZpZGVzIGEgZnJhY3Rpb24gb2YgdGhlXG5mdW5jdGlvbmFsaXR5IG9mIHRoZSBmZWVkKCkgbWV0aG9kLlxuXG46OlxuXG4gICAgcGFja2V0X2xlZnQsIHJhd19sZWZ0ID1cbiAgICAgICAgWnZiaS5EdmJNdXguZHZiX211bHRpcGxleF9yYXcocGFja2V0LCBwYWNrZXRfbGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3LCByYXdfbGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9pZGVudGlmaWVyLCB2aWRlb3N0ZF9zZXQsIGxpbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0X3BpeGVsX3Bvc2l0aW9uLCBuX3BpeGVsc190b3RhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R1ZmZpbmc9RmFsc2UpXG5cbklucHV0IHBhcmFtZXRlcnM6XG5cbjpkYXRhX2lkZW50aWZpZXI6XG4gICAgV2hlbiB0aGUgZ2l2ZW4gdmFsdWUgbGllcyBpbiByYW5nZSAweDEwIHRvIDB4MUYgaW5jbHVzaXZlLCB0aGUgZW5jb2RlZFxuICAgIGRhdGEgdW5pdHMgd2lsbCBiZSBwYWRkZWQgdG8gZGF0YV91bml0X2xlbmd0aCAweDJDIGZvciBjb21wYXRpYmlsaXR5XG4gICAgd2l0aCBFTiAzMDAgNDcyIGNvbXBsaWFudCBkZWNvZGVycy4gVGhlICpkYXRhX2lkZW50aWZpZXIqIGl0c2VsZiB3aWxsXG4gICAgKipub3QqKiBiZSBzdG9yZWQgaW4gdGhlIG91dHB1dCBidWZmZXIuXG5cbjp2aWRlb3N0ZF9zZXQ6XG4gICBUaGUgKmxpbmUqIHBhcmFtZXRlciB3aWxsIGJlIGludGVycHJldGVkIGFjY29yZGluZyB0byB0aGlzIHNldCBvZiB2aWRlb1xuICAgc3RhbmRhcmRzLiBJdCBtdXN0IG5vdCBjaGFuZ2UgdW50aWwgYWxsIHNhbXBsZXMgaGF2ZSBiZWVuIGVuY29kZWQuIE9ubHlcbiAgIG9uZSBvZiB0d28gdmFsdWVzIGFyZSBwZXJtaXR0ZWQ6ICpadmJpLlZCSV9WSURFT1NURF9TRVRfNjI1XzUwKiBvclxuICAgKlp2YmkuVkJJX1ZJREVPU1REX1NFVF81MjVfNjAqLlxuXG46bGluZTpcbiAgICBUaGUgSVRVLVIgbGluZSBudW1iZXIgdG8gYmUgZW5jb2RlZCBpbiB0aGUgZGF0YSB1bml0cy5cbiAgICBJdCBtdXN0IG5vdCBjaGFuZ2UgdW50aWwgYWxsIHNhbXBsZXMgaGF2ZSBiZWVuIGVuY29kZWQuXG5cbjpmaXJzdF9waXhlbF9wb3NpdGlvbjpcbiAgICBUaGUgaG9yaXpvbnRhbCBvZmZzZXQgd2hlcmUgZGVjb2RlcnMgc2hhbGwgaW5zZXJ0IHRoZSBmaXJzdCBzYW1wbGUgaW5cbiAgICB0aGUgVkJJLCBjb3VudGluZyBzYW1wbGVzIGZyb20gdGhlIHN0YXJ0IG9mIHRoZSBkaWdpdGFsIGFjdGl2ZSBsaW5lIGFzXG4gICAgZGVmaW5lZCBpbiBJVFUtUiBCVC42MDEuICBVc3VhbGx5IHRoaXMgdmFsdWUgaXMgemVybyBhbmRcbiAgICAqbl9waXhlbHNfdG90YWwqIGlzIDcyMC4gICpmaXJzdF9waXhlbF9wb3NpdGlvbiogKyAqbl9waXhlbHNfdG90YWwqXG4gICAgbXVzdCBub3QgYmUgZ3JlYXRlciB0aGFuIDcyMC4gVGhpcyBwYXJhbWV0ZXIgbXVzdCBub3QgY2hhbmdlIHVudGlsIGFsbFxuICAgIHNhbXBsZXMgaGF2ZSBiZWVuIGVuY29kZWQuXG5cbjpuX3BpeGVsc190b3RhbDpcbiAgICBUb3RhbCBzaXplIG9mIHRoZSByYXcgaW5wdXQgYnVmZmVyIGluIGJ5dGVzLCBhbmQgdGhlIHRvdGFsIG51bWJlciBvZlxuICAgIHNhbXBsZXMgdG8gYmUgZW5jb2RlZC4gSW5pdGlhbGx5IHRoaXMgdmFsdWUgbXVzdCBiZSBlcXVhbCB0b1xuICAgICpyYXdfbGVmdCosIGFuZCBpdCBtdXN0IG5vdCBjaGFuZ2UgdW50aWwgYWxsIHNhbXBsZXMgaGF2ZSBiZWVuXG4gICAgZW5jb2RlZC5cblxuOnN0dWZmaW5nOlxuICAgIElmIHRoaXMgb3B0aW9uYWwgcGFyYW1ldGVyIGlzIHNwZWNpZmllZCBhbmQgc2V0ICpUcnVlKiwgYW5kIHNwYWNlXG4gICAgcmVtYWlucyBpbiB0aGUgb3V0cHV0IGJ1ZmZlciBhZnRlciBhbGwgZGF0YSBoYXMgYmVlbiBzdWNjZXNzZnVsbHlcbiAgICBjb252ZXJ0ZWQsIG9yICpzbGljZWRfbGVmdCogaXMgemVybywgdGhlIGZ1bmN0aW9uIGZpbGxzIHRoZSBidWZmZXIgdXBcbiAgICB3aXRoIHN0dWZmaW5nIGRhdGEgdW5pdHMuXG5cblRoZSBmdW5jdGlvbiByZXR1cm5zIGEgdHVwbGUgb2YgdHdvIHZhbHVlczpcblxuMC4gUmV0dXJucyB0aGUgdmFsdWUgb2YgcGFyYW1ldGVyICpwYWNrZXRfbGVmdCosIGRlY3JlbWVudGVkIGJ5XG4gICB0aGUgY3VtdWxhdGl2ZSBzaXplIG9mIHRoZSBzdWNjZXNzZnVsbHkgc3RvcmVkIGRhdGEgdW5pdHMuXG4xLiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiBwYXJhbWV0ZXIgKnJhd19sZWZ0KiBkZWNyZW1lbnRlZCBieSB0aGUgbnVtYmVyIG9mXG4gICBzdWNjZXNzZnVsbHkgY29udmVydGVkIHNhbXBsZXMuXG5cblRoZSBtZXRob2QgcmFpc2VzIGV4Y2VwdGlvbiAqWnZiaS5EdmJNdXhFcnJvciogdXBvbiBmYWlsdXJlLiBUaGUgbWV0aG9kXG5tYXkgZmFpbCBmb3IgdGhlIGZvbGxvd2luZyBjYXVzZXM6XG5cbiogKnBhY2tldF9sZWZ0KiBpcyBsZXNzIHRoYW4gdHdvICh0aGUgbWluaW11bSBkYXRhIHVuaXQgc2l6ZSBpcyB0d28gYnl0ZXMpLlxuKiAqcmF3X2xlZnQqIGlzIHplcm8uXG4qIFRoZSAqZGF0YV9pZGVudGlmaWVyKiBpcyBpbiByYW5nZSAweDEwIHRvIDB4MUYgaW5jbHVzaXZlIGFuZFxuICAqcGFja2V0X2xlZnQqIGlzIG5vdCBhIG11bHRpcGxlIG9mIDQ2LlxuKiBUaGUgKnZpZGVvc3RkX3NldCogaXMgYW1iaWd1b3VzLlxuKiBUaGUgKmxpbmUqIHBhcmFtZXRlciBpcyBvdXRzaWRlIHRoZSB2YWxpZCByYW5nZSwgdGhhdCBpcyA3IHRvXG4gIDIzIGFuZCAyNzAgdG8gMjg2IGZvciA1MjUgbGluZSBzdGFuZGFyZHMsIDcgdG8gMjMgYW5kIDMyMCB0byAzMzZcbiAgZm9yIDYyNSBsaW5lIHN0YW5kYXJkcy4gQWxsIG51bWJlcnMgaW5jbHVzaXZlLlxuKiAqcmF3X2xlZnQqIGlzIGdyZWF0ZXIgdGhhbiAqbl9waXhlbHNfdG90YWwqXG4qICpmaXJzdF9waXhlbF9wb3NpdGlvbiogKyAqbl9waXhlbHNfdG90YWwqIGlzIGdyZWF0ZXIgdGhhbiA3MjAuXG5cblRoZSBvdXRwdXQgYnVmZmVyIHJlbWFpbnMgdW5jaGFuZ2VkIG9uIGFsbCBlcnJvcnMuXG5cbi4uIF9admJpLkR2YkRlbXV4OlxuXG5DbGFzcyBadmJpLkR2YkRlbXV4XG49PT09PT09PT09PT09PT09PT09XG5cblRoaXMgY2xhc3MgZXh0cmFjdHMgc2xpY2VkIFZCSSBkYXRhIGZyb20gYSBEVkIgUGFja2V0aXplZCBFbGVtZW50YXJ5XG5TdHJlYW0gKFBFUykgb3IgVHJhbnNwb3J0IFN0cmVhbSAoVFMpIGFzIGRlZmluZWQgaW4gRU4gMzAwIDQ3MiBcIkRpZ2l0YWxcblZpZGVvIEJyb2FkY2FzdGluZyAoRFZCKTsgU3BlY2lmaWNhdGlvbiBmb3IgY29udmV5aW5nIElUVS1SIFN5c3RlbSBCXG5UZWxldGV4dCBpbiBEVkIgYml0c3RyZWFtc1wiIGFuZCBFTiAzMDEgNzc1IFwiRGlnaXRhbCBWaWRlbyBCcm9hZGNhc3RpbmdcbihEVkIpOyBTcGVjaWZpY2F0aW9uIGZvciB0aGUgY2FycmlhZ2Ugb2YgVmVydGljYWwgQmxhbmtpbmcgSW5mb3JtYXRpb25cbihWQkkpIGRhdGEgaW4gRFZCIGJpdHN0cmVhbXNcIi5cblxuQ29uc3RydWN0b3IgWnZiaS5EdmJEZW11eFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgZHZiID0gWnZiaS5EdmJEZW11eCggW2NhbGxiYWNrIFssIHVzZXJfZGF0YV1dIFssbWF4X3NsaWNlZD02NF0gKVxuXG5DcmVhdGVzIGFuZCByZXR1cm5zIGEgbmV3IERWQiBWQkkgZGVtdWx0aXBsZXhlciBjb250ZXh0IHRha2luZyBhIFBFU1xuc3RyZWFtIGFzIGlucHV0LlxuXG5UaGUgY29uc3RydWN0b3IgdGFrZXMgdGhlIGZvbGxvd2luZyBvcHRpb25hbCBrZXl3b3JkLW9ubHkgcGFyYW1ldGVyczpcblxuOmNhbGxiYWNrOlxuICAgIFdoZW4gdGhpcyBwYXJhbWV0ZXIgaXMgcHJlc2VudCwgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uIG9iamVjdC4gVGhlXG4gICAgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgZnJvbSBpbnNpZGUgb2YgbWV0aG9kICpmZWVkKiB3aGVuZXZlciBhXG4gICAgY29tcGxldGUgc2xpY2VkIGRhdGEgb2YgYSBWQkkgZnJhbWUgaXMgYXZhaWxhYmxlIGR1cmluZ1xuICAgIGRlLW11bHRpcGxleGluZyB0aGUgcHJvdmlkZWQgc3RyZWFtIGRhdGEuXG5cbiAgICBXaGVuIHRoZSBjYWxsYmFjayBwYXJhbWV0ZXIgaXMgb21pdHRlZCwgVkJJIGRhdGEgaGFzIHRvIGJlIGV4dHJhY3RlZFxuICAgIHZpYSBpdGVyYXRpb24uICBTZWUgKmR2Yi5mZWVkKCkqIGZvciBhZGRpdGlvbmFsIGRldGFpbHMuXG5cbjp1c2VyX2RhdGE6XG4gICAgSWYgcHJlc2VudCwgdGhlIHBhc3NlZCBvYmplY3QgaXMgYXBwZW5kZWQgdG8gdGhlIGNhbGxiYWNrJ3MgcGFyYW1ldGVyXG4gICAgbGlzdC4gSUYgb21pdHRlZCwgb25lIHBhcmFtZXRlciBsZXNzIGlzIHBhc3NlZCB0byB0aGUgY2FsbGJhY2suXG5cbjptYXhfc2xpY2VkOlxuICAgIFRoaXMgb3B0aW9uYWwgcGFyYW1ldGVyIGluZGljYXRlcyB0aGUgc2l6ZSBvZiB0aGUgYnVmZmVyIHRvIGFsbG9jYXRlXG4gICAgZm9yIHRoZSBzbGljZWQgYnVmZmVyIHRvIGJlIHJldHVybmVkIGJ5IGl0ZXJhdGlvbiAoaS5lLiB3aGVuIG5vXG4gICAgY2FsbGJhY2sgaXMgZGVmaW5lZCkuIFRoZSBkZWZhdWx0IGlzIDY0IGxpbmVzIHBlciBmcmFtZS5cblxuWnZiaS5EdmJEZW11eC5mZWVkKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBkdmIuZmVlZChidWYpXG5cblRoaXMgZnVuY3Rpb24gdGFrZXMgYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBEVkIgUEVTIGRhdGEgYnl0ZXMgaW4gKmJ1ZiosXG5maWx0ZXJzIG91dCAqUFJJVkFURV9TVFJFQU1fMSogcGFja2V0cywgZmlsdGVycyBvdXQgdmFsaWQgVkJJIGRhdGEgdW5pdHMsXG5hbmQgc3RvcmVzIHRoZW0gaW4gb2JqZWN0cyBvZiB0eXBlIGBadmJpLkNhcHR1cmVTbGljZWRCdWZgXyBmdW5jdGlvbiBtYXlcbnJhaXNlIGV4Y2VwdGlvbiAqWnZiaS5EdmJEZW11eEVycm9yKiBpZiB0aGUgZGF0YSBjb250YWluZWQgZXJyb3JzLiBXaGVuIGFcbmNhbGxiYWNrIGlzIGNvbmZpZ3VyZWQsIHRoZSBleGNlcHRpb24gaXMgYWxzbyByYWlzZWQgaWYgdGhlIGNhbGxiYWNrXG5mdW5jdGlvbiByZXR1cm5lZCB2YWx1ZSAqRmFsc2UqLlxuXG5Ob3RlIHRoZSB0aW1lc3RhbXAgaW5jbHVkZWQgaW4gdGhlIGdlbmVyYXRlZCBgWnZiaS5DYXB0dXJlU2xpY2VkQnVmYF9cbmluc3RhbnRlcyBpcyBkZXJpdmVkIGZyb20gdGhlIHByZXNlbnRhdGlvbiB0aW1lc3RhbXAgKFBUUykgb2YgdGhlIERWQlxuc3RyZWFtLCBjb252ZXJ0ZWQgZnJvbSAxLzkwMDAwIEh6IHRvIGEgc2Vjb25kIHJlc29sdXRpb24gKGFzICpGbG9hdCogdHlwZVxudG8gYWxsb3cgZnJhY3Rpb25zKS4gVGhlIHZhbHVlIGRvZXMgbm90IHJlcHJlc2VudCBzZWNvbmRzIHNpbmNlXG4xOTcwLUphbi0wMSwgYnV0IGNhbiBuZXZlcnRoZWxlc3MgYmUgdXNlZCBlcXVpdmFsZW50bHkgdG8gdGltZXN0YW1wdHNcbmdlbmVyYXRlZCBieSBjbGFzcyBgWnZiaS5DYXB0dXJlYF8uXG5cbk5vdGU6IERlbXVsdGlwbGV4aW5nIG9mIHJhdyBWQkkgZGF0YSBpcyBub3Qgc3VwcG9ydGVkO1xuYW55IHJhdyBkYXRhIHByZXNlbnQgaW4gdGhlIHN0cmVhbSB3aWxsIGJlIGRpc2NhcmRlZC5cblxuKipVc2FnZSB3aXRoIGEgY2FsbGJhY2sgZnVuY3Rpb246KipcblxuV2hlbiB0aGUgZGUtbXVsdGlwbGV4ZXIgd2FzIGludGlhbnRpYXRlZCB3aXRoIGEgY2FsbGJhY2sgZnVuY3Rpb25cbnBhcmFtZXRlciwgdGhlICpmZWVkKiBmdW5jdGlvbiBpbnZva2VzIHRoZSBjYWxsYmFjayBmb3IgZWFjaCBjb21wbGV0ZWQgVkJJXG5mcmFtZSBiZWZvcmUgaXQgcmV0dXJucy4gVGhlIGNhbGxiYWNrIGlzIGludm9rZWQgd2l0aCB0aGUgZm9sbG93aW5nXG5zaWduYXR1cmU6IDo6XG5cbiAgICBvayA9IGNhbGxiYWNrKHNsaWNlZF9idWZmZXIsIHVzZXJfZGF0YSlcblxuVGhlIGhhbmRsZXIgZnVuY3Rpb24gaGFzIHRvIHJldHVybiAqVHJ1ZSogb24gc3VjY2VzcyBhbmQgKkZhbHNlKiBvbiBmYWlsdXJlLlxuUGFyYW1ldGVycyB0byB0aGUgY2FsbGJhY2sgaGF2ZSB0aGUgZm9sbG93aW5nIG1lYW5pbmc6XG5cbiogKnNsaWNlZF9idWZmZXIqIGlzIGFuIG9iamVjdCBvZiB0eXBlIGBadmJpLkNhcHR1cmVTbGljZWRCdWZgXyxcbiAgY29udGFpbmluZyB0aGUgc2xpY2VkIGRhdGEgYW5kIGF0dHJpYnV0ZXMgKGkuZS4gdGhpcyBpcyB0aGUgc2FtZVxuICB0eXBlIGFzIHJldHVybmVkIGJ5IGBadmJpLkNhcHR1cmVgXyBtZXRob2RzKS4gVGhlICp0aW1lc3RhbXAqIGF0dHJpYnV0ZVxuICBpcyBkZXJpdmVkIGZyb20gdGhlIFBUUyB2YWx1ZSBpbiB0aGUgc3RyZWFtLCBjb252ZXJ0ZWQgZnJvbSA5MCBrSHogdG9cbiAgb25lIHNlY29uZCAod2l0aCBmcmFjdGlvbikgcmVzb2x1dGlvbi5cblxuICAqKk5vdGUqKjogVGhlIHNsaWNlZCBidWZmZXIgaW5zdGFuY2UgcGFzc2VkIGhlcmUgaXMgdmFsaWQgb25seSBmb3IgdGhlXG4gIGR1cmF0aW9uIG9mIHRoZSBjYWxsYmFjayBleGVjdXRpb24uIChXaGVuIGFzc2lnbmVkIHRvIGEgZ2xvYmFsIHZhcmlhYmxlXG4gIGFuZCBhY2Nlc3NlZCBhZnRlciB0aGUgY2FsbGJhY2sgcmV0dXJucywgZXhjZXB0aW9uICpWYWx1ZUVycm9yKiB3aWxsIGJlXG4gIHJhaXNlZC4pXG5cbiogKnVzZXJfZGF0YSogbG9vcHMgYmFjayB0aGUgb2JqZWN0IHBhc3NlZCB2aWEgKnVzZXJfZGF0YSogcGFyYW1ldGVyXG4gIHRvIHRoZSBjb25zdHJ1Y3Rvci4gSWYgbm90IHNwZWNpZmllZCB0aGVyZSwgdGhpcyBwYXJhbWV0ZXIgaXMgb21pdHRlZFxuICBoZXJlLlxuXG4qKlVzYWdlIHdpdGhvdXQgYSBjYWxsYmFjayBmdW5jdGlvbjoqKlxuXG5XaGVuIHRoZSBkZS1tdWx0aXBsZXhlciB3YXMgaW50aWFudGlhdGVkIHdpdGhvdXQgYSBjYWxsYmFjayBmdW5jdGlvblxucGFyYW1ldGVyLCB0aGUgKmZlZWQoKSogZnVuY3Rpb24gb25seSBzdG9yZXMgYSByZWZlcmVuY2UgdG8gdGhlIGdpdmVuXG5pbnB1dCBidWZmZXIuIEFjdHVhbCBkZS1tdWx0aXBsZXhpbmcgaXMgZG9uZSB3aGVuIHRoZSBvYmplY3QgaXMgdXNlZCBhcyBhblxuaXRlcmF0b3IuICBUaGUgaXRlcmF0aW9uIGhhcyB0byBiZSBjb21wbGV0ZWQgYmVmb3JlIGZlZWRpbmcgbmV3IGRhdGEsIGVsc2VcbmV4Y2VwdGlvbiAqWnZiaUR2YkRlbXV4RXJyb3IqIGlzIHJhaXNlZC5cblxuRWFjaCBpdGVyYXRpb24gcmV0dXJucyBhbiBvYmplY3Qgb2YgdHlwZSBgWnZiaS5DYXB0dXJlU2xpY2VkQnVmYF8sXG5jb250YWluaW5nIHRoZSBzbGljZWQgZGF0YSBhbmQgYXR0cmlidXRlcyAoaS5lLiAgdGhpcyBpcyB0aGUgc2FtZSB0eXBlIGFzXG5yZXR1cm5lZCBieSBgWnZiaS5DYXB0dXJlYF8gbWV0aG9kcykuIFRoZSAqdGltZXN0YW1wKiBhdHRyaWJ1dGUgaXMgZGVyaXZlZFxuZnJvbSB0aGUgUFRTIHZhbHVlIGluIHRoZSBzdHJlYW0sIGNvbnZlcnRlZCBmcm9tIDkwIGtIeiB0byBvbmUgc2Vjb25kXG4od2l0aCBmcmFjdGlvbikgcmVzb2x1dGlvbi5cblxuRXhhbXBsZSB1c2FnZSBmb3IgdGhpcyBtb2RlOiA6OlxuXG4gICAgZHZiLmZlZWQoYnVmKVxuICAgIGZvciBzbGljZWRfYnVmZmVyIGluIGR2YjpcbiAgICAgICAgIyBwcm9jZXNzIHNsaWNlZF9idWZmZXIuLi5cblxuU2VlIGFsc28gYGV4YW1wbGVzL2R2Yi1tdXgucHlgIGZvciBhIHdvcmtpbmcgZXhhbXBsZS5cblxuQXQgbW9zdCB0aGUgbWF4aW11bSBudW1iZXIgb2Ygc2xpY2VkIGxpbmVzIGluZGljYXRlZCB2aWEgcGFyYW1ldGVyXG4qbWF4X3NsaWNlZCogKG9yIGRlZmF1bHQgdmFsdWUgNjQpIHRvIHRoZSBjb25zdHJ1Y3RvciBpcyByZXR1cm5lZC4gSWYgdGhlXG5mcmFtZSBjb250YWlucyBtb3JlIGxpbmVzLCB0aGV5IGFyZSBkaXNjYXJkZWQgc2xpZW50bHkuIFRvIGRldGVjdCB0aGlzLFxueW91IGNhbiBzZXQgKm1heF9zbGljZWQqIHRvIHBsdXMgb25lIG9mIHRoZSBleHBlY3RlZCBtYXhpbXVtIGFuZCB0cmVhdFxucmVhY2hpbmcgdGhpcyB2YWx1ZSBhcyBvdmVyZmxvdyBlcnJvci4gKFRoZSBudW1iZXIgb2Ygc2xpY2VkIGxpbmVzIGluIHRoZVxucmV0dXJuZWQgYnVmZmVyIGNhbiBiZSBxdWVyaWVkIHZpYSBgbGVuKHNsaWNlZF9idWZmZXIpYC4pXG5cbk5vdGUgaW4gY29udHJhcnkgdG8gY2FsbGJhY2sgbW9kZSwgdGhlIGxpZmUtdGltZSBvZiByZXR1cm5lZFxuKnNsaWNlZF9idWZmZXIqIG9iamVjdHMgaXMgbm90IGxpbWl0ZWQgYnkgdGhlIGxpYnJhcnksIGFzIGEgc2VwYXJhdGVcbmJ1ZmZlciwgb3duZWQgYnkgdGhlIGluc3RhbmNlLCBpcyBhbGxvY2F0ZWQgZm9yIGVhY2ggaXRlcmF0aW9uLlxuXG5admJpLkR2YkRlbXV4LnNldF9sb2dfZm4oKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIGR2Yi5zZXRfbG9nX2ZuKG1hc2ssIGxvZ19mbj1Ob25lLCB1c2VyX2RhdGE9Tm9uZSlcblxuVGhlIERWQiBkZW11bHRpcGxleGVyIHN1cHBvcnRzIHRoZSBsb2dnaW5nIG9mIGVycm9ycyBpbiB0aGUgUEVTIHN0cmVhbSBhbmRcbmluZm9ybWF0aW9uIHVzZWZ1bCB0byBkZWJ1ZyB0aGUgZGVtdWx0aXBsZXhlci5cbldpdGggdGhpcyBmdW5jdGlvbiB5b3UgY2FuIHJlZGlyZWN0IGxvZyBtZXNzYWdlcyBnZW5lcmF0ZWQgYnkgdGhpcyBtb2R1bGVcbmZyb20gZ2VuZXJhbCBsb2cgZnVuY3Rpb24gYFp2Ymkuc2V0X2xvZ19mbigpYF8gdG8gYVxuZGlmZmVyZW50IGZ1bmN0aW9uIG9yIGVuYWJsZSBsb2dnaW5nIG9ubHkgaW4gdGhlIERWQiBkZW11bHRpcGxleGVyLlxuXG5UaGUgY2FsbGJhY2sgY2FuIGJlIHJlbW92ZWQgYnkgY2FsbGluZyB0aGUgZnVuY3Rpb24gd2l0aCBhIHplcm8gbWFzayB2YWx1ZVxub3Igd2l0aG91dCBhIGhhbmRsZXIgcGFyYW1ldGVyLlxuXG5JbnB1dCBwYXJhbWV0ZXJzOlxuXG46bWFzazpcbiAgICBBbiBpbnRlZ2VyIHZhbHVlIHNwZWNpZnlpbmcgd2hpY2gga2luZCBvZiBpbmZvcm1hdGlvbiB0byBsb2cuXG4gICAgSWYgemVybywgbG9nZ2luZyBpcyBkaXNhYmxlZCAoYW5kIHBhcmFtZXRlciAqbG9nX2ZuKiBpcyBpZ25vcmVkKS5cbiAgICBFbHNlIHRoaXMgaXMgYSBiaXQtd2lzZSBPUiBvZiBvbmUgb3IgbW9yZSBvZiB0aGUgY29uc3RhbnRzXG4gICAgYFZCSV9MT0dfRVJST1JgLFxuICAgIGBWQklfTE9HX1dBUk5JTkdgLFxuICAgIGBWQklfTE9HX05PVElDRWAsXG4gICAgYFZCSV9MT0dfSU5GT2AsXG4gICAgYFZCSV9MT0dfREVCVUdgLFxuICAgIGBWQklfTE9HX0RSSVZFUmAsXG4gICAgYFZCSV9MT0dfREVCVUcyYCxcbiAgICBgVkJJX0xPR19ERUJVRzNgLlxuOmxvZ19mbjpcbiAgICBJZiBwcmVzZW50LCBoYXMgdG8gYmUgYSBjYWxsYWJsZSBvYmplY3QgdGhhdCBpcyBpbnZva2VkIGZvciBlYWNoXG4gICAgbWVzc2FnZSB3aXRoIHRoZSBwYXJhbWV0ZXJzIGxpc3RlZCBiZWxvdy4gSWYgb21pdHRlZCwgbG9nZ2luZyBpc1xuICAgIGRpc2FibGVkLlxuOnVzZXJfZGF0YTpcbiAgICBJZiBwcmVzZW50LCB0aGlzIG9iamVjdCBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgaGFuZGxlciBmdW5jdGlvbiBhc1xuICAgIGxhc3QgcGFyYW1ldGVyLlxuXG5UaGUgaGFuZGxlciBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6ICpsZXZlbCosXG4qY29udGV4dCosICptZXNzYWdlKiBhbmQsIGlmIGdpdmVuLCAqdXNlcl9kYXRhKi4gTWVhbmluZyBvZiB0aGUgcGFyYW1ldGVyc1xuaXMgdGhlIHNhbWUgYXMgZGVzY3JpYmVkIGZvciBgWnZiaS5zZXRfbG9nX2ZuKClgXy5cblxuTm90ZTogS2luZCBhbmQgY29udGVudHMgb2YgbG9nIG1lc3NhZ2VzIG1heSBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS5cblxuXG5admJpLkR2YkRlbXV4LnJlc2V0KClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgZHZiLnJlc2V0KClcblxuUmVzZXRzIHRoZSBEVkIgZGVtdXggdG8gdGhlIGluaXRpYWwgc3RhdGUgYXMgYWZ0ZXIgY3JlYXRpb24uXG5JbnRlbmRlZCB0byBiZSB1c2VkIGFmdGVyIGNoYW5uZWwgY2hhbmdlcy5cblxuLi4gX1p2YmkuSWRsRGVtdXg6XG5cbkNsYXNzIFp2YmkuSWRsRGVtdXhcbj09PT09PT09PT09PT09PT09PT1cblxuVGhlIGZ1bmN0aW9ucyBpbiB0aGlzIHNlY3Rpb24gZGVjb2RlIGRhdGEgdHJhbnNtaXNzaW9ucyBpbiBUZWxldGV4dFxuKipJbmRlcGVuZGVudCBEYXRhIExpbmUqKiBwYWNrZXRzIChFTiAzMDAgNzA4IHNlY3Rpb24gNiksIGkuZS4gZGF0YVxudHJhbnNtaXNzaW9ucyBiYXNlZCBvbiB0ZWxldGV4dCBwYWNrZXQgOC8zMC5cblxuVGhlIGRlY29kZXIgb25seSBzdXBwb3J0cyBmb3JtYXQgQS5cblxuQ29uc3RydWN0b3IgWnZiaS5JZGxEZW11eCgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIGlkbCA9IFp2YmkuSWRsRGVtdXgoY2hhbm5lbCwgYWRkcmVzcywgY2FsbGJhY2ssIFt1c2VyX2RhdGFdIClcblxuQ3JlYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBJbmRlcGVuZGVudCBEYXRhIExpbmUgZm9ybWF0IEFcbihFTiAzMDAgNzA4IHNlY3Rpb24gNi41KSBkZW11bHRpcGxleGVyLlxuXG5JbnB1dCBwYXJhbWV0ZXJzOlxuXG46Y2hhbm5lbDpcbiAgICBQcm9jZXNzIHBhY2tldHMgb2YgdGhpcyBjaGFubmVsLlxuOmFkZHJlc3M6XG4gICAgUHJvY2VzcyBwYWNrZXRzIHdpdGggdGhpcyBzZXJ2aWNlIGRhdGEgYWRkcmVzcy5cbjpjYWxsYmFjazpcbiAgICBQYXJhbWV0ZXJzICpjYWxsYmFjayogYW5kIG9wdGlvbmFsICp1c2VyX2RhdGEqIHNwZWNpZnkgYSBoYW5kbGVyIGFuZFxuICAgIHBhc3NlZC10aHJvdWdoIHBhcmFtZXRlciB3aGljaCBpcyBjYWxsZWQgd2hlbiBhIG5ldyBwYWNrZXQgaXMgYXZhaWxhYmxlLlxuICAgIFBhc3NpbmcgdGhlIGNhbGxiYWNrIGlzIG1hbmRhdG9yeSBhcyB0aGUgZGF0YSBpcyBvdGhlcndpc2UgZGlzY2FyZGVkLlxuOnVzZXJfZGF0YTpcbiAgICBUaGlzIG9wdGlvbmFsIHBhcmFtZXRlciBpcyBwYXNzZWQgdGhyb3VnaCB0byB0aGUgY2FsbGJhY2sgZnVuY3Rpb24sXG4gICAgaWYgc3BlY2lmaWVkLiBFbHNlIHRoZSAqdXNlcl9kYXRhKiBwYXJhbWV0ZXIgdG8gdGhlIGNhbGxiYWNrIGlzXG4gICAgb21pdHRlZC5cblxuVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnMgZm9yIGVhY2hcbnJlY2VpdmVkIGRhdGEgcGFja2V0OlxuXG4wLiAqYnVmZmVyKjogQSBieXRlcyBvYmplY3QgY29udGFpbmluZyB0aGUgZGF0YSByZWNlaXZlZCBpbiB0aGUgcGFja2V0XG4gICAoaS5lLiBwYXlsb2FkIGRhdGEgYWZ0ZXIgc3RyaXBwaW5nIHRlbGV0ZXh0IHBhY2tldCBoZWFkZXIpXG4xLiAqZmxhZ3MqOiBBIGJpdC13aXNlIE9SIG9mICpWQklfSURMX0RBVEFfKiBjb25zdGFudHMuXG4yLiBPcHRpb25hbGx5IHRoZSAqdXNlcl9kYXRhKiBvYmplY3Qgc3BlY2lmaWVkIGFzIGNvbnN0cnVjdG9yIHBhcmFtZXRlcjtcbiAgIGlmIHRoZSBwYXJhbWV0ZXIgd2FzIHNwZWNpZmllZCB0byB0aGUgY29uc3RydWN0b3IsIGl0IGlzIG9taXR0ZWQgaGVyZS5cblxuXG5admJpLklkbERlbXV4LmZlZWQoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIGlkbC5mZWVkKGJ1ZilcblxuVGhpcyBmdW5jdGlvbiB0YWtlcyA0MiBieXRlcyBvZiBhIFRlbGV0ZXh0IHBhY2tldCwgZGV0ZWN0cyBwYWNrZXRzXG5iZWxvbmdpbmcgdG8gdGhlIGNvbmZpZ3VyZWQgZGF0YSBjaGFubmVsIGFuZCBhZGRyZXNzIGFuZCBjYWxscyB0aGVcbmNhbGxiYWNrIGZ1bmN0aW9uIGdpdmVuIGR1cmluZyBjb250ZXh0IGNyZWF0aW9uIHdoZW4gbmV3IHBheWxvYWQgZGF0YSBpc1xuYXZhaWxhYmxlLlxuXG5QYXJhbWV0ZXIgKmJ1ZiogaXMgYSBzY2FsYXIgY29udGFpbmluZyBhIHRlbGV0ZXh0IHBhY2tldCdzIGRhdGFcbihhdCBsZWFzdCA0MiBieXRlcywgaS4gZS4gd2l0aG91dCBjbG9jayBydW4taW4gYW5kIGZyYW1pbmcgY29kZSksXG5hcyByZXR1cm5lZCBieSB0aGUgc2xpY2VyIGZ1bmN0aW9ucy5cblxuVGhlIGZ1bmN0aW9uIHJldHVybnMgKk5vbmUqLiBFeGNlcHRpb24gKlp2YmkuSWRsRGVtdXhFcnJvciogaXMgcmFpc2VkIGlmXG50aGUgYnVmZmVyIGNvbnRhaW5lZCBpbmNvcnJlY3RpYmxlIGVycm9ycy5cblxuWnZiaS5JZGxEZW11eC5mZWVkX2ZyYW1lKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblRoaXMgZnVuY3Rpb24gd29ya3MgbGlrZSAqaWRsLmZlZWQoKSogYnV0IHRha2VzIGEgY29tcGxldGUgc2xpY2VkIGJ1ZmZlclxuKGkuZS4gYSBmdWxsIGZyYW1lJ3Mgd29ydGggb2Ygc2xpY2VkIGRhdGEgYXMgcmV0dXJuZWQgYnlcbmBadmJpLkNhcHR1cmUucHVsbF9zbGljZWQoKWBfKSBhbmQgYXV0b21hdGljYWxseSBmaWx0ZXJzIG91dCBhbGwgdW5yZWxhdGVkXG50ZWxldGV4dCBwYWNrZXRzLiAgVGhpcyBjYW4gYmUgdXNlZCB0byBcInNob3J0LWNpcmN1aXRcIiB0aGUgY2FwdHVyZSBvdXRwdXRcbndpdGggdGhlIGRlbXVsdGlwbGV4ZXIuIEV4YW1wbGU6IDo6XG5cbiAgICBzbGljZWRfYnVmZmVyID0gY2FwLnB1bGxfc2xpY2VkKDEwMDApXG4gICAgaWRsLmZlZWRfZnJhbWUoc2xpY2VkX2J1ZmZlcilcblxuVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGdpdmVuIGR1cmluZyBjb250ZXh0IGNyZWF0aW9uIGlzIGNhbGxlZCB3aGVuIG5ld1xucGF5bG9hZCBkYXRhIGlzIGF2YWlsYWJsZS4gIFRoZSBmdW5jdGlvbiByZXR1cm5zICpOb25lKi4gIEV4Y2VwdGlvblxuKlp2YmkuSWRsRGVtdXhFcnJvciogaXMgcmFpc2VkIGlmIGFueSBvZiB0aGUgdGVsZXRleHQgcGFja2V0cyBpbiB0aGUgYnVmZmVyXG5jb250YWluZWQgaW5jb3JyZWN0aWJsZSBlcnJvcnMuXG5cbi4uIF9admJpLlBmY0RlbXV4OlxuXG5admJpLklkbERlbXV4LnJlc2V0KClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgaWRsLnJlc2V0KGR4KVxuXG5SZXNldHMgdGhlIElETCBkZW11eCBjb250ZXh0LCB1c2VmdWwgZm9yIGV4YW1wbGUgYWZ0ZXIgYSBjaGFubmVsIGNoYW5nZS5cblxuQ2xhc3MgWnZiaS5QZmNEZW11eFxuPT09PT09PT09PT09PT09PT09PVxuXG5TZXBhcmF0aW5nIGRhdGEgdHJhbnNtaXR0ZWQgaW4gUGFnZSBGdW5jdGlvbiBDbGVhciBUZWxldGV4dCBwYWNrZXRzXG4oRVRTIDMwMCA3MDggc2VjdGlvbiA0KSwgaS5lLiB1c2luZyByZWd1bGFyIHBhY2tldHMgb24gYSBkZWRpY2F0ZWRcbnRlbGV0ZXh0IHBhZ2UuXG5cbkNvbnN0cnVjdG9yIFp2YmkuUGZjRGVtdXgoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBwZmMgPSBadmJpLlBmY0RlbXV4KHBnbm8sIHN0cmVhbSwgY2FsbGJhY2ssIFt1c2VyX2RhdGFdIClcblxuQ3JlYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBkZW11bHRpcGxleGVyIGNvbnRleHQuXG5cbklucHV0IHBhcmFtZXRlcnM6XG5cbjpwYWdlOlxuICAgIE51bWJlciBvZiB0aGUgdGVsZXRleHQgcGFnZSBvbiB3aGljaCB0aGUgZGF0YSBpcyB0cmFuc21pdHRlZC5cbiAgICAoVXN1YWxseSBkYXRhIGlzIHRyYW5zbWl0dGVkIG9uIGEgXCJub24tZGVjaW1hbCBsb29raW5nXCIgcGFnZVxuICAgIG51bWJlciBzdWNoIGFzIGAxREZgLilcbjpzdHJlYW06XG4gICAgTnVtYmVyIG9mIHRoZSBzdHJlYW0gdG8gYmUgZGUtbXVsdGlwbGV4ZWQuXG46Y2FsbGJhY2s6XG4gICAgUGFyYW1ldGVycyAqY2FsbGJhY2sqIGFuZCBvcHRpb25hbCAqdXNlcl9kYXRhKiBzcGVjaWZ5IGEgaGFuZGxlciBhbmRcbiAgICBwYXNzZWQtdGhyb3VnaCBwYXJhbWV0ZXIgd2hpY2ggaXMgY2FsbGVkIHdoZW4gYSBuZXcgcGFja2V0IGlzIGF2YWlsYWJsZS5cbiAgICBQYXNzaW5nIHRoZSBjYWxsYmFjayBpcyBtYW5kYXRvcnkgYXMgdGhlIGRhdGEgaXMgb3RoZXJ3aXNlIGRpc2NhcmRlZC5cbjp1c2VyX2RhdGE6XG4gICAgVGhpcyBvcHRpb25hbCBwYXJhbWV0ZXIgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLFxuICAgIGlmIHNwZWNpZmllZC4gRWxzZSB0aGUgKnVzZXJfZGF0YSogcGFyYW1ldGVyIHRvIHRoZSBjYWxsYmFjayBpc1xuICAgIG9taXR0ZWQuXG5cblRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzIGZvciBlYWNoXG5jb3JyZWN0bHkgYXNzZW1ibGVkIGRhdGEgYmxvY2suXG5cbjAuICpwYWdlKjogVGVsZXRleHQgcGFnZSBudW1iZXIgZ2l2ZW4gaW4gY29uc3RydWN0b3IuXG4xLiAqc3RyZWFtKjogU3RyZWFtIGlkZW50aWZpZXIgZ2l2ZW4gaW4gY29uc3RydWN0b3IuXG4yLiAqYXBwbGljYXRpb25faWQqOiBBcHBsaWNhdGlvbiBJRCByZWNlaXZlZCBpbiB0aGUgQUkgYmxvY2suXG4zLiAqYmxvY2sqOiBBIGJ5dGVzIG9iamVjdCBjb250YWluaW5nIHRoZSBkYXRhIHJlY2VpdmVkIGluIHRoZSBibG9jay5cbjQuIE9wdGlvbmFsbHkgdGhlICp1c2VyX2RhdGEqIG9iamVjdCBzcGVjaWZpZWQgYXMgY29uc3RydWN0b3IgcGFyYW1ldGVyO1xuICAgaWYgdGhlIHBhcmFtZXRlciB3YXMgc3BlY2lmaWVkIHRvIHRoZSBjb25zdHJ1Y3RvciwgaXQgaXMgb21pdHRlZCBoZXJlLlxuXG5Ob3RlIG11bHRpcGxlIHNtYWxsIGJsb2NrcyBtYXkgZml0IHdpdGhpbiBhIHRlbGV0ZXh0IHBhY2tldDsgaW52ZXJzZWx5XG5sYXJnZXIgYmxvY2tzIG1heSBzcGFuIG11bHRpcGxlIHRlbGV0ZXh0IHBhY2tldHMuIFRoZXJlZm9yZSB0aGUgY2FsbGJhY2tcbm1heSBiZSBjYWxsZWQgMCwgMSwgb3IgbW9yZSB0aW1lcyBwZXIgcmVjZWl2ZWQgdGVsZXRleHQgcGFja2V0LlxuXG5admJpLlBmY0RlbXV4LmZlZWQoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHBmYy5mZWVkKGJ1ZilcblxuVGhpcyBmdW5jdGlvbiB0YWtlcyBhIHJhdyBzdHJlYW0gb2YgVGVsZXRleHQgcGFja2V0cywgZGV0ZWN0cyBpZiB0aGV5XG5iZWxvbmcgdG8gdGhlIHJlcXVlc3RlZCBwYWdlIGFuZCBzdHJlYW0gYW5kIGFzc2VtYmxlcyB0aGUgZGF0YSB0cmFuc21pdHRlZFxuaW4gdGhpcyBwYWNrZXQgaW4gYW4gaW50ZXJuYWwgYnVmZmVyLiBXaGVuIGEgZGF0YSBibG9jayBpcyBjb21wbGV0ZSBpdFxuY2FsbHMgdGhlIGhhbmRsZXIgZ2l2ZW4gZHVyaW5nIGNyZWF0aW9uLlxuXG5admJpLlBmY0RlbXV4LmZlZWRfZnJhbWUoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuVGhpcyBmdW5jdGlvbiB3b3JrcyBsaWtlICpwZmMuZmVlZCgpKiBidXQgdGFrZXMgYSBjb21wbGV0ZSBzbGljZWQgYnVmZmVyXG4oaS5lLiBhIGZ1bGwgZnJhbWUncyB3b3J0aCBvZiBzbGljZWQgZGF0YSBhcyByZXR1cm5lZCBieVxuYFp2YmkuQ2FwdHVyZS5wdWxsX3NsaWNlZCgpYF8pIGFuZCBhdXRvbWF0aWNhbGx5IGZpbHRlcnMgb3V0IGFsbCB1bnJlbGF0ZWRcbnRlbGV0ZXh0IHBhY2tldHMuICBUaGlzIGNhbiBiZSB1c2VkIHRvIFwic2hvcnQtY2lyY3VpdFwiIHRoZSBjYXB0dXJlIG91dHB1dFxud2l0aCB0aGUgZGVtdWx0aXBsZXhlci4gRXhhbXBsZTogOjpcblxuICAgIHNsaWNlZF9idWZmZXIgPSBjYXAucHVsbF9zbGljZWQoMTAwMClcbiAgICBwZmMuZmVlZF9mcmFtZShzbGljZWRfYnVmZmVyKVxuXG5UaGUgY2FsbGJhY2sgZnVuY3Rpb24gZ2l2ZW4gZHVyaW5nIGNvbnRleHQgY3JlYXRpb24gaXMgY2FsbGVkIHdoZW4gYSBuZXdcbmRhdGEgYmxvY2sgaXMgY29tcGxldGUuICBUaGUgZnVuY3Rpb24gcmV0dXJucyAqTm9uZSouICBFeGNlcHRpb25cbipadmJpLlBmY0RlbXV4RXJyb3IqIGlzIHJhaXNlZCBpZiBhbnkgb2YgdGhlIHRlbGV0ZXh0IHBhY2tldHMgaW4gdGhlIGJ1ZmZlclxuY29udGFpbmVkIGluY29ycmVjdGlibGUgZXJyb3JzLlxuXG5admJpLlBmY0RlbXV4LnJlc2V0KClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgcGZjLnJlc2V0KClcblxuUmVzZXRzIHRoZSBQRkMgZGVtdXggY29udGV4dCwgdXNlZnVsIGZvciBleGFtcGxlIGFmdGVyIGEgY2hhbm5lbCBjaGFuZ2UuXG5cblxuLi4gX1p2YmkuWGRzRGVtdXg6XG5cbkNsYXNzIFp2YmkuWGRzRGVtdXhcbj09PT09PT09PT09PT09PT09PT1cblxuU2VwYXJhdGluZyBcIkV4dGVuZGVkIERhdGEgU2VydmljZVwiIChYRFMpIGZyb20gYSBDbG9zZWQgQ2FwdGlvbiBzdHJlYW0gKEVJQVxuNjA4KS5cblxuQ29uc3RydWN0b3IgWnZiaS5YZHNEZW11eCgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHhkcyA9IFp2YmkuWGRzRGVtdXgoY2FsbGJhY2ssIHVzZXJfZGF0YSlcblxuQ3JlYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBFeHRlbmRlZCBEYXRhIFNlcnZpY2UgKEVJQSA2MDgpIGRlbXVsdGlwbGV4ZXIuXG5cblBhcmFtZXRlcnMgKmNhbGxiYWNrKiBhbmQgb3B0aW9uYWxseSAqdXNlcl9kYXRhKiBzcGVjaWZ5IGEgaGFuZGxlciBhbmRcbnBhc3NlZC10aHJvdWdoIHBhcmFtZXRlciB3aGljaCBpcyBjYWxsZWQgd2hlbiBhIG5ldyBwYWNrZXQgaXMgYXZhaWxhYmxlLlxuUGFzc2luZyB0aGUgY2FsbGJhY2sgaXMgbWFuZGF0b3J5IGFzIHRoZSBkYXRhIGlzIG90aGVyd2lzZSBkaXNjYXJkZWQuXG5cblRoZSBjYWxsYmFjayBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuXG4wLiAqeGRzX2NsYXNzKiBpcyB0aGUgWERTIHBhY2tldCBjbGFzcywgaS5lLiBvbmUgb2YgdGhlIGBWQklfWERTX0NMQVNTXypgXG4gICBjb25zdGFudHMuXG4xLiAqeGRzX3N1YmNsYXNzKiBob2xkcyB0aGUgc3ViY2xhc3M7IG1lYW5pbmcgZGVwZW5kcyBvbiB0aGUgbWFpbiBjbGFzcy5cbjIuICpidWZmZXIqIGlzIGEgYnl0ZXMgb2JqZWN0IGhvbGRpbmcgdGhlIHBhY2tldCBkYXRhIChhbHJlYWR5IHBhcml0eSBkZWNvZGVkLilcbjMuIE9wdGlvbmFsbHkgKnVzZXJfZGF0YSosIGlmIHNwZWNpZmllZCBhcyBjb25zdHJ1Y3RvciBwYXJhbWV0ZXI7IGVsc2UgdGhlXG4gICBwYXJhbWV0ZXIgaXMgb21pdHRlZC5cblxuWnZiaS5YZHNEZW11eC5mZWVkKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICB4ZHMuZmVlZChidWYpXG5cblRoaXMgZnVuY3Rpb24gdGFrZXMgdHdvIHN1Y2Nlc3NpdmUgYnl0ZXMgb2YgYSByYXcgQ2xvc2VkIENhcHRpb24gc3RyZWFtLFxuZmlsdGVycyBvdXQgWERTIGRhdGEgYW5kIGNhbGxzIHRoZSBoYW5kbGVyIGZ1bmN0aW9uIGdpdmVuIGR1cmluZyBjb250ZXh0XG5jcmVhdGlvbiB3aGVuIGEgbmV3IHBhY2tldCBpcyBjb21wbGV0ZS5cblxuUGFyYW1ldGVyICpidWYqIGlzIGEgYnl0ZXMtbGlrZSBvYmplY3QgaG9sZGluZyBkYXRhIGZyb20gTlRTQyBsaW5lIDI4NCAoYXNcbnJldHVybmVkIGJ5IHRoZSBzbGljZXIgZnVuY3Rpb25zLikgIE9ubHkgdGhlIGZpcnN0IHR3byBieXRlcyBpbiB0aGUgYnVmZmVyXG5hcmUgdXNlZC5cblxuVGhlIGZ1bmN0aW9uIHJldHVybnMgKk5vbmUqLiBFeGNlcHRpb24gKlp2YmkuWGRzRGVtdXhFcnJvciogaXMgcmFpc2VkIGlmXG50aGUgYnVmZmVyIGNvbnRhaW5lZCBwYXJpdHkgZXJyb3JzLlxuXG5admJpLlhkc0RlbXV4LmZlZWRfZnJhbWUoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuVGhpcyBmdW5jdGlvbiB3b3JrcyBsaWtlICp4ZHMuZmVlZCgpKiBidXQgdGFrZXMgYSBjb21wbGV0ZSBzbGljZWQgYnVmZmVyXG4oaS5lLiBhIGZ1bGwgZnJhbWUncyB3b3J0aCBvZiBzbGljZWQgZGF0YSBhcyByZXR1cm5lZCBieVxuYFp2YmkuQ2FwdHVyZS5wdWxsX3NsaWNlZCgpYF8pIGFuZCBhdXRvbWF0aWNhbGx5IGZpbHRlcnMgb3V0IGFsbFxubm9uLWNsb3NlZCBjYXB0aW9uIGxpbmVzLiAgVGhpcyBjYW4gYmUgdXNlZCB0byBcInNob3J0LWNpcmN1aXRcIiB0aGUgY2FwdHVyZVxub3V0cHV0IHdpdGggdGhlIGRlbXVsdGlwbGV4ZXIuIEV4YW1wbGU6IDo6XG5cbiAgICBzbGljZWRfYnVmZmVyID0gY2FwLnB1bGxfc2xpY2VkKDEwMDApXG4gICAgeGRzLmZlZWRfZnJhbWUoc2xpY2VkX2J1ZmZlcilcblxuVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGdpdmVuIGR1cmluZyBjb250ZXh0IGNyZWF0aW9uIGlzIGNhbGxlZCB3aGVuIGEgbmV3XG5wYWNrZXQgaXMgY29tcGxldGUuICBUaGUgZnVuY3Rpb24gcmV0dXJucyAqTm9uZSouICBFeGNlcHRpb25cbipadmJpLlhkc0RlbXV4RXJyb3IqIGlzIHJhaXNlZCBpZiBhbnkgb2YgdGhlIENDIGxpbmVzIGluIHRoZSBidWZmZXJcbmNvbnRhaW5lZCBwYXJpdHkgZXJyb3JzLlxuXG5admJpLlhkc0RlbXV4LnJlc2V0KClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgeGRzLnJlc2V0KClcblxuUmVzZXRzIHRoZSBYRFMgZGVtdXggY29udGV4dCwgdXNlZnVsIGZvciBleGFtcGxlIGFmdGVyIGEgY2hhbm5lbCBjaGFuZ2UuXG5cblxuTWlzY2VsbGFuZW91cyAoWnZiaSlcbj09PT09PT09PT09PT09PT09PT09XG5cblp2YmkubGliX3ZlcnNpb24oKVxuLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBtYWpvciwgbWlub3IsIG1pY3JvID0gWnZiaS5saWJfdmVyc2lvbigpXG5cblJldHVybnMgdGhlIG1ham9yLCBtaW5vciBhbmQgbWljcm8gdmVyc2lvbnMgb2YgdGhlIFpWQkkgbGlicmFyeSBpblxuZm9ybSBvZiBhIHR1cGxlLlxuXG5admJpLmNoZWNrX2xpYl92ZXJzaW9uKClcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgWnZiaS5jaGVja19saWJfdmVyc2lvbihtYWpvciwgbWlub3IsIG1pY3JvKVxuXG5SZXR1cm5zIFRydWUgaWYgdGhlIGxpYnJhcnkgdmVyc2lvbiBpcyBhdCBsZWFzdCB0aGUgZ2l2ZW4gdmVyc2lvbi5cblRoZSBsYXN0IHR3byBwYXJhbWV0ZXJzIGFyZSBvcHRpb25hbCBhbmQgZGVmYXVsdCB0byB6ZXJvLiBFeGFtcGxlOiA6OlxuXG4gICAgaWYgbm90IFp2YmkuY2hlY2tfbGliX3ZlcnNpb24oMCwgMiwgMzUpOlxuICAgICAgICBwcmludChcIkxpYnJhcnkgdmVyc2lvbiBpcyBvdXRkYXRlZFwiKVxuXG5cblp2Ymkuc2V0X2xvZ19mbigpXG4tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgWnZiaS5zZXRfbG9nX2ZuKG1hc2ssIGxvZ19mbj1Ob25lLCB1c2VyX2RhdGE9Tm9uZSlcblxuVmFyaW91cyBmdW5jdGlvbnMgd2l0aGluIHRoZSAqbGlienZiaSogbGlicmFyeSBjYW4gcHJpbnQgd2FybmluZ3MsIGVycm9yc1xuYW5kIGluZm9ybWF0aW9uIHVzZWZ1bCBmb3IgZGVidWdnaW5nIHRoZSBsaWJyYXJ5IG9yIGFwcGxpY2F0aW9uLiBCeVxuZGVmYXVsdCBzdWNoIG1lc3NhZ2VzIGFyZSBkaXNhYmxlZC4gVGhpcyBmdW5jdGlvbiBhbGxvd3MgZW5hYmxpbmcgdGhlc2Vcbm1lc3NhZ2VzIGJ5IHNwZWNpZnlpbmcgYSBmdW5jdGlvbiBmb3IgcHJpbnRpbmcgdGhlbS4gKE5vdGU6IFRoZSBraW5kIGFuZFxuY29udGVudHMgb2YgbWVzc2FnZXMgbG9nZ2VkIGJ5IHBhcnRpY3VsYXIgZnVuY3Rpb25zIG1heSBjaGFuZ2UgaW4gdGhlXG5mdXR1cmUuKVxuXG5JbnB1dCBwYXJhbWV0ZXJzOlxuXG46bWFzazpcbiAgICBBbiBpbnRlZ2VyIHZhbHVlIHNwZWNpZnlpbmcgd2hpY2gga2luZCBvZiBpbmZvcm1hdGlvbiB0byBsb2cuXG4gICAgSWYgemVybywgbG9nZ2luZyBpcyBkaXNhYmxlZCAoYW5kIHBhcmFtZXRlciAqbG9nX2ZuKiBpcyBpZ25vcmVkKS5cbiAgICBFbHNlIHRoaXMgaXMgYSBiaXQtd2lzZSBPUiBvZiBvbmUgb3IgbW9yZSBvZiB0aGUgY29uc3RhbnRzXG4gICAgYFZCSV9MT0dfRVJST1JgLFxuICAgIGBWQklfTE9HX1dBUk5JTkdgLFxuICAgIGBWQklfTE9HX05PVElDRWAsXG4gICAgYFZCSV9MT0dfSU5GT2AsXG4gICAgYFZCSV9MT0dfREVCVUdgLFxuICAgIGBWQklfTE9HX0RSSVZFUmAsXG4gICAgYFZCSV9MT0dfREVCVUcyYCxcbiAgICBgVkJJX0xPR19ERUJVRzNgLlxuXG46bG9nX2ZuOlxuICAgIENhbGxhYmxlIG9iamVjdCB0byBiZSBjYWxsZWQgZm9yIGxvZyBtZXNzYWdlcy4gT21pdCB0aGlzIHBhcmFtZXRlciB0b1xuICAgIGRpc2FibGUgbG9nZ2luZy5cblxuOnVzZXJfZGF0YTpcbiAgICBJZiBwcmVzZW50LCB0aGUgcGFyYW1ldGVyIGlzIHBhc3NlZCB0aHJvdWdoIGFzIGxhc3QgcGFyYW1ldGVyIHRvIGVhY2hcbiAgICBjYWxsIG9mIHRoZSBmdW5jdGlvbiBzcGVjaWZpZWQgYnkgKmxvZ19mbiouIFdoZW4gbm90IHNwZWNpZmllZCwgdGhlXG4gICAgY2FsbGJhY2sgaXMgaW52b2tlZCB3aXRoIG9uZSBsZXNzIHBhcmFtZXRlci5cblxuVGhlIGhhbmRsZXIgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuXG4xLiAqbGV2ZWwqOiBJcyBhbiBpbnRlZ2VyIHdpdGggdGhlIHZhbHVlIG9mIG9uZSBvZiB0aGUgYFZCSV9MT0dfKmBcbiAgIGNvbnN0YW50cyBlbnVtZXJhdGVkIGFib3ZlLlxuMi4gKmNvbnRleHQqOiBJcyBhIHRleHQgc3RyaW5nIGRlc2NyaWJpbmcgdGhlIG1vZHVsZSB3aGVyZSB0aGUgZXZlbnRcbiAgIG9jY3VycmVkLlxuMy4gKm1lc3NhZ2UqOiBTdHJpbmcgd2l0aCB0aGUgYWN0dWFsIG1lc3NhZ2UgdGV4dC5cbjQuICp1c2VyX2RhdGEqOiBUaGUgb2JqZWN0IHBhc3NlZCBhcyAqdXNlcl9kYXRhKiBwYXJhbWV0ZXIgdG8gKnNldF9sb2dfZm4oKSouXG4gICBUaGUgcGFyYW1ldGVyIGlzIG9taXR0ZWQgZnJvbSB0aGUgY2FsbCB3aGVuIG9taXR0ZWQgYXMgcGFyYW1ldGVyIHRvXG4gICAqc2V0X2xvZ19mbigpKi5cblxuTm90ZSBpZiB5b3Ugc2ltcGx5IHdhbnQgdG8gaGF2ZSB0aGUgbWVzc2FnZXMgcHJpbnRlZCB0byAqc3lzLnN0ZGVyciosIHlvdVxuY2FuIHVzZSBgWnZiaS5zZXRfbG9nX29uX3N0ZGVycigpYF8gaW5zdGVhZC4gQWxzbyBub3RlIHlvdSBjYW4gcmVnaXN0ZXJcbm9ubHkgb25lIGxvZyBoYW5kbGVyOyBmdXJ0aGVyIHJlZ2lzdHJhdGlvbnMgd2lsbCBvdmVycmlkZSB0aGUgcHJldmlvdXNcbm9uZS5cblxuWnZiaS5zZXRfbG9nX29uX3N0ZGVycigpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIFp2Ymkuc2V0X2xvZ19vbl9zdGRlcnIobWFzaylcblxuVGhpcyBmdW5jdGlvbiBlbmFibGVzIGVycm9yIGxvZ2dpbmcganVzdCBsaWtlIGBadmJpLnNldF9sb2dfZm4oKWBfLFxuYnV0IHVzZXMgdGhlIGxpYnJhcnkncyBpbnRlcm5hbCBsb2cgZnVuY3Rpb24gd2hpY2ggcHJpbnRzXG5hbGwgbWVzc2FnZXMgdG8gKnN0ZGVyciosIGkuZS4gb24gdGhlIHRlcm1pbmFsLlxuXG4qbWFzayogaXMgYSBiaXQtd2lzZSBPUiBvZiB6ZXJvIG9yIG1vcmUgb2YgdGhlIGBWQklfTE9HXypgXG5jb25zdGFudHMuIFRoZSBtYXNrIHNwZWNpZmllcyB3aGljaCBraW5kIG9mIGluZm9ybWF0aW9uIHRvIGxvZy5cblRvIGRpc2FibGUgbG9nZ2luZywgcGFzcyBhIHplcm8gbWFzayB2YWx1ZS5cblxuWnZiaS5wYXI4KClcbi0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBwYXJfdmFsID0gcGFyOCh2YWwpXG5cblRoaXMgZnVuY3Rpb24gZW5jb2RlcyB0aGUgZ2l2ZW4gNy1iaXQgdmFsdWUgd2l0aCBQYXJpdHkuIFRoZVxucmVzdWx0IGlzIGFuIDgtYml0IHZhbHVlIGluIHRoZSByYW5nZSAwLi4yNTUuXG5FeGNlcHRpb24gKlZhbHVlRXJyb3IqIGlzIHJhaXNlZCB3aGVuIHRoZSBpbnB1dCBpcyBvdXQgb2YgcmFuZ2UuXG5cblp2YmkudW5wYXI4KClcbi0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHZhbCA9IFp2YmkudW5wYXI4KHBhcl92YWwpXG5cblRoaXMgZnVuY3Rpb24gZGVjb2RlcyB0aGUgZ2l2ZW4gUGFyaXR5IGVuY29kZWQgOC1iaXQgdmFsdWUuIFRoZSByZXN1bHRcbmlzIGEgNy1iaXQgdmFsdWUgaW4gdGhlIHJhbmdlIDAuLi4xMjcgb3IgYSBuZWdhdGl2ZSB2YWx1ZSB3aGVuIGFcbnBhcml0eSBlcnJvciBpcyBkZXRlY3RlZC4gIChOb3RlOiB0byBkZWNvZGUgcGFyaXR5IHdoaWxlIGlnbm9yaW5nXG5lcnJvcnMsIHNpbXBseSBtYXNrIG91dCB0aGUgaGlnaGVzdCBiaXQsIGkuZS4gdmFsICY9IDB4N0YpXG5FeGNlcHRpb24gKlZhbHVlRXJyb3IqIGlzIHJhaXNlZCB3aGVuIHRoZSBpbnB1dCBpcyBvdXQgb2YgcmFuZ2UuXG5cblp2YmkucGFyX3N0cigpXG4tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgYnl0ZV9zdHIgPSBadmJpLnBhcl9zdHIoZGF0YSlcblxuVGhpcyBmdW5jdGlvbiBlbmNvZGVzIGEgc3RyaW5nIGluIGFuIFVuaWNvZGUgb3IgYnl0ZXMtbGlrZSBvYmplY3Qgd2l0aFxucGFyaXR5IGFuZCByZXR1cm5zIHRoZSByZXN1bHQgd2l0aGluIGEgYnl0ZXMgb2JqZWN0LlxuXG5admJpLnVucGFyX3N0cigpXG4tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBieXRlX3N0ciA9IFp2YmkudW5wYXJfc3RyKGRhdGEpXG5cblRoaXMgZnVuY3Rpb24gZGVjb2RlcyBhIFBhcml0eSBlbmNvZGVkIHN0cmluZyBhbmQgcmV0dXJucyB0aGUgcmVzdWx0XG53aXRoaW4gYSBieXRlcyBvYmplY3QuIChOb3RlIGRlc3BpdGUgdGhlIG5hbWUgdGhlIGNoYXJhY3RlcnMgY2Fubm90XG5ieSByZXR1cm5lZCBhcyBQeXRob24gVW5pY29kZSBzdHJpbmcsIGFzIHRoZSBlbmNvZGluZyBpcyBub3Qga25vd24uKVxuXG5admJpLnJldjgoKVxuLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHZhbCA9IFp2YmkucmV2OCh2YWwpXG5cblRoaXMgZnVuY3Rpb24gcmV2ZXJzZXMgdGhlIG9yZGVyIG9mIGFsbCBiaXRzIG9mIHRoZSBnaXZlbiA4LWJpdCBpbnRlZ2VyXG52YWx1ZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LiBUaGlzIGNvbnZlcnNpb24gaXMgcmVxdWlyZWQgZm9yIGRlY29kaW5nXG5jZXJ0YWluIHRlbGV0ZXh0IGVsZW1lbnRzIHdoaWNoIGFyZSB0cmFuc21pdHRlZCBNU0IgZmlyc3QgaW5zdGVhZCBvZiB0aGVcbnVzdWFsIExTQiBmaXJzdCAodGhlIHRlbGV0ZXh0IFZCSSBzbGljZXIgYWxyZWFkeSBpbnZlcnRzIHRoZSBiaXQgb3JkZXIgc29cbnRoYXQgTFNCIGFyZSBpbiBiaXQgIzApXG5cblp2YmkucmV2MTYoKVxuLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICB2YWwgPSBadmJpLnJldjE2KHZhbClcblxuVGhpcyBmdW5jdGlvbiByZXZlcnNlcyB0aGUgb3JkZXIgb2YgYWxsIGJpdHMgb2YgdGhlIGdpdmVuIDE2LWJpdCBpbnRlZ2VyXG52YWx1ZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LlxuXG5admJpLnJldjE2cCgpXG4tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICB2YWwgPSBadmJpLnJldjE2cChkYXRhLCBvZmZzZXQ9MClcblxuVGhpcyBmdW5jdGlvbiByZXZlcnNlcyBhbGwgYml0cyBvZiB0d28gY29uc2VjdXRpdmUgYnl0ZXMgaW4gdGhlIGdpdmVuXG5ieXRlcy1saWtlIG9iamVjdCBzdGFydGluZyBhdCB0aGUgZ2l2ZW4gb2Zmc2V0IGFuZCByZXR1cm5zIHRoZW0gYXMgYVxuMTYtYml0IGludGVnZXIgdmFsdWUuXG5cblp2YmkuaGFtOCgpXG4tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgaGFtX3ZhbCA9IFp2YmkuaGFtOCh2YWwpXG5cblRoaXMgZnVuY3Rpb24gZW5jb2RlcyB0aGUgZ2l2ZW4gNC1iaXQgaW50ZWdlciB2YWx1ZSAoaS5lLiByYW5nZSAwLi4xNSlcbndpdGggSGFtbWluZy04LzQuICBUaGUgcmVzdWx0IGlzIGFuIDgtYml0IHZhbHVlIGluIHRoZSByYW5nZSAwLi4yNTUuXG5cblp2YmkudW5oYW04KClcbi0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHZhbCA9IFp2YmkudW5oYW04KGhhbV92YWwpXG5cblRoaXMgZnVuY3Rpb24gZGVjb2RlcyB0aGUgZ2l2ZW4gSGFtbWluZy04LzQgZW5jb2RlZCBpbnRlZ2VyIHZhbHVlLiBUaGVcbnJlc3VsdCBpcyBhIDQtYml0IHZhbHVlLCBvciAtMSB1cG9uIGluY29ycmVjdGFibGUgZXJyb3JzLlxuXG5admJpLnVuaGFtMTZwKClcbi0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgdmFsID0gWnZiaS51bmhhbTE2cChkYXRhLCBvZmZzZXQ9MClcblxuVGhpcyBmdW5jdGlvbiBkZWNvZGVzIHR3byBIYW1taW5nLTgvNCBlbmNvZGVkIGJ5dGVzICh0YWtlbiBmcm9tIHRoZVxuYnl0ZXMtbGlrZSBvYmplY3QgKmRhdGEqIGF0IHRoZSBnaXZlbiAqb2Zmc2V0KikuIFRoZSByZXN1bHQgaXMgYW4gOC1iaXRcbmludGVnZXIgdmFsdWUsIG9yIC0xIHVwb24gaW5jb3JyZWN0YWJsZSBlcnJvcnMuXG5cblp2YmkudW5oYW0yNHAoKVxuLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICB2YWwgPSBadmJpLnVuaGFtMjRwKGRhdGEsIG9mZnNldD0wKVxuXG5UaGlzIGZ1bmN0aW9uIGRlY29kZXMgdGhyZWUgSGFtbWluZy0yNC8xOCBlbmNvZGVkIGJ5dGVzICh0YWtlbiBmcm9tIHRoZVxuYnl0ZXMtbGlrZSBvYmplY3QgKmRhdGEqIGF0IHRoZSBnaXZlbiAqb2Zmc2V0KikuIFRoZSByZXN1bHQgaXMgYSAxMi1iaXRcbmludGVnZXIgdmFsdWUsIG9yIC0xIHVwb24gaW5jb3JyZWN0YWJsZSBlcnJvcnMuXG5cblp2YmkuZGVjMmJjZCgpXG4tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgYmNkID0gWnZiaS5kZWMyYmNkKGRlYylcblxuQ29udmVydHMgYW4gaW50ZWdlciB2YWx1ZSAoaS5lLiBhIHJlZ3VsYXIgdHdvJ3MgY29tcGxlbWVudCBlbmNvZGVkIGJpbmFyeVxudmFsdWUpIGluIHJhbmdlIDAgLi4uIDk5OSBpbnRvIGEgcGFja2VkIEJDRCBudW1iZXIgKGJpbmFyeSBjb2RlZCBkZWNpbWFsKVxuaW4gcmFuZ2UgIDB4MDAwIC4uLiAweDk5OSwgd2hlcmUgZWFjaCBoZXggbmliYmxlIGlzIGluIHJhbmdlIDAuLjkuXG5FeGNlcHRpb24gKlZhbHVlRXJyb3IqIGlzIHJhaXNlZCB3aGVuIHRoZSBpbnB1dCBpcyBvdXQgb2YgcmFuZ2UuXG5cblp2YmkuYmNkMmRlYygpXG4tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgZGVjID0gWnZiaS5iY2QyZGVjKGJjZClcblxuQ29udmVydHMgYSBwYWNrZWQgQkNEIG51bWJlciBpbiByYW5nZSAweDAwMCAuLi4gMHhGRkYgaW50byBhIHJlZ3VsYXJcbmludGVnZXIgdmFsdWUgKGkuZS4gdHdvJ3MgY29tcGxlbWVudCBiaW5hcnkpIGluIHJhbmdlIDAgLi4uIDk5OS5cbkV4Y2VwdGlvbiAqVmFsdWVFcnJvciogaXMgcmFpc2VkIHdoZW4gdGhlIGlucHV0IGlzIG91dCBvZiByYW5nZSBvclxuaW52YWxpZCBCQ0QuXG5cblp2YmkuYWRkX2JjZCgpXG4tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgYmNkX3N1bSA9IFp2YmkuYWRkX2JjZChiY2QxLCBiY2QyKVxuXG5BZGRzIHR3byBwYWNrZWQgQkNEIG51bWJlcnMsIHJldHVybmluZyBhIHBhY2tlZCBCQ0Qgc3VtLiBBcmd1bWVudHNcbmFuZCByZXN1bHQgYXJlIGluIHJhbmdlIDB4RjAwMDAwMDAgLi4uIDB4MDk5OTk5OTksIHRoYXRcbmlzIC0xMCoqNyAuLi4gKzEwKio3IC0gMSBpbiBkZWNpbWFsIG5vdGF0aW9uLiBUbyBzdWJ0cmFjdCB5b3UgY2FuXG5hZGQgdGhlIDEwJ3MgY29tcGxlbWVudCwgZS4gZy4gLTEgPSAweEY5OTk5OTk5LlxuXG5UaGUgcmV0dXJuIHZhbHVlIGlzIGEgcGFja2VkIEJDRCBudW1iZXIuICBFeGNlcHRpb24gKlZhbHVlRXJyb3IqIGlzIHJhaXNlZFxud2hlbiB0aGUgaW5wdXQgdmFsdWVzIGFyZSBvdXQgb2YgcmFuZ2Ugb3IgaW52YWxpZCBCQ0QuXG5cblp2YmkuaXNfYmNkKClcbi0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHllc19ubyA9IFp2YmkuaXNfYmNkKGJjZClcblxuVGVzdHMgaWYgKmJjZCogZm9ybXMgYSB2YWxpZCBCQ0QgbnVtYmVyLiBUaGUgYXJndW1lbnQgbXVzdCBiZVxuaW4gcmFuZ2UgMHgwMDAwMDAwMCAuLi4gMHgwOTk5OTk5OS4gUmV0dXJuIHZhbHVlIGlzIDAgaWYgKmJjZCpcbmNvbnRhaW5zIGhleCBkaWdpdHMgMHhBIC4uLiAweEYuXG5cblp2YmkuZGVjb2RlX3Zwc19jbmkoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgY25pID0gWnZiaS5kZWNvZGVfdnBzX2NuaShkYXRhKVxuXG5UaGlzIGZ1bmN0aW9uIHRha2VzIGEgc2xpY2VkIFZQUyBsaW5lIGluIGZvcm0gb2YgYSBieXRlcy1saWtlIG9iamVjdFxuaG9sZGluZyBhdCBsZWFzdCAxMyBieXRlcy4gVGhlIGZ1bmN0aW9uIGRlY29kZXMgdGhlIG5ldHdvcmsgaWRlbnRpZmllciBhbmRcbnJldHVybnMgaXQgYXMgYSAxNi1iaXQgQ05JIHZhbHVlLiBUaGUgZnVuY3Rpb24gcmFpc2VzIGV4Y2VwdGlvblxuKlp2YmlFcnJvciogaW4gY2FzZSBvZiBlcnJvcnMuXG5cblp2YmkuZW5jb2RlX3Zwc19jbmkoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgYnl0ZV9zdHIgPSBadmJpLmVuY29kZV92cHNfY25pKGNuaSlcblxuVGhpcyBmdW5jdGlvbiByZWNlaXZlcyBhIDE2LWJpdCBDTkkgdmFsdWUgYW5kIHJldHVybnMgYSBWUFMgbGluZSxcbm9yIHJhaXNlcyBleGNlcHRpb24gKlp2YmlFcnJvciogaW4gY2FzZSBvZiBhbiBpbnZhbGlkIENOSSB2YWx1ZSB0aGF0XG5jYW5ub3QgYmUgZW5jb2RlZCAoZS5nLiBvdXQgb2YgcmFuZ2UpXG5cblp2YmkucmF0aW5nX3N0cmluZygpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgcmF0aW5nID0gWnZiaS5yYXRpbmdfc3RyaW5nKGF1dGgsIGlkKVxuXG5UcmFuc2xhdGUgYSBwcm9ncmFtIHJhdGluZyBjb2RlIGdpdmVuIGJ5ICphdXRoKiBhbmQgKmlkKiBpbnRvIGFcbnN0cmluZywgbmF0aXZlIGxhbmd1YWdlLiAgUmFpc2VzIGV4Y2VwdGlvbiAqWnZiaS5FcnJvciogaWYgdGhpc1xuY29kZSBpcyB1bmRlZmluZWQuIFRoZSBpbnB1dCBwYXJhbWV0ZXJzIHdpbGwgdXN1YWxseSBvcmlnaW5hdGUgZnJvbVxuZWxlbWVudHMgKmV2LnJhdGluZ19hdXRoKiBhbmQgKmV2LnJhdGluZ19pZCosIHByb3ZpZGVkIHdpdGhpbiBhbiBpbnN0YW5jZVxub2YgdHlwZSAqWnZiaS5Qcm9nSW5mbyogZm9yIGFuIGV2ZW50IG9mIHR5cGUgYFZCSV9FVkVOVF9QUk9HX0lORk9gIHJhaXNlZFxuYnkgYFp2YmkuU2VydmljZURlYyBldmVudCBoYW5kbGluZ2BfLlxuXG5admJpLnByb2dfdHlwZV9zdHJpbmcoKVxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuOjpcblxuICAgIHByb2dfdHlwZSA9IFp2YmkucHJvZ190eXBlX3N0cmluZyhjbGFzc2YsIGlkKVxuXG5UcmFuc2xhdGUgYSAqdmJpX3Byb2dyYW1faW5mbyogcHJvZ3JhbSB0eXBlIGNvZGUgaW50byBzdHJpbmcsIGN1cnJlbnRseVxuRW5nbGlzaCBvbmx5LiBSYWlzZXMgZXhjZXB0aW9uICpadmJpLkVycm9yKiBpZiB0aGlzIGNvZGUgaXMgdW5kZWZpbmVkLlxuXG5UaGUgaW5wdXQgcGFyYW1ldGVycyB3aWxsIHVzdWFsbHkgb3JpZ2luYXRlIGZyb20gZWxlbWVudHMgKmV2LnR5cGVfY2xhc3NmKlxuYW5kICpldi50eXBlX2lkXzAqIGV0LmFsLiwgcHJvdmlkZWQgd2l0aGluIGFuIGluc3RhbmNlIG9mIHR5cGVcbipadmJpLlByb2dJbmZvKiBmb3IgYW4gZXZlbnQgb2YgdHlwZSBgVkJJX0VWRU5UX1BST0dfSU5GT2AgcmFpc2VkIGJ5XG5gWnZiaS5TZXJ2aWNlRGVjIGV2ZW50IGhhbmRsaW5nYF8uXG5cblp2YmkuaWNvbnZfY2FwdGlvbigpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG46OlxuXG4gICAgc3RyID0gWnZiaS5pY29udl9jYXB0aW9uKHNyYywgcmVwbF9jaGFyPU5vbmUpXG5cbkNvbnZlcnRzIGEgc3RyaW5nIG9mIEVJQSA2MDggQ2xvc2VkIENhcHRpb24gY2hhcmFjdGVycyBpbnRvIGEgVW5pY29kZVxuc3RyaW5nLiAgVGhlIGZ1bmN0aW9uIGlnbm9yZXMgcGFyaXR5IGJpdHMgYW5kIHRoZSBieXRlcyAweDAwIC4uLiAweDFGLFxuZXhjZXB0IGZvciB0d28tYnl0ZSBzcGVjaWFsIGFuZCBleHRlbmRlZCBjaGFyYWN0ZXJzIChlLmcuIG11c2ljIG5vdGUgMHgxMVxuMHgzNykgIFNlZSBhbHNvICpjYXB0aW9uX3VuaWNvZGUoKSouXG5cblRoZSBvcHRpb25hbCBzZWNvbmQgcGFyYW1ldGVyICpyZXBsX2NoYXIqIHNwZWNpZmllcyBhbiBVQ1MtMiByZXBsYWNlbWVudFxuZm9yIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IHJlcHJlc2VudGFibGUgd2l0aCBzdGFuZGFyZCBVbmljb2RlIGNvZGVcbnBvaW50cy4gIFRoZSBwYXJhbWV0ZXIgaXMgZXhwZWN0ZWQgaW4gZm9ybSBvZiBhIHN0cmluZyBjb250YWluaW5nIGEgc2luZ2xlXG5jaGFyYWN0ZXIuIFdoZW4gb21pdHRlZCwgdGhlIGZ1bmN0aW9uIHdpbGwgcmFpc2UgZXhjZXB0aW9uICpadmJpLkVycm9yKiBpZlxudGhlIHNvdXJjZSBidWZmZXIgY29udGFpbnMgdW5yZXByZXNlbnRhYmxlIGNoYXJhY3RlcnMuXG5cblJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcgYXMgYW4gVW5pY29kZSBvYmplY3QuIFRoZSBmdW5jdGlvbiByYWlzZXNcbmV4Y2VwdGlvbiAqWnZiaS5FcnJvciogd2hlbiB0aGUgc291cmNlIGJ1ZmZlciBjb250YWlucyBub24tcmVwcmVzZW50YWJsZVxuY29kZSBwb2ludHMsIG9yIHdoZW4gdGhlIGNvbnZlcnNpb24gZmFpbHMsIG9yIHdoZW4gaXQgcnVucyBvdXQgb2YgbWVtb3J5LlxuXG5admJpLmNhcHRpb25fdW5pY29kZSgpXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbjo6XG5cbiAgICBzdHIgPSBadmJpLmNhcHRpb25fdW5pY29kZShjLCB0b191cHBlcj1GYWxzZSlcblxuQ29udmVydHMgYSBzaW5nbGUgQ2xvc2VkIENhcHRpb24gY2hhcmFjdGVyIGNvZGUgaW50byBhIFVuaWNvZGUgc3RyaW5nLlxuQ29kZXMgaW4gcmFuZ2UgMHgxMTMwIHRvIDB4MUIzRiBhcmUgc3BlY2lhbCBhbmQgZXh0ZW5kZWQgY2hhcmFjdGVyc1xuKGUuZy4gY2FwdGlvbiBjb21tYW5kIDExIDM3KS5cblxuSW5wdXQgY2hhcmFjdGVyIGNvZGVzIGluICpjKiBhcmUgaW4gcmFuZ2VzOlxuXG4qIDB4MDAyMCAuLi4gMHgwMDdGXG4qIDB4MTEzMCAuLi4gMHgxMTNGXG4qIDB4MTkzMCAuLi4gMHgxOTNGXG4qIDB4MTIyMCAuLi4gMHgxMjNGXG4qIDB4MUEyMCAuLi4gMHgxQTNGXG4qIDB4MTMyMCAuLi4gMHgxMzNGXG4qIDB4MUIyMCAuLi4gMHgxQjNGXG5cbldoZW4gVHJ1ZSBpcyBwYXNzZWQgYXMgb3B0aW9uYWwgc2Vjb25kIHBhcmFtZXRlciwgdGhlIGNoYXJhY3RlciBpcyBjb252ZXJ0ZWRcbmludG8gdXBwZXIgY2FzZS4gKE9mdGVuIHByb2dyYW1zIGFyZSBjYXB0aW9uZWQgaW4gYWxsIHVwcGVyIGNhc2UsIGJ1dFxuZXhjZXB0IGZvciBvbmUgY2hhcmFjdGVyIHRoZSBiYXNpYyBhbmQgc3BlY2lhbCBDQyBjaGFyYWN0ZXIgc2V0cyBjb250YWluXG5vbmx5IGxvd2VyIGNhc2UgYWNjZW50ZWQgY2hhcmFjdGVycy4pXG5cblxuRXhhbXBsZXNcbj09PT09PT09XG5cblRoZSBgZXhhbXBsZXNgIHN1Yi1kaXJlY3RvcnkgaW4gdGhlICpadmJpKiBwYWNrYWdlIGNvbnRhaW5zIGEgbnVtYmVyIG9mXG5zY3JpcHRzIHVzZWQgdG8gdGVzdCB0aGUgdmFyaW91cyBpbnRlcmZhY2UgZnVuY3Rpb25zLiBZb3UgY2FuIGFsc28gdXNlXG50aGVtIGFzIGV4YW1wbGVzIGZvciB5b3VyIGNvZGUuXG5cbioqTm90ZSoqOiBFeGFtcGxlIGNvbW1hbmQgbGluZXMgZm9yIHNjcmlwdHMgY2FwdHVyaW5nIGRpcmVjdGx5IGZyb20gYVxuRFZCL1ZCSSBkZXZpY2Ugc2hvd24gYmVsb3cgZG8gbm90IGluY2x1ZGUgb3B0aW9ucyByZXF1aXJlZCBmb3IgY29uZmlndXJpbmdcbnRoZSBkZXZpY2UuIEdlbmVyYWxseSwgeW91J2xsIG5lZWQgZWl0aGVyXG5gLS1kZXZpY2UgL2Rldi9kdmIvYWRhcHRlcjAvZGVtdXgwIC0tcGlkIFBJRGAgZm9yIERWQiwgb3JcbmAtLWRldmljZSAvZGV2L3ZiaTBgIGZvciBhbmFsb2cgY2FwdHVyZSBkZXZpY2VzLlxuVGhlIFZCSSBQSUQgdmFsdWUgY2FuIG9mdGVuIGJlIGRlcml2ZWQgZnJvbSB0aGUgUElEIGZvciB2aWRlbyBpblxuYGNoYW5uZWxzLmNvbmZgIGJ5IGFkZGluZyBvZmZzZXRzIGluIHJhbmdlIDMgdG8gMzAuIEFsdGVybmF0aXZlbHkgeW91IGNhblxubG9vayB1cCB0aGUgUElEIHZpYSBJbnRlcm5ldCBzZXJ2aWNlcyBzdWNoIGFzIDxodHRwczovL3d3dy5zYXRpbmRleC5kZS8+LlxuXG46Y2FwdHVyZS5weTpcbiAgICBFeGFtcGxlIGZvciB0aGUgdXNlIG9mIGNsYXNzIGBadmJpLkNhcHR1cmVgXy5cbiAgICBUaGUgc2NyaXB0IGNhcHR1cmVzIFZCSSBkYXRhIGZyb20gYSBkZXZpY2UgYW5kIHNsaWNlcyBpdC4gVGhlIHJlc3VsdFxuICAgIGNhbiBiZSBkdW1wZWQgZm9yIHRoZSB2YXJpb3VzIGRhdGEgc2VydmljZXMgaW4gZm9ybSBvZiBoZXgtc3RyaW5nIHBsdXNcbiAgICByb3VnaGx5IGRlY29kZWQgdGV4dCAod2hlcmUgYXBwbGljYWJsZSkgZm9yIGluc3BlY3Rpb24gb2YgaW5jb21pbmdcbiAgICBkYXRhLiBBbHRuZXJuYXRpdmVseSwgb3V0cHV0IGNhbiBiZSB3cml0dGVuIHRvIFNURE9VVCBpbiBiaW5hcnkgZm9ybWF0XG4gICAgZm9yIGZ1cnRoZXIgcHJvY2Vzc2luZyAoZGVjb2RpbmcpIGJ5IHBpcGluZyB0aGUgZGF0YSBpbnRvIG9uZSBvZiB0aGVcbiAgICBmb2xsb3dpbmcgZXhhbXBsZSBzY3JpcHRzLiAgQ2FsbCB3aXRoIG9wdGlvbiBgLS1oZWxwYCBmb3IgYSBsaXN0XG4gICAgb2Ygb3B0aW9ucy5cbiAgICAoVGhpcyBpcyBhIHRyYW5zbGF0aW9uIG9mIGB0ZXN0L2NhcHR1cmUuY2AgaW4gdGhlIGxpYnp2YmkgcGFja2FnZS4pXG5cbjpkZWNvZGUucHk6XG4gICAgRXhhbXBsZSBmb3IgdGhlIHVzZSBvZiBjbGFzcyBgWnZiaS5TZXJ2aWNlRGVjYF8uXG4gICAgRGVjb2RlcyBzbGljZWQgVkJJIGRhdGEgb24gU1RESU4sIGUuZy4gOjpcblxuICAgICAgLi9jYXB0dXJlLnB5IC0tc2xpY2VkIHwgLi9kZWNvZGUucHkgLS10dHhcblxuICAgIENhbGwgd2l0aCBvcHRpb24gYC0taGVscGAgZm9yIGEgbGlzdCBvZiBvcHRpb25zLlxuICAgIChUaGlzIGlzIGEgZGlyZWN0IHRyYW5zbGF0aW9uIG9mIGB0ZXN0L2RlY29kZS5jYCBpbiB0aGUgbGlienZiaSBwYWNrYWdlLilcblxuOmNhcHRpb24ucHk6XG4gICAgRXhhbXBsZSBmb3IgdGhlIHVzZSBvZiBjbGFzcyBgWnZiaS5TZXJ2aWNlRGVjYF8sIHR5cGVcbiAgICAqWnZiaS5WQklfRVZFTlRfQ0FQVElPTiouICBXaGVuIGNhbGxlZCB3aXRob3V0IGFuIGlucHV0IHN0cmVhbSwgdGhlXG4gICAgYXBwbGljYXRpb24gb3BlbnMgYSBHVUkgZGlzcGxheWluZyBhIGRlbW8gbWVzc2FnZXMgc2VxdWVudGUgKGNoYXJhY3RlclxuICAgIHNldHMgZXRjLikgZm9yIGRlYnVnZ2luZyB0aGUgZGVjb2Rlci4gRm9yIGRpc3BsYXlpbmcgbGl2ZSBDQyBzdHJlYW1zXG4gICAgeW91IGNhbiB1c2UgdGhlIGZvbGxvd2luZzogOjpcblxuICAgICAgLi9jYXB0dXJlLnB5IC0tc2xpY2VkIHwgLi9jYXB0aW9uLnB5XG5cbiAgICBUaGUgYnV0dG9ucyBvbiB0b3Agb2YgdGhlIEdVSSBzd2l0Y2ggYmV0d2VlbiBDbG9zZWQgQ2FwdGlvbiBjaGFubmVsc1xuICAgIDEtNCBhbmQgVGV4dCBjaGFubmVscyAxLTQuXG4gICAgKFRoaXMgaXMgYSB0cmFuc2xhdGlvbiBvZiBgdGVzdC9jYXB0aW9uLmNgIGluIHRoZSBsaWJ6dmJpIHBhY2thZ2UsXG4gICAgYWxiZWl0IGJhc2VkIG9uIFRrSW50ZXIgaGVyZS4pXG5cbjpleHBvcnQucHk6XG4gICAgRXhhbXBsZSBmb3IgdGhlIHVzZSBvZiBleHBvcnQgYWN0aW9ucyBpbiBjbGFzcyBgWnZiaS5FeHBvcnRgXy4gVGhlXG4gICAgc2NyaXB0IGNhcHR1cmVzIGZyb20gYSBkZXZpY2UgdW50aWwgdGhlIHNwZWNpZmllZCBUZWxldGV4dCBwYWdlIChyYW5nZVxuICAgIDEwMC04RkYpIG9yIENsb3NlZCBDYXB0aW9uIHBhZ2UgKHJhbmdlIDEtOCkgaXMgZm91bmQgYW5kIHRoZW4gZXhwb3J0c1xuICAgIHRoZSBwYWdlIGNvbnRlbnQgaW4gdGhlIHJlcXVlc3RlZCBmb3JtYXQuIFRoZSBmb3JtYXQgaXMgc3BlY2lmaWVkIGFzXG4gICAgZmlyc3QgcGFyYW1ldGVyIGFuZCB0aGUgcGFnZSBudW1iZXIgYXMgc2Vjb25kIHBhcmFtZXRlciBvbiB0aGUgY29tbWFuZFxuICAgIGxpbmUuIEFsdGVybmF0aXZlbHksIHRoZSBzY3JpcHQgY2FuIGJlIHVzZWQgdG8gY29udGludW91c2x5IGV4cG9ydCBhXG4gICAgc2luZ2xlIG9yIGFsbCByZWNlaXZlZCBwYWdlcy4gRXhhbXBsZXM6IDo6XG5cbiAgICAgIC4vZXhwb3J0LnB5IHRleHQgMTAwICAgICAgICMgdGVsZXRleHQgcGFnZSAxMDAgYXMgdGV4dFxuICAgICAgLi9leHBvcnQucHkgdGV4dCBhbGwgICAgICAgIyBjb250aW51b3VzbHkgYWxsIHRlbGV0ZXh0IHBhZ2VzXG4gICAgICAuL2V4cG9ydC5weSAtLWxvb3AgdGV4dCAxICAjIGNvbnRpbnVvdXNseSBjbG9zZWQgY2FwdGlvblxuICAgICAgLi9leHBvcnQucHkgXCJwbmc7cmV2ZWFsPTFcIiAxMDAgPiBwYWdlXzEwMC5wbmdcblxuICAgIFVzZSAuL2V4cGxpc3QucHkgZm9yIGxpc3Rpbmcgc3VwcG9ydGVkIGV4cG9ydCBmb3JtYXRzIChha2EgXCJtb2R1bGVzXCIpXG4gICAgYW5kIHBvc3NpYmxlIG9wdGlvbnMuIE5vdGUgb3B0aW9ucyBhcmUgYXBwZW5kZWQgdG8gdGhlIG1vZHVsZSBuYW1lLFxuICAgIHNlcGFyYXRlZCBieSBzZW1pY29sb24gYXMgc2hvd24gaW4gdGhlIHNlY29uZCBleGFtcGxlLlxuICAgIChUaGlzIGlzIGEgdHJhbnNsYXRpb24gb2YgYHRlc3QvZXhwb3J0LmNgIGluIHRoZSBsaWJ6dmJpIHBhY2thZ2UsIHBsdXNcbiAgICBzdXBwb3J0IGZvciBDbG9zZWQgQ2FwdGlvbilcblxuOmV4cGxpc3QucHk6XG4gICAgRXhhbXBsZSBmb3IgdGhlIHVzZSBvZiBleHBvcnQgb3B0aW9uIG1hbmFnZW1lbnQgaW4gY2xhc3MgYFp2YmkuRXhwb3J0YF8uXG4gICAgVGVzdCBvZiBwYWdlIGV4cG9ydCBvcHRpb25zIGFuZCBtZW51IGludGVyZmFjZXMuICBUaGUgc2NyaXB0IGxpc3RzXG4gICAgYWxsIGF2YWlsYWJsZSBleHBvcnQgbW9kdWxlcyAoaS5lLiBmb3JtYXRzKSBhbmQgb3B0aW9ucy5cbiAgICAoVGhpcyBpcyBhIGRpcmVjdCB0cmFuc2xhdGlvbiBvZiBgdGVzdC9leHBsaXN0LmNgIGluIHRoZSBsaWJ6dmJpIHBhY2thZ2UuKVxuXG46aGFtbS5weTpcbiAgICBBdXRvbWF0ZWQgdGVzdCBvZiB0aGUgb2RkIHBhcml0eSBhbmQgSGFtbWluZyBlbmNvZGVyIGFuZCBkZWNvZGVyIGZ1bmN0aW9ucy5cbiAgICBOb3RlIHRoaXMgdGVzdCBydW5zIGZvciBhIGxvbmcgdGltZS5cbiAgICAoVGhpcyBpcyBhIGRpcmVjdCB0cmFuc2xhdGlvbiBvZiBgdGVzdC9oYW1tLmNgIGluIHRoZSBsaWJ6dmJpIHBhY2thZ2UuKVxuXG46bmV0d29yay5weTpcbiAgICBFeGFtcGxlIGZvciB0aGUgdXNlIG9mIGNsYXNzIGBadmJpLlNlcnZpY2VEZWNgXywgdHlwZSAqWnZiaS5WQklfRVZFTlRfTkVUV09SSyouXG4gICAgVGhpcyBzY3JpcHQgc2hvd3MgaG93IHRvIGlkZW50aWZ5IGEgbmV0d29yayBmcm9tIGRhdGEgdHJhbnNtaXR0ZWQgaW5cbiAgICBYRFMgcGFja2V0cywgVGVsZXRleHQgcGFja2V0IDgvMzAgZm9ybWF0IDEgYW5kIDIsIGFuZCBWUFMgcGFja2V0cy5cbiAgICBUaGUgc2NyaXB0IGNhcHR1cmVzIGRpcmVjdGx5IGZyb20gYSBkZXZpY2UgdW50aWwgdGhlIGN1cnJlbnRseSB0dW5lZFxuICAgIGNoYW5uZWwgaXMgaWRlbnRpZmllZCBieSBtZWFucyBvZiBWUFMsIFBEQyBldC5hbC5cbiAgICAoVGhpcyBpcyBhIGRpcmVjdCB0cmFuc2xhdGlvbiBvZiBgZXhhbXBsZXMvbmV0d29yay5jYCBpbiB0aGUgbGlienZiaSBwYWNrYWdlLilcblxuOnByb3h5LXRlc3QucHk6XG4gICAgRXhhbXBsZSBmb3IgdGhlIHVzZSBvZiBjbGFzcyBgWnZiaS5Qcm94eWBfLlxuICAgIFRoZSBzY3JpcHQgY2FuIGNhcHR1cmUgZWl0aGVyIGZyb20gYSBwcm94eSBkYWVtb24gb3IgYSBsb2NhbCBkZXZpY2UgYW5kXG4gICAgZHVtcHMgY2FwdHVyZWQgZGF0YSBvbiB0aGUgdGVybWluYWwuIEFsc28gYWxsb3dzIGNoYW5naW5nIHNlcnZpY2VzIGFuZFxuICAgIGNoYW5uZWxzIGR1cmluZyBjYXB0dXJpbmcgKGUuZy4gYnkgZW50ZXJpbmcgXCIrdHR4XCIgb3IgXCItdHR4XCIgb24gc3RkaW4uKVxuICAgIFN0YXJ0IHdpdGggb3B0aW9uIGAtaGVscGAgZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgY29tbWFuZCBsaW5lIG9wdGlvbnMuXG4gICAgKFRoaXMgaXMgYSBkaXJlY3QgdHJhbnNsYXRpb24gb2YgYHRlc3QvcHJveHktdGVzdC5jYCBpbiB0aGUgbGlienZiaSBwYWNrYWdlLilcblxuOnRlc3QtdnBzLnB5OlxuICAgIFRoaXMgc2NyaXB0IGNvbnRhaW5zIHRlc3RzIGZvciBlbmNvZGluZyBhbmQgZGVjb2RpbmcgdGhlIFZQUyBkYXRhIHNlcnZpY2Ugb25cbiAgICByYW5kb21seSBnZW5lcmF0ZWQgZGF0YS5cbiAgICAoVGhpcyBpcyBhIGRpcmVjdCB0cmFuc2xhdGlvbiBvZiBgdGVzdC90ZXN0LXZwcy5jYCBpbiB0aGUgbGlienZiaSBwYWNrYWdlLilcblxuOnNlYXJjaC10dHgucHk6XG4gICAgRXhhbXBsZSBmb3IgdGhlIHVzZSBvZiBjbGFzcyBgWnZiaS5TZWFyY2hgXyBhbmQgZm9yIG11bHRpLXRocmVhZGluZy5cbiAgICBUaGUgc2NyaXB0IGNhcHR1cmVzIGFuZCBjYWNoZXMgdGVsZXRleHQgcGFnZXMgaW4gYSBzZXBhcmF0ZSB0aHJlYWQuXG4gICAgVGhlIG1haW4gdGhyZWFkIGRpc3BsYXlzIHRoZSBwcm9ncmVzcyBvZiBjYXB0dXJlZCBwYWdlcyB1bnRpbCB0aGVcbiAgICBSRVRVUk4ga2V5IGlzIHByZXNzZWQsIHRoZW4gcHJvbXB0cyBmb3IgYSBzZWFyY2ggc3RyaW5nLiAgQSBzZWFyY2hcbiAgICBhY3Jvc3MgY2FjaGVkIHRlbGV0ZXh0IHBhZ2VzIGlzIHN0YXJ0ZWQsIGFuZCB0aGUgY29udGVudCBvZiBtYXRjaGluZ1xuICAgIHBhZ2VzIGlzIHByaW50ZWQgb24gdGhlIHRlcm1pbmFsLlxuXG46YnJvd3NlLXR0eC5weTpcbiAgICBFeGFtcGxlIGZvciB0aGUgdXNlIG9mIGNsYXNzZXMgYFp2YmkuUGFnZWBfIGFuZCBgWnZiaS5FeHBvcnRgXyBmb3JcbiAgICByZW5kZXJpbmcgdGVsZXRleHQgcGFnZXMuIFRoZSBzY3JpcHQgY2FwdHVyZXMgdGVsZXRleHQgZnJvbSBhIGdpdmVuXG4gICAgZGV2aWNlIGFuZCByZW5kZXJzIHNlbGVjdGVkIHRlbGV0ZXh0IHBhZ2VzIGluIGEgc2ltcGxlIEdVSSB1c2luZ1xuICAgIFRrSW50ZXIuXG5cbjpvc2MucHk6XG4gICAgRXhhbXBsZSBmb3IgdGhlIHVzZSBvZiBjbGFzcyBgWnZiaS5SYXdEZWNgXy5cbiAgICBUaGUgc2NyaXB0IGNvbnRpbnVvdXNseSBjYXB0dXJlcyByYXcgVkJJIGRhdGEgYW5kIGRpc3BsYXlzIHRoZSBkYXRhIGFzXG4gICAgYW4gYW5pbWF0ZWQgZ3JheS1zY2FsZSBpbWFnZS4gQmVsb3cgdGhpcywgdGhlIGFuYWxvZyB3YXZlIGxpbmUgb2Ygb25lXG4gICAgc2VsZWN0ZWQgdmlkZW8gbGluZSBpcyBwbG90dGVkIChpLmUuIGVzc2VudGlhbGx5IHNpbXVsYXRpbmcgYW5cbiAgICBvc2NpbGxvc2NvcGUpLiBGb3IgdGhlIHNlbGVjdGVkIGxpbmUsIHRoZSByZXN1bHRpbmcgZGF0YSBmcm9tIHNsaWNpbmdcbiAgICBpcyBhbHNvIHNob3duIGlmIGRlY29kaW5nIGlzIHN1Y2Nlc3NmdWwuXG4gICAgKFRoaXMgc2NyaXB0IGlzIGxvb3NlbHkgYmFzZWQgb24gYHRlc3Qvb3NjLmNgIGluIHRoZSBsaWJ6dmJpIHBhY2thZ2UuKVxuXG46ZHZiLW11eC5weTpcbiAgICBFeGFtcGxlIGZvciB0aGUgdXNlIG9mIGNsYXNzIGBadmJpLkR2Yk11eGBfLlxuICAgIFRoaXMgc2NyaXB0IGV4Y2VyY2lzZXMgdGhlIERWQiBtdWx0aXBsZXhlciBmdW5jdGlvbnM6IFRoZSBzY3JpcHQgZmlyc3RcbiAgICBvcGVucyBhIGNhcHR1cmUgZGV2aWNlIChub3JtYWxseSB0aGlzIHdpbGwgYmUgYW4gYW5hbG9nIGRldmljZSwgYXMgdGhlXG4gICAgZ29hbCBpcyBmb3J3YXJkaW5nIFZCSSBzZXJ2aWNlcyBmcm9tIGFuYWxvZyB0byBkaWdpdGFsIGRvbWFpbiksIHRoZW5cbiAgICBjb250aW51b3VzbHkgY2FwdHVyZXMgVkJJIGRhdGEsIGVuY29kZXMgaXQgaW4gYSBEVkIgcGFja2V0IHN0cmVhbSBhbmRcbiAgICB3aXRlcyB0aGUgcmVzdWx0IHRvIFNURE9VVC4gVGhlIG91dHB1dCBzdHJlYW0gY2FuIGJlIGRlY29kZWRcbiAgICBlcXVpdmFsZW50bHkgdG8gdGhhdCBvZiBjYXB0dXJlLnB5LCB3aGljaCBpczpcblxuICAgICAgICAuL2R2Yi1tdXgucHkgfCAuL2RlY29kZS5weSAtLXBlcyAtLWFsbFxuXG46ZHZiLWRlbXV4LnB5OlxuICAgIEV4YW1wbGUgZm9yIHRoZSB1c2Ugb2YgY2xhc3MgYFp2YmkuRHZiRGVtdXhgXy4gIFRoaXMgc2NyaXB0IGV4Y2VyY2lzZXNcbiAgICB0aGUgRFZCIGRlLW11bHRpcGxleGVyIGZ1bmN0aW9uczogVGhlIHNjcmlwdCBkaXJlY3RseSBvcGVucyBhIERWQlxuICAgIGNhcHR1cmUgZGV2aWNlLCBhbmQgcmVhZHMgdGhlIGluY29taW5nIHBhY2tldHMuIFRoZSBkZS1tdWx0aXBsZXhlciBpc1xuICAgIHVzZWQgdG8gZXh0cmFjdCBWQkkgcGFja2V0cywgd2hpY2ggYXJlIHRoZW4gZm9yd2FyZGVkIHRvIFNURE9VVC4gIFRoZVxuICAgIG91dHB1dCBzdHJlYW0gY2FuIGJlIGRlY29kZWQgZXF1aXZhbGVudGx5IHRvIHRoYXQgb2YgY2FwdHVyZS5weSwgd2hpY2hcbiAgICBpczogOjpcblxuICAgICAgLi9kdmItZGVtdXgucHkgLS1zbGljZWQgfCAuL2RlY29kZS5weSAtLXR0eFxuXG4gICAgKipOb3RlKio6IEluc3RlYWQgb2YgcmVhZGluZyBmcm9tIHRoZSBkZXZpY2UgZGlyZWN0bHkgKGFuZCBwZXJmb3JtaW5nXG4gICAgZGV2aWNlIGlvY3RsIHdpdGggaGFyZC1jb2RlZCBjb25zdGFudHMsIHdoaWNoIGlzIHByb25lIHRvIGJyZWFrYWdlKVxuICAgIHlvdSBzaG91bGQgbm9ybWFsbHkgdXNlIHRoZSBgWnZiaS5DYXB0dXJlYF8gY2xhc3Mgd2hpY2ggZG9lcyB0aGF0IHdvcmtcbiAgICBmb3IgeW91LiAgVXNpbmcgdGhlIGBadmJpLkR2YkRlbXV4YF8gY2xhc3MgZGlyZWN0bHkgb25seSBpcyB1c2VmdWxcbiAgICB3aGVuIHJlY2VpdmluZyBhIHN0cmVhbSBmcm9tIG90aGVyIHNvdXJjZXMgKGUuZy4gdmlhIHNvY2tldCBmcm9tXG4gICAgcHJveHkgb24gYSByZW1vdGUgaG9zdCkuXG5cbkF1dGhvcnNcbj09PT09PT1cblxuVGhlIFpWQkkgUGVybCBpbnRlcmZhY2UgbW9kdWxlIChodHRwczovL21ldGFjcGFuLm9yZy9wb2QvVmlkZW86OlpWQkkpXG53YXMgd3JpdHRlbiBieSBULiBab2VybmVyIDx0b216b0Bzb3VyY2Vmb3JnZS5uZXQ+IHN0YXJ0aW5nIE1hcmNoIDIwMDZcbmZvciB0aGUgVGVsZXRleHQgRVBHIGdyYWJiZXIgYWNjb21wYW55aW5nIG54dHZlcGdcbihodHRwOi8vbnh0dmVwZy5zb3VyY2Vmb3JnZS5uZXQvKS4gVGhlIFBlcmwgbW9kdWxlIHdhcyBwb3J0ZWQgdG8gUHl0aG9uXG5pbiBBcHJpbCAyMDIwLiBJdHMgb2ZmaWNpYWwgaG9tZSBpcyBhdCBodHRwczovL3B5cGkub3JnL3Byb2plY3QvWnZiaS9cblxuVGhlIG1vZHVsZSBpcyBiYXNlZCBvbiB0aGUgbGlienZiaSBsaWJyYXJ5LCBtYWlubHkgd3JpdHRlbiBhbmQgbWFpbnRhaW5lZFxuYnkgTWljaGFlbCBILiBTY2hpbWVrICgyMDAwLTIwMDcpIGFuZCBJbmFraSBHYXJjaWEgRXR4ZWJhcnJpYSAoMjAwMC0yMDAxKSxcbndoaWNoIGluIHR1cm4gaXMgYmFzZWQgb24gQWxlVlQgMS41LjEgYnkgRWRnYXIgVG9lcm5pZyAoMTk5OC0xOTk5KS5cblNlZSBhbHNvIGh0dHA6Ly96YXBwaW5nLnNvdXJjZWZvcmdlLm5ldC9cblxuTGljZW5zZVxuPT09PT09PVxuXG5Db3B5cmlnaHQgKEMpIDIwMDYtMjAyMCBULiBab2VybmVyLlxuXG5QYXJ0cyBvZiB0aGUgZGVzY3JpcHRpb25zIGluIHRoaXMgbWFuIHBhZ2UgYXJlIGNvcGllZCBmcm9tIHRoZVxuXCJsaWJ6dmJpXCIgZG9jdW1lbnRhdGlvbiwgbGljZW5zZWQgdW5kZXIgdGhlIEdOVSBHZW5lcmFsIFB1YmxpY1xuTGljZW5zZSB2ZXJzaW9uIDIgb3IgbGF0ZXIuIFRoZSByZXNwZWN0aXZlIGNvcHlyaWdodCBpcyBieSB0aGUgZm9sbG93aW5nOlxuXG4qIENvcHlyaWdodCAoQykgMjAwMC0yMDA3IE1pY2hhZWwgSC4gU2NoaW1layxcbiogQ29weXJpZ2h0IChDKSAyMDAwLTIwMDEgSW5ha2kgR2FyY2lhIEV0eGViYXJyaWEsXG4qIENvcHlyaWdodCAoQykgMjAwMy0yMDA0IFRvbSBab2VybmVyLlxuXG5UaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbnRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDIgb2YgdGhlIExpY2Vuc2UsIG9yXG4oYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG5UaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbmJ1dCAqKndpdGhvdXQgYW55IHdhcnJhbnR5Kio7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuKiptZXJjaGFudGFiaWxpdHkqKiBvciAqKmZpdG5lc3MgZm9yIGEgcGFydGljdWxhciBwdXJwb3NlKiouICBTZWUgdGhlXG4qR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UqIGZvciBtb3JlIGRldGFpbHMuXG5cbllvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG5hbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4iLA==
ICAgICJkZXNjcmlwdGlvbl9jb250ZW50X3R5cGUiOiAidGV4dC94LXJzdCIs
ICAgICJkb2NzX3VybCI6IG51bGws
ICAgICJkb3dubG9hZF91cmwiOiAiIiw=
ICAgICJkb3dubG9hZHMiOiB7
ICAgICAgImxhc3RfZGF5IjogLTEs
ICAgICAgImxhc3RfbW9udGgiOiAtMSw=
ICAgICAgImxhc3Rfd2VlayI6IC0x
ICAgIH0s
ICAgICJob21lX3BhZ2UiOiAiaHR0cHM6Ly9naXRodWIuY29tL3RvbXpveC9QeXRob24tWlZCSSIs
ICAgICJrZXl3b3JkcyI6ICJ0ZWxldGV4dCx2aWRlb3RleHQsY2xvc2VkLWNhcHRpb24sVlBTLFdTUyxWQkksRFZCLHZpZGVvLGNhcHR1cmUsZGVjb2RlcixsaWJ6dmJpLEVUU0kiLA==
ICAgICJsaWNlbnNlIjogIkdOVSBHUEx2MiIs
ICAgICJtYWludGFpbmVyIjogIiIs
ICAgICJtYWludGFpbmVyX2VtYWlsIjogIiIs
ICAgICJuYW1lIjogIlp2YmkiLA==
ICAgICJwYWNrYWdlX3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvWnZiaS8iLA==
ICAgICJwbGF0Zm9ybSI6ICJwb3NpeCIs
ICAgICJwcm9qZWN0X3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvWnZiaS8iLA==
ICAgICJwcm9qZWN0X3VybHMiOiB7
ICAgICAgIkhvbWVwYWdlIjogImh0dHBzOi8vZ2l0aHViLmNvbS90b216b3gvUHl0aG9uLVpWQkki
ICAgIH0s
ICAgICJyZWxlYXNlX3VybCI6ICJodHRwczovL3B5cGkub3JnL3Byb2plY3QvWnZiaS8wLjEuMS8iLA==
ICAgICJyZXF1aXJlc19kaXN0IjogbnVsbCw=
ICAgICJyZXF1aXJlc19weXRob24iOiAiPj0zLjIiLA==
ICAgICJzdW1tYXJ5IjogIkludGVyZmFjZSB0byB0aGUgWmFwcGluZyBWQkkgZGVjb2RlciBsaWJyYXJ5Iiw=
ICAgICJ2ZXJzaW9uIjogIjAuMS4xIiw=
ICAgICJ5YW5rZWQiOiBmYWxzZSw=
ICAgICJ5YW5rZWRfcmVhc29uIjogbnVsbA==
ICB9LA==
ICAibGFzdF9zZXJpYWwiOiA3MzU3ODMwLA==
ICAicmVsZWFzZXMiOiB7
ICAgICIwLjEuMCI6IFs=
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICI4NjZiOTlmNjcxMTgwZjYxN2U2YzU4NzBkMzk0MDQzOTQwYjg3ZDU4MGQ3NmIxYzA3MmY5MmJlMzYyZWNjNDJlIiw=
ICAgICAgICAgICJtZDUiOiAiOGFlM2M3NmZmYWQ5NDg4N2IwMGJkZTljZTNlMGQzNzAiLA==
ICAgICAgICAgICJzaGEyNTYiOiAiYmRhNDA1M2U4ODc5MTUyOTI2NjE4YmI2YjVjNTNkNjQwY2FjYmVkZjc4ZDE5Yjg3OWYwZjVlNmRiNDQ3M2UxOSI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiWnZiaS0wLjEuMC50YXIuZ3oiLA==
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICI4YWUzYzc2ZmZhZDk0ODg3YjAwYmRlOWNlM2UwZDM3MCIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAic2Rpc3QiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAic291cmNlIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogIj49My4yIiw=
ICAgICAgICAic2l6ZSI6IDIzNTM2Miw=
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAyMC0wNS0yMlQxOTozOToyOCIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAyMC0wNS0yMlQxOTozOToyOC45Mjc1NjRaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy84Ni82Yi85OWY2NzExODBmNjE3ZTZjNTg3MGQzOTQwNDM5NDBiODdkNTgwZDc2YjFjMDcyZjkyYmUzNjJlY2M0MmUvWnZiaS0wLjEuMC50YXIuZ3oiLA==
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfQ==
ICAgIF0s
ICAgICIwLjEuMSI6IFs=
ICAgICAgew==
ICAgICAgICAiY29tbWVudF90ZXh0IjogIiIs
ICAgICAgICAiZGlnZXN0cyI6IHs=
ICAgICAgICAgICJibGFrZTJiXzI1NiI6ICIwZWNhZGE4Yjg1ZGZmYzhkZDJmNzJjY2FlYzM2NDAxMDBkNjU4MmVjZDMyMjdhZmZhODE0ZjY2YmQ0Zjc1NjgzIiw=
ICAgICAgICAgICJtZDUiOiAiYzIwMGQyNWI2NWNlM2FjNmU3M2Y0YmM2NzMwNzk3MTciLA==
ICAgICAgICAgICJzaGEyNTYiOiAiZWNhYzU2ZjQ0MGE0Mjk3NDQyZmNkMDdkYjNkNTVmNDk3ODZhNzAyYjZlZDYxMzM5YzA2OTYwNTBlNjFhYjMxNCI=
ICAgICAgICB9LA==
ICAgICAgICAiZG93bmxvYWRzIjogLTEs
ICAgICAgICAiZmlsZW5hbWUiOiAiWnZiaS0wLjEuMS50YXIuZ3oiLA==
ICAgICAgICAiaGFzX3NpZyI6IGZhbHNlLA==
ICAgICAgICAibWQ1X2RpZ2VzdCI6ICJjMjAwZDI1YjY1Y2UzYWM2ZTczZjRiYzY3MzA3OTcxNyIs
ICAgICAgICAicGFja2FnZXR5cGUiOiAic2Rpc3QiLA==
ICAgICAgICAicHl0aG9uX3ZlcnNpb24iOiAic291cmNlIiw=
ICAgICAgICAicmVxdWlyZXNfcHl0aG9uIjogIj49My4yIiw=
ICAgICAgICAic2l6ZSI6IDI0NTIxOCw=
ICAgICAgICAidXBsb2FkX3RpbWUiOiAiMjAyMC0wNS0zMFQwNzoyODowMyIs
ICAgICAgICAidXBsb2FkX3RpbWVfaXNvXzg2MDEiOiAiMjAyMC0wNS0zMFQwNzoyODowMy42NTkyNzZaIiw=
ICAgICAgICAidXJsIjogImh0dHBzOi8vZmlsZXMucHl0aG9uaG9zdGVkLm9yZy9wYWNrYWdlcy8wZS9jYS9kYThiODVkZmZjOGRkMmY3MmNjYWVjMzY0MDEwMGQ2NTgyZWNkMzIyN2FmZmE4MTRmNjZiZDRmNzU2ODMvWnZiaS0wLjEuMS50YXIuZ3oiLA==
ICAgICAgICAieWFua2VkIjogZmFsc2Us
ICAgICAgICAieWFua2VkX3JlYXNvbiI6IG51bGw=
ICAgICAgfQ==
ICAgIF0=
ICB9LA==
ICAidXJscyI6IFs=
ICAgIHs=
ICAgICAgImNvbW1lbnRfdGV4dCI6ICIiLA==
ICAgICAgImRpZ2VzdHMiOiB7
ICAgICAgICAiYmxha2UyYl8yNTYiOiAiMGVjYWRhOGI4NWRmZmM4ZGQyZjcyY2NhZWMzNjQwMTAwZDY1ODJlY2QzMjI3YWZmYTgxNGY2NmJkNGY3NTY4MyIs
ICAgICAgICAibWQ1IjogImMyMDBkMjViNjVjZTNhYzZlNzNmNGJjNjczMDc5NzE3Iiw=
ICAgICAgICAic2hhMjU2IjogImVjYWM1NmY0NDBhNDI5NzQ0MmZjZDA3ZGIzZDU1ZjQ5Nzg2YTcwMmI2ZWQ2MTMzOWMwNjk2MDUwZTYxYWIzMTQi
ICAgICAgfSw=
ICAgICAgImRvd25sb2FkcyI6IC0xLA==
ICAgICAgImZpbGVuYW1lIjogIlp2YmktMC4xLjEudGFyLmd6Iiw=
ICAgICAgImhhc19zaWciOiBmYWxzZSw=
ICAgICAgIm1kNV9kaWdlc3QiOiAiYzIwMGQyNWI2NWNlM2FjNmU3M2Y0YmM2NzMwNzk3MTciLA==
ICAgICAgInBhY2thZ2V0eXBlIjogInNkaXN0Iiw=
ICAgICAgInB5dGhvbl92ZXJzaW9uIjogInNvdXJjZSIs
ICAgICAgInJlcXVpcmVzX3B5dGhvbiI6ICI+PTMuMiIs
ICAgICAgInNpemUiOiAyNDUyMTgs
ICAgICAgInVwbG9hZF90aW1lIjogIjIwMjAtMDUtMzBUMDc6Mjg6MDMiLA==
ICAgICAgInVwbG9hZF90aW1lX2lzb184NjAxIjogIjIwMjAtMDUtMzBUMDc6Mjg6MDMuNjU5Mjc2WiIs
ICAgICAgInVybCI6ICJodHRwczovL2ZpbGVzLnB5dGhvbmhvc3RlZC5vcmcvcGFja2FnZXMvMGUvY2EvZGE4Yjg1ZGZmYzhkZDJmNzJjY2FlYzM2NDAxMDBkNjU4MmVjZDMyMjdhZmZhODE0ZjY2YmQ0Zjc1NjgzL1p2YmktMC4xLjEudGFyLmd6Iiw=
ICAgICAgInlhbmtlZCI6IGZhbHNlLA==
ICAgICAgInlhbmtlZF9yZWFzb24iOiBudWxs
ICAgIH0=
ICBdLA==
ICAidnVsbmVyYWJpbGl0aWVzIjogW10=
fQ==
